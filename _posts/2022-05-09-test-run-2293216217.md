---
title: "❌ Test Result 2022-05-09 10:27 UTC"
date: 2022-05-09T10:27:44.911280500+00:00
categories: test-report
excerpt_separator: <!--more-->
---


| | Total | Passed | Failed | Ignored | Filtered | Duration |
| --- | ----- | -------| ------ | ------- | -------- | -------- |
| ❌ | 147 | 105 | 42 | 0 | 0 | 31m 27s |


**Git:** `https://github.com/drogue-iot/drogue-cloud` @ `refs/heads/feature/device_state_1`

    Commit: c195b71513c7ee658e405652db2acc41f271e745
    Author: Jens Reimann <jreimann@redhat.com>
    Date: Fri, 06 May 2022 12:38:48 -0200

        test: fix tests after API changes

**Job:** [https://github.com/drogue-iot/drogue-cloud-testing/actions/runs/2293216217](https://github.com/drogue-iot/drogue-cloud-testing/actions/runs/2293216217)

<!--more-->

# Index

| Name | Result | Duration |
| ---- | ------ | -------- |
| [init::web::test::test_web_destroy](#initwebtesttest_web_destroy) | ✅ | 3s | 
| [init::web::test::test_web_test](#initwebtesttest_web_test) | ✅ | 5s | 
| [tests::api::test_create_access_token_web](#testsapitest_create_access_token_web) | ✅ | 12s | 
| [tests::coap::command::test_command::version_1](#testscoapcommandtest_commandversion_1) | ✅ | 36s | 
| [tests::coap::command::test_command::version_2](#testscoapcommandtest_commandversion_2) | ✅ | 13s | 
| [tests::coap::command::test_command::version_3](#testscoapcommandtest_commandversion_3) | ✅ | 14s | 
| [tests::coap::telemetry::test_send_telemetry_pass::version_1](#testscoaptelemetrytest_send_telemetry_passversion_1) | ✅ | 14s | 
| [tests::coap::telemetry::test_send_telemetry_pass::version_2](#testscoaptelemetrytest_send_telemetry_passversion_2) | ✅ | 14s | 
| [tests::coap::telemetry::test_send_telemetry_pass::version_3](#testscoaptelemetrytest_send_telemetry_passversion_3) | ✅ | 13s | 
| [tests::coap::telemetry::test_send_telemetry_user::version_1](#testscoaptelemetrytest_send_telemetry_userversion_1) | ✅ | 15s | 
| [tests::coap::telemetry::test_send_telemetry_user::version_2](#testscoaptelemetrytest_send_telemetry_userversion_2) | ✅ | 13s | 
| [tests::coap::telemetry::test_send_telemetry_user::version_3](#testscoaptelemetrytest_send_telemetry_userversion_3) | ✅ | 15s | 
| [tests::coap::telemetry::test_send_telemetry_user_alias::version_1](#testscoaptelemetrytest_send_telemetry_user_aliasversion_1) | ✅ | 14s | 
| [tests::coap::telemetry::test_send_telemetry_user_alias::version_2](#testscoaptelemetrytest_send_telemetry_user_aliasversion_2) | ✅ | 13s | 
| [tests::coap::telemetry::test_send_telemetry_user_alias::version_3](#testscoaptelemetrytest_send_telemetry_user_aliasversion_3) | ✅ | 15s | 
| [tests::coap::telemetry::test_send_telemetry_user_only::version_1](#testscoaptelemetrytest_send_telemetry_user_onlyversion_1) | ✅ | 14s | 
| [tests::coap::telemetry::test_send_telemetry_user_only::version_2](#testscoaptelemetrytest_send_telemetry_user_onlyversion_2) | ✅ | 15s | 
| [tests::coap::telemetry::test_send_telemetry_user_only::version_3](#testscoaptelemetrytest_send_telemetry_user_onlyversion_3) | ✅ | 13s | 
| [tests::drg::test_drg_version](#testsdrgtest_drg_version) | ✅ | 7s | 
| [tests::http::command::test_command::version_1](#testshttpcommandtest_commandversion_1) | ✅ | 13s | 
| [tests::http::command::test_command::version_2](#testshttpcommandtest_commandversion_2) | ✅ | 13s | 
| [tests::http::command::test_command::version_3](#testshttpcommandtest_commandversion_3) | ✅ | 13s | 
| [tests::http::telemetry::test_send_telemetry_pass::version_1](#testshttptelemetrytest_send_telemetry_passversion_1) | ✅ | 14s | 
| [tests::http::telemetry::test_send_telemetry_pass::version_2](#testshttptelemetrytest_send_telemetry_passversion_2) | ✅ | 12s | 
| [tests::http::telemetry::test_send_telemetry_pass::version_3](#testshttptelemetrytest_send_telemetry_passversion_3) | ✅ | 12s | 
| [tests::http::telemetry::test_send_telemetry_user::version_1](#testshttptelemetrytest_send_telemetry_userversion_1) | ✅ | 13s | 
| [tests::http::telemetry::test_send_telemetry_user::version_2](#testshttptelemetrytest_send_telemetry_userversion_2) | ✅ | 13s | 
| [tests::http::telemetry::test_send_telemetry_user::version_3](#testshttptelemetrytest_send_telemetry_userversion_3) | ✅ | 12s | 
| [tests::http::telemetry::test_send_telemetry_user_alias::version_1](#testshttptelemetrytest_send_telemetry_user_aliasversion_1) | ✅ | 13s | 
| [tests::http::telemetry::test_send_telemetry_user_alias::version_2](#testshttptelemetrytest_send_telemetry_user_aliasversion_2) | ✅ | 13s | 
| [tests::http::telemetry::test_send_telemetry_user_alias::version_3](#testshttptelemetrytest_send_telemetry_user_aliasversion_3) | ✅ | 12s | 
| [tests::http::telemetry::test_send_telemetry_user_only::version_1](#testshttptelemetrytest_send_telemetry_user_onlyversion_1) | ✅ | 14s | 
| [tests::http::telemetry::test_send_telemetry_user_only::version_2](#testshttptelemetrytest_send_telemetry_user_onlyversion_2) | ✅ | 12s | 
| [tests::http::telemetry::test_send_telemetry_user_only::version_3](#testshttptelemetrytest_send_telemetry_user_onlyversion_3) | ✅ | 13s | 
| [tests::mqtt::command::gateway::version_1::ws_1](#testsmqttcommandgatewayversion_1ws_1) | ✅ | 9s | 
| [tests::mqtt::command::gateway::version_1::ws_2](#testsmqttcommandgatewayversion_1ws_2) | ✅ | 8s | 
| [tests::mqtt::command::gateway::version_2::ws_1](#testsmqttcommandgatewayversion_2ws_1) | ✅ | 8s | 
| [tests::mqtt::command::gateway::version_2::ws_2](#testsmqttcommandgatewayversion_2ws_2) | ✅ | 9s | 
| [tests::mqtt::command::gateway::version_3::ws_1](#testsmqttcommandgatewayversion_3ws_1) | ✅ | 8s | 
| [tests::mqtt::command::gateway::version_3::ws_2](#testsmqttcommandgatewayversion_3ws_2) | ✅ | 9s | 
| [tests::mqtt::command::gateway_direct::version_1::ws_1](#testsmqttcommandgateway_directversion_1ws_1) | ✅ | 8s | 
| [tests::mqtt::command::gateway_direct::version_1::ws_2](#testsmqttcommandgateway_directversion_1ws_2) | ✅ | 9s | 
| [tests::mqtt::command::gateway_direct::version_2::ws_1](#testsmqttcommandgateway_directversion_2ws_1) | ✅ | 9s | 
| [tests::mqtt::command::gateway_direct::version_2::ws_2](#testsmqttcommandgateway_directversion_2ws_2) | ✅ | 9s | 
| [tests::mqtt::command::gateway_direct::version_3::ws_1](#testsmqttcommandgateway_directversion_3ws_1) | ✅ | 9s | 
| [tests::mqtt::command::gateway_direct::version_3::ws_2](#testsmqttcommandgateway_directversion_3ws_2) | ✅ | 9s | 
| [tests::mqtt::command::simple::version_1::ws_1](#testsmqttcommandsimpleversion_1ws_1) | ✅ | 8s | 
| [tests::mqtt::command::simple::version_1::ws_2](#testsmqttcommandsimpleversion_1ws_2) | ✅ | 9s | 
| [tests::mqtt::command::simple::version_2::ws_1](#testsmqttcommandsimpleversion_2ws_1) | ✅ | 8s | 
| [tests::mqtt::command::simple::version_2::ws_2](#testsmqttcommandsimpleversion_2ws_2) | ✅ | 8s | 
| [tests::mqtt::command::simple::version_3::ws_1](#testsmqttcommandsimpleversion_3ws_1) | ✅ | 9s | 
| [tests::mqtt::command::simple::version_3::ws_2](#testsmqttcommandsimpleversion_3ws_2) | ✅ | 8s | 
| [tests::mqtt::command::simple_direct::version_1::ws_1](#testsmqttcommandsimple_directversion_1ws_1) | ✅ | 9s | 
| [tests::mqtt::command::simple_direct::version_1::ws_2](#testsmqttcommandsimple_directversion_1ws_2) | ✅ | 8s | 
| [tests::mqtt::command::simple_direct::version_2::ws_1](#testsmqttcommandsimple_directversion_2ws_1) | ✅ | 9s | 
| [tests::mqtt::command::simple_direct::version_2::ws_2](#testsmqttcommandsimple_directversion_2ws_2) | ✅ | 10s | 
| [tests::mqtt::command::simple_direct::version_3::ws_1](#testsmqttcommandsimple_directversion_3ws_1) | ✅ | 8s | 
| [tests::mqtt::command::simple_direct::version_3::ws_2](#testsmqttcommandsimple_directversion_3ws_2) | ✅ | 9s | 
| [tests::mqtt::command::simple_me::version_1::ws_1](#testsmqttcommandsimple_meversion_1ws_1) | ✅ | 8s | 
| [tests::mqtt::command::simple_me::version_1::ws_2](#testsmqttcommandsimple_meversion_1ws_2) | ✅ | 8s | 
| [tests::mqtt::command::simple_me::version_2::ws_1](#testsmqttcommandsimple_meversion_2ws_1) | ✅ | 9s | 
| [tests::mqtt::command::simple_me::version_2::ws_2](#testsmqttcommandsimple_meversion_2ws_2) | ✅ | 8s | 
| [tests::mqtt::command::simple_me::version_3::ws_1](#testsmqttcommandsimple_meversion_3ws_1) | ✅ | 10s | 
| [tests::mqtt::command::simple_me::version_3::ws_2](#testsmqttcommandsimple_meversion_3ws_2) | ✅ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_1::integration_version_1::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_1endpoint_ws_1integration_version_1integration_ws_1) | ❌ | 14s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_1::integration_version_1::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_1endpoint_ws_1integration_version_1integration_ws_2) | ❌ | 14s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_1::integration_version_2::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_1endpoint_ws_1integration_version_2integration_ws_1) | ❌ | 14s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_1::integration_version_2::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_1endpoint_ws_1integration_version_2integration_ws_2) | ❌ | 14s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_1::integration_version_3::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_1endpoint_ws_1integration_version_3integration_ws_1) | ❌ | 13s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_1::integration_version_3::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_1endpoint_ws_1integration_version_3integration_ws_2) | ❌ | 14s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_2::integration_version_1::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_1endpoint_ws_2integration_version_1integration_ws_1) | ❌ | 14s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_2::integration_version_1::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_1endpoint_ws_2integration_version_1integration_ws_2) | ❌ | 14s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_2::integration_version_2::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_1endpoint_ws_2integration_version_2integration_ws_1) | ❌ | 15s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_2::integration_version_2::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_1endpoint_ws_2integration_version_2integration_ws_2) | ❌ | 14s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_2::integration_version_3::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_1endpoint_ws_2integration_version_3integration_ws_1) | ❌ | 14s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_2::integration_version_3::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_1endpoint_ws_2integration_version_3integration_ws_2) | ❌ | 15s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_1::integration_version_1::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_2endpoint_ws_1integration_version_1integration_ws_1) | ❌ | 13s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_1::integration_version_1::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_2endpoint_ws_1integration_version_1integration_ws_2) | ❌ | 13s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_1::integration_version_2::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_2endpoint_ws_1integration_version_2integration_ws_1) | ❌ | 14s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_1::integration_version_2::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_2endpoint_ws_1integration_version_2integration_ws_2) | ❌ | 14s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_1::integration_version_3::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_2endpoint_ws_1integration_version_3integration_ws_1) | ❌ | 14s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_1::integration_version_3::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_2endpoint_ws_1integration_version_3integration_ws_2) | ❌ | 14s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_2::integration_version_1::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_2endpoint_ws_2integration_version_1integration_ws_1) | ❌ | 15s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_2::integration_version_1::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_2endpoint_ws_2integration_version_1integration_ws_2) | ❌ | 14s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_2::integration_version_2::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_2endpoint_ws_2integration_version_2integration_ws_1) | ❌ | 14s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_2::integration_version_2::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_2endpoint_ws_2integration_version_2integration_ws_2) | ❌ | 15s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_2::integration_version_3::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_2endpoint_ws_2integration_version_3integration_ws_1) | ❌ | 14s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_2::integration_version_3::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_2endpoint_ws_2integration_version_3integration_ws_2) | ❌ | 15s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_1::integration_version_1::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_3endpoint_ws_1integration_version_1integration_ws_1) | ❌ | 14s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_1::integration_version_1::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_3endpoint_ws_1integration_version_1integration_ws_2) | ❌ | 14s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_1::integration_version_2::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_3endpoint_ws_1integration_version_2integration_ws_1) | ❌ | 14s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_1::integration_version_2::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_3endpoint_ws_1integration_version_2integration_ws_2) | ❌ | 14s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_1::integration_version_3::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_3endpoint_ws_1integration_version_3integration_ws_1) | ❌ | 14s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_1::integration_version_3::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_3endpoint_ws_1integration_version_3integration_ws_2) | ❌ | 14s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_2::integration_version_1::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_3endpoint_ws_2integration_version_1integration_ws_1) | ❌ | 15s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_2::integration_version_1::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_3endpoint_ws_2integration_version_1integration_ws_2) | ❌ | 14s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_2::integration_version_2::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_3endpoint_ws_2integration_version_2integration_ws_1) | ❌ | 15s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_2::integration_version_2::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_3endpoint_ws_2integration_version_2integration_ws_2) | ❌ | 14s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_2::integration_version_3::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_3endpoint_ws_2integration_version_3integration_ws_1) | ❌ | 14s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_2::integration_version_3::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_3endpoint_ws_2integration_version_3integration_ws_2) | ❌ | 15s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_1::integration_version_1::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_1endpoint_ws_1integration_version_1integration_ws_1) | ❌ | 14s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_1::integration_version_1::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_1endpoint_ws_1integration_version_1integration_ws_2) | ✅ | 13s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_1::integration_version_2::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_1endpoint_ws_1integration_version_2integration_ws_1) | ❌ | 14s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_1::integration_version_2::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_1endpoint_ws_1integration_version_2integration_ws_2) | ✅ | 14s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_1::integration_version_3::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_1endpoint_ws_1integration_version_3integration_ws_1) | ✅ | 15s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_1::integration_version_3::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_1endpoint_ws_1integration_version_3integration_ws_2) | ✅ | 13s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_2::integration_version_1::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_1endpoint_ws_2integration_version_1integration_ws_1) | ✅ | 14s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_2::integration_version_1::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_1endpoint_ws_2integration_version_1integration_ws_2) | ✅ | 14s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_2::integration_version_2::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_1endpoint_ws_2integration_version_2integration_ws_1) | ✅ | 14s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_2::integration_version_2::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_1endpoint_ws_2integration_version_2integration_ws_2) | ✅ | 14s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_2::integration_version_3::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_1endpoint_ws_2integration_version_3integration_ws_1) | ✅ | 14s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_2::integration_version_3::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_1endpoint_ws_2integration_version_3integration_ws_2) | ✅ | 14s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_1::integration_version_1::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_2endpoint_ws_1integration_version_1integration_ws_1) | ❌ | 13s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_1::integration_version_1::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_2endpoint_ws_1integration_version_1integration_ws_2) | ✅ | 13s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_1::integration_version_2::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_2endpoint_ws_1integration_version_2integration_ws_1) | ✅ | 14s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_1::integration_version_2::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_2endpoint_ws_1integration_version_2integration_ws_2) | ✅ | 14s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_1::integration_version_3::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_2endpoint_ws_1integration_version_3integration_ws_1) | ❌ | 13s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_1::integration_version_3::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_2endpoint_ws_1integration_version_3integration_ws_2) | ✅ | 14s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_2::integration_version_1::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_2endpoint_ws_2integration_version_1integration_ws_1) | ✅ | 14s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_2::integration_version_1::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_2endpoint_ws_2integration_version_1integration_ws_2) | ✅ | 14s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_2::integration_version_2::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_2endpoint_ws_2integration_version_2integration_ws_1) | ✅ | 14s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_2::integration_version_2::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_2endpoint_ws_2integration_version_2integration_ws_2) | ✅ | 14s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_2::integration_version_3::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_2endpoint_ws_2integration_version_3integration_ws_1) | ✅ | 13s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_2::integration_version_3::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_2endpoint_ws_2integration_version_3integration_ws_2) | ✅ | 14s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_1::integration_version_1::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_3endpoint_ws_1integration_version_1integration_ws_1) | ❌ | 13s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_1::integration_version_1::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_3endpoint_ws_1integration_version_1integration_ws_2) | ✅ | 14s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_1::integration_version_2::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_3endpoint_ws_1integration_version_2integration_ws_1) | ✅ | 13s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_1::integration_version_2::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_3endpoint_ws_1integration_version_2integration_ws_2) | ✅ | 14s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_1::integration_version_3::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_3endpoint_ws_1integration_version_3integration_ws_1) | ✅ | 13s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_1::integration_version_3::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_3endpoint_ws_1integration_version_3integration_ws_2) | ✅ | 14s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_2::integration_version_1::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_3endpoint_ws_2integration_version_1integration_ws_1) | ✅ | 14s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_2::integration_version_1::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_3endpoint_ws_2integration_version_1integration_ws_2) | ✅ | 14s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_2::integration_version_2::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_3endpoint_ws_2integration_version_2integration_ws_1) | ✅ | 14s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_2::integration_version_2::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_3endpoint_ws_2integration_version_2integration_ws_2) | ❌ | 14s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_2::integration_version_3::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_3endpoint_ws_2integration_version_3integration_ws_1) | ✅ | 14s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_2::integration_version_3::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_3endpoint_ws_2integration_version_3integration_ws_2) | ✅ | 14s | 
| [tests::registry::api::test_registry_create_app](#testsregistryapitest_registry_create_app) | ✅ | 16s | 
| [tests::registry::drg::test_registry_create_and_delete](#testsregistrydrgtest_registry_create_and_delete) | ✅ | 8s | 
| [tests::registry::drg::test_registry_create_app](#testsregistrydrgtest_registry_create_app) | ✅ | 8s | 
| [tests::registry::drg::test_registry_create_app_and_device](#testsregistrydrgtest_registry_create_app_and_device) | ✅ | 8s | 
| [tests::registry::drg::test_registry_create_app_and_device_twice](#testsregistrydrgtest_registry_create_app_and_device_twice) | ✅ | 8s | 
| [tests::registry::drg::test_registry_create_app_twice](#testsregistrydrgtest_registry_create_app_twice) | ✅ | 8s | 
| [tests::registry::drg::test_registry_device_create_and_delete](#testsregistrydrgtest_registry_device_create_and_delete) | ✅ | 8s | 
| [tests::websocket::telemetry::test_send_telemetry_pass](#testswebsockettelemetrytest_send_telemetry_pass) | ✅ | 13s | 
| [tests::websocket::telemetry::test_send_telemetry_user](#testswebsockettelemetrytest_send_telemetry_user) | ✅ | 13s | 
| [tests::websocket::telemetry::test_send_telemetry_user_alias](#testswebsockettelemetrytest_send_telemetry_user_alias) | ✅ | 13s | 
| [tests::websocket::telemetry::test_send_telemetry_user_only](#testswebsockettelemetrytest_send_telemetry_user_only) | ✅ | 13s | 


# Details

## ✅ init::web::test::test_web_destroy

**Duration**: 3s

## ✅ init::web::test::test_web_test

**Duration**: 5s

## ✅ tests::api::test_create_access_token_web

**Duration**: 12s

## ✅ tests::coap::command::test_command::version_1

**Duration**: 36s

## ✅ tests::coap::command::test_command::version_2

**Duration**: 13s

## ✅ tests::coap::command::test_command::version_3

**Duration**: 14s

## ✅ tests::coap::telemetry::test_send_telemetry_pass::version_1

**Duration**: 14s

## ✅ tests::coap::telemetry::test_send_telemetry_pass::version_2

**Duration**: 14s

## ✅ tests::coap::telemetry::test_send_telemetry_pass::version_3

**Duration**: 13s

## ✅ tests::coap::telemetry::test_send_telemetry_user::version_1

**Duration**: 15s

## ✅ tests::coap::telemetry::test_send_telemetry_user::version_2

**Duration**: 13s

## ✅ tests::coap::telemetry::test_send_telemetry_user::version_3

**Duration**: 15s

## ✅ tests::coap::telemetry::test_send_telemetry_user_alias::version_1

**Duration**: 14s

## ✅ tests::coap::telemetry::test_send_telemetry_user_alias::version_2

**Duration**: 13s

## ✅ tests::coap::telemetry::test_send_telemetry_user_alias::version_3

**Duration**: 15s

## ✅ tests::coap::telemetry::test_send_telemetry_user_only::version_1

**Duration**: 14s

## ✅ tests::coap::telemetry::test_send_telemetry_user_only::version_2

**Duration**: 15s

## ✅ tests::coap::telemetry::test_send_telemetry_user_only::version_3

**Duration**: 13s

## ✅ tests::drg::test_drg_version

**Duration**: 7s

## ✅ tests::http::command::test_command::version_1

**Duration**: 13s

## ✅ tests::http::command::test_command::version_2

**Duration**: 13s

## ✅ tests::http::command::test_command::version_3

**Duration**: 13s

## ✅ tests::http::telemetry::test_send_telemetry_pass::version_1

**Duration**: 14s

## ✅ tests::http::telemetry::test_send_telemetry_pass::version_2

**Duration**: 12s

## ✅ tests::http::telemetry::test_send_telemetry_pass::version_3

**Duration**: 12s

## ✅ tests::http::telemetry::test_send_telemetry_user::version_1

**Duration**: 13s

## ✅ tests::http::telemetry::test_send_telemetry_user::version_2

**Duration**: 13s

## ✅ tests::http::telemetry::test_send_telemetry_user::version_3

**Duration**: 12s

## ✅ tests::http::telemetry::test_send_telemetry_user_alias::version_1

**Duration**: 13s

## ✅ tests::http::telemetry::test_send_telemetry_user_alias::version_2

**Duration**: 13s

## ✅ tests::http::telemetry::test_send_telemetry_user_alias::version_3

**Duration**: 12s

## ✅ tests::http::telemetry::test_send_telemetry_user_only::version_1

**Duration**: 14s

## ✅ tests::http::telemetry::test_send_telemetry_user_only::version_2

**Duration**: 12s

## ✅ tests::http::telemetry::test_send_telemetry_user_only::version_3

**Duration**: 13s

## ✅ tests::mqtt::command::gateway::version_1::ws_1

**Duration**: 9s

## ✅ tests::mqtt::command::gateway::version_1::ws_2

**Duration**: 8s

## ✅ tests::mqtt::command::gateway::version_2::ws_1

**Duration**: 8s

## ✅ tests::mqtt::command::gateway::version_2::ws_2

**Duration**: 9s

## ✅ tests::mqtt::command::gateway::version_3::ws_1

**Duration**: 8s

## ✅ tests::mqtt::command::gateway::version_3::ws_2

**Duration**: 9s

## ✅ tests::mqtt::command::gateway_direct::version_1::ws_1

**Duration**: 8s

## ✅ tests::mqtt::command::gateway_direct::version_1::ws_2

**Duration**: 9s

## ✅ tests::mqtt::command::gateway_direct::version_2::ws_1

**Duration**: 9s

## ✅ tests::mqtt::command::gateway_direct::version_2::ws_2

**Duration**: 9s

## ✅ tests::mqtt::command::gateway_direct::version_3::ws_1

**Duration**: 9s

## ✅ tests::mqtt::command::gateway_direct::version_3::ws_2

**Duration**: 9s

## ✅ tests::mqtt::command::simple::version_1::ws_1

**Duration**: 8s

## ✅ tests::mqtt::command::simple::version_1::ws_2

**Duration**: 9s

## ✅ tests::mqtt::command::simple::version_2::ws_1

**Duration**: 8s

## ✅ tests::mqtt::command::simple::version_2::ws_2

**Duration**: 8s

## ✅ tests::mqtt::command::simple::version_3::ws_1

**Duration**: 9s

## ✅ tests::mqtt::command::simple::version_3::ws_2

**Duration**: 8s

## ✅ tests::mqtt::command::simple_direct::version_1::ws_1

**Duration**: 9s

## ✅ tests::mqtt::command::simple_direct::version_1::ws_2

**Duration**: 8s

## ✅ tests::mqtt::command::simple_direct::version_2::ws_1

**Duration**: 9s

## ✅ tests::mqtt::command::simple_direct::version_2::ws_2

**Duration**: 10s

## ✅ tests::mqtt::command::simple_direct::version_3::ws_1

**Duration**: 8s

## ✅ tests::mqtt::command::simple_direct::version_3::ws_2

**Duration**: 9s

## ✅ tests::mqtt::command::simple_me::version_1::ws_1

**Duration**: 8s

## ✅ tests::mqtt::command::simple_me::version_1::ws_2

**Duration**: 8s

## ✅ tests::mqtt::command::simple_me::version_2::ws_1

**Duration**: 9s

## ✅ tests::mqtt::command::simple_me::version_2::ws_2

**Duration**: 8s

## ✅ tests::mqtt::command::simple_me::version_3::ws_1

**Duration**: 10s

## ✅ tests::mqtt::command::simple_me::version_3::ws_2

**Duration**: 8s

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_1::integration_version_1::integration_ws_1

**Duration**: 14s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-09T10:08:37Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-09T10:08:37Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T10:08:37Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T10:08:37Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T10:08:37Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T10:08:38Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-09T10:08:40Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-09T10:08:40Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T10:08:40Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T10:08:40Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T10:08:42Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI0NDVmMTM5Zi0wNjNjLTRhZDgtODkwYi1mNTg1OTQ0NjFiZDAifQ.eyJleHAiOjE2NTIwOTI3MjIsImlhdCI6MTY1MjA5MDkyMiwianRpIjoiMjFhY2YwN2EtYzFjNC00YWVjLWEwYTQtZjI2NTI0ODgzNzdlIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjNkZWIxOWY5LWM3NDYtNGIwMC1hOTA5LTJiOTg4NTVjZTRmMyIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IjhZWl8wcGRua29oZ0VyWnkzRmhqS0EiLCJzZXNzaW9uX3N0YXRlIjoiOWVmZTJlMTYtNGE4Ny00MzQwLTgxNjAtM2IxYTk4NTlkYzMxIiwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjllZmUyZTE2LTRhODctNDM0MC04MTYwLTNiMWE5ODU5ZGMzMSJ9.ca6xS4jXh6_vIws9rlRDXFq9H_T6j-2HmM6Fm19sJg4
[2022-05-09T10:08:42Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-09T10:08:42Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-09T10:08:42Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI0NDVmMTM5Zi0wNjNjLTRhZDgtODkwYi1mNTg1OTQ0NjFiZDAifQ.eyJleHAiOjE2NTIwOTI3MjIsImlhdCI6MTY1MjA5MDkyMiwianRpIjoiMjFhY2YwN2EtYzFjNC00YWVjLWEwYTQtZjI2NTI0ODgzNzdlIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjNkZWIxOWY5LWM3NDYtNGIwMC1hOTA5LTJiOTg4NTVjZTRmMyIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IjhZWl8wcGRua29oZ0VyWnkzRmhqS0EiLCJzZXNzaW9uX3N0YXRlIjoiOWVmZTJlMTYtNGE4Ny00MzQwLTgxNjAtM2IxYTk4NTlkYzMxIiwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjllZmUyZTE2LTRhODctNDM0MC04MTYwLTNiMWE5ODU5ZGMzMSJ9.ca6xS4jXh6_vIws9rlRDXFq9H_T6j-2HmM6Fm19sJg4&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-09T10:08:42Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:08:42Z INFO  drogue_cloud_tests::resources::apps] Create application: 0b0b7ca9-41fb-490a-9d64-fec8d664ce2d
[2022-05-09T10:08:42Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;0b0b7ca9-41fb-490a-9d64-fec8d664ce2d&quot;
[2022-05-09T10:08:42Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 0b0b7ca9-41fb-490a-9d64-fec8d664ce2d created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:08:42Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;0b0b7ca9-41fb-490a-9d64-fec8d664ce2d&quot;
[2022-05-09T10:08:42Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T10:08:42.877217Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 2,\n    \&quot;name\&quot;: \&quot;0b0b7ca9-41fb-490a-9d64-fec8d664ce2d\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;93868247-fe06-4d3e-a00d-bc15746f16cc\&quot;,\n    \&quot;uid\&quot;: \&quot;b9bfa8a1-3501-4501-b663-270d55bac055\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:08:42.908353828Z\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:08:42.908331506Z\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: HasFinalizer\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:08:42.908303734Z\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:08:42.908304765Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:08:42.908305137Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:08:42.908305727Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:08:42.908306288Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:08:42.908310386Z\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 1\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:08:42Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T10:08:42.877217Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(2), &quot;name&quot;: String(&quot;0b0b7ca9-41fb-490a-9d64-fec8d664ce2d&quot;), &quot;resourceVersion&quot;: String(&quot;93868247-fe06-4d3e-a00d-bc15746f16cc&quot;), &quot;uid&quot;: String(&quot;b9bfa8a1-3501-4501-b663-270d55bac055&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:08:42.908353828Z&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:08:42.908331506Z&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: HasFinalizer&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:08:42.908303734Z&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:08:42.908304765Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:08:42.908305137Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:08:42.908305727Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:08:42.908306288Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:08:42.908310386Z&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(1)})})})
[2022-05-09T10:08:42Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-09T10:08:43Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;0b0b7ca9-41fb-490a-9d64-fec8d664ce2d&quot;
[2022-05-09T10:08:43Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T10:08:42.877217Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;0b0b7ca9-41fb-490a-9d64-fec8d664ce2d\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;55774171-476c-4453-93b4-3e358e86dbeb\&quot;,\n    \&quot;uid\&quot;: \&quot;b9bfa8a1-3501-4501-b663-270d55bac055\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:08:43.292979304Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:08:43.292939119Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:08:42.931629931Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:08:42.938846939Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:08:43.124701131Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:08:43.130719009Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:08:43.292892762Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:08:43.292911808Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;xMuYlJl3iKzj\&quot;,\n        \&quot;username\&quot;: \&quot;user-0b0b7ca9-41fb-490a-9d64-fec8d664ce2d\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:08:43Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T10:08:42.877217Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;0b0b7ca9-41fb-490a-9d64-fec8d664ce2d&quot;), &quot;resourceVersion&quot;: String(&quot;55774171-476c-4453-93b4-3e358e86dbeb&quot;), &quot;uid&quot;: String(&quot;b9bfa8a1-3501-4501-b663-270d55bac055&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:08:43.292979304Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:08:43.292939119Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:08:42.931629931Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:08:42.938846939Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:08:43.124701131Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:08:43.130719009Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:08:43.292892762Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:08:43.292911808Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;xMuYlJl3iKzj&quot;), &quot;username&quot;: String(&quot;user-0b0b7ca9-41fb-490a-9d64-fec8d664ce2d&quot;)})})})})
[2022-05-09T10:08:43Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-09T10:08:43Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;0b0b7ca9-41fb-490a-9d64-fec8d664ce2d&quot;
[2022-05-09T10:08:43Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T10:08:42.877217Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;0b0b7ca9-41fb-490a-9d64-fec8d664ce2d\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;55774171-476c-4453-93b4-3e358e86dbeb\&quot;,\n    \&quot;uid\&quot;: \&quot;b9bfa8a1-3501-4501-b663-270d55bac055\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:08:43.292979304Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:08:43.292939119Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:08:42.931629931Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:08:42.938846939Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:08:43.124701131Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:08:43.130719009Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:08:43.292892762Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:08:43.292911808Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;xMuYlJl3iKzj\&quot;,\n        \&quot;username\&quot;: \&quot;user-0b0b7ca9-41fb-490a-9d64-fec8d664ce2d\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:08:43Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T10:08:42.877217Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;0b0b7ca9-41fb-490a-9d64-fec8d664ce2d&quot;), &quot;resourceVersion&quot;: String(&quot;55774171-476c-4453-93b4-3e358e86dbeb&quot;), &quot;uid&quot;: String(&quot;b9bfa8a1-3501-4501-b663-270d55bac055&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:08:43.292979304Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:08:43.292939119Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:08:42.931629931Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:08:42.938846939Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:08:43.124701131Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:08:43.130719009Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:08:43.292892762Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:08:43.292911808Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;xMuYlJl3iKzj&quot;), &quot;username&quot;: String(&quot;user-0b0b7ca9-41fb-490a-9d64-fec8d664ce2d&quot;)})})})})
[2022-05-09T10:08:43Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-09T10:08:43Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-05-09T10:08:43Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;0b0b7ca9-41fb-490a-9d64-fec8d664ce2d&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-09T10:08:43Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:08:43Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:08:43Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T10:08:43Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T10:08:43Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJXRG4zQ2wwMVNsYVpRRnRTbUpuS2JqWC1wcXdsR21xWDhSUFNWSHgxUHgwIn0.eyJleHAiOjE2NTIwOTEyMjIsImlhdCI6MTY1MjA5MDkyMiwiYXV0aF90aW1lIjoxNjUyMDkwOTE5LCJqdGkiOiIzZmYzYmM2OS0xNzRiLTRhM2UtOWQ5ZS01YTQyOTE4MDg3NDIiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiM2RlYjE5ZjktYzc0Ni00YjAwLWE5MDktMmI5ODg1NWNlNGYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiI4WVpfMHBkbmtvaGdFclp5M0ZoaktBIiwic2Vzc2lvbl9zdGF0ZSI6IjllZmUyZTE2LTRhODctNDM0MC04MTYwLTNiMWE5ODU5ZGMzMSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjllZmUyZTE2LTRhODctNDM0MC04MTYwLTNiMWE5ODU5ZGMzMSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.kqFttmBt5SQelA2MHr8VYB4lfdn8BQy7GqYUuLLnLhCFQBTbbxqNyWO_S4bVm-hYCnq-KvyzXB9bykd5cUdkhi3v35LcE0zHPTn4WiF8ApYHXphvIWEIwla4mmNOjDVpGoTUP6GylEp_yc2S6FALhIupXzs5BMdaWOYzKQzderRVfHpaGmtv0CmcoEOOECs2l2T4dVZ_aTFAxLAXt2fgmn9gK1o8fGOeLsSsxq7T_zNJmRrVf93HW6Ij7SCEzLxH_KXCa1q5qV3qLmi43Z6XYPYfqbLoG2bZOl1r8YNfQRYYlZGit-NMm0f1jsME-nUZduqBbyfRFE1hH8MXii47DA\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:08:43Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T10:08:44Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-09T10:08:44Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-09T10:08:44Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;0b0b7ca9-41fb-490a-9d64-fec8d664ce2d&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-05-09T10:08:44Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:08:44Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: ssl://mqtt-integration.172.18.0.2.nip.io:30002
[2022-05-09T10:08:44Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T10:08:44Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJXRG4zQ2wwMVNsYVpRRnRTbUpuS2JqWC1wcXdsR21xWDhSUFNWSHgxUHgwIn0.eyJleHAiOjE2NTIwOTEyMjIsImlhdCI6MTY1MjA5MDkyMiwiYXV0aF90aW1lIjoxNjUyMDkwOTE5LCJqdGkiOiIzZmYzYmM2OS0xNzRiLTRhM2UtOWQ5ZS01YTQyOTE4MDg3NDIiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiM2RlYjE5ZjktYzc0Ni00YjAwLWE5MDktMmI5ODg1NWNlNGYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiI4WVpfMHBkbmtvaGdFclp5M0ZoaktBIiwic2Vzc2lvbl9zdGF0ZSI6IjllZmUyZTE2LTRhODctNDM0MC04MTYwLTNiMWE5ODU5ZGMzMSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjllZmUyZTE2LTRhODctNDM0MC04MTYwLTNiMWE5ODU5ZGMzMSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.kqFttmBt5SQelA2MHr8VYB4lfdn8BQy7GqYUuLLnLhCFQBTbbxqNyWO_S4bVm-hYCnq-KvyzXB9bykd5cUdkhi3v35LcE0zHPTn4WiF8ApYHXphvIWEIwla4mmNOjDVpGoTUP6GylEp_yc2S6FALhIupXzs5BMdaWOYzKQzderRVfHpaGmtv0CmcoEOOECs2l2T4dVZ_aTFAxLAXt2fgmn9gK1o8fGOeLsSsxq7T_zNJmRrVf93HW6Ij7SCEzLxH_KXCa1q5qV3qLmi43Z6XYPYfqbLoG2bZOl1r8YNfQRYYlZGit-NMm0f1jsME-nUZduqBbyfRFE1hH8MXii47DA\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:08:44Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 4, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-integration.172.18.0.2.nip.io:30002&quot;, client_id: &quot;83a87a03-2eca-47bf-9d86-c31d672c8db1&quot;, persistence: None, user_data: None }
[2022-05-09T10:08:44Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T10:08:44Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55efdbeaa6e0
[2022-05-09T10:08:44Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55efdbeaa6e0
[2022-05-09T10:08:44Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 1, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x55efdbf0d9b0, connectTimeout: 30, retryInterval: 0, ssl: 0x55efdc0d5fe0, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 4, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 0, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55efdbea9ea0, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJXRG4zQ2wwMVNsYVpRRnRTbUpuS2JqWC1wcXdsR21xWDhSUFNWSHgxUHgwIn0.eyJleHAiOjE2NTIwOTEyMjIsImlhdCI6MTY1MjA5MDkyMiwiYXV0aF90aW1lIjoxNjUyMDkwOTE5LCJqdGkiOiIzZmYzYmM2OS0xNzRiLTRhM2UtOWQ5ZS01YTQyOTE4MDg3NDIiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiM2RlYjE5ZjktYzc0Ni00YjAwLWE5MDktMmI5ODg1NWNlNGYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiI4WVpfMHBkbmtvaGdFclp5M0ZoaktBIiwic2Vzc2lvbl9zdGF0ZSI6IjllZmUyZTE2LTRhODctNDM0MC04MTYwLTNiMWE5ODU5ZGMzMSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjllZmUyZTE2LTRhODctNDM0MC04MTYwLTNiMWE5ODU5ZGMzMSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.kqFttmBt5SQelA2MHr8VYB4lfdn8BQy7GqYUuLLnLhCFQBTbbxqNyWO_S4bVm-hYCnq-KvyzXB9bykd5cUdkhi3v35LcE0zHPTn4WiF8ApYHXphvIWEIwla4mmNOjDVpGoTUP6GylEp_yc2S6FALhIupXzs5BMdaWOYzKQzderRVfHpaGmtv0CmcoEOOECs2l2T4dVZ_aTFAxLAXt2fgmn9gK1o8fGOeLsSsxq7T_zNJmRrVf93HW6Ij7SCEzLxH_KXCa1q5qV3qLmi43Z6XYPYfqbLoG2bZOl1r8YNfQRYYlZGit-NMm0f1jsME-nUZduqBbyfRFE1hH8MXii47DA&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T10:08:44Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/0b0b7ca9-41fb-490a-9d64-fec8d664ce2d&quot;&#x27; @ QOS 0
[2022-05-09T10:08:44Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-09T10:08:44Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-09T10:08:44Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:08:44Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:08:44Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:08:44Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:08:45Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:08:45Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:08:45Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:08:45Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:08:46Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:08:46Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:08:46Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:08:46Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:08:47Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:08:47Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:08:47Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:08:47Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:08:47Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 621, payload: 0x7f0ed001ca30, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/0b0b7ca9-41fb-490a-9d64-fec8d664ce2d&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 53, 51, 99, 99, 99, 53, 102, 50, 45, 55, 100, 51, 49, 45, 52, 97, 52, 101, 45, 98, 55, 51, 100, 45, 50, 48, 51, 100, 101, 99, 102, 56, 100, 57, 51, 54, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 48, 98, 48, 98, 55, 99, 97, 57, 37, 50, 68, 52, 49, 102, 98, 37, 50, 68, 52, 57, 48, 97, 37, 50, 68, 57, 100, 54, 52, 37, 50, 68, 102, 101, 99, 56, 100, 54, 54, 52, 99, 101, 50, 100, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 119, 97, 114, 109, 117, 112, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 48, 58, 48, 56, 58, 52, 55, 46, 50, 52, 55, 51, 55, 48, 54, 52, 52, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 48, 98, 48, 98, 55, 99, 97, 57, 37, 50, 68, 52, 49, 102, 98, 37, 50, 68, 52, 57, 48, 97, 37, 50, 68, 57, 100, 54, 52, 37, 50, 68, 102, 101, 99, 56, 100, 54, 54, 52, 99, 101, 50, 100, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 48, 98, 48, 98, 55, 99, 97, 57, 45, 52, 49, 102, 98, 45, 52, 57, 48, 97, 45, 57, 100, 54, 52, 45, 102, 101, 99, 56, 100, 54, 54, 52, 99, 101, 50, 100, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 97, 100, 53, 54, 98, 55, 50, 98, 45, 100, 48, 49, 56, 45, 52, 99, 54, 50, 45, 56, 99, 100, 48, 45, 55, 56, 57, 101, 54, 55, 55, 97, 100, 100, 100, 99, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 98, 57, 98, 102, 97, 56, 97, 49, 45, 51, 53, 48, 49, 45, 52, 53, 48, 49, 45, 98, 54, 54, 51, 45, 50, 55, 48, 100, 53, 53, 98, 97, 99, 48, 53, 53, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 99, 55, 97, 101, 49, 102, 51, 52, 45, 102, 100, 50, 99, 45, 52, 54, 100, 98, 45, 97, 54, 56, 57, 45, 54, 49, 99, 49, 57, 97, 57, 48, 98, 57, 50, 55, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-09T10:08:47Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/0b0b7ca9-41fb-490a-9d64-fec8d664ce2d&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;53ccc5f2-7d31-4a4e-b73d-203decf8d936\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://0b0b7ca9%2D41fb%2D490a%2D9d64%2Dfec8d664ce2d/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;warmup\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T10:08:47.247370644Z\&quot;,\&quot;data\&quot;:{\&quot;index\&quot;:3},\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;partitionkey\&quot;:\&quot;0b0b7ca9%2D41fb%2D490a%2D9d64%2Dfec8d664ce2d/device1\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;application\&quot;:\&quot;0b0b7ca9-41fb-490a-9d64-fec8d664ce2d\&quot;,\&quot;senderuid\&quot;:\&quot;ad56b72b-d018-4c62-8cd0-789e677adddc\&quot;,\&quot;applicationuid\&quot;:\&quot;b9bfa8a1-3501-4501-b663-270d55bac055\&quot;,\&quot;deviceuid\&quot;:\&quot;c7ae1f34-fd2c-46db-a689-61c19a90b927\&quot;}&quot; }
[2022-05-09T10:08:48Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-09T10:08:48Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-09T10:08:48Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-09T10:08:48Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry/device1
[2022-05-09T10:08:48Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 4, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-endpoint.172.18.0.2.nip.io:30001&quot;, client_id: &quot;d989af9b-fa20-4bba-a402-10085d2170b6&quot;, persistence: None, user_data: None }
[2022-05-09T10:08:48Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T10:08:48Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55efdc1e4120
[2022-05-09T10:08:48Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55efdc1e4120
[2022-05-09T10:08:48Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 1, maxInflight: 65535, will: 0x0, username: 0x55efdc2e0460, password: 0x55efdbdfda40, connectTimeout: 30, retryInterval: 0, ssl: 0x55efdbdf1220, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 4, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 0, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55efdc2b6720, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;gateway1@0b0b7ca9-41fb-490a-9d64-fec8d664ce2d&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T10:08:49Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55efdbe26130 } }, data: MessageData { topic: &quot;telemetry/device1&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55efdbe26130 } } } }
[2022-05-09T10:08:49Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 640, payload: 0x7f0ed0003b30, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/0b0b7ca9-41fb-490a-9d64-fec8d664ce2d&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 49, 99, 54, 51, 49, 99, 53, 57, 45, 50, 97, 50, 54, 45, 52, 54, 48, 98, 45, 57, 48, 53, 56, 45, 101, 57, 55, 56, 99, 97, 52, 49, 56, 49, 99, 102, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 48, 98, 48, 98, 55, 99, 97, 57, 37, 50, 68, 52, 49, 102, 98, 37, 50, 68, 52, 57, 48, 97, 37, 50, 68, 57, 100, 54, 52, 37, 50, 68, 102, 101, 99, 56, 100, 54, 54, 52, 99, 101, 50, 100, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 48, 58, 48, 56, 58, 52, 56, 46, 55, 48, 51, 50, 57, 51, 51, 50, 49, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 98, 57, 98, 102, 97, 56, 97, 49, 45, 51, 53, 48, 49, 45, 52, 53, 48, 49, 45, 98, 54, 54, 51, 45, 50, 55, 48, 100, 53, 53, 98, 97, 99, 48, 53, 53, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 97, 100, 53, 54, 98, 55, 50, 98, 45, 100, 48, 49, 56, 45, 52, 99, 54, 50, 45, 56, 99, 100, 48, 45, 55, 56, 57, 101, 54, 55, 55, 97, 100, 100, 100, 99, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 48, 98, 48, 98, 55, 99, 97, 57, 45, 52, 49, 102, 98, 45, 52, 57, 48, 97, 45, 57, 100, 54, 52, 45, 102, 101, 99, 56, 100, 54, 54, 52, 99, 101, 50, 100, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 97, 100, 53, 54, 98, 55, 50, 98, 45, 100, 48, 49, 56, 45, 52, 99, 54, 50, 45, 56, 99, 100, 48, 45, 55, 56, 57, 101, 54, 55, 55, 97, 100, 100, 100, 99, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 48, 98, 48, 98, 55, 99, 97, 57, 37, 50, 68, 52, 49, 102, 98, 37, 50, 68, 52, 57, 48, 97, 37, 50, 68, 57, 100, 54, 52, 37, 50, 68, 102, 101, 99, 56, 100, 54, 54, 52, 99, 101, 50, 100, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-09T10:08:49Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/0b0b7ca9-41fb-490a-9d64-fec8d664ce2d&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;1c631c59-2a26-460b-9058-e978ca4181cf\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://0b0b7ca9%2D41fb%2D490a%2D9d64%2Dfec8d664ce2d/gateway1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T10:08:48.703293321Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:true},\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;applicationuid\&quot;:\&quot;b9bfa8a1-3501-4501-b663-270d55bac055\&quot;,\&quot;deviceuid\&quot;:\&quot;ad56b72b-d018-4c62-8cd0-789e677adddc\&quot;,\&quot;application\&quot;:\&quot;0b0b7ca9-41fb-490a-9d64-fec8d664ce2d\&quot;,\&quot;senderuid\&quot;:\&quot;ad56b72b-d018-4c62-8cd0-789e677adddc\&quot;,\&quot;partitionkey\&quot;:\&quot;0b0b7ca9%2D41fb%2D490a%2D9d64%2Dfec8d664ce2d/gateway1\&quot;,\&quot;device\&quot;:\&quot;gateway1\&quot;}&quot; }
[2022-05-09T10:08:49Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-09T10:08:50Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 630, payload: 0x7f0ed0000af0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/0b0b7ca9-41fb-490a-9d64-fec8d664ce2d&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 51, 52, 99, 51, 97, 98, 52, 50, 45, 53, 97, 54, 51, 45, 52, 54, 50, 52, 45, 56, 56, 51, 55, 45, 101, 56, 102, 100, 51, 52, 102, 101, 55, 55, 56, 48, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 48, 98, 48, 98, 55, 99, 97, 57, 37, 50, 68, 52, 49, 102, 98, 37, 50, 68, 52, 57, 48, 97, 37, 50, 68, 57, 100, 54, 52, 37, 50, 68, 102, 101, 99, 56, 100, 54, 54, 52, 99, 101, 50, 100, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 111, 99, 116, 101, 116, 45, 115, 116, 114, 101, 97, 109, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 116, 101, 108, 101, 109, 101, 116, 114, 121, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 48, 58, 48, 56, 58, 52, 57, 46, 54, 48, 57, 56, 56, 56, 50, 52, 48, 90, 34, 44, 34, 100, 97, 116, 97, 95, 98, 97, 115, 101, 54, 52, 34, 58, 34, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 99, 55, 97, 101, 49, 102, 51, 52, 45, 102, 100, 50, 99, 45, 52, 54, 100, 98, 45, 97, 54, 56, 57, 45, 54, 49, 99, 49, 57, 97, 57, 48, 98, 57, 50, 55, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 98, 57, 98, 102, 97, 56, 97, 49, 45, 51, 53, 48, 49, 45, 52, 53, 48, 49, 45, 98, 54, 54, 51, 45, 50, 55, 48, 100, 53, 53, 98, 97, 99, 48, 53, 53, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 97, 100, 53, 54, 98, 55, 50, 98, 45, 100, 48, 49, 56, 45, 52, 99, 54, 50, 45, 56, 99, 100, 48, 45, 55, 56, 57, 101, 54, 55, 55, 97, 100, 100, 100, 99, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 48, 98, 48, 98, 55, 99, 97, 57, 45, 52, 49, 102, 98, 45, 52, 57, 48, 97, 45, 57, 100, 54, 52, 45, 102, 101, 99, 56, 100, 54, 54, 52, 99, 101, 50, 100, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 48, 98, 48, 98, 55, 99, 97, 57, 37, 50, 68, 52, 49, 102, 98, 37, 50, 68, 52, 57, 48, 97, 37, 50, 68, 57, 100, 54, 52, 37, 50, 68, 102, 101, 99, 56, 100, 54, 54, 52, 99, 101, 50, 100, 47, 100, 101, 118, 105, 99, 101, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-09T10:08:50Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/0b0b7ca9-41fb-490a-9d64-fec8d664ce2d&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;34c3ab42-5a63-4624-8837-e8fd34fe7780\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://0b0b7ca9%2D41fb%2D490a%2D9d64%2Dfec8d664ce2d/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/octet-stream\&quot;,\&quot;subject\&quot;:\&quot;telemetry\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T10:08:49.609888240Z\&quot;,\&quot;data_base64\&quot;:\&quot;\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;deviceuid\&quot;:\&quot;c7ae1f34-fd2c-46db-a689-61c19a90b927\&quot;,\&quot;applicationuid\&quot;:\&quot;b9bfa8a1-3501-4501-b663-270d55bac055\&quot;,\&quot;senderuid\&quot;:\&quot;ad56b72b-d018-4c62-8cd0-789e677adddc\&quot;,\&quot;application\&quot;:\&quot;0b0b7ca9-41fb-490a-9d64-fec8d664ce2d\&quot;,\&quot;partitionkey\&quot;:\&quot;0b0b7ca9%2D41fb%2D490a%2D9d64%2Dfec8d664ce2d/device1\&quot;}&quot; }
[2022-05-09T10:08:50Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 641, payload: 0x7f0ed00022a0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/0b0b7ca9-41fb-490a-9d64-fec8d664ce2d&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 52, 57, 55, 100, 50, 98, 51, 56, 45, 102, 48, 50, 55, 45, 52, 100, 55, 56, 45, 57, 98, 56, 52, 45, 52, 48, 48, 49, 102, 99, 49, 54, 55, 50, 98, 51, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 48, 98, 48, 98, 55, 99, 97, 57, 37, 50, 68, 52, 49, 102, 98, 37, 50, 68, 52, 57, 48, 97, 37, 50, 68, 57, 100, 54, 52, 37, 50, 68, 102, 101, 99, 56, 100, 54, 54, 52, 99, 101, 50, 100, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 48, 58, 48, 56, 58, 53, 48, 46, 49, 48, 54, 50, 57, 54, 54, 48, 53, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 102, 97, 108, 115, 101, 125, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 48, 98, 48, 98, 55, 99, 97, 57, 45, 52, 49, 102, 98, 45, 52, 57, 48, 97, 45, 57, 100, 54, 52, 45, 102, 101, 99, 56, 100, 54, 54, 52, 99, 101, 50, 100, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 97, 100, 53, 54, 98, 55, 50, 98, 45, 100, 48, 49, 56, 45, 52, 99, 54, 50, 45, 56, 99, 100, 48, 45, 55, 56, 57, 101, 54, 55, 55, 97, 100, 100, 100, 99, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 97, 100, 53, 54, 98, 55, 50, 98, 45, 100, 48, 49, 56, 45, 52, 99, 54, 50, 45, 56, 99, 100, 48, 45, 55, 56, 57, 101, 54, 55, 55, 97, 100, 100, 100, 99, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 48, 98, 48, 98, 55, 99, 97, 57, 37, 50, 68, 52, 49, 102, 98, 37, 50, 68, 52, 57, 48, 97, 37, 50, 68, 57, 100, 54, 52, 37, 50, 68, 102, 101, 99, 56, 100, 54, 54, 52, 99, 101, 50, 100, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 98, 57, 98, 102, 97, 56, 97, 49, 45, 51, 53, 48, 49, 45, 52, 53, 48, 49, 45, 98, 54, 54, 51, 45, 50, 55, 48, 100, 53, 53, 98, 97, 99, 48, 53, 53, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-09T10:08:50Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/0b0b7ca9-41fb-490a-9d64-fec8d664ce2d&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;497d2b38-f027-4d78-9b84-4001fc1672b3\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://0b0b7ca9%2D41fb%2D490a%2D9d64%2Dfec8d664ce2d/gateway1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T10:08:50.106296605Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:false},\&quot;device\&quot;:\&quot;gateway1\&quot;,\&quot;application\&quot;:\&quot;0b0b7ca9-41fb-490a-9d64-fec8d664ce2d\&quot;,\&quot;senderuid\&quot;:\&quot;ad56b72b-d018-4c62-8cd0-789e677adddc\&quot;,\&quot;deviceuid\&quot;:\&quot;ad56b72b-d018-4c62-8cd0-789e677adddc\&quot;,\&quot;partitionkey\&quot;:\&quot;0b0b7ca9%2D41fb%2D490a%2D9d64%2Dfec8d664ce2d/gateway1\&quot;,\&quot;applicationuid\&quot;:\&quot;b9bfa8a1-3501-4501-b663-270d55bac055\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;}&quot; }
[2022-05-09T10:08:50Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-09T10:08:50Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-09T10:08:50Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-09T10:08:50Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;0b0b7ca9-41fb-490a-9d64-fec8d664ce2d&quot;, device: &quot;gateway1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`,
 right: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;0b0b7ca9-41fb-490a-9d64-fec8d664ce2d&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`: Position #0&#x27;, src/tools/assert.rs:35:39
[2022-05-09T10:08:50Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-09T10:08:50Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;0b0b7ca9-41fb-490a-9d64-fec8d664ce2d&quot; &quot;device1&quot;
[2022-05-09T10:08:50Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:08:50Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-05-09T10:08:50Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;0b0b7ca9-41fb-490a-9d64-fec8d664ce2d&quot; &quot;gateway1&quot;
[2022-05-09T10:08:50Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:08:50Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;0b0b7ca9-41fb-490a-9d64-fec8d664ce2d&#x27;
[2022-05-09T10:08:50Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;0b0b7ca9-41fb-490a-9d64-fec8d664ce2d&quot;
[2022-05-09T10:08:50Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 0b0b7ca9-41fb-490a-9d64-fec8d664ce2d deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_1::integration_version_1::integration_ws_2

**Duration**: 14s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-09T10:08:52Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-09T10:08:52Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T10:08:52Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T10:08:52Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T10:08:52Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T10:08:53Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-09T10:08:55Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-09T10:08:55Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T10:08:55Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T10:08:55Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T10:08:57Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI0NDVmMTM5Zi0wNjNjLTRhZDgtODkwYi1mNTg1OTQ0NjFiZDAifQ.eyJleHAiOjE2NTIwOTI3MzYsImlhdCI6MTY1MjA5MDkzNiwianRpIjoiMWE5NmUxYzgtOGMxMi00Njc1LTg3ODYtNjhhZWYxMGU3NGJhIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjNkZWIxOWY5LWM3NDYtNGIwMC1hOTA5LTJiOTg4NTVjZTRmMyIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImNfbG5tQmRiUkwtSWRIS3JnWTdNTkEiLCJzZXNzaW9uX3N0YXRlIjoiOTZmZTdmYTgtNWY5ZC00N2JlLThjZWUtMDlkYThkYTc1MTkyIiwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6Ijk2ZmU3ZmE4LTVmOWQtNDdiZS04Y2VlLTA5ZGE4ZGE3NTE5MiJ9.L6__3MsLIqWNfI6BKSj_Hv_VaLV23_DnT1hvPyAc2lk
[2022-05-09T10:08:57Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-09T10:08:57Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-09T10:08:57Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI0NDVmMTM5Zi0wNjNjLTRhZDgtODkwYi1mNTg1OTQ0NjFiZDAifQ.eyJleHAiOjE2NTIwOTI3MzYsImlhdCI6MTY1MjA5MDkzNiwianRpIjoiMWE5NmUxYzgtOGMxMi00Njc1LTg3ODYtNjhhZWYxMGU3NGJhIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjNkZWIxOWY5LWM3NDYtNGIwMC1hOTA5LTJiOTg4NTVjZTRmMyIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImNfbG5tQmRiUkwtSWRIS3JnWTdNTkEiLCJzZXNzaW9uX3N0YXRlIjoiOTZmZTdmYTgtNWY5ZC00N2JlLThjZWUtMDlkYThkYTc1MTkyIiwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6Ijk2ZmU3ZmE4LTVmOWQtNDdiZS04Y2VlLTA5ZGE4ZGE3NTE5MiJ9.L6__3MsLIqWNfI6BKSj_Hv_VaLV23_DnT1hvPyAc2lk&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-09T10:08:57Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:08:57Z INFO  drogue_cloud_tests::resources::apps] Create application: 687443db-f61d-4a81-8bd1-3ae60fb1237e
[2022-05-09T10:08:57Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;687443db-f61d-4a81-8bd1-3ae60fb1237e&quot;
[2022-05-09T10:08:58Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 687443db-f61d-4a81-8bd1-3ae60fb1237e created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:08:58Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;687443db-f61d-4a81-8bd1-3ae60fb1237e&quot;
[2022-05-09T10:08:58Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T10:08:58.010390Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 2,\n    \&quot;name\&quot;: \&quot;687443db-f61d-4a81-8bd1-3ae60fb1237e\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;1e6d1a2b-929f-431b-9091-cdac21e68c1f\&quot;,\n    \&quot;uid\&quot;: \&quot;fe2cfcc4-ceaf-4880-8229-ffd745253fb3\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:08:58.029635998Z\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:08:58.029552072Z\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: HasFinalizer\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:08:58.029463867Z\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:08:58.029464869Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:08:58.029465229Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:08:58.029465700Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:08:58.029466271Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:08:58.029529780Z\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 1\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:08:58Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T10:08:58.010390Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(2), &quot;name&quot;: String(&quot;687443db-f61d-4a81-8bd1-3ae60fb1237e&quot;), &quot;resourceVersion&quot;: String(&quot;1e6d1a2b-929f-431b-9091-cdac21e68c1f&quot;), &quot;uid&quot;: String(&quot;fe2cfcc4-ceaf-4880-8229-ffd745253fb3&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:08:58.029635998Z&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:08:58.029552072Z&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: HasFinalizer&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:08:58.029463867Z&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:08:58.029464869Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:08:58.029465229Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:08:58.029465700Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:08:58.029466271Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:08:58.029529780Z&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(1)})})})
[2022-05-09T10:08:58Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-09T10:08:59Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;687443db-f61d-4a81-8bd1-3ae60fb1237e&quot;
[2022-05-09T10:08:59Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T10:08:58.010390Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;687443db-f61d-4a81-8bd1-3ae60fb1237e\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;8feba7db-051f-4dfe-ad64-3dd00b63c70e\&quot;,\n    \&quot;uid\&quot;: \&quot;fe2cfcc4-ceaf-4880-8229-ffd745253fb3\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:08:58.342572055Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:08:58.342000717Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:08:58.051013844Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:08:58.059733652Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:08:58.128445576Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:08:58.135279449Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:08:58.341868750Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:08:58.341887476Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;aefy8yogJSoH\&quot;,\n        \&quot;username\&quot;: \&quot;user-687443db-f61d-4a81-8bd1-3ae60fb1237e\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:08:59Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T10:08:58.010390Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;687443db-f61d-4a81-8bd1-3ae60fb1237e&quot;), &quot;resourceVersion&quot;: String(&quot;8feba7db-051f-4dfe-ad64-3dd00b63c70e&quot;), &quot;uid&quot;: String(&quot;fe2cfcc4-ceaf-4880-8229-ffd745253fb3&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:08:58.342572055Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:08:58.342000717Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:08:58.051013844Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:08:58.059733652Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:08:58.128445576Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:08:58.135279449Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:08:58.341868750Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:08:58.341887476Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;aefy8yogJSoH&quot;), &quot;username&quot;: String(&quot;user-687443db-f61d-4a81-8bd1-3ae60fb1237e&quot;)})})})})
[2022-05-09T10:08:59Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-09T10:08:59Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;687443db-f61d-4a81-8bd1-3ae60fb1237e&quot;
[2022-05-09T10:08:59Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T10:08:58.010390Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;687443db-f61d-4a81-8bd1-3ae60fb1237e\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;8feba7db-051f-4dfe-ad64-3dd00b63c70e\&quot;,\n    \&quot;uid\&quot;: \&quot;fe2cfcc4-ceaf-4880-8229-ffd745253fb3\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:08:58.342572055Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:08:58.342000717Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:08:58.051013844Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:08:58.059733652Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:08:58.128445576Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:08:58.135279449Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:08:58.341868750Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:08:58.341887476Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;aefy8yogJSoH\&quot;,\n        \&quot;username\&quot;: \&quot;user-687443db-f61d-4a81-8bd1-3ae60fb1237e\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:08:59Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T10:08:58.010390Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;687443db-f61d-4a81-8bd1-3ae60fb1237e&quot;), &quot;resourceVersion&quot;: String(&quot;8feba7db-051f-4dfe-ad64-3dd00b63c70e&quot;), &quot;uid&quot;: String(&quot;fe2cfcc4-ceaf-4880-8229-ffd745253fb3&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:08:58.342572055Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:08:58.342000717Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:08:58.051013844Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:08:58.059733652Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:08:58.128445576Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:08:58.135279449Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:08:58.341868750Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:08:58.341887476Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;aefy8yogJSoH&quot;), &quot;username&quot;: String(&quot;user-687443db-f61d-4a81-8bd1-3ae60fb1237e&quot;)})})})})
[2022-05-09T10:08:59Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-09T10:08:59Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-05-09T10:08:59Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;687443db-f61d-4a81-8bd1-3ae60fb1237e&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-09T10:08:59Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:08:59Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:08:59Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T10:08:59Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T10:08:59Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJXRG4zQ2wwMVNsYVpRRnRTbUpuS2JqWC1wcXdsR21xWDhSUFNWSHgxUHgwIn0.eyJleHAiOjE2NTIwOTEyMzcsImlhdCI6MTY1MjA5MDkzNywiYXV0aF90aW1lIjoxNjUyMDkwOTM0LCJqdGkiOiIzMzhlM2YxOS02ZmUyLTQwZWUtOWQ1Mi03ZThhZGUyOTc2ZjgiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiM2RlYjE5ZjktYzc0Ni00YjAwLWE5MDktMmI5ODg1NWNlNGYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJjX2xubUJkYlJMLUlkSEtyZ1k3TU5BIiwic2Vzc2lvbl9zdGF0ZSI6Ijk2ZmU3ZmE4LTVmOWQtNDdiZS04Y2VlLTA5ZGE4ZGE3NTE5MiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6Ijk2ZmU3ZmE4LTVmOWQtNDdiZS04Y2VlLTA5ZGE4ZGE3NTE5MiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.LzVGJDK1H7ZOAlgryiRHfOU3FG6neqBJTmSK9gTwfvDzx0E8tZO0bs7j-zlpYkr35MZfskidjMDD2PJ3YCX2eDdluasNz6QdxyMv6DKMVIRY0tDZCiMFA40byREkCuXleEXLJAT-smNqcYO-W0v3fNEIGZ4K0o9pexgXZk4BuwLPLhXqLm9SY_cbb-bglIWkPxITG1Z3Hst3aCsdX3JCUK6YU_zdaNkdfMmMgnnrIste3xpE-YCvmeSaBgw9McSSDXxBfCaCIpCCXvC07EodgMSHNXXyKZ1JsRRpBVOfjqaerRCF9E6SvLw-gXQ8Hqythc6pjfPBiIedSeoyLpMrhQ\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:08:59Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T10:08:59Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-09T10:08:59Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-09T10:08:59Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;687443db-f61d-4a81-8bd1-3ae60fb1237e&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-05-09T10:08:59Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:08:59Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt
[2022-05-09T10:08:59Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T10:08:59Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJXRG4zQ2wwMVNsYVpRRnRTbUpuS2JqWC1wcXdsR21xWDhSUFNWSHgxUHgwIn0.eyJleHAiOjE2NTIwOTEyMzcsImlhdCI6MTY1MjA5MDkzNywiYXV0aF90aW1lIjoxNjUyMDkwOTM0LCJqdGkiOiIzMzhlM2YxOS02ZmUyLTQwZWUtOWQ1Mi03ZThhZGUyOTc2ZjgiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiM2RlYjE5ZjktYzc0Ni00YjAwLWE5MDktMmI5ODg1NWNlNGYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJjX2xubUJkYlJMLUlkSEtyZ1k3TU5BIiwic2Vzc2lvbl9zdGF0ZSI6Ijk2ZmU3ZmE4LTVmOWQtNDdiZS04Y2VlLTA5ZGE4ZGE3NTE5MiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6Ijk2ZmU3ZmE4LTVmOWQtNDdiZS04Y2VlLTA5ZGE4ZGE3NTE5MiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.LzVGJDK1H7ZOAlgryiRHfOU3FG6neqBJTmSK9gTwfvDzx0E8tZO0bs7j-zlpYkr35MZfskidjMDD2PJ3YCX2eDdluasNz6QdxyMv6DKMVIRY0tDZCiMFA40byREkCuXleEXLJAT-smNqcYO-W0v3fNEIGZ4K0o9pexgXZk4BuwLPLhXqLm9SY_cbb-bglIWkPxITG1Z3Hst3aCsdX3JCUK6YU_zdaNkdfMmMgnnrIste3xpE-YCvmeSaBgw9McSSDXxBfCaCIpCCXvC07EodgMSHNXXyKZ1JsRRpBVOfjqaerRCF9E6SvLw-gXQ8Hqythc6pjfPBiIedSeoyLpMrhQ\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:08:59Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 4, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt&quot;, client_id: &quot;698a53af-d497-421d-8e22-0018af80886f&quot;, persistence: None, user_data: None }
[2022-05-09T10:08:59Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T10:08:59Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55efdc2794c0
[2022-05-09T10:08:59Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55efdc2794c0
[2022-05-09T10:08:59Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 1, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x55efdc27a480, connectTimeout: 30, retryInterval: 0, ssl: 0x55efdc2bbcd0, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 4, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 0, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55efdc2bb9a0, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJXRG4zQ2wwMVNsYVpRRnRTbUpuS2JqWC1wcXdsR21xWDhSUFNWSHgxUHgwIn0.eyJleHAiOjE2NTIwOTEyMzcsImlhdCI6MTY1MjA5MDkzNywiYXV0aF90aW1lIjoxNjUyMDkwOTM0LCJqdGkiOiIzMzhlM2YxOS02ZmUyLTQwZWUtOWQ1Mi03ZThhZGUyOTc2ZjgiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiM2RlYjE5ZjktYzc0Ni00YjAwLWE5MDktMmI5ODg1NWNlNGYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJjX2xubUJkYlJMLUlkSEtyZ1k3TU5BIiwic2Vzc2lvbl9zdGF0ZSI6Ijk2ZmU3ZmE4LTVmOWQtNDdiZS04Y2VlLTA5ZGE4ZGE3NTE5MiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6Ijk2ZmU3ZmE4LTVmOWQtNDdiZS04Y2VlLTA5ZGE4ZGE3NTE5MiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.LzVGJDK1H7ZOAlgryiRHfOU3FG6neqBJTmSK9gTwfvDzx0E8tZO0bs7j-zlpYkr35MZfskidjMDD2PJ3YCX2eDdluasNz6QdxyMv6DKMVIRY0tDZCiMFA40byREkCuXleEXLJAT-smNqcYO-W0v3fNEIGZ4K0o9pexgXZk4BuwLPLhXqLm9SY_cbb-bglIWkPxITG1Z3Hst3aCsdX3JCUK6YU_zdaNkdfMmMgnnrIste3xpE-YCvmeSaBgw9McSSDXxBfCaCIpCCXvC07EodgMSHNXXyKZ1JsRRpBVOfjqaerRCF9E6SvLw-gXQ8Hqythc6pjfPBiIedSeoyLpMrhQ&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T10:08:59Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/687443db-f61d-4a81-8bd1-3ae60fb1237e&quot;&#x27; @ QOS 0
[2022-05-09T10:08:59Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-09T10:08:59Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-09T10:08:59Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:08:59Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:08:59Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:09:00Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:09:01Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:09:01Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:09:01Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:09:01Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:09:02Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:09:02Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:09:02Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:09:02Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:09:03Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:09:03Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:09:03Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:09:03Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:09:03Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 621, payload: 0x7f0edc0162d0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/687443db-f61d-4a81-8bd1-3ae60fb1237e&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 55, 97, 52, 53, 98, 48, 52, 53, 45, 54, 56, 48, 102, 45, 52, 56, 52, 48, 45, 56, 97, 50, 99, 45, 53, 54, 53, 52, 50, 49, 51, 49, 51, 97, 54, 52, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 54, 56, 55, 52, 52, 51, 100, 98, 37, 50, 68, 102, 54, 49, 100, 37, 50, 68, 52, 97, 56, 49, 37, 50, 68, 56, 98, 100, 49, 37, 50, 68, 51, 97, 101, 54, 48, 102, 98, 49, 50, 51, 55, 101, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 119, 97, 114, 109, 117, 112, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 48, 58, 48, 57, 58, 48, 51, 46, 50, 55, 49, 53, 54, 50, 56, 57, 54, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 54, 56, 55, 52, 52, 51, 100, 98, 45, 102, 54, 49, 100, 45, 52, 97, 56, 49, 45, 56, 98, 100, 49, 45, 51, 97, 101, 54, 48, 102, 98, 49, 50, 51, 55, 101, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 102, 101, 50, 99, 102, 99, 99, 52, 45, 99, 101, 97, 102, 45, 52, 56, 56, 48, 45, 56, 50, 50, 57, 45, 102, 102, 100, 55, 52, 53, 50, 53, 51, 102, 98, 51, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 100, 56, 51, 49, 99, 49, 99, 54, 45, 102, 98, 52, 48, 45, 52, 100, 52, 54, 45, 98, 53, 99, 55, 45, 102, 99, 56, 99, 57, 49, 52, 48, 97, 99, 99, 54, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 54, 56, 55, 52, 52, 51, 100, 98, 37, 50, 68, 102, 54, 49, 100, 37, 50, 68, 52, 97, 56, 49, 37, 50, 68, 56, 98, 100, 49, 37, 50, 68, 51, 97, 101, 54, 48, 102, 98, 49, 50, 51, 55, 101, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 48, 48, 97, 101, 51, 50, 49, 55, 45, 101, 56, 99, 100, 45, 52, 97, 55, 100, 45, 98, 53, 53, 48, 45, 49, 50, 53, 49, 49, 49, 54, 54, 50, 102, 50, 98, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-09T10:09:03Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/687443db-f61d-4a81-8bd1-3ae60fb1237e&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;7a45b045-680f-4840-8a2c-565421313a64\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://687443db%2Df61d%2D4a81%2D8bd1%2D3ae60fb1237e/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;warmup\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T10:09:03.271562896Z\&quot;,\&quot;data\&quot;:{\&quot;index\&quot;:3},\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;application\&quot;:\&quot;687443db-f61d-4a81-8bd1-3ae60fb1237e\&quot;,\&quot;applicationuid\&quot;:\&quot;fe2cfcc4-ceaf-4880-8229-ffd745253fb3\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;senderuid\&quot;:\&quot;d831c1c6-fb40-4d46-b5c7-fc8c9140acc6\&quot;,\&quot;partitionkey\&quot;:\&quot;687443db%2Df61d%2D4a81%2D8bd1%2D3ae60fb1237e/device1\&quot;,\&quot;deviceuid\&quot;:\&quot;00ae3217-e8cd-4a7d-b550-125111662f2b\&quot;}&quot; }
[2022-05-09T10:09:04Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-09T10:09:04Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-09T10:09:04Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-09T10:09:04Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry/device1
[2022-05-09T10:09:04Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 4, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-endpoint.172.18.0.2.nip.io:30001&quot;, client_id: &quot;7353c821-b3fb-4232-b5d5-6f073748baee&quot;, persistence: None, user_data: None }
[2022-05-09T10:09:04Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T10:09:04Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55efdbed0810
[2022-05-09T10:09:04Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55efdbed0810
[2022-05-09T10:09:04Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 1, maxInflight: 65535, will: 0x0, username: 0x55efdc05d400, password: 0x55efdbf87640, connectTimeout: 30, retryInterval: 0, ssl: 0x55efdbf85fc0, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 4, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 0, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55efdc289c20, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;gateway1@687443db-f61d-4a81-8bd1-3ae60fb1237e&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T10:09:04Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55efdbfece40 } }, data: MessageData { topic: &quot;telemetry/device1&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55efdbfece40 } } } }
[2022-05-09T10:09:04Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-09T10:09:04Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 640, payload: 0x7f0edc00c8e0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/687443db-f61d-4a81-8bd1-3ae60fb1237e&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 56, 101, 98, 49, 54, 98, 100, 53, 45, 51, 51, 53, 99, 45, 52, 54, 99, 57, 45, 57, 48, 50, 102, 45, 99, 52, 53, 51, 56, 52, 52, 50, 54, 98, 49, 57, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 54, 56, 55, 52, 52, 51, 100, 98, 37, 50, 68, 102, 54, 49, 100, 37, 50, 68, 52, 97, 56, 49, 37, 50, 68, 56, 98, 100, 49, 37, 50, 68, 51, 97, 101, 54, 48, 102, 98, 49, 50, 51, 55, 101, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 48, 58, 48, 57, 58, 48, 52, 46, 52, 48, 49, 57, 49, 48, 53, 56, 55, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 54, 56, 55, 52, 52, 51, 100, 98, 45, 102, 54, 49, 100, 45, 52, 97, 56, 49, 45, 56, 98, 100, 49, 45, 51, 97, 101, 54, 48, 102, 98, 49, 50, 51, 55, 101, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 102, 101, 50, 99, 102, 99, 99, 52, 45, 99, 101, 97, 102, 45, 52, 56, 56, 48, 45, 56, 50, 50, 57, 45, 102, 102, 100, 55, 52, 53, 50, 53, 51, 102, 98, 51, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 100, 56, 51, 49, 99, 49, 99, 54, 45, 102, 98, 52, 48, 45, 52, 100, 52, 54, 45, 98, 53, 99, 55, 45, 102, 99, 56, 99, 57, 49, 52, 48, 97, 99, 99, 54, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 100, 56, 51, 49, 99, 49, 99, 54, 45, 102, 98, 52, 48, 45, 52, 100, 52, 54, 45, 98, 53, 99, 55, 45, 102, 99, 56, 99, 57, 49, 52, 48, 97, 99, 99, 54, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 54, 56, 55, 52, 52, 51, 100, 98, 37, 50, 68, 102, 54, 49, 100, 37, 50, 68, 52, 97, 56, 49, 37, 50, 68, 56, 98, 100, 49, 37, 50, 68, 51, 97, 101, 54, 48, 102, 98, 49, 50, 51, 55, 101, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-09T10:09:04Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/687443db-f61d-4a81-8bd1-3ae60fb1237e&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;8eb16bd5-335c-46c9-902f-c45384426b19\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://687443db%2Df61d%2D4a81%2D8bd1%2D3ae60fb1237e/gateway1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T10:09:04.401910587Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:true},\&quot;device\&quot;:\&quot;gateway1\&quot;,\&quot;application\&quot;:\&quot;687443db-f61d-4a81-8bd1-3ae60fb1237e\&quot;,\&quot;applicationuid\&quot;:\&quot;fe2cfcc4-ceaf-4880-8229-ffd745253fb3\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;deviceuid\&quot;:\&quot;d831c1c6-fb40-4d46-b5c7-fc8c9140acc6\&quot;,\&quot;senderuid\&quot;:\&quot;d831c1c6-fb40-4d46-b5c7-fc8c9140acc6\&quot;,\&quot;partitionkey\&quot;:\&quot;687443db%2Df61d%2D4a81%2D8bd1%2D3ae60fb1237e/gateway1\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;}&quot; }
[2022-05-09T10:09:05Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 630, payload: 0x7f0edc008520, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/687443db-f61d-4a81-8bd1-3ae60fb1237e&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 51, 48, 55, 53, 56, 98, 102, 56, 45, 50, 56, 97, 49, 45, 52, 101, 53, 57, 45, 57, 100, 53, 52, 45, 98, 100, 50, 50, 48, 102, 99, 55, 98, 51, 101, 99, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 54, 56, 55, 52, 52, 51, 100, 98, 37, 50, 68, 102, 54, 49, 100, 37, 50, 68, 52, 97, 56, 49, 37, 50, 68, 56, 98, 100, 49, 37, 50, 68, 51, 97, 101, 54, 48, 102, 98, 49, 50, 51, 55, 101, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 111, 99, 116, 101, 116, 45, 115, 116, 114, 101, 97, 109, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 116, 101, 108, 101, 109, 101, 116, 114, 121, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 48, 58, 48, 57, 58, 48, 52, 46, 54, 49, 52, 55, 57, 57, 55, 53, 52, 90, 34, 44, 34, 100, 97, 116, 97, 95, 98, 97, 115, 101, 54, 52, 34, 58, 34, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 100, 56, 51, 49, 99, 49, 99, 54, 45, 102, 98, 52, 48, 45, 52, 100, 52, 54, 45, 98, 53, 99, 55, 45, 102, 99, 56, 99, 57, 49, 52, 48, 97, 99, 99, 54, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 48, 48, 97, 101, 51, 50, 49, 55, 45, 101, 56, 99, 100, 45, 52, 97, 55, 100, 45, 98, 53, 53, 48, 45, 49, 50, 53, 49, 49, 49, 54, 54, 50, 102, 50, 98, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 54, 56, 55, 52, 52, 51, 100, 98, 37, 50, 68, 102, 54, 49, 100, 37, 50, 68, 52, 97, 56, 49, 37, 50, 68, 56, 98, 100, 49, 37, 50, 68, 51, 97, 101, 54, 48, 102, 98, 49, 50, 51, 55, 101, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 102, 101, 50, 99, 102, 99, 99, 52, 45, 99, 101, 97, 102, 45, 52, 56, 56, 48, 45, 56, 50, 50, 57, 45, 102, 102, 100, 55, 52, 53, 50, 53, 51, 102, 98, 51, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 54, 56, 55, 52, 52, 51, 100, 98, 45, 102, 54, 49, 100, 45, 52, 97, 56, 49, 45, 56, 98, 100, 49, 45, 51, 97, 101, 54, 48, 102, 98, 49, 50, 51, 55, 101, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-09T10:09:05Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/687443db-f61d-4a81-8bd1-3ae60fb1237e&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;30758bf8-28a1-4e59-9d54-bd220fc7b3ec\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://687443db%2Df61d%2D4a81%2D8bd1%2D3ae60fb1237e/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/octet-stream\&quot;,\&quot;subject\&quot;:\&quot;telemetry\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T10:09:04.614799754Z\&quot;,\&quot;data_base64\&quot;:\&quot;\&quot;,\&quot;senderuid\&quot;:\&quot;d831c1c6-fb40-4d46-b5c7-fc8c9140acc6\&quot;,\&quot;deviceuid\&quot;:\&quot;00ae3217-e8cd-4a7d-b550-125111662f2b\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;partitionkey\&quot;:\&quot;687443db%2Df61d%2D4a81%2D8bd1%2D3ae60fb1237e/device1\&quot;,\&quot;applicationuid\&quot;:\&quot;fe2cfcc4-ceaf-4880-8229-ffd745253fb3\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;application\&quot;:\&quot;687443db-f61d-4a81-8bd1-3ae60fb1237e\&quot;}&quot; }
[2022-05-09T10:09:05Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 641, payload: 0x7f0edc00a990, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/687443db-f61d-4a81-8bd1-3ae60fb1237e&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 97, 48, 51, 99, 53, 52, 98, 53, 45, 51, 97, 101, 56, 45, 52, 99, 52, 55, 45, 56, 56, 49, 100, 45, 49, 53, 100, 53, 100, 55, 48, 50, 52, 53, 54, 97, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 54, 56, 55, 52, 52, 51, 100, 98, 37, 50, 68, 102, 54, 49, 100, 37, 50, 68, 52, 97, 56, 49, 37, 50, 68, 56, 98, 100, 49, 37, 50, 68, 51, 97, 101, 54, 48, 102, 98, 49, 50, 51, 55, 101, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 48, 58, 48, 57, 58, 48, 53, 46, 48, 57, 55, 54, 56, 50, 49, 56, 48, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 102, 97, 108, 115, 101, 125, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 54, 56, 55, 52, 52, 51, 100, 98, 37, 50, 68, 102, 54, 49, 100, 37, 50, 68, 52, 97, 56, 49, 37, 50, 68, 56, 98, 100, 49, 37, 50, 68, 51, 97, 101, 54, 48, 102, 98, 49, 50, 51, 55, 101, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 54, 56, 55, 52, 52, 51, 100, 98, 45, 102, 54, 49, 100, 45, 52, 97, 56, 49, 45, 56, 98, 100, 49, 45, 51, 97, 101, 54, 48, 102, 98, 49, 50, 51, 55, 101, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 100, 56, 51, 49, 99, 49, 99, 54, 45, 102, 98, 52, 48, 45, 52, 100, 52, 54, 45, 98, 53, 99, 55, 45, 102, 99, 56, 99, 57, 49, 52, 48, 97, 99, 99, 54, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 100, 56, 51, 49, 99, 49, 99, 54, 45, 102, 98, 52, 48, 45, 52, 100, 52, 54, 45, 98, 53, 99, 55, 45, 102, 99, 56, 99, 57, 49, 52, 48, 97, 99, 99, 54, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 102, 101, 50, 99, 102, 99, 99, 52, 45, 99, 101, 97, 102, 45, 52, 56, 56, 48, 45, 56, 50, 50, 57, 45, 102, 102, 100, 55, 52, 53, 50, 53, 51, 102, 98, 51, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-09T10:09:05Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/687443db-f61d-4a81-8bd1-3ae60fb1237e&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;a03c54b5-3ae8-4c47-881d-15d5d702456a\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://687443db%2Df61d%2D4a81%2D8bd1%2D3ae60fb1237e/gateway1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T10:09:05.097682180Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:false},\&quot;partitionkey\&quot;:\&quot;687443db%2Df61d%2D4a81%2D8bd1%2D3ae60fb1237e/gateway1\&quot;,\&quot;device\&quot;:\&quot;gateway1\&quot;,\&quot;application\&quot;:\&quot;687443db-f61d-4a81-8bd1-3ae60fb1237e\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;deviceuid\&quot;:\&quot;d831c1c6-fb40-4d46-b5c7-fc8c9140acc6\&quot;,\&quot;senderuid\&quot;:\&quot;d831c1c6-fb40-4d46-b5c7-fc8c9140acc6\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;applicationuid\&quot;:\&quot;fe2cfcc4-ceaf-4880-8229-ffd745253fb3\&quot;}&quot; }
[2022-05-09T10:09:05Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-09T10:09:05Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-09T10:09:05Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-09T10:09:05Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;687443db-f61d-4a81-8bd1-3ae60fb1237e&quot;, device: &quot;gateway1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`,
 right: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;687443db-f61d-4a81-8bd1-3ae60fb1237e&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`: Position #0&#x27;, src/tools/assert.rs:35:39
[2022-05-09T10:09:05Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-09T10:09:05Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;687443db-f61d-4a81-8bd1-3ae60fb1237e&quot; &quot;device1&quot;
[2022-05-09T10:09:05Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:09:05Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-05-09T10:09:05Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;687443db-f61d-4a81-8bd1-3ae60fb1237e&quot; &quot;gateway1&quot;
[2022-05-09T10:09:05Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:09:05Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;687443db-f61d-4a81-8bd1-3ae60fb1237e&#x27;
[2022-05-09T10:09:05Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;687443db-f61d-4a81-8bd1-3ae60fb1237e&quot;
[2022-05-09T10:09:05Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 687443db-f61d-4a81-8bd1-3ae60fb1237e deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_1::integration_version_2::integration_ws_1

**Duration**: 14s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-09T10:09:07Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-09T10:09:07Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T10:09:07Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T10:09:07Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T10:09:07Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T10:09:08Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-09T10:09:10Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-09T10:09:10Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T10:09:10Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T10:09:10Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T10:09:12Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI0NDVmMTM5Zi0wNjNjLTRhZDgtODkwYi1mNTg1OTQ0NjFiZDAifQ.eyJleHAiOjE2NTIwOTI3NTEsImlhdCI6MTY1MjA5MDk1MSwianRpIjoiYzEzNWZhMzUtNmUyOS00ZTY1LWFjZjctMGViMDk5NzFhYTg0IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjNkZWIxOWY5LWM3NDYtNGIwMC1hOTA5LTJiOTg4NTVjZTRmMyIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImlJUllvdGFtcmxhSjVuTk00bHpzY2ciLCJzZXNzaW9uX3N0YXRlIjoiNTQ5YWVlMTItMGU5MS00YjdjLTljMGQtODUzYjMxYzUxYzRkIiwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjU0OWFlZTEyLTBlOTEtNGI3Yy05YzBkLTg1M2IzMWM1MWM0ZCJ9.9ORAkk0wQ3a9SCnGWfUZbbwiM2mQoYlRxuFxSZBW0m8
[2022-05-09T10:09:12Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-09T10:09:12Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-09T10:09:12Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI0NDVmMTM5Zi0wNjNjLTRhZDgtODkwYi1mNTg1OTQ0NjFiZDAifQ.eyJleHAiOjE2NTIwOTI3NTEsImlhdCI6MTY1MjA5MDk1MSwianRpIjoiYzEzNWZhMzUtNmUyOS00ZTY1LWFjZjctMGViMDk5NzFhYTg0IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjNkZWIxOWY5LWM3NDYtNGIwMC1hOTA5LTJiOTg4NTVjZTRmMyIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImlJUllvdGFtcmxhSjVuTk00bHpzY2ciLCJzZXNzaW9uX3N0YXRlIjoiNTQ5YWVlMTItMGU5MS00YjdjLTljMGQtODUzYjMxYzUxYzRkIiwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjU0OWFlZTEyLTBlOTEtNGI3Yy05YzBkLTg1M2IzMWM1MWM0ZCJ9.9ORAkk0wQ3a9SCnGWfUZbbwiM2mQoYlRxuFxSZBW0m8&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-09T10:09:12Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:09:12Z INFO  drogue_cloud_tests::resources::apps] Create application: fd12197d-d759-4fb2-9234-7da5efb1b7a2
[2022-05-09T10:09:12Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;fd12197d-d759-4fb2-9234-7da5efb1b7a2&quot;
[2022-05-09T10:09:12Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App fd12197d-d759-4fb2-9234-7da5efb1b7a2 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:09:12Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;fd12197d-d759-4fb2-9234-7da5efb1b7a2&quot;
[2022-05-09T10:09:12Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T10:09:12.912698Z\&quot;,\n    \&quot;generation\&quot;: 1,\n    \&quot;name\&quot;: \&quot;fd12197d-d759-4fb2-9234-7da5efb1b7a2\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;dbdd6a3d-7116-4e85-ab43-6b6457eff833\&quot;,\n    \&quot;uid\&quot;: \&quot;25546134-a463-4b66-a743-878ed18472be\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:09:12.928513068Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:09:12Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T10:09:12.912698Z&quot;), &quot;generation&quot;: Number(1), &quot;name&quot;: String(&quot;fd12197d-d759-4fb2-9234-7da5efb1b7a2&quot;), &quot;resourceVersion&quot;: String(&quot;dbdd6a3d-7116-4e85-ab43-6b6457eff833&quot;), &quot;uid&quot;: String(&quot;25546134-a463-4b66-a743-878ed18472be&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:09:12.928513068Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})])})})
[2022-05-09T10:09:12Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-09T10:09:13Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;fd12197d-d759-4fb2-9234-7da5efb1b7a2&quot;
[2022-05-09T10:09:13Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T10:09:12.912698Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;fd12197d-d759-4fb2-9234-7da5efb1b7a2\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;ef77d549-271b-4746-8b7c-4e451f915c6f\&quot;,\n    \&quot;uid\&quot;: \&quot;25546134-a463-4b66-a743-878ed18472be\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:09:13.212978628Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:09:13.212936359Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:09:12.965482826Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:09:12.971517035Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:09:13.039117884Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:09:13.052390050Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:09:13.212892858Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:09:13.212910682Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;jFKmERjFzr98\&quot;,\n        \&quot;username\&quot;: \&quot;user-fd12197d-d759-4fb2-9234-7da5efb1b7a2\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:09:13Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T10:09:12.912698Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;fd12197d-d759-4fb2-9234-7da5efb1b7a2&quot;), &quot;resourceVersion&quot;: String(&quot;ef77d549-271b-4746-8b7c-4e451f915c6f&quot;), &quot;uid&quot;: String(&quot;25546134-a463-4b66-a743-878ed18472be&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:09:13.212978628Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:09:13.212936359Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:09:12.965482826Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:09:12.971517035Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:09:13.039117884Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:09:13.052390050Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:09:13.212892858Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:09:13.212910682Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;jFKmERjFzr98&quot;), &quot;username&quot;: String(&quot;user-fd12197d-d759-4fb2-9234-7da5efb1b7a2&quot;)})})})})
[2022-05-09T10:09:13Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-09T10:09:13Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;fd12197d-d759-4fb2-9234-7da5efb1b7a2&quot;
[2022-05-09T10:09:13Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T10:09:12.912698Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;fd12197d-d759-4fb2-9234-7da5efb1b7a2\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;ef77d549-271b-4746-8b7c-4e451f915c6f\&quot;,\n    \&quot;uid\&quot;: \&quot;25546134-a463-4b66-a743-878ed18472be\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:09:13.212978628Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:09:13.212936359Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:09:12.965482826Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:09:12.971517035Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:09:13.039117884Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:09:13.052390050Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:09:13.212892858Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:09:13.212910682Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;jFKmERjFzr98\&quot;,\n        \&quot;username\&quot;: \&quot;user-fd12197d-d759-4fb2-9234-7da5efb1b7a2\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:09:13Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T10:09:12.912698Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;fd12197d-d759-4fb2-9234-7da5efb1b7a2&quot;), &quot;resourceVersion&quot;: String(&quot;ef77d549-271b-4746-8b7c-4e451f915c6f&quot;), &quot;uid&quot;: String(&quot;25546134-a463-4b66-a743-878ed18472be&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:09:13.212978628Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:09:13.212936359Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:09:12.965482826Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:09:12.971517035Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:09:13.039117884Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:09:13.052390050Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:09:13.212892858Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:09:13.212910682Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;jFKmERjFzr98&quot;), &quot;username&quot;: String(&quot;user-fd12197d-d759-4fb2-9234-7da5efb1b7a2&quot;)})})})})
[2022-05-09T10:09:13Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-09T10:09:13Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-05-09T10:09:13Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;fd12197d-d759-4fb2-9234-7da5efb1b7a2&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-09T10:09:14Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:09:14Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:09:14Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T10:09:14Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T10:09:14Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJXRG4zQ2wwMVNsYVpRRnRTbUpuS2JqWC1wcXdsR21xWDhSUFNWSHgxUHgwIn0.eyJleHAiOjE2NTIwOTEyNTIsImlhdCI6MTY1MjA5MDk1MiwiYXV0aF90aW1lIjoxNjUyMDkwOTQ4LCJqdGkiOiJhNGFkOGRiNy1iOTk0LTRhNzYtOGJjZC05N2YyZTVhODg5NDkiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiM2RlYjE5ZjktYzc0Ni00YjAwLWE5MDktMmI5ODg1NWNlNGYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJpSVJZb3RhbXJsYUo1bk5NNGx6c2NnIiwic2Vzc2lvbl9zdGF0ZSI6IjU0OWFlZTEyLTBlOTEtNGI3Yy05YzBkLTg1M2IzMWM1MWM0ZCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjU0OWFlZTEyLTBlOTEtNGI3Yy05YzBkLTg1M2IzMWM1MWM0ZCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.G32f9GYmmTycZ7oSB_P1-p19e6A4gY2GGTXRsBvLT9ZGZH1pxXEhaZeoEY9Un_8X-SpIEIXFWVRav6adDIJ319C1FQqmbgmdg-v-slpOSU0MzQocEBKkEE_gqOkn-j7mnOX-U54oRCaUzQE7ROV5DixU8987olszzE-1DIzUZ0IFMVgsGypxoH_0kCMnQ2RymSXyY3VhHl8tg3ILG-VC2PJ6ToH6fbKkb1yTkc5HuGHEC99ppNM7Xt_zZ4tVwLETRC-wawy7Ve3E3g67tDU6eGfKUJ9Pzc50BWfqODsRSrJuGZdS-iJEEV3j6mKgCdYFeCqxZWM07Gf_Ro_sYI7ZJA\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:09:14Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T10:09:14Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-09T10:09:14Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-09T10:09:14Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;fd12197d-d759-4fb2-9234-7da5efb1b7a2&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-05-09T10:09:14Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:09:14Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: ssl://mqtt-integration.172.18.0.2.nip.io:30002
[2022-05-09T10:09:14Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T10:09:14Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJXRG4zQ2wwMVNsYVpRRnRTbUpuS2JqWC1wcXdsR21xWDhSUFNWSHgxUHgwIn0.eyJleHAiOjE2NTIwOTEyNTIsImlhdCI6MTY1MjA5MDk1MiwiYXV0aF90aW1lIjoxNjUyMDkwOTQ4LCJqdGkiOiJhNGFkOGRiNy1iOTk0LTRhNzYtOGJjZC05N2YyZTVhODg5NDkiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiM2RlYjE5ZjktYzc0Ni00YjAwLWE5MDktMmI5ODg1NWNlNGYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJpSVJZb3RhbXJsYUo1bk5NNGx6c2NnIiwic2Vzc2lvbl9zdGF0ZSI6IjU0OWFlZTEyLTBlOTEtNGI3Yy05YzBkLTg1M2IzMWM1MWM0ZCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjU0OWFlZTEyLTBlOTEtNGI3Yy05YzBkLTg1M2IzMWM1MWM0ZCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.G32f9GYmmTycZ7oSB_P1-p19e6A4gY2GGTXRsBvLT9ZGZH1pxXEhaZeoEY9Un_8X-SpIEIXFWVRav6adDIJ319C1FQqmbgmdg-v-slpOSU0MzQocEBKkEE_gqOkn-j7mnOX-U54oRCaUzQE7ROV5DixU8987olszzE-1DIzUZ0IFMVgsGypxoH_0kCMnQ2RymSXyY3VhHl8tg3ILG-VC2PJ6ToH6fbKkb1yTkc5HuGHEC99ppNM7Xt_zZ4tVwLETRC-wawy7Ve3E3g67tDU6eGfKUJ9Pzc50BWfqODsRSrJuGZdS-iJEEV3j6mKgCdYFeCqxZWM07Gf_Ro_sYI7ZJA\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:09:14Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-integration.172.18.0.2.nip.io:30002&quot;, client_id: &quot;d0b6db9e-6f64-4ad8-b286-e6237f905bdf&quot;, persistence: None, user_data: None }
[2022-05-09T10:09:14Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T10:09:14Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55efdc2794c0
[2022-05-09T10:09:14Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55efdc2794c0
[2022-05-09T10:09:14Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x55efdbe371a0, connectTimeout: 30, retryInterval: 0, ssl: 0x55efdc05c6e0, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55efdbef78f0, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJXRG4zQ2wwMVNsYVpRRnRTbUpuS2JqWC1wcXdsR21xWDhSUFNWSHgxUHgwIn0.eyJleHAiOjE2NTIwOTEyNTIsImlhdCI6MTY1MjA5MDk1MiwiYXV0aF90aW1lIjoxNjUyMDkwOTQ4LCJqdGkiOiJhNGFkOGRiNy1iOTk0LTRhNzYtOGJjZC05N2YyZTVhODg5NDkiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiM2RlYjE5ZjktYzc0Ni00YjAwLWE5MDktMmI5ODg1NWNlNGYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJpSVJZb3RhbXJsYUo1bk5NNGx6c2NnIiwic2Vzc2lvbl9zdGF0ZSI6IjU0OWFlZTEyLTBlOTEtNGI3Yy05YzBkLTg1M2IzMWM1MWM0ZCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjU0OWFlZTEyLTBlOTEtNGI3Yy05YzBkLTg1M2IzMWM1MWM0ZCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.G32f9GYmmTycZ7oSB_P1-p19e6A4gY2GGTXRsBvLT9ZGZH1pxXEhaZeoEY9Un_8X-SpIEIXFWVRav6adDIJ319C1FQqmbgmdg-v-slpOSU0MzQocEBKkEE_gqOkn-j7mnOX-U54oRCaUzQE7ROV5DixU8987olszzE-1DIzUZ0IFMVgsGypxoH_0kCMnQ2RymSXyY3VhHl8tg3ILG-VC2PJ6ToH6fbKkb1yTkc5HuGHEC99ppNM7Xt_zZ4tVwLETRC-wawy7Ve3E3g67tDU6eGfKUJ9Pzc50BWfqODsRSrJuGZdS-iJEEV3j6mKgCdYFeCqxZWM07Gf_Ro_sYI7ZJA&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T10:09:14Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/fd12197d-d759-4fb2-9234-7da5efb1b7a2&quot;&#x27; @ QOS 0
[2022-05-09T10:09:14Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-09T10:09:14Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-09T10:09:14Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:09:14Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:09:14Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:09:14Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:09:15Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:09:15Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:09:15Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:09:15Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:09:16Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:09:16Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:09:16Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:09:16Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:09:17Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:09:17Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:09:17Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:09:17Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:09:17Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 621, payload: 0x7f0edc008080, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f0edc002e30 } }, data: MessageData { topic: &quot;app/fd12197d-d759-4fb2-9234-7da5efb1b7a2&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 102, 57, 101, 48, 97, 56, 99, 54, 45, 99, 55, 98, 48, 45, 52, 52, 100, 52, 45, 98, 55, 102, 51, 45, 50, 52, 51, 57, 48, 97, 55, 99, 52, 55, 57, 99, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 102, 100, 49, 50, 49, 57, 55, 100, 37, 50, 68, 100, 55, 53, 57, 37, 50, 68, 52, 102, 98, 50, 37, 50, 68, 57, 50, 51, 52, 37, 50, 68, 55, 100, 97, 53, 101, 102, 98, 49, 98, 55, 97, 50, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 119, 97, 114, 109, 117, 112, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 48, 58, 48, 57, 58, 49, 55, 46, 50, 55, 54, 48, 55, 54, 52, 50, 52, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 102, 100, 49, 50, 49, 57, 55, 100, 37, 50, 68, 100, 55, 53, 57, 37, 50, 68, 52, 102, 98, 50, 37, 50, 68, 57, 50, 51, 52, 37, 50, 68, 55, 100, 97, 53, 101, 102, 98, 49, 98, 55, 97, 50, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 102, 100, 49, 50, 49, 57, 55, 100, 45, 100, 55, 53, 57, 45, 52, 102, 98, 50, 45, 57, 50, 51, 52, 45, 55, 100, 97, 53, 101, 102, 98, 49, 98, 55, 97, 50, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 50, 53, 53, 52, 54, 49, 51, 52, 45, 97, 52, 54, 51, 45, 52, 98, 54, 54, 45, 97, 55, 52, 51, 45, 56, 55, 56, 101, 100, 49, 56, 52, 55, 50, 98, 101, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 100, 57, 99, 49, 53, 52, 48, 97, 45, 98, 55, 101, 57, 45, 52, 52, 52, 57, 45, 56, 51, 53, 53, 45, 49, 97, 55, 100, 51, 54, 56, 50, 49, 51, 54, 52, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 51, 52, 57, 98, 50, 56, 57, 50, 45, 57, 53, 55, 101, 45, 52, 97, 97, 50, 45, 98, 51, 48, 57, 45, 100, 99, 101, 51, 48, 99, 102, 54, 54, 49, 50, 99, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f0edc002e30 } } } }
[2022-05-09T10:09:17Z DEBUG paho_mqtt::properties] Dropping string property: 0x55efdc0c26f0
[2022-05-09T10:09:17Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/fd12197d-d759-4fb2-9234-7da5efb1b7a2&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;f9e0a8c6-c7b0-44d4-b7f3-24390a7c479c\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://fd12197d%2Dd759%2D4fb2%2D9234%2D7da5efb1b7a2/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;warmup\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T10:09:17.276076424Z\&quot;,\&quot;data\&quot;:{\&quot;index\&quot;:3},\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;partitionkey\&quot;:\&quot;fd12197d%2Dd759%2D4fb2%2D9234%2D7da5efb1b7a2/device1\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;application\&quot;:\&quot;fd12197d-d759-4fb2-9234-7da5efb1b7a2\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;applicationuid\&quot;:\&quot;25546134-a463-4b66-a743-878ed18472be\&quot;,\&quot;deviceuid\&quot;:\&quot;d9c1540a-b7e9-4449-8355-1a7d36821364\&quot;,\&quot;senderuid\&quot;:\&quot;349b2892-957e-4aa2-b309-dce30cf6612c\&quot;}&quot; }
[2022-05-09T10:09:18Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-09T10:09:18Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-09T10:09:18Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-09T10:09:18Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry/device1
[2022-05-09T10:09:18Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 4, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-endpoint.172.18.0.2.nip.io:30001&quot;, client_id: &quot;c127aaca-5965-4f75-a0a2-f48d4e073508&quot;, persistence: None, user_data: None }
[2022-05-09T10:09:18Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T10:09:18Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55efdbe3ccc0
[2022-05-09T10:09:18Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55efdbe3ccc0
[2022-05-09T10:09:18Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 1, maxInflight: 65535, will: 0x0, username: 0x55efdbfc9380, password: 0x55efdbf5d460, connectTimeout: 30, retryInterval: 0, ssl: 0x55efdc048cb0, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 4, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 0, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55efdbfc7d60, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;gateway1@fd12197d-d759-4fb2-9234-7da5efb1b7a2&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T10:09:18Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 640, payload: 0x7f0edc02ad80, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f0edc02b010 } }, data: MessageData { topic: &quot;app/fd12197d-d759-4fb2-9234-7da5efb1b7a2&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 99, 54, 48, 100, 52, 99, 51, 56, 45, 54, 49, 48, 51, 45, 52, 48, 55, 48, 45, 98, 102, 51, 99, 45, 101, 49, 100, 54, 55, 54, 97, 53, 53, 55, 99, 101, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 102, 100, 49, 50, 49, 57, 55, 100, 37, 50, 68, 100, 55, 53, 57, 37, 50, 68, 52, 102, 98, 50, 37, 50, 68, 57, 50, 51, 52, 37, 50, 68, 55, 100, 97, 53, 101, 102, 98, 49, 98, 55, 97, 50, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 48, 58, 48, 57, 58, 49, 56, 46, 51, 57, 52, 55, 50, 49, 49, 57, 52, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 51, 52, 57, 98, 50, 56, 57, 50, 45, 57, 53, 55, 101, 45, 52, 97, 97, 50, 45, 98, 51, 48, 57, 45, 100, 99, 101, 51, 48, 99, 102, 54, 54, 49, 50, 99, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 102, 100, 49, 50, 49, 57, 55, 100, 45, 100, 55, 53, 57, 45, 52, 102, 98, 50, 45, 57, 50, 51, 52, 45, 55, 100, 97, 53, 101, 102, 98, 49, 98, 55, 97, 50, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 51, 52, 57, 98, 50, 56, 57, 50, 45, 57, 53, 55, 101, 45, 52, 97, 97, 50, 45, 98, 51, 48, 57, 45, 100, 99, 101, 51, 48, 99, 102, 54, 54, 49, 50, 99, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 102, 100, 49, 50, 49, 57, 55, 100, 37, 50, 68, 100, 55, 53, 57, 37, 50, 68, 52, 102, 98, 50, 37, 50, 68, 57, 50, 51, 52, 37, 50, 68, 55, 100, 97, 53, 101, 102, 98, 49, 98, 55, 97, 50, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 50, 53, 53, 52, 54, 49, 51, 52, 45, 97, 52, 54, 51, 45, 52, 98, 54, 54, 45, 97, 55, 52, 51, 45, 56, 55, 56, 101, 100, 49, 56, 52, 55, 50, 98, 101, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f0edc02b010 } } } }
[2022-05-09T10:09:18Z DEBUG paho_mqtt::properties] Dropping string property: 0x55efdc0c26f0
[2022-05-09T10:09:18Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/fd12197d-d759-4fb2-9234-7da5efb1b7a2&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;c60d4c38-6103-4070-bf3c-e1d676a557ce\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://fd12197d%2Dd759%2D4fb2%2D9234%2D7da5efb1b7a2/gateway1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T10:09:18.394721194Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:true},\&quot;senderuid\&quot;:\&quot;349b2892-957e-4aa2-b309-dce30cf6612c\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;application\&quot;:\&quot;fd12197d-d759-4fb2-9234-7da5efb1b7a2\&quot;,\&quot;deviceuid\&quot;:\&quot;349b2892-957e-4aa2-b309-dce30cf6612c\&quot;,\&quot;partitionkey\&quot;:\&quot;fd12197d%2Dd759%2D4fb2%2D9234%2D7da5efb1b7a2/gateway1\&quot;,\&quot;device\&quot;:\&quot;gateway1\&quot;,\&quot;applicationuid\&quot;:\&quot;25546134-a463-4b66-a743-878ed18472be\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;}&quot; }
[2022-05-09T10:09:18Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55efdbeeeac0 } }, data: MessageData { topic: &quot;telemetry/device1&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55efdbeeeac0 } } } }
[2022-05-09T10:09:18Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-09T10:09:18Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 641, payload: 0x7f0edc003460, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f0edc014780 } }, data: MessageData { topic: &quot;app/fd12197d-d759-4fb2-9234-7da5efb1b7a2&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 55, 54, 51, 48, 55, 101, 50, 48, 45, 99, 55, 51, 54, 45, 52, 49, 100, 99, 45, 97, 100, 54, 50, 45, 51, 48, 52, 54, 53, 99, 51, 102, 55, 55, 51, 56, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 102, 100, 49, 50, 49, 57, 55, 100, 37, 50, 68, 100, 55, 53, 57, 37, 50, 68, 52, 102, 98, 50, 37, 50, 68, 57, 50, 51, 52, 37, 50, 68, 55, 100, 97, 53, 101, 102, 98, 49, 98, 55, 97, 50, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 48, 58, 48, 57, 58, 49, 56, 46, 54, 49, 57, 55, 49, 50, 56, 57, 56, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 102, 97, 108, 115, 101, 125, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 50, 53, 53, 52, 54, 49, 51, 52, 45, 97, 52, 54, 51, 45, 52, 98, 54, 54, 45, 97, 55, 52, 51, 45, 56, 55, 56, 101, 100, 49, 56, 52, 55, 50, 98, 101, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 51, 52, 57, 98, 50, 56, 57, 50, 45, 57, 53, 55, 101, 45, 52, 97, 97, 50, 45, 98, 51, 48, 57, 45, 100, 99, 101, 51, 48, 99, 102, 54, 54, 49, 50, 99, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 102, 100, 49, 50, 49, 57, 55, 100, 37, 50, 68, 100, 55, 53, 57, 37, 50, 68, 52, 102, 98, 50, 37, 50, 68, 57, 50, 51, 52, 37, 50, 68, 55, 100, 97, 53, 101, 102, 98, 49, 98, 55, 97, 50, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 102, 100, 49, 50, 49, 57, 55, 100, 45, 100, 55, 53, 57, 45, 52, 102, 98, 50, 45, 57, 50, 51, 52, 45, 55, 100, 97, 53, 101, 102, 98, 49, 98, 55, 97, 50, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 51, 52, 57, 98, 50, 56, 57, 50, 45, 57, 53, 55, 101, 45, 52, 97, 97, 50, 45, 98, 51, 48, 57, 45, 100, 99, 101, 51, 48, 99, 102, 54, 54, 49, 50, 99, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f0edc014780 } } } }
[2022-05-09T10:09:18Z DEBUG paho_mqtt::properties] Dropping string property: 0x55efdc0c26f0
[2022-05-09T10:09:18Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/fd12197d-d759-4fb2-9234-7da5efb1b7a2&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;76307e20-c736-41dc-ad62-30465c3f7738\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://fd12197d%2Dd759%2D4fb2%2D9234%2D7da5efb1b7a2/gateway1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T10:09:18.619712898Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:false},\&quot;applicationuid\&quot;:\&quot;25546134-a463-4b66-a743-878ed18472be\&quot;,\&quot;deviceuid\&quot;:\&quot;349b2892-957e-4aa2-b309-dce30cf6612c\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;device\&quot;:\&quot;gateway1\&quot;,\&quot;partitionkey\&quot;:\&quot;fd12197d%2Dd759%2D4fb2%2D9234%2D7da5efb1b7a2/gateway1\&quot;,\&quot;application\&quot;:\&quot;fd12197d-d759-4fb2-9234-7da5efb1b7a2\&quot;,\&quot;senderuid\&quot;:\&quot;349b2892-957e-4aa2-b309-dce30cf6612c\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;}&quot; }
[2022-05-09T10:09:19Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 630, payload: 0x7f0edc014780, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f0edc014a00 } }, data: MessageData { topic: &quot;app/fd12197d-d759-4fb2-9234-7da5efb1b7a2&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 48, 54, 99, 49, 56, 52, 100, 54, 45, 55, 52, 101, 55, 45, 52, 53, 53, 52, 45, 56, 55, 49, 56, 45, 101, 57, 56, 49, 50, 57, 52, 98, 55, 55, 50, 54, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 102, 100, 49, 50, 49, 57, 55, 100, 37, 50, 68, 100, 55, 53, 57, 37, 50, 68, 52, 102, 98, 50, 37, 50, 68, 57, 50, 51, 52, 37, 50, 68, 55, 100, 97, 53, 101, 102, 98, 49, 98, 55, 97, 50, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 111, 99, 116, 101, 116, 45, 115, 116, 114, 101, 97, 109, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 116, 101, 108, 101, 109, 101, 116, 114, 121, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 48, 58, 48, 57, 58, 49, 56, 46, 54, 49, 57, 51, 55, 56, 52, 56, 50, 90, 34, 44, 34, 100, 97, 116, 97, 95, 98, 97, 115, 101, 54, 52, 34, 58, 34, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 51, 52, 57, 98, 50, 56, 57, 50, 45, 57, 53, 55, 101, 45, 52, 97, 97, 50, 45, 98, 51, 48, 57, 45, 100, 99, 101, 51, 48, 99, 102, 54, 54, 49, 50, 99, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 102, 100, 49, 50, 49, 57, 55, 100, 37, 50, 68, 100, 55, 53, 57, 37, 50, 68, 52, 102, 98, 50, 37, 50, 68, 57, 50, 51, 52, 37, 50, 68, 55, 100, 97, 53, 101, 102, 98, 49, 98, 55, 97, 50, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 100, 57, 99, 49, 53, 52, 48, 97, 45, 98, 55, 101, 57, 45, 52, 52, 52, 57, 45, 56, 51, 53, 53, 45, 49, 97, 55, 100, 51, 54, 56, 50, 49, 51, 54, 52, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 50, 53, 53, 52, 54, 49, 51, 52, 45, 97, 52, 54, 51, 45, 52, 98, 54, 54, 45, 97, 55, 52, 51, 45, 56, 55, 56, 101, 100, 49, 56, 52, 55, 50, 98, 101, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 102, 100, 49, 50, 49, 57, 55, 100, 45, 100, 55, 53, 57, 45, 52, 102, 98, 50, 45, 57, 50, 51, 52, 45, 55, 100, 97, 53, 101, 102, 98, 49, 98, 55, 97, 50, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f0edc014a00 } } } }
[2022-05-09T10:09:19Z DEBUG paho_mqtt::properties] Dropping string property: 0x55efdc0c26f0
[2022-05-09T10:09:19Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/fd12197d-d759-4fb2-9234-7da5efb1b7a2&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;06c184d6-74e7-4554-8718-e981294b7726\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://fd12197d%2Dd759%2D4fb2%2D9234%2D7da5efb1b7a2/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/octet-stream\&quot;,\&quot;subject\&quot;:\&quot;telemetry\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T10:09:18.619378482Z\&quot;,\&quot;data_base64\&quot;:\&quot;\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;senderuid\&quot;:\&quot;349b2892-957e-4aa2-b309-dce30cf6612c\&quot;,\&quot;partitionkey\&quot;:\&quot;fd12197d%2Dd759%2D4fb2%2D9234%2D7da5efb1b7a2/device1\&quot;,\&quot;deviceuid\&quot;:\&quot;d9c1540a-b7e9-4449-8355-1a7d36821364\&quot;,\&quot;applicationuid\&quot;:\&quot;25546134-a463-4b66-a743-878ed18472be\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;application\&quot;:\&quot;fd12197d-d759-4fb2-9234-7da5efb1b7a2\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;}&quot; }
[2022-05-09T10:09:19Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-09T10:09:19Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-09T10:09:19Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-09T10:09:19Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;fd12197d-d759-4fb2-9234-7da5efb1b7a2&quot;, device: &quot;gateway1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`,
 right: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;fd12197d-d759-4fb2-9234-7da5efb1b7a2&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`: Position #0&#x27;, src/tools/assert.rs:35:39
[2022-05-09T10:09:19Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-09T10:09:19Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;fd12197d-d759-4fb2-9234-7da5efb1b7a2&quot; &quot;device1&quot;
[2022-05-09T10:09:19Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:09:19Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-05-09T10:09:19Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;fd12197d-d759-4fb2-9234-7da5efb1b7a2&quot; &quot;gateway1&quot;
[2022-05-09T10:09:19Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:09:19Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;fd12197d-d759-4fb2-9234-7da5efb1b7a2&#x27;
[2022-05-09T10:09:19Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;fd12197d-d759-4fb2-9234-7da5efb1b7a2&quot;
[2022-05-09T10:09:19Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App fd12197d-d759-4fb2-9234-7da5efb1b7a2 deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_1::integration_version_2::integration_ws_2

**Duration**: 14s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-09T10:09:21Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-09T10:09:21Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T10:09:21Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T10:09:21Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T10:09:21Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T10:09:22Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-09T10:09:23Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-09T10:09:23Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T10:09:23Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T10:09:23Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T10:09:25Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI0NDVmMTM5Zi0wNjNjLTRhZDgtODkwYi1mNTg1OTQ0NjFiZDAifQ.eyJleHAiOjE2NTIwOTI3NjUsImlhdCI6MTY1MjA5MDk2NSwianRpIjoiZjE3ZDMzZGYtNDNjMi00ZjQ5LThiMWMtZTI5NjA2YmM0NDAxIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjNkZWIxOWY5LWM3NDYtNGIwMC1hOTA5LTJiOTg4NTVjZTRmMyIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Ind2Sll5WC1yZ0M5eUYyTmN6dEtkTFEiLCJzZXNzaW9uX3N0YXRlIjoiODZmYzliMzktMjFiMC00ZjdlLTg4ODQtMjZlNGIwMmEyZmM3Iiwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6Ijg2ZmM5YjM5LTIxYjAtNGY3ZS04ODg0LTI2ZTRiMDJhMmZjNyJ9.Ygqfay6IZqljNwSEJ6tbohfQx2sBkNsBFa3YH2rtTu8
[2022-05-09T10:09:25Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-09T10:09:25Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-09T10:09:25Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI0NDVmMTM5Zi0wNjNjLTRhZDgtODkwYi1mNTg1OTQ0NjFiZDAifQ.eyJleHAiOjE2NTIwOTI3NjUsImlhdCI6MTY1MjA5MDk2NSwianRpIjoiZjE3ZDMzZGYtNDNjMi00ZjQ5LThiMWMtZTI5NjA2YmM0NDAxIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjNkZWIxOWY5LWM3NDYtNGIwMC1hOTA5LTJiOTg4NTVjZTRmMyIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Ind2Sll5WC1yZ0M5eUYyTmN6dEtkTFEiLCJzZXNzaW9uX3N0YXRlIjoiODZmYzliMzktMjFiMC00ZjdlLTg4ODQtMjZlNGIwMmEyZmM3Iiwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6Ijg2ZmM5YjM5LTIxYjAtNGY3ZS04ODg0LTI2ZTRiMDJhMmZjNyJ9.Ygqfay6IZqljNwSEJ6tbohfQx2sBkNsBFa3YH2rtTu8&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-09T10:09:25Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:09:26Z INFO  drogue_cloud_tests::resources::apps] Create application: daadb8cf-f0b3-4667-aac8-be424952535a
[2022-05-09T10:09:26Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;daadb8cf-f0b3-4667-aac8-be424952535a&quot;
[2022-05-09T10:09:26Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App daadb8cf-f0b3-4667-aac8-be424952535a created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:09:26Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;daadb8cf-f0b3-4667-aac8-be424952535a&quot;
[2022-05-09T10:09:26Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T10:09:26.322293Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 2,\n    \&quot;name\&quot;: \&quot;daadb8cf-f0b3-4667-aac8-be424952535a\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;42e1ec5e-1573-44aa-bbe5-68a4d2efd377\&quot;,\n    \&quot;uid\&quot;: \&quot;9c3e8acb-8e8d-4a06-81f9-a6c25019d3f5\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:09:26.346463918Z\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:09:26.346409025Z\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: HasFinalizer\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:09:26.346328985Z\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:09:26.346329967Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:09:26.346330428Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:09:26.346331079Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:09:26.346331550Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:09:26.346374300Z\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 1\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:09:26Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T10:09:26.322293Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(2), &quot;name&quot;: String(&quot;daadb8cf-f0b3-4667-aac8-be424952535a&quot;), &quot;resourceVersion&quot;: String(&quot;42e1ec5e-1573-44aa-bbe5-68a4d2efd377&quot;), &quot;uid&quot;: String(&quot;9c3e8acb-8e8d-4a06-81f9-a6c25019d3f5&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:09:26.346463918Z&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:09:26.346409025Z&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: HasFinalizer&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:09:26.346328985Z&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:09:26.346329967Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:09:26.346330428Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:09:26.346331079Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:09:26.346331550Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:09:26.346374300Z&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(1)})})})
[2022-05-09T10:09:26Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-09T10:09:27Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;daadb8cf-f0b3-4667-aac8-be424952535a&quot;
[2022-05-09T10:09:27Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T10:09:26.322293Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;daadb8cf-f0b3-4667-aac8-be424952535a\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;c514d424-0b66-4513-b7cc-ed1c40b11038\&quot;,\n    \&quot;uid\&quot;: \&quot;9c3e8acb-8e8d-4a06-81f9-a6c25019d3f5\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:09:26.689033053Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:09:26.688962100Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:09:26.368020969Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:09:26.376134895Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:09:26.449302990Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:09:26.502819487Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:09:26.688888603Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:09:26.688906226Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;QyeZ83NSVdxc\&quot;,\n        \&quot;username\&quot;: \&quot;user-daadb8cf-f0b3-4667-aac8-be424952535a\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:09:27Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T10:09:26.322293Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;daadb8cf-f0b3-4667-aac8-be424952535a&quot;), &quot;resourceVersion&quot;: String(&quot;c514d424-0b66-4513-b7cc-ed1c40b11038&quot;), &quot;uid&quot;: String(&quot;9c3e8acb-8e8d-4a06-81f9-a6c25019d3f5&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:09:26.689033053Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:09:26.688962100Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:09:26.368020969Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:09:26.376134895Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:09:26.449302990Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:09:26.502819487Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:09:26.688888603Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:09:26.688906226Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;QyeZ83NSVdxc&quot;), &quot;username&quot;: String(&quot;user-daadb8cf-f0b3-4667-aac8-be424952535a&quot;)})})})})
[2022-05-09T10:09:27Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-09T10:09:27Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;daadb8cf-f0b3-4667-aac8-be424952535a&quot;
[2022-05-09T10:09:27Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T10:09:26.322293Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;daadb8cf-f0b3-4667-aac8-be424952535a\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;c514d424-0b66-4513-b7cc-ed1c40b11038\&quot;,\n    \&quot;uid\&quot;: \&quot;9c3e8acb-8e8d-4a06-81f9-a6c25019d3f5\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:09:26.689033053Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:09:26.688962100Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:09:26.368020969Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:09:26.376134895Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:09:26.449302990Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:09:26.502819487Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:09:26.688888603Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:09:26.688906226Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;QyeZ83NSVdxc\&quot;,\n        \&quot;username\&quot;: \&quot;user-daadb8cf-f0b3-4667-aac8-be424952535a\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:09:27Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T10:09:26.322293Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;daadb8cf-f0b3-4667-aac8-be424952535a&quot;), &quot;resourceVersion&quot;: String(&quot;c514d424-0b66-4513-b7cc-ed1c40b11038&quot;), &quot;uid&quot;: String(&quot;9c3e8acb-8e8d-4a06-81f9-a6c25019d3f5&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:09:26.689033053Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:09:26.688962100Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:09:26.368020969Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:09:26.376134895Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:09:26.449302990Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:09:26.502819487Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:09:26.688888603Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:09:26.688906226Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;QyeZ83NSVdxc&quot;), &quot;username&quot;: String(&quot;user-daadb8cf-f0b3-4667-aac8-be424952535a&quot;)})})})})
[2022-05-09T10:09:27Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-09T10:09:27Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-05-09T10:09:27Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;daadb8cf-f0b3-4667-aac8-be424952535a&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-09T10:09:27Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:09:27Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:09:27Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T10:09:27Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T10:09:27Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJXRG4zQ2wwMVNsYVpRRnRTbUpuS2JqWC1wcXdsR21xWDhSUFNWSHgxUHgwIn0.eyJleHAiOjE2NTIwOTEyNjUsImlhdCI6MTY1MjA5MDk2NSwiYXV0aF90aW1lIjoxNjUyMDkwOTYyLCJqdGkiOiIwOTIwMzBhZC03YjE4LTQ5ZTYtOTY3NC03Y2ZlNjUwNzc0ZGEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiM2RlYjE5ZjktYzc0Ni00YjAwLWE5MDktMmI5ODg1NWNlNGYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJ3dkpZeVgtcmdDOXlGMk5jenRLZExRIiwic2Vzc2lvbl9zdGF0ZSI6Ijg2ZmM5YjM5LTIxYjAtNGY3ZS04ODg0LTI2ZTRiMDJhMmZjNyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6Ijg2ZmM5YjM5LTIxYjAtNGY3ZS04ODg0LTI2ZTRiMDJhMmZjNyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.fxrCc4w52PugxHSsvTPVTt9qPR6CCZNYBmtAGS7HUmR6bL9GkIGc_lm94L_lykZuNds6vUoPf7asX0Y-gLKLms1EaVYqgPHu9J7Rksdu1zQo1mqFi4nb0WA8qkgwlqNzRe_VDvaObNaKFtjignDIOY-UYN7u9p2_a6dZV6NWH8EMfmRnM35GKPqlOTdMGcutY4lDFcKQ9n1nQHZYkAjl2GlCzX1pzW4C8_u5x3ttqymFnNavDOT1GtDkJV2O5HQUAEbEwPAAOlXo_scwz0eWJBK8ZWfjKFe0V2AZZ51eaJlwmwkwN6uHf74K96X-wBBP7D64zrhn_iv9CaLIeurYxw\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:09:27Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T10:09:27Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-09T10:09:27Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-09T10:09:27Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;daadb8cf-f0b3-4667-aac8-be424952535a&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-05-09T10:09:27Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:09:27Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt
[2022-05-09T10:09:27Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T10:09:27Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJXRG4zQ2wwMVNsYVpRRnRTbUpuS2JqWC1wcXdsR21xWDhSUFNWSHgxUHgwIn0.eyJleHAiOjE2NTIwOTEyNjUsImlhdCI6MTY1MjA5MDk2NSwiYXV0aF90aW1lIjoxNjUyMDkwOTYyLCJqdGkiOiIwOTIwMzBhZC03YjE4LTQ5ZTYtOTY3NC03Y2ZlNjUwNzc0ZGEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiM2RlYjE5ZjktYzc0Ni00YjAwLWE5MDktMmI5ODg1NWNlNGYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJ3dkpZeVgtcmdDOXlGMk5jenRLZExRIiwic2Vzc2lvbl9zdGF0ZSI6Ijg2ZmM5YjM5LTIxYjAtNGY3ZS04ODg0LTI2ZTRiMDJhMmZjNyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6Ijg2ZmM5YjM5LTIxYjAtNGY3ZS04ODg0LTI2ZTRiMDJhMmZjNyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.fxrCc4w52PugxHSsvTPVTt9qPR6CCZNYBmtAGS7HUmR6bL9GkIGc_lm94L_lykZuNds6vUoPf7asX0Y-gLKLms1EaVYqgPHu9J7Rksdu1zQo1mqFi4nb0WA8qkgwlqNzRe_VDvaObNaKFtjignDIOY-UYN7u9p2_a6dZV6NWH8EMfmRnM35GKPqlOTdMGcutY4lDFcKQ9n1nQHZYkAjl2GlCzX1pzW4C8_u5x3ttqymFnNavDOT1GtDkJV2O5HQUAEbEwPAAOlXo_scwz0eWJBK8ZWfjKFe0V2AZZ51eaJlwmwkwN6uHf74K96X-wBBP7D64zrhn_iv9CaLIeurYxw\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:09:27Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt&quot;, client_id: &quot;cbf983ba-d4fc-4965-b1dc-2716c3216313&quot;, persistence: None, user_data: None }
[2022-05-09T10:09:27Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T10:09:27Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55efdc115ad0
[2022-05-09T10:09:27Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55efdc115ad0
[2022-05-09T10:09:27Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x55efdc0d3540, connectTimeout: 30, retryInterval: 0, ssl: 0x55efdbf72a00, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55efdbfd4050, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJXRG4zQ2wwMVNsYVpRRnRTbUpuS2JqWC1wcXdsR21xWDhSUFNWSHgxUHgwIn0.eyJleHAiOjE2NTIwOTEyNjUsImlhdCI6MTY1MjA5MDk2NSwiYXV0aF90aW1lIjoxNjUyMDkwOTYyLCJqdGkiOiIwOTIwMzBhZC03YjE4LTQ5ZTYtOTY3NC03Y2ZlNjUwNzc0ZGEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiM2RlYjE5ZjktYzc0Ni00YjAwLWE5MDktMmI5ODg1NWNlNGYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJ3dkpZeVgtcmdDOXlGMk5jenRLZExRIiwic2Vzc2lvbl9zdGF0ZSI6Ijg2ZmM5YjM5LTIxYjAtNGY3ZS04ODg0LTI2ZTRiMDJhMmZjNyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6Ijg2ZmM5YjM5LTIxYjAtNGY3ZS04ODg0LTI2ZTRiMDJhMmZjNyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.fxrCc4w52PugxHSsvTPVTt9qPR6CCZNYBmtAGS7HUmR6bL9GkIGc_lm94L_lykZuNds6vUoPf7asX0Y-gLKLms1EaVYqgPHu9J7Rksdu1zQo1mqFi4nb0WA8qkgwlqNzRe_VDvaObNaKFtjignDIOY-UYN7u9p2_a6dZV6NWH8EMfmRnM35GKPqlOTdMGcutY4lDFcKQ9n1nQHZYkAjl2GlCzX1pzW4C8_u5x3ttqymFnNavDOT1GtDkJV2O5HQUAEbEwPAAOlXo_scwz0eWJBK8ZWfjKFe0V2AZZ51eaJlwmwkwN6uHf74K96X-wBBP7D64zrhn_iv9CaLIeurYxw&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T10:09:27Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/daadb8cf-f0b3-4667-aac8-be424952535a&quot;&#x27; @ QOS 0
[2022-05-09T10:09:27Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-09T10:09:27Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-09T10:09:27Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:09:27Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:09:27Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:09:28Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:09:29Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:09:29Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:09:29Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:09:29Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:09:30Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:09:30Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:09:30Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:09:30Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:09:31Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:09:31Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:09:31Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:09:31Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:09:31Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 621, payload: 0x7f0edc0046f0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f0edc004970 } }, data: MessageData { topic: &quot;app/daadb8cf-f0b3-4667-aac8-be424952535a&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 102, 99, 57, 57, 101, 97, 55, 52, 45, 55, 52, 54, 100, 45, 52, 53, 100, 102, 45, 98, 98, 51, 52, 45, 55, 102, 97, 48, 54, 99, 100, 102, 49, 52, 98, 98, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 100, 97, 97, 100, 98, 56, 99, 102, 37, 50, 68, 102, 48, 98, 51, 37, 50, 68, 52, 54, 54, 55, 37, 50, 68, 97, 97, 99, 56, 37, 50, 68, 98, 101, 52, 50, 52, 57, 53, 50, 53, 51, 53, 97, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 119, 97, 114, 109, 117, 112, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 48, 58, 48, 57, 58, 51, 49, 46, 50, 56, 57, 48, 54, 54, 54, 55, 49, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 57, 99, 51, 101, 56, 97, 99, 98, 45, 56, 101, 56, 100, 45, 52, 97, 48, 54, 45, 56, 49, 102, 57, 45, 97, 54, 99, 50, 53, 48, 49, 57, 100, 51, 102, 53, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 97, 53, 102, 51, 48, 97, 49, 98, 45, 51, 98, 49, 54, 45, 52, 52, 50, 50, 45, 56, 49, 53, 53, 45, 55, 51, 56, 48, 57, 51, 51, 98, 54, 51, 101, 98, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 100, 97, 97, 100, 98, 56, 99, 102, 37, 50, 68, 102, 48, 98, 51, 37, 50, 68, 52, 54, 54, 55, 37, 50, 68, 97, 97, 99, 56, 37, 50, 68, 98, 101, 52, 50, 52, 57, 53, 50, 53, 51, 53, 97, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 53, 56, 98, 97, 54, 102, 97, 57, 45, 51, 56, 50, 50, 45, 52, 97, 98, 49, 45, 97, 54, 100, 55, 45, 56, 51, 57, 52, 100, 100, 50, 54, 57, 101, 100, 56, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 100, 97, 97, 100, 98, 56, 99, 102, 45, 102, 48, 98, 51, 45, 52, 54, 54, 55, 45, 97, 97, 99, 56, 45, 98, 101, 52, 50, 52, 57, 53, 50, 53, 51, 53, 97, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f0edc004970 } } } }
[2022-05-09T10:09:31Z DEBUG paho_mqtt::properties] Dropping string property: 0x55efdbe4fa30
[2022-05-09T10:09:31Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/daadb8cf-f0b3-4667-aac8-be424952535a&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;fc99ea74-746d-45df-bb34-7fa06cdf14bb\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://daadb8cf%2Df0b3%2D4667%2Daac8%2Dbe424952535a/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;warmup\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T10:09:31.289066671Z\&quot;,\&quot;data\&quot;:{\&quot;index\&quot;:3},\&quot;applicationuid\&quot;:\&quot;9c3e8acb-8e8d-4a06-81f9-a6c25019d3f5\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;senderuid\&quot;:\&quot;a5f30a1b-3b16-4422-8155-7380933b63eb\&quot;,\&quot;partitionkey\&quot;:\&quot;daadb8cf%2Df0b3%2D4667%2Daac8%2Dbe424952535a/device1\&quot;,\&quot;deviceuid\&quot;:\&quot;58ba6fa9-3822-4ab1-a6d7-8394dd269ed8\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;application\&quot;:\&quot;daadb8cf-f0b3-4667-aac8-be424952535a\&quot;}&quot; }
[2022-05-09T10:09:32Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-09T10:09:32Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-09T10:09:32Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-09T10:09:32Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry/device1
[2022-05-09T10:09:32Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 4, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-endpoint.172.18.0.2.nip.io:30001&quot;, client_id: &quot;80b90be3-d78b-4000-8c28-050071689a58&quot;, persistence: None, user_data: None }
[2022-05-09T10:09:32Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T10:09:32Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55efdc0d1d80
[2022-05-09T10:09:32Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55efdc0d1d80
[2022-05-09T10:09:32Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 1, maxInflight: 65535, will: 0x0, username: 0x55efdc28d030, password: 0x55efdc2c18f0, connectTimeout: 30, retryInterval: 0, ssl: 0x55efdbf0efe0, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 4, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 0, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55efdc28a760, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;gateway1@daadb8cf-f0b3-4667-aac8-be424952535a&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T10:09:32Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55efdc2bc8c0 } }, data: MessageData { topic: &quot;telemetry/device1&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55efdc2bc8c0 } } } }
[2022-05-09T10:09:32Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 640, payload: 0x7f0edc02b760, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f0edc02b9f0 } }, data: MessageData { topic: &quot;app/daadb8cf-f0b3-4667-aac8-be424952535a&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 52, 53, 56, 101, 100, 100, 97, 53, 45, 52, 53, 51, 55, 45, 52, 50, 101, 99, 45, 97, 101, 98, 50, 45, 102, 49, 57, 99, 53, 100, 99, 53, 54, 49, 52, 99, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 100, 97, 97, 100, 98, 56, 99, 102, 37, 50, 68, 102, 48, 98, 51, 37, 50, 68, 52, 54, 54, 55, 37, 50, 68, 97, 97, 99, 56, 37, 50, 68, 98, 101, 52, 50, 52, 57, 53, 50, 53, 51, 53, 97, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 48, 58, 48, 57, 58, 51, 50, 46, 52, 49, 51, 50, 48, 54, 53, 53, 54, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 97, 53, 102, 51, 48, 97, 49, 98, 45, 51, 98, 49, 54, 45, 52, 52, 50, 50, 45, 56, 49, 53, 53, 45, 55, 51, 56, 48, 57, 51, 51, 98, 54, 51, 101, 98, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 100, 97, 97, 100, 98, 56, 99, 102, 45, 102, 48, 98, 51, 45, 52, 54, 54, 55, 45, 97, 97, 99, 56, 45, 98, 101, 52, 50, 52, 57, 53, 50, 53, 51, 53, 97, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 100, 97, 97, 100, 98, 56, 99, 102, 37, 50, 68, 102, 48, 98, 51, 37, 50, 68, 52, 54, 54, 55, 37, 50, 68, 97, 97, 99, 56, 37, 50, 68, 98, 101, 52, 50, 52, 57, 53, 50, 53, 51, 53, 97, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 57, 99, 51, 101, 56, 97, 99, 98, 45, 56, 101, 56, 100, 45, 52, 97, 48, 54, 45, 56, 49, 102, 57, 45, 97, 54, 99, 50, 53, 48, 49, 57, 100, 51, 102, 53, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 97, 53, 102, 51, 48, 97, 49, 98, 45, 51, 98, 49, 54, 45, 52, 52, 50, 50, 45, 56, 49, 53, 53, 45, 55, 51, 56, 48, 57, 51, 51, 98, 54, 51, 101, 98, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f0edc02b9f0 } } } }
[2022-05-09T10:09:32Z DEBUG paho_mqtt::properties] Dropping string property: 0x55efdbe4fa30
[2022-05-09T10:09:32Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/daadb8cf-f0b3-4667-aac8-be424952535a&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;458edda5-4537-42ec-aeb2-f19c5dc5614c\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://daadb8cf%2Df0b3%2D4667%2Daac8%2Dbe424952535a/gateway1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T10:09:32.413206556Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:true},\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;device\&quot;:\&quot;gateway1\&quot;,\&quot;deviceuid\&quot;:\&quot;a5f30a1b-3b16-4422-8155-7380933b63eb\&quot;,\&quot;application\&quot;:\&quot;daadb8cf-f0b3-4667-aac8-be424952535a\&quot;,\&quot;partitionkey\&quot;:\&quot;daadb8cf%2Df0b3%2D4667%2Daac8%2Dbe424952535a/gateway1\&quot;,\&quot;applicationuid\&quot;:\&quot;9c3e8acb-8e8d-4a06-81f9-a6c25019d3f5\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;senderuid\&quot;:\&quot;a5f30a1b-3b16-4422-8155-7380933b63eb\&quot;}&quot; }
[2022-05-09T10:09:32Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-09T10:09:33Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 630, payload: 0x7f0edc018640, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f0edc0188c0 } }, data: MessageData { topic: &quot;app/daadb8cf-f0b3-4667-aac8-be424952535a&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 52, 99, 57, 98, 53, 51, 99, 97, 45, 50, 55, 98, 98, 45, 52, 97, 54, 48, 45, 98, 56, 49, 99, 45, 49, 97, 50, 97, 52, 54, 97, 55, 55, 56, 102, 99, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 100, 97, 97, 100, 98, 56, 99, 102, 37, 50, 68, 102, 48, 98, 51, 37, 50, 68, 52, 54, 54, 55, 37, 50, 68, 97, 97, 99, 56, 37, 50, 68, 98, 101, 52, 50, 52, 57, 53, 50, 53, 51, 53, 97, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 111, 99, 116, 101, 116, 45, 115, 116, 114, 101, 97, 109, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 116, 101, 108, 101, 109, 101, 116, 114, 121, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 48, 58, 48, 57, 58, 51, 50, 46, 54, 50, 55, 53, 51, 57, 53, 52, 49, 90, 34, 44, 34, 100, 97, 116, 97, 95, 98, 97, 115, 101, 54, 52, 34, 58, 34, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 100, 97, 97, 100, 98, 56, 99, 102, 37, 50, 68, 102, 48, 98, 51, 37, 50, 68, 52, 54, 54, 55, 37, 50, 68, 97, 97, 99, 56, 37, 50, 68, 98, 101, 52, 50, 52, 57, 53, 50, 53, 51, 53, 97, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 53, 56, 98, 97, 54, 102, 97, 57, 45, 51, 56, 50, 50, 45, 52, 97, 98, 49, 45, 97, 54, 100, 55, 45, 56, 51, 57, 52, 100, 100, 50, 54, 57, 101, 100, 56, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 97, 53, 102, 51, 48, 97, 49, 98, 45, 51, 98, 49, 54, 45, 52, 52, 50, 50, 45, 56, 49, 53, 53, 45, 55, 51, 56, 48, 57, 51, 51, 98, 54, 51, 101, 98, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 57, 99, 51, 101, 56, 97, 99, 98, 45, 56, 101, 56, 100, 45, 52, 97, 48, 54, 45, 56, 49, 102, 57, 45, 97, 54, 99, 50, 53, 48, 49, 57, 100, 51, 102, 53, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 100, 97, 97, 100, 98, 56, 99, 102, 45, 102, 48, 98, 51, 45, 52, 54, 54, 55, 45, 97, 97, 99, 56, 45, 98, 101, 52, 50, 52, 57, 53, 50, 53, 51, 53, 97, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f0edc0188c0 } } } }
[2022-05-09T10:09:33Z DEBUG paho_mqtt::properties] Dropping string property: 0x55efdbe4fa30
[2022-05-09T10:09:33Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/daadb8cf-f0b3-4667-aac8-be424952535a&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;4c9b53ca-27bb-4a60-b81c-1a2a46a778fc\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://daadb8cf%2Df0b3%2D4667%2Daac8%2Dbe424952535a/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/octet-stream\&quot;,\&quot;subject\&quot;:\&quot;telemetry\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T10:09:32.627539541Z\&quot;,\&quot;data_base64\&quot;:\&quot;\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;partitionkey\&quot;:\&quot;daadb8cf%2Df0b3%2D4667%2Daac8%2Dbe424952535a/device1\&quot;,\&quot;deviceuid\&quot;:\&quot;58ba6fa9-3822-4ab1-a6d7-8394dd269ed8\&quot;,\&quot;senderuid\&quot;:\&quot;a5f30a1b-3b16-4422-8155-7380933b63eb\&quot;,\&quot;applicationuid\&quot;:\&quot;9c3e8acb-8e8d-4a06-81f9-a6c25019d3f5\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;application\&quot;:\&quot;daadb8cf-f0b3-4667-aac8-be424952535a\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;}&quot; }
[2022-05-09T10:09:33Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 641, payload: 0x7f0edc00a9c0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f0edc0188c0 } }, data: MessageData { topic: &quot;app/daadb8cf-f0b3-4667-aac8-be424952535a&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 101, 97, 56, 99, 101, 54, 100, 99, 45, 100, 50, 52, 54, 45, 52, 48, 102, 100, 45, 97, 50, 54, 99, 45, 100, 97, 100, 51, 52, 57, 55, 53, 98, 56, 97, 56, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 100, 97, 97, 100, 98, 56, 99, 102, 37, 50, 68, 102, 48, 98, 51, 37, 50, 68, 52, 54, 54, 55, 37, 50, 68, 97, 97, 99, 56, 37, 50, 68, 98, 101, 52, 50, 52, 57, 53, 50, 53, 51, 53, 97, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 48, 58, 48, 57, 58, 51, 51, 46, 49, 49, 48, 52, 57, 49, 57, 48, 55, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 102, 97, 108, 115, 101, 125, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 100, 97, 97, 100, 98, 56, 99, 102, 45, 102, 48, 98, 51, 45, 52, 54, 54, 55, 45, 97, 97, 99, 56, 45, 98, 101, 52, 50, 52, 57, 53, 50, 53, 51, 53, 97, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 97, 53, 102, 51, 48, 97, 49, 98, 45, 51, 98, 49, 54, 45, 52, 52, 50, 50, 45, 56, 49, 53, 53, 45, 55, 51, 56, 48, 57, 51, 51, 98, 54, 51, 101, 98, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 97, 53, 102, 51, 48, 97, 49, 98, 45, 51, 98, 49, 54, 45, 52, 52, 50, 50, 45, 56, 49, 53, 53, 45, 55, 51, 56, 48, 57, 51, 51, 98, 54, 51, 101, 98, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 100, 97, 97, 100, 98, 56, 99, 102, 37, 50, 68, 102, 48, 98, 51, 37, 50, 68, 52, 54, 54, 55, 37, 50, 68, 97, 97, 99, 56, 37, 50, 68, 98, 101, 52, 50, 52, 57, 53, 50, 53, 51, 53, 97, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 57, 99, 51, 101, 56, 97, 99, 98, 45, 56, 101, 56, 100, 45, 52, 97, 48, 54, 45, 56, 49, 102, 57, 45, 97, 54, 99, 50, 53, 48, 49, 57, 100, 51, 102, 53, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f0edc0188c0 } } } }
[2022-05-09T10:09:33Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f0edc033df0
[2022-05-09T10:09:33Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/daadb8cf-f0b3-4667-aac8-be424952535a&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;ea8ce6dc-d246-40fd-a26c-dad34975b8a8\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://daadb8cf%2Df0b3%2D4667%2Daac8%2Dbe424952535a/gateway1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T10:09:33.110491907Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:false},\&quot;device\&quot;:\&quot;gateway1\&quot;,\&quot;application\&quot;:\&quot;daadb8cf-f0b3-4667-aac8-be424952535a\&quot;,\&quot;deviceuid\&quot;:\&quot;a5f30a1b-3b16-4422-8155-7380933b63eb\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;senderuid\&quot;:\&quot;a5f30a1b-3b16-4422-8155-7380933b63eb\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;partitionkey\&quot;:\&quot;daadb8cf%2Df0b3%2D4667%2Daac8%2Dbe424952535a/gateway1\&quot;,\&quot;applicationuid\&quot;:\&quot;9c3e8acb-8e8d-4a06-81f9-a6c25019d3f5\&quot;}&quot; }
[2022-05-09T10:09:33Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-09T10:09:33Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-09T10:09:33Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-09T10:09:33Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;daadb8cf-f0b3-4667-aac8-be424952535a&quot;, device: &quot;gateway1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`,
 right: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;daadb8cf-f0b3-4667-aac8-be424952535a&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`: Position #0&#x27;, src/tools/assert.rs:35:39
[2022-05-09T10:09:33Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-09T10:09:33Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;daadb8cf-f0b3-4667-aac8-be424952535a&quot; &quot;device1&quot;
[2022-05-09T10:09:33Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:09:33Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-05-09T10:09:33Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;daadb8cf-f0b3-4667-aac8-be424952535a&quot; &quot;gateway1&quot;
[2022-05-09T10:09:33Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:09:33Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;daadb8cf-f0b3-4667-aac8-be424952535a&#x27;
[2022-05-09T10:09:33Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;daadb8cf-f0b3-4667-aac8-be424952535a&quot;
[2022-05-09T10:09:33Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App daadb8cf-f0b3-4667-aac8-be424952535a deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_1::integration_version_3::integration_ws_1

**Duration**: 13s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-09T10:09:35Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-09T10:09:35Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T10:09:35Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T10:09:35Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T10:09:35Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T10:09:36Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-09T10:09:38Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-09T10:09:38Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T10:09:38Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T10:09:38Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T10:09:40Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI0NDVmMTM5Zi0wNjNjLTRhZDgtODkwYi1mNTg1OTQ0NjFiZDAifQ.eyJleHAiOjE2NTIwOTI3NzksImlhdCI6MTY1MjA5MDk3OSwianRpIjoiMjM0MDBhYTUtYWU0Yi00OWY2LThhOGUtMjU1ZTdhYmY1Njc1IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjNkZWIxOWY5LWM3NDYtNGIwMC1hOTA5LTJiOTg4NTVjZTRmMyIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InRiM0RxbjhPekJEYndKTkZNTXZpTkEiLCJzZXNzaW9uX3N0YXRlIjoiZTJkZmJmMjgtNTY3Yy00NTMzLWJhYjctMGJmNTBkYWZlYzJhIiwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImUyZGZiZjI4LTU2N2MtNDUzMy1iYWI3LTBiZjUwZGFmZWMyYSJ9.9eI8Sko2T9pHs4szUvAdcPAQs_KUpjY17pQL6q8f0JA
[2022-05-09T10:09:40Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-09T10:09:40Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-09T10:09:40Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI0NDVmMTM5Zi0wNjNjLTRhZDgtODkwYi1mNTg1OTQ0NjFiZDAifQ.eyJleHAiOjE2NTIwOTI3NzksImlhdCI6MTY1MjA5MDk3OSwianRpIjoiMjM0MDBhYTUtYWU0Yi00OWY2LThhOGUtMjU1ZTdhYmY1Njc1IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjNkZWIxOWY5LWM3NDYtNGIwMC1hOTA5LTJiOTg4NTVjZTRmMyIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InRiM0RxbjhPekJEYndKTkZNTXZpTkEiLCJzZXNzaW9uX3N0YXRlIjoiZTJkZmJmMjgtNTY3Yy00NTMzLWJhYjctMGJmNTBkYWZlYzJhIiwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImUyZGZiZjI4LTU2N2MtNDUzMy1iYWI3LTBiZjUwZGFmZWMyYSJ9.9eI8Sko2T9pHs4szUvAdcPAQs_KUpjY17pQL6q8f0JA&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-09T10:09:40Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:09:40Z INFO  drogue_cloud_tests::resources::apps] Create application: c37a6986-1935-4c77-aeb1-064a3174f8f6
[2022-05-09T10:09:40Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;c37a6986-1935-4c77-aeb1-064a3174f8f6&quot;
[2022-05-09T10:09:40Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App c37a6986-1935-4c77-aeb1-064a3174f8f6 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:09:40Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;c37a6986-1935-4c77-aeb1-064a3174f8f6&quot;
[2022-05-09T10:09:40Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T10:09:40.875555Z\&quot;,\n    \&quot;generation\&quot;: 1,\n    \&quot;name\&quot;: \&quot;c37a6986-1935-4c77-aeb1-064a3174f8f6\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;8e860340-a0bc-4ffa-9231-b8c7bd940d6f\&quot;,\n    \&quot;uid\&quot;: \&quot;2afaeded-87c1-494e-9d2e-2795a80af9e9\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:09:40.890371719Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:09:40Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T10:09:40.875555Z&quot;), &quot;generation&quot;: Number(1), &quot;name&quot;: String(&quot;c37a6986-1935-4c77-aeb1-064a3174f8f6&quot;), &quot;resourceVersion&quot;: String(&quot;8e860340-a0bc-4ffa-9231-b8c7bd940d6f&quot;), &quot;uid&quot;: String(&quot;2afaeded-87c1-494e-9d2e-2795a80af9e9&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:09:40.890371719Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})])})})
[2022-05-09T10:09:40Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-09T10:09:41Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;c37a6986-1935-4c77-aeb1-064a3174f8f6&quot;
[2022-05-09T10:09:41Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T10:09:40.875555Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;c37a6986-1935-4c77-aeb1-064a3174f8f6\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;c3a36183-8637-49e8-9bb8-57ad2e340287\&quot;,\n    \&quot;uid\&quot;: \&quot;2afaeded-87c1-494e-9d2e-2795a80af9e9\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:09:41.258089386Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:09:41.258047878Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:09:40.928942391Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:09:40.936958604Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:09:41.044842439Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:09:41.056515878Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:09:41.257886687Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:09:41.257902918Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;mEAWE4UVu2iN\&quot;,\n        \&quot;username\&quot;: \&quot;user-c37a6986-1935-4c77-aeb1-064a3174f8f6\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:09:41Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T10:09:40.875555Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;c37a6986-1935-4c77-aeb1-064a3174f8f6&quot;), &quot;resourceVersion&quot;: String(&quot;c3a36183-8637-49e8-9bb8-57ad2e340287&quot;), &quot;uid&quot;: String(&quot;2afaeded-87c1-494e-9d2e-2795a80af9e9&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:09:41.258089386Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:09:41.258047878Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:09:40.928942391Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:09:40.936958604Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:09:41.044842439Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:09:41.056515878Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:09:41.257886687Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:09:41.257902918Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;mEAWE4UVu2iN&quot;), &quot;username&quot;: String(&quot;user-c37a6986-1935-4c77-aeb1-064a3174f8f6&quot;)})})})})
[2022-05-09T10:09:41Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-09T10:09:41Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;c37a6986-1935-4c77-aeb1-064a3174f8f6&quot;
[2022-05-09T10:09:41Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T10:09:40.875555Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;c37a6986-1935-4c77-aeb1-064a3174f8f6\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;c3a36183-8637-49e8-9bb8-57ad2e340287\&quot;,\n    \&quot;uid\&quot;: \&quot;2afaeded-87c1-494e-9d2e-2795a80af9e9\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:09:41.258089386Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:09:41.258047878Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:09:40.928942391Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:09:40.936958604Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:09:41.044842439Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:09:41.056515878Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:09:41.257886687Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:09:41.257902918Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;mEAWE4UVu2iN\&quot;,\n        \&quot;username\&quot;: \&quot;user-c37a6986-1935-4c77-aeb1-064a3174f8f6\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:09:41Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T10:09:40.875555Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;c37a6986-1935-4c77-aeb1-064a3174f8f6&quot;), &quot;resourceVersion&quot;: String(&quot;c3a36183-8637-49e8-9bb8-57ad2e340287&quot;), &quot;uid&quot;: String(&quot;2afaeded-87c1-494e-9d2e-2795a80af9e9&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:09:41.258089386Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:09:41.258047878Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:09:40.928942391Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:09:40.936958604Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:09:41.044842439Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:09:41.056515878Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:09:41.257886687Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:09:41.257902918Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;mEAWE4UVu2iN&quot;), &quot;username&quot;: String(&quot;user-c37a6986-1935-4c77-aeb1-064a3174f8f6&quot;)})})})})
[2022-05-09T10:09:41Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-09T10:09:41Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-05-09T10:09:41Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;c37a6986-1935-4c77-aeb1-064a3174f8f6&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-09T10:09:41Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:09:41Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:09:41Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T10:09:41Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T10:09:41Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJXRG4zQ2wwMVNsYVpRRnRTbUpuS2JqWC1wcXdsR21xWDhSUFNWSHgxUHgwIn0.eyJleHAiOjE2NTIwOTEyODAsImlhdCI6MTY1MjA5MDk4MCwiYXV0aF90aW1lIjoxNjUyMDkwOTc3LCJqdGkiOiJiNWRiNWFkMC01NTVkLTRkNTYtYTFkYi02ODA2MDhjMTViOWUiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiM2RlYjE5ZjktYzc0Ni00YjAwLWE5MDktMmI5ODg1NWNlNGYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJ0YjNEcW44T3pCRGJ3Sk5GTU12aU5BIiwic2Vzc2lvbl9zdGF0ZSI6ImUyZGZiZjI4LTU2N2MtNDUzMy1iYWI3LTBiZjUwZGFmZWMyYSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImUyZGZiZjI4LTU2N2MtNDUzMy1iYWI3LTBiZjUwZGFmZWMyYSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.MrS5Qz2EnQLLeW55kXYkFZinYJb6srdzfpoWXtjgsMhOQYjRzIJUw_jZQj69mx0T15Zy8PAFmVO1va9F8K8qIgYsUcjlXaH8uuVi5TK_x_zGKIIAZl3q2knwAAb7F8BjSevvitUVgWY2cIE4ykF1ZefEq8p4_yK6wUPg46enk-EX3Fbh6cvAHXyPwT8c2VVtTmcN_DZtyl3cDTpH49SFBTraXpqEPol_U2gwohbLODHezwY16q2NlL8G6VeUGnocSZ89hI-6jdAF6kf-P2qCoa-UB-dWbGbtgYMhKtzAM3wGvjAhH5xzf8riTNhCZkvEXZZ57DX8dug2X0IJJM5Mug\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:09:41Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T10:09:41Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-09T10:09:41Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-09T10:09:41Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;c37a6986-1935-4c77-aeb1-064a3174f8f6&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-05-09T10:09:42Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:09:42Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: ssl://mqtt-integration.172.18.0.2.nip.io:30002
[2022-05-09T10:09:42Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T10:09:42Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJXRG4zQ2wwMVNsYVpRRnRTbUpuS2JqWC1wcXdsR21xWDhSUFNWSHgxUHgwIn0.eyJleHAiOjE2NTIwOTEyODAsImlhdCI6MTY1MjA5MDk4MCwiYXV0aF90aW1lIjoxNjUyMDkwOTc3LCJqdGkiOiJiNWRiNWFkMC01NTVkLTRkNTYtYTFkYi02ODA2MDhjMTViOWUiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiM2RlYjE5ZjktYzc0Ni00YjAwLWE5MDktMmI5ODg1NWNlNGYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJ0YjNEcW44T3pCRGJ3Sk5GTU12aU5BIiwic2Vzc2lvbl9zdGF0ZSI6ImUyZGZiZjI4LTU2N2MtNDUzMy1iYWI3LTBiZjUwZGFmZWMyYSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImUyZGZiZjI4LTU2N2MtNDUzMy1iYWI3LTBiZjUwZGFmZWMyYSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.MrS5Qz2EnQLLeW55kXYkFZinYJb6srdzfpoWXtjgsMhOQYjRzIJUw_jZQj69mx0T15Zy8PAFmVO1va9F8K8qIgYsUcjlXaH8uuVi5TK_x_zGKIIAZl3q2knwAAb7F8BjSevvitUVgWY2cIE4ykF1ZefEq8p4_yK6wUPg46enk-EX3Fbh6cvAHXyPwT8c2VVtTmcN_DZtyl3cDTpH49SFBTraXpqEPol_U2gwohbLODHezwY16q2NlL8G6VeUGnocSZ89hI-6jdAF6kf-P2qCoa-UB-dWbGbtgYMhKtzAM3wGvjAhH5xzf8riTNhCZkvEXZZ57DX8dug2X0IJJM5Mug\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:09:42Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-integration.172.18.0.2.nip.io:30002&quot;, client_id: &quot;8c50f92e-aa7d-4cb3-8e13-4f3954348e72&quot;, persistence: None, user_data: None }
[2022-05-09T10:09:42Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T10:09:42Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55efdc07eef0
[2022-05-09T10:09:42Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55efdc07eef0
[2022-05-09T10:09:42Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x55efdbef0000, connectTimeout: 30, retryInterval: 0, ssl: 0x55efdc1cae50, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55efdbfacf70, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJXRG4zQ2wwMVNsYVpRRnRTbUpuS2JqWC1wcXdsR21xWDhSUFNWSHgxUHgwIn0.eyJleHAiOjE2NTIwOTEyODAsImlhdCI6MTY1MjA5MDk4MCwiYXV0aF90aW1lIjoxNjUyMDkwOTc3LCJqdGkiOiJiNWRiNWFkMC01NTVkLTRkNTYtYTFkYi02ODA2MDhjMTViOWUiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiM2RlYjE5ZjktYzc0Ni00YjAwLWE5MDktMmI5ODg1NWNlNGYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJ0YjNEcW44T3pCRGJ3Sk5GTU12aU5BIiwic2Vzc2lvbl9zdGF0ZSI6ImUyZGZiZjI4LTU2N2MtNDUzMy1iYWI3LTBiZjUwZGFmZWMyYSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImUyZGZiZjI4LTU2N2MtNDUzMy1iYWI3LTBiZjUwZGFmZWMyYSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.MrS5Qz2EnQLLeW55kXYkFZinYJb6srdzfpoWXtjgsMhOQYjRzIJUw_jZQj69mx0T15Zy8PAFmVO1va9F8K8qIgYsUcjlXaH8uuVi5TK_x_zGKIIAZl3q2knwAAb7F8BjSevvitUVgWY2cIE4ykF1ZefEq8p4_yK6wUPg46enk-EX3Fbh6cvAHXyPwT8c2VVtTmcN_DZtyl3cDTpH49SFBTraXpqEPol_U2gwohbLODHezwY16q2NlL8G6VeUGnocSZ89hI-6jdAF6kf-P2qCoa-UB-dWbGbtgYMhKtzAM3wGvjAhH5xzf8riTNhCZkvEXZZ57DX8dug2X0IJJM5Mug&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T10:09:42Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/c37a6986-1935-4c77-aeb1-064a3174f8f6&quot;&#x27; @ QOS 0
[2022-05-09T10:09:42Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-09T10:09:42Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-09T10:09:42Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:09:42Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:09:42Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:09:42Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:09:43Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:09:43Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:09:43Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:09:43Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:09:44Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:09:44Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:09:44Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:09:44Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:09:45Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:09:45Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:09:45Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:09:45Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:09:45Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 11, payload: 0x7f0ed00163a0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 574, array: 0x55efdc2d6140 } }, data: MessageData { topic: &quot;app/c37a6986-1935-4c77-aeb1-064a3174f8f6&quot;, payload: [123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 574, array: 0x55efdc2d6140 } } } }
[2022-05-09T10:09:45Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55efdc09c690, 0x55efdc09b480
[2022-05-09T10:09:45Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55efdc09b480, 0x55efdbe362a0
[2022-05-09T10:09:45Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55efdc09b480, 0x55efdc036270
[2022-05-09T10:09:45Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55efdc036270, 0x55efdc09a150
[2022-05-09T10:09:45Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55efdc036270, 0x7f0ee0001e50
[2022-05-09T10:09:45Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0001e50, 0x55efdbe362a0
[2022-05-09T10:09:45Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0001e50, 0x55efdbe362a0
[2022-05-09T10:09:45Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0001e50, 0x7f0ee0000d70
[2022-05-09T10:09:45Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0000d70, 0x55efdbe362a0
[2022-05-09T10:09:45Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0000d70, 0x55efdc09a360
[2022-05-09T10:09:45Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0000d70, 0x55efdbe362a0
[2022-05-09T10:09:45Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0000d70, 0x7f0ee00073f0
[2022-05-09T10:09:45Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee00073f0, 0x7f0ee0000d70
[2022-05-09T10:09:45Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0000d70, 0x55efdbe362a0
[2022-05-09T10:09:45Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f0ee0000d70
[2022-05-09T10:09:45Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/c37a6986-1935-4c77-aeb1-064a3174f8f6&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;senderuid&quot;: &quot;706e64e4-ac73-46dc-977a-43ed98e83919&quot;, &quot;applicationuid&quot;: &quot;2afaeded-87c1-494e-9d2e-2795a80af9e9&quot;, &quot;sender&quot;: &quot;gateway1&quot;, &quot;subject&quot;: &quot;warmup&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;time&quot;: &quot;2022-05-09T10:09:45.307075710+00:00&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;source&quot;: &quot;drogue://c37a6986%2D1935%2D4c77%2Daeb1%2D064a3174f8f6/device1&quot;, &quot;type&quot;: &quot;io.drogue.event.v1&quot;, &quot;deviceuid&quot;: &quot;20928ba3-b115-412f-9e7c-fe6513fbf981&quot;, &quot;partitionkey&quot;: &quot;c37a6986%2D1935%2D4c77%2Daeb1%2D064a3174f8f6/device1&quot;, &quot;application&quot;: &quot;c37a6986-1935-4c77-aeb1-064a3174f8f6&quot;, &quot;device&quot;: &quot;device1&quot;, &quot;id&quot;: &quot;223efb78-308f-4611-ac61-91c5f3686c0b&quot;}, payload: &quot;{\&quot;index\&quot;:3}&quot; }
[2022-05-09T10:09:46Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-09T10:09:46Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-09T10:09:46Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-09T10:09:46Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry/device1
[2022-05-09T10:09:46Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 4, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-endpoint.172.18.0.2.nip.io:30001&quot;, client_id: &quot;34893505-40b6-4a68-8a39-72d45992d7fe&quot;, persistence: None, user_data: None }
[2022-05-09T10:09:46Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T10:09:46Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55efdc2d6560
[2022-05-09T10:09:46Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55efdc2d6560
[2022-05-09T10:09:46Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 1, maxInflight: 65535, will: 0x0, username: 0x55efdc055270, password: 0x55efdc0b4610, connectTimeout: 30, retryInterval: 0, ssl: 0x55efdbea9640, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 4, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 0, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55efdbfed960, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;gateway1@c37a6986-1935-4c77-aeb1-064a3174f8f6&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T10:09:46Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 18, payload: 0x7f0ed000b560, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 586, array: 0x55efdbe40eb0 } }, data: MessageData { topic: &quot;app/c37a6986-1935-4c77-aeb1-064a3174f8f6&quot;, payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 586, array: 0x55efdbe40eb0 } } } }
[2022-05-09T10:09:46Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0006920, 0x7f0ee0000db0
[2022-05-09T10:09:46Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0000db0, 0x7f0ed0016680
[2022-05-09T10:09:46Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0000db0, 0x7f0ee00073f0
[2022-05-09T10:09:46Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee00073f0, 0x7f0ed0016780
[2022-05-09T10:09:46Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee00073f0, 0x7f0ee0000d70
[2022-05-09T10:09:46Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0000d70, 0x7f0ed0016680
[2022-05-09T10:09:46Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0000d70, 0x7f0ed0016680
[2022-05-09T10:09:46Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0000d70, 0x7f0ed0016680
[2022-05-09T10:09:46Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0000d70, 0x7f0ee0007410
[2022-05-09T10:09:46Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0007410, 0x7f0ee0000d70
[2022-05-09T10:09:46Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0000d70, 0x7f0ee0007410
[2022-05-09T10:09:46Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0007410, 0x7f0ed0016680
[2022-05-09T10:09:46Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0007410, 0x7f0ed0016680
[2022-05-09T10:09:46Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0007410, 0x7f0ed001c200
[2022-05-09T10:09:46Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f0ee0007410
[2022-05-09T10:09:46Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/c37a6986-1935-4c77-aeb1-064a3174f8f6&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;senderuid&quot;: &quot;706e64e4-ac73-46dc-977a-43ed98e83919&quot;, &quot;device&quot;: &quot;gateway1&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;deviceuid&quot;: &quot;706e64e4-ac73-46dc-977a-43ed98e83919&quot;, &quot;time&quot;: &quot;2022-05-09T10:09:46.423284192+00:00&quot;, &quot;type&quot;: &quot;io.drogue.connection.v1&quot;, &quot;source&quot;: &quot;drogue://c37a6986%2D1935%2D4c77%2Daeb1%2D064a3174f8f6/gateway1&quot;, &quot;application&quot;: &quot;c37a6986-1935-4c77-aeb1-064a3174f8f6&quot;, &quot;sender&quot;: &quot;gateway1&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;applicationuid&quot;: &quot;2afaeded-87c1-494e-9d2e-2795a80af9e9&quot;, &quot;partitionkey&quot;: &quot;c37a6986%2D1935%2D4c77%2Daeb1%2D064a3174f8f6/gateway1&quot;, &quot;subject&quot;: &quot;connection&quot;, &quot;id&quot;: &quot;9c175557-c127-4d94-b7a8-ca93394097b5&quot;}, payload: &quot;{\&quot;connected\&quot;:true}&quot; }
[2022-05-09T10:09:46Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55efdc199060 } }, data: MessageData { topic: &quot;telemetry/device1&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55efdc199060 } } } }
[2022-05-09T10:09:46Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-09T10:09:46Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 19, payload: 0x7f0ed0009580, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 586, array: 0x55efdbf4f9f0 } }, data: MessageData { topic: &quot;app/c37a6986-1935-4c77-aeb1-064a3174f8f6&quot;, payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 102, 97, 108, 115, 101, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 586, array: 0x55efdbf4f9f0 } } } }
[2022-05-09T10:09:46Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0001e50, 0x7f0ee0000d90
[2022-05-09T10:09:46Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0000d90, 0x7f0ed000b6f0
[2022-05-09T10:09:46Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0000d90, 0x7f0ee0000dd0
[2022-05-09T10:09:46Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0000dd0, 0x7f0ed002ec70
[2022-05-09T10:09:46Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0000dd0, 0x7f0ee0006920
[2022-05-09T10:09:46Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0006920, 0x7f0ed000b6f0
[2022-05-09T10:09:46Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0006920, 0x7f0ed000b6f0
[2022-05-09T10:09:46Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0006920, 0x7f0ed002ef90
[2022-05-09T10:09:46Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0006920, 0x7f0ee0007540
[2022-05-09T10:09:46Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0007540, 0x7f0ed000b6f0
[2022-05-09T10:09:46Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0007540, 0x7f0ee0007430
[2022-05-09T10:09:46Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0007430, 0x7f0ed000b6f0
[2022-05-09T10:09:46Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0007430, 0x7f0ed000b6f0
[2022-05-09T10:09:46Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0007430, 0x7f0ee00073d0
[2022-05-09T10:09:46Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f0ee00073d0
[2022-05-09T10:09:46Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/c37a6986-1935-4c77-aeb1-064a3174f8f6&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;partitionkey&quot;: &quot;c37a6986%2D1935%2D4c77%2Daeb1%2D064a3174f8f6/gateway1&quot;, &quot;device&quot;: &quot;gateway1&quot;, &quot;sender&quot;: &quot;gateway1&quot;, &quot;senderuid&quot;: &quot;706e64e4-ac73-46dc-977a-43ed98e83919&quot;, &quot;applicationuid&quot;: &quot;2afaeded-87c1-494e-9d2e-2795a80af9e9&quot;, &quot;subject&quot;: &quot;connection&quot;, &quot;time&quot;: &quot;2022-05-09T10:09:46.645977527+00:00&quot;, &quot;deviceuid&quot;: &quot;706e64e4-ac73-46dc-977a-43ed98e83919&quot;, &quot;id&quot;: &quot;3973d86f-a073-4724-867d-64e00b4ddbc7&quot;, &quot;type&quot;: &quot;io.drogue.connection.v1&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;source&quot;: &quot;drogue://c37a6986%2D1935%2D4c77%2Daeb1%2D064a3174f8f6/gateway1&quot;, &quot;application&quot;: &quot;c37a6986-1935-4c77-aeb1-064a3174f8f6&quot;}, payload: &quot;{\&quot;connected\&quot;:false}&quot; }
[2022-05-09T10:09:47Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 585, array: 0x55efdbfcb2c0 } }, data: MessageData { topic: &quot;app/c37a6986-1935-4c77-aeb1-064a3174f8f6&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 585, array: 0x55efdbfcb2c0 } } } }
[2022-05-09T10:09:47Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee00073f0, 0x7f0ee0000d70
[2022-05-09T10:09:47Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0000d70, 0x7f0ed0016170
[2022-05-09T10:09:47Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0000d70, 0x7f0ee0007520
[2022-05-09T10:09:47Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0007520, 0x7f0ed001bd50
[2022-05-09T10:09:47Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0007520, 0x7f0ee0006920
[2022-05-09T10:09:47Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0006920, 0x7f0ed0016170
[2022-05-09T10:09:47Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0006920, 0x7f0ed0016170
[2022-05-09T10:09:47Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0006920, 0x7f0ed0016170
[2022-05-09T10:09:47Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0006920, 0x7f0ed0016170
[2022-05-09T10:09:47Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0006920, 0x7f0ed0016170
[2022-05-09T10:09:47Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0006920, 0x7f0ed0017330
[2022-05-09T10:09:47Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0006920, 0x7f0ee0000dd0
[2022-05-09T10:09:47Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0000dd0, 0x7f0ee0006920
[2022-05-09T10:09:47Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0006920, 0x7f0ee0000dd0
[2022-05-09T10:09:47Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f0ee0007600
[2022-05-09T10:09:47Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/c37a6986-1935-4c77-aeb1-064a3174f8f6&quot;, content_type: Some(&quot;application/octet-stream&quot;), user_properties: {&quot;id&quot;: &quot;210d8d83-d1c5-4f02-88b4-2939aacd5861&quot;, &quot;senderuid&quot;: &quot;706e64e4-ac73-46dc-977a-43ed98e83919&quot;, &quot;applicationuid&quot;: &quot;2afaeded-87c1-494e-9d2e-2795a80af9e9&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;deviceuid&quot;: &quot;20928ba3-b115-412f-9e7c-fe6513fbf981&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;source&quot;: &quot;drogue://c37a6986%2D1935%2D4c77%2Daeb1%2D064a3174f8f6/device1&quot;, &quot;type&quot;: &quot;io.drogue.event.v1&quot;, &quot;partitionkey&quot;: &quot;c37a6986%2D1935%2D4c77%2Daeb1%2D064a3174f8f6/device1&quot;, &quot;subject&quot;: &quot;telemetry&quot;, &quot;time&quot;: &quot;2022-05-09T10:09:46.643380644+00:00&quot;, &quot;sender&quot;: &quot;gateway1&quot;, &quot;application&quot;: &quot;c37a6986-1935-4c77-aeb1-064a3174f8f6&quot;, &quot;device&quot;: &quot;device1&quot;}, payload: &quot;&quot; }
[2022-05-09T10:09:47Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-09T10:09:47Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-09T10:09:47Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-09T10:09:47Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;c37a6986-1935-4c77-aeb1-064a3174f8f6&quot;, device: &quot;gateway1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`,
 right: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;c37a6986-1935-4c77-aeb1-064a3174f8f6&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`: Position #0&#x27;, src/tools/assert.rs:35:39
[2022-05-09T10:09:47Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-09T10:09:47Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;c37a6986-1935-4c77-aeb1-064a3174f8f6&quot; &quot;device1&quot;
[2022-05-09T10:09:47Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:09:47Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-05-09T10:09:47Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;c37a6986-1935-4c77-aeb1-064a3174f8f6&quot; &quot;gateway1&quot;
[2022-05-09T10:09:47Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:09:47Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;c37a6986-1935-4c77-aeb1-064a3174f8f6&#x27;
[2022-05-09T10:09:47Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;c37a6986-1935-4c77-aeb1-064a3174f8f6&quot;
[2022-05-09T10:09:47Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App c37a6986-1935-4c77-aeb1-064a3174f8f6 deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_1::integration_version_3::integration_ws_2

**Duration**: 14s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-09T10:09:49Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-09T10:09:49Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T10:09:49Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T10:09:49Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T10:09:49Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T10:09:50Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-09T10:09:52Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-09T10:09:52Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T10:09:52Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T10:09:52Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T10:09:53Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI0NDVmMTM5Zi0wNjNjLTRhZDgtODkwYi1mNTg1OTQ0NjFiZDAifQ.eyJleHAiOjE2NTIwOTI3OTMsImlhdCI6MTY1MjA5MDk5MywianRpIjoiMTlhM2Q3ZDgtMDVmOC00MTAwLTkwNjYtYjA4MmEyMjJiNTQ4IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjNkZWIxOWY5LWM3NDYtNGIwMC1hOTA5LTJiOTg4NTVjZTRmMyIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InhwVU45M0s5eEM4ZVY0NVJPNTVpekEiLCJzZXNzaW9uX3N0YXRlIjoiNDY3Nzk4YjgtNDA0Yy00NGEyLWE0NjAtMDhiNWVmZTA2ZjE3Iiwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjQ2Nzc5OGI4LTQwNGMtNDRhMi1hNDYwLTA4YjVlZmUwNmYxNyJ9.gVSNyUxPWJ0vXvP0cXvp7Tm3A2sdXKr12um_pDeRNSA
[2022-05-09T10:09:53Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-09T10:09:53Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-09T10:09:53Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI0NDVmMTM5Zi0wNjNjLTRhZDgtODkwYi1mNTg1OTQ0NjFiZDAifQ.eyJleHAiOjE2NTIwOTI3OTMsImlhdCI6MTY1MjA5MDk5MywianRpIjoiMTlhM2Q3ZDgtMDVmOC00MTAwLTkwNjYtYjA4MmEyMjJiNTQ4IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjNkZWIxOWY5LWM3NDYtNGIwMC1hOTA5LTJiOTg4NTVjZTRmMyIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InhwVU45M0s5eEM4ZVY0NVJPNTVpekEiLCJzZXNzaW9uX3N0YXRlIjoiNDY3Nzk4YjgtNDA0Yy00NGEyLWE0NjAtMDhiNWVmZTA2ZjE3Iiwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjQ2Nzc5OGI4LTQwNGMtNDRhMi1hNDYwLTA4YjVlZmUwNmYxNyJ9.gVSNyUxPWJ0vXvP0cXvp7Tm3A2sdXKr12um_pDeRNSA&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-09T10:09:53Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:09:54Z INFO  drogue_cloud_tests::resources::apps] Create application: a45cfb0b-234f-49a3-91e8-0dc6bbef9cbd
[2022-05-09T10:09:54Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;a45cfb0b-234f-49a3-91e8-0dc6bbef9cbd&quot;
[2022-05-09T10:09:54Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App a45cfb0b-234f-49a3-91e8-0dc6bbef9cbd created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:09:54Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;a45cfb0b-234f-49a3-91e8-0dc6bbef9cbd&quot;
[2022-05-09T10:09:54Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T10:09:54.488001Z\&quot;,\n    \&quot;generation\&quot;: 1,\n    \&quot;name\&quot;: \&quot;a45cfb0b-234f-49a3-91e8-0dc6bbef9cbd\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;e7127d71-0130-4299-8b84-c97644081cd2\&quot;,\n    \&quot;uid\&quot;: \&quot;65871690-da2d-4171-91d9-3494477a4773\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:09:54.504143649Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:09:54Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T10:09:54.488001Z&quot;), &quot;generation&quot;: Number(1), &quot;name&quot;: String(&quot;a45cfb0b-234f-49a3-91e8-0dc6bbef9cbd&quot;), &quot;resourceVersion&quot;: String(&quot;e7127d71-0130-4299-8b84-c97644081cd2&quot;), &quot;uid&quot;: String(&quot;65871690-da2d-4171-91d9-3494477a4773&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:09:54.504143649Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})])})})
[2022-05-09T10:09:54Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-09T10:09:55Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;a45cfb0b-234f-49a3-91e8-0dc6bbef9cbd&quot;
[2022-05-09T10:09:55Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T10:09:54.488001Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;a45cfb0b-234f-49a3-91e8-0dc6bbef9cbd\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;e60f9f1e-c1f1-42c8-adf5-e4e61487ec5c\&quot;,\n    \&quot;uid\&quot;: \&quot;65871690-da2d-4171-91d9-3494477a4773\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:09:54.844329002Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:09:54.844251367Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:09:54.538617154Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:09:54.546038785Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:09:54.617103013Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:09:54.623796343Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:09:54.844206433Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:09:54.844224527Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;WGXJ2oEKdcFR\&quot;,\n        \&quot;username\&quot;: \&quot;user-a45cfb0b-234f-49a3-91e8-0dc6bbef9cbd\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:09:55Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T10:09:54.488001Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;a45cfb0b-234f-49a3-91e8-0dc6bbef9cbd&quot;), &quot;resourceVersion&quot;: String(&quot;e60f9f1e-c1f1-42c8-adf5-e4e61487ec5c&quot;), &quot;uid&quot;: String(&quot;65871690-da2d-4171-91d9-3494477a4773&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:09:54.844329002Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:09:54.844251367Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:09:54.538617154Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:09:54.546038785Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:09:54.617103013Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:09:54.623796343Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:09:54.844206433Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:09:54.844224527Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;WGXJ2oEKdcFR&quot;), &quot;username&quot;: String(&quot;user-a45cfb0b-234f-49a3-91e8-0dc6bbef9cbd&quot;)})})})})
[2022-05-09T10:09:55Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-09T10:09:55Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;a45cfb0b-234f-49a3-91e8-0dc6bbef9cbd&quot;
[2022-05-09T10:09:55Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T10:09:54.488001Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;a45cfb0b-234f-49a3-91e8-0dc6bbef9cbd\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;e60f9f1e-c1f1-42c8-adf5-e4e61487ec5c\&quot;,\n    \&quot;uid\&quot;: \&quot;65871690-da2d-4171-91d9-3494477a4773\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:09:54.844329002Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:09:54.844251367Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:09:54.538617154Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:09:54.546038785Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:09:54.617103013Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:09:54.623796343Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:09:54.844206433Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:09:54.844224527Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;WGXJ2oEKdcFR\&quot;,\n        \&quot;username\&quot;: \&quot;user-a45cfb0b-234f-49a3-91e8-0dc6bbef9cbd\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:09:55Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T10:09:54.488001Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;a45cfb0b-234f-49a3-91e8-0dc6bbef9cbd&quot;), &quot;resourceVersion&quot;: String(&quot;e60f9f1e-c1f1-42c8-adf5-e4e61487ec5c&quot;), &quot;uid&quot;: String(&quot;65871690-da2d-4171-91d9-3494477a4773&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:09:54.844329002Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:09:54.844251367Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:09:54.538617154Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:09:54.546038785Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:09:54.617103013Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:09:54.623796343Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:09:54.844206433Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:09:54.844224527Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;WGXJ2oEKdcFR&quot;), &quot;username&quot;: String(&quot;user-a45cfb0b-234f-49a3-91e8-0dc6bbef9cbd&quot;)})})})})
[2022-05-09T10:09:55Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-09T10:09:55Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-05-09T10:09:55Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;a45cfb0b-234f-49a3-91e8-0dc6bbef9cbd&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-09T10:09:55Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:09:55Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:09:55Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T10:09:55Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T10:09:55Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJXRG4zQ2wwMVNsYVpRRnRTbUpuS2JqWC1wcXdsR21xWDhSUFNWSHgxUHgwIn0.eyJleHAiOjE2NTIwOTEyOTMsImlhdCI6MTY1MjA5MDk5MywiYXV0aF90aW1lIjoxNjUyMDkwOTkwLCJqdGkiOiI2ZDVlZWViYy0xMWEwLTQzODItYmFmNi00MjVmZWE1YWVjZTgiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiM2RlYjE5ZjktYzc0Ni00YjAwLWE5MDktMmI5ODg1NWNlNGYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJ4cFVOOTNLOXhDOGVWNDVSTzU1aXpBIiwic2Vzc2lvbl9zdGF0ZSI6IjQ2Nzc5OGI4LTQwNGMtNDRhMi1hNDYwLTA4YjVlZmUwNmYxNyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjQ2Nzc5OGI4LTQwNGMtNDRhMi1hNDYwLTA4YjVlZmUwNmYxNyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.t3v_iFzs8IhcAsDcJ-q6QWK_1BAwZ1Hu9_FsiYvlqrZhYVnJYJdkqdfrSqLj7kmXcMY7zRALrEvHmALP8jOaw4BhWrM611PmVnv0zHZutxfpSzHnFDB000gKnMyApnkrDchTp_gFx5YAtztN1oOyyN82zG4AEi8kFpGMiDXTOabASjBGtkOYFykXXT1RaHhDgWh-8ccQimK1ABNm7y7Vv1-h4xOrcZhzKI6ZvJB83niM96we7nMHY0aJ1ieIjaC-2fJa68MT3od5aOTmv_5AQiot0CWybSE7sis5Bok5TdwRARZ_xF9jRNxZAzvbroscbp8sOZ18yfto-pBhHM5NXA\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:09:55Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T10:09:55Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-09T10:09:55Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-09T10:09:55Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;a45cfb0b-234f-49a3-91e8-0dc6bbef9cbd&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-05-09T10:09:55Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:09:55Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt
[2022-05-09T10:09:55Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T10:09:55Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJXRG4zQ2wwMVNsYVpRRnRTbUpuS2JqWC1wcXdsR21xWDhSUFNWSHgxUHgwIn0.eyJleHAiOjE2NTIwOTEyOTMsImlhdCI6MTY1MjA5MDk5MywiYXV0aF90aW1lIjoxNjUyMDkwOTkwLCJqdGkiOiI2ZDVlZWViYy0xMWEwLTQzODItYmFmNi00MjVmZWE1YWVjZTgiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiM2RlYjE5ZjktYzc0Ni00YjAwLWE5MDktMmI5ODg1NWNlNGYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJ4cFVOOTNLOXhDOGVWNDVSTzU1aXpBIiwic2Vzc2lvbl9zdGF0ZSI6IjQ2Nzc5OGI4LTQwNGMtNDRhMi1hNDYwLTA4YjVlZmUwNmYxNyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjQ2Nzc5OGI4LTQwNGMtNDRhMi1hNDYwLTA4YjVlZmUwNmYxNyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.t3v_iFzs8IhcAsDcJ-q6QWK_1BAwZ1Hu9_FsiYvlqrZhYVnJYJdkqdfrSqLj7kmXcMY7zRALrEvHmALP8jOaw4BhWrM611PmVnv0zHZutxfpSzHnFDB000gKnMyApnkrDchTp_gFx5YAtztN1oOyyN82zG4AEi8kFpGMiDXTOabASjBGtkOYFykXXT1RaHhDgWh-8ccQimK1ABNm7y7Vv1-h4xOrcZhzKI6ZvJB83niM96we7nMHY0aJ1ieIjaC-2fJa68MT3od5aOTmv_5AQiot0CWybSE7sis5Bok5TdwRARZ_xF9jRNxZAzvbroscbp8sOZ18yfto-pBhHM5NXA\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:09:55Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt&quot;, client_id: &quot;7f4ed8f8-b571-49f4-a4ee-834e13ee3f38&quot;, persistence: None, user_data: None }
[2022-05-09T10:09:55Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T10:09:55Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55efdbe841c0
[2022-05-09T10:09:55Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55efdbe841c0
[2022-05-09T10:09:55Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x55efdc0819d0, connectTimeout: 30, retryInterval: 0, ssl: 0x55efdbf90cb0, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55efdbe91600, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJXRG4zQ2wwMVNsYVpRRnRTbUpuS2JqWC1wcXdsR21xWDhSUFNWSHgxUHgwIn0.eyJleHAiOjE2NTIwOTEyOTMsImlhdCI6MTY1MjA5MDk5MywiYXV0aF90aW1lIjoxNjUyMDkwOTkwLCJqdGkiOiI2ZDVlZWViYy0xMWEwLTQzODItYmFmNi00MjVmZWE1YWVjZTgiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiM2RlYjE5ZjktYzc0Ni00YjAwLWE5MDktMmI5ODg1NWNlNGYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJ4cFVOOTNLOXhDOGVWNDVSTzU1aXpBIiwic2Vzc2lvbl9zdGF0ZSI6IjQ2Nzc5OGI4LTQwNGMtNDRhMi1hNDYwLTA4YjVlZmUwNmYxNyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjQ2Nzc5OGI4LTQwNGMtNDRhMi1hNDYwLTA4YjVlZmUwNmYxNyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.t3v_iFzs8IhcAsDcJ-q6QWK_1BAwZ1Hu9_FsiYvlqrZhYVnJYJdkqdfrSqLj7kmXcMY7zRALrEvHmALP8jOaw4BhWrM611PmVnv0zHZutxfpSzHnFDB000gKnMyApnkrDchTp_gFx5YAtztN1oOyyN82zG4AEi8kFpGMiDXTOabASjBGtkOYFykXXT1RaHhDgWh-8ccQimK1ABNm7y7Vv1-h4xOrcZhzKI6ZvJB83niM96we7nMHY0aJ1ieIjaC-2fJa68MT3od5aOTmv_5AQiot0CWybSE7sis5Bok5TdwRARZ_xF9jRNxZAzvbroscbp8sOZ18yfto-pBhHM5NXA&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T10:09:55Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/a45cfb0b-234f-49a3-91e8-0dc6bbef9cbd&quot;&#x27; @ QOS 0
[2022-05-09T10:09:55Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-09T10:09:55Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-09T10:09:55Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:09:55Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:09:55Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:09:56Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:09:57Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:09:57Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:09:57Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:09:57Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:09:58Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:09:58Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:09:58Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:09:58Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:09:59Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:09:59Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:09:59Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:09:59Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:09:59Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 11, payload: 0x7f0ed0016ff0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 574, array: 0x55efdc2c80d0 } }, data: MessageData { topic: &quot;app/a45cfb0b-234f-49a3-91e8-0dc6bbef9cbd&quot;, payload: [123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 574, array: 0x55efdc2c80d0 } } } }
[2022-05-09T10:09:59Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55efdc2c7f00, 0x7f0ee0006920
[2022-05-09T10:09:59Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0006920, 0x55efdbef6900
[2022-05-09T10:09:59Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0006920, 0x7f0ee0001af0
[2022-05-09T10:09:59Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0001af0, 0x55efdbe50320
[2022-05-09T10:09:59Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0001af0, 0x7f0ed8003fc0
[2022-05-09T10:09:59Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8003fc0, 0x55efdbef6900
[2022-05-09T10:09:59Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8003fc0, 0x7f0ed8003ad0
[2022-05-09T10:09:59Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8003ad0, 0x55efdbef6900
[2022-05-09T10:09:59Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8003ad0, 0x7f0ed8003b30
[2022-05-09T10:09:59Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8003b30, 0x55efdbef6900
[2022-05-09T10:09:59Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8003b30, 0x55efdbef6900
[2022-05-09T10:09:59Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8003b30, 0x7f0ee0008180
[2022-05-09T10:09:59Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8003b30, 0x55efdbef6900
[2022-05-09T10:09:59Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8003b30, 0x7f0ed8004530
[2022-05-09T10:09:59Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f0ed8004530
[2022-05-09T10:09:59Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/a45cfb0b-234f-49a3-91e8-0dc6bbef9cbd&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;type&quot;: &quot;io.drogue.event.v1&quot;, &quot;device&quot;: &quot;device1&quot;, &quot;subject&quot;: &quot;warmup&quot;, &quot;deviceuid&quot;: &quot;9a4383b4-7411-43ce-86d4-cb29e062bc49&quot;, &quot;source&quot;: &quot;drogue://a45cfb0b%2D234f%2D49a3%2D91e8%2D0dc6bbef9cbd/device1&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;applicationuid&quot;: &quot;65871690-da2d-4171-91d9-3494477a4773&quot;, &quot;time&quot;: &quot;2022-05-09T10:09:59.299864728+00:00&quot;, &quot;senderuid&quot;: &quot;51a21b07-e007-4cc5-9206-deded91a6dfa&quot;, &quot;partitionkey&quot;: &quot;a45cfb0b%2D234f%2D49a3%2D91e8%2D0dc6bbef9cbd/device1&quot;, &quot;id&quot;: &quot;0049fdbd-56d1-47db-ad65-c9636fb41ee6&quot;, &quot;application&quot;: &quot;a45cfb0b-234f-49a3-91e8-0dc6bbef9cbd&quot;, &quot;sender&quot;: &quot;gateway1&quot;, &quot;instance&quot;: &quot;drogue&quot;}, payload: &quot;{\&quot;index\&quot;:3}&quot; }
[2022-05-09T10:10:00Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-09T10:10:00Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-09T10:10:00Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-09T10:10:00Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry/device1
[2022-05-09T10:10:00Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 4, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-endpoint.172.18.0.2.nip.io:30001&quot;, client_id: &quot;9eda7ebe-3de5-427a-8fc9-ba613d52174b&quot;, persistence: None, user_data: None }
[2022-05-09T10:10:00Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T10:10:00Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55efdc114670
[2022-05-09T10:10:00Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55efdc114670
[2022-05-09T10:10:00Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 1, maxInflight: 65535, will: 0x0, username: 0x55efdc116b30, password: 0x55efdbeb5f50, connectTimeout: 30, retryInterval: 0, ssl: 0x55efdc176fd0, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 4, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 0, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55efdbeb9390, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;gateway1@a45cfb0b-234f-49a3-91e8-0dc6bbef9cbd&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T10:10:00Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 18, payload: 0x7f0ed002ab40, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 586, array: 0x55efdbf264f0 } }, data: MessageData { topic: &quot;app/a45cfb0b-234f-49a3-91e8-0dc6bbef9cbd&quot;, payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 586, array: 0x55efdbf264f0 } } } }
[2022-05-09T10:10:00Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55efdbec3b40, 0x55efdc197b20
[2022-05-09T10:10:00Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55efdc197b20, 0x55efdc161320
[2022-05-09T10:10:00Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55efdc197b20, 0x55efdbed6140
[2022-05-09T10:10:00Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55efdbed6140, 0x55efdc2b3850
[2022-05-09T10:10:00Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55efdbed6140, 0x7f0ee0006920
[2022-05-09T10:10:00Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0006920, 0x55efdc161320
[2022-05-09T10:10:00Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0006920, 0x55efdc2b3aa0
[2022-05-09T10:10:00Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0006920, 0x7f0ee0007890
[2022-05-09T10:10:00Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0006920, 0x7f0ee0006ee0
[2022-05-09T10:10:00Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0006ee0, 0x7f0ee0007890
[2022-05-09T10:10:00Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0006ee0, 0x7f0ee0007890
[2022-05-09T10:10:00Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0006ee0, 0x7f0ee0007890
[2022-05-09T10:10:00Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0006ee0, 0x7f0ee0007890
[2022-05-09T10:10:00Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0006ee0, 0x7f0ee00083d0
[2022-05-09T10:10:00Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f0ee00083d0
[2022-05-09T10:10:00Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/a45cfb0b-234f-49a3-91e8-0dc6bbef9cbd&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;subject&quot;: &quot;connection&quot;, &quot;partitionkey&quot;: &quot;a45cfb0b%2D234f%2D49a3%2D91e8%2D0dc6bbef9cbd/gateway1&quot;, &quot;time&quot;: &quot;2022-05-09T10:10:00.417371659+00:00&quot;, &quot;device&quot;: &quot;gateway1&quot;, &quot;senderuid&quot;: &quot;51a21b07-e007-4cc5-9206-deded91a6dfa&quot;, &quot;applicationuid&quot;: &quot;65871690-da2d-4171-91d9-3494477a4773&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;source&quot;: &quot;drogue://a45cfb0b%2D234f%2D49a3%2D91e8%2D0dc6bbef9cbd/gateway1&quot;, &quot;id&quot;: &quot;025dd8b0-593c-466c-a695-0271e09cc10b&quot;, &quot;deviceuid&quot;: &quot;51a21b07-e007-4cc5-9206-deded91a6dfa&quot;, &quot;application&quot;: &quot;a45cfb0b-234f-49a3-91e8-0dc6bbef9cbd&quot;, &quot;type&quot;: &quot;io.drogue.connection.v1&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;sender&quot;: &quot;gateway1&quot;}, payload: &quot;{\&quot;connected\&quot;:true}&quot; }
[2022-05-09T10:10:00Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55efdbeafd60 } }, data: MessageData { topic: &quot;telemetry/device1&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55efdbeafd60 } } } }
[2022-05-09T10:10:00Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-09T10:10:01Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 585, array: 0x55efdbf264f0 } }, data: MessageData { topic: &quot;app/a45cfb0b-234f-49a3-91e8-0dc6bbef9cbd&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 585, array: 0x55efdbf264f0 } } } }
[2022-05-09T10:10:01Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0001b10, 0x55efdbed6140
[2022-05-09T10:10:01Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55efdbed6140, 0x7f0ed002ae60
[2022-05-09T10:10:01Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55efdbed6140, 0x7f0ee0006570
[2022-05-09T10:10:01Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0006570, 0x7f0ed0031290
[2022-05-09T10:10:01Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0006570, 0x7f0ee0008410
[2022-05-09T10:10:01Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0008410, 0x7f0ed002ae60
[2022-05-09T10:10:01Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0008410, 0x7f0ee0005b50
[2022-05-09T10:10:01Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0005b50, 0x7f0ed002ae60
[2022-05-09T10:10:01Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0005b50, 0x7f0ed002ae60
[2022-05-09T10:10:01Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0005b50, 0x7f0ed002ae60
[2022-05-09T10:10:01Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0005b50, 0x7f0ee0001b30
[2022-05-09T10:10:01Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0001b30, 0x7f0ed002ae60
[2022-05-09T10:10:01Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0001b30, 0x7f0ed00160e0
[2022-05-09T10:10:01Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0001b30, 0x7f0ee0007ad0
[2022-05-09T10:10:01Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f0ee0008ab0
[2022-05-09T10:10:01Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/a45cfb0b-234f-49a3-91e8-0dc6bbef9cbd&quot;, content_type: Some(&quot;application/octet-stream&quot;), user_properties: {&quot;device&quot;: &quot;device1&quot;, &quot;applicationuid&quot;: &quot;65871690-da2d-4171-91d9-3494477a4773&quot;, &quot;type&quot;: &quot;io.drogue.event.v1&quot;, &quot;partitionkey&quot;: &quot;a45cfb0b%2D234f%2D49a3%2D91e8%2D0dc6bbef9cbd/device1&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;application&quot;: &quot;a45cfb0b-234f-49a3-91e8-0dc6bbef9cbd&quot;, &quot;senderuid&quot;: &quot;51a21b07-e007-4cc5-9206-deded91a6dfa&quot;, &quot;subject&quot;: &quot;telemetry&quot;, &quot;id&quot;: &quot;aabe5f43-119a-421a-8497-25df41c9400d&quot;, &quot;sender&quot;: &quot;gateway1&quot;, &quot;deviceuid&quot;: &quot;9a4383b4-7411-43ce-86d4-cb29e062bc49&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;source&quot;: &quot;drogue://a45cfb0b%2D234f%2D49a3%2D91e8%2D0dc6bbef9cbd/device1&quot;, &quot;time&quot;: &quot;2022-05-09T10:10:00.642167097+00:00&quot;}, payload: &quot;&quot; }
[2022-05-09T10:10:01Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 19, payload: 0x7f0ed002a8a0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 586, array: 0x55efdc2a2240 } }, data: MessageData { topic: &quot;app/a45cfb0b-234f-49a3-91e8-0dc6bbef9cbd&quot;, payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 102, 97, 108, 115, 101, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 586, array: 0x55efdc2a2240 } } } }
[2022-05-09T10:10:01Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8004ce0, 0x7f0ed8003b10
[2022-05-09T10:10:01Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8003b10, 0x7f0ed0017340
[2022-05-09T10:10:01Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8003b10, 0x7f0ee0001eb0
[2022-05-09T10:10:01Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0001eb0, 0x7f0ed0017120
[2022-05-09T10:10:01Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0001eb0, 0x7f0ed8004530
[2022-05-09T10:10:01Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8004530, 0x7f0ed0017340
[2022-05-09T10:10:01Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8004530, 0x7f0ed0017340
[2022-05-09T10:10:01Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8004530, 0x7f0ed0017340
[2022-05-09T10:10:01Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8004530, 0x7f0ed0017340
[2022-05-09T10:10:01Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8004530, 0x7f0ed80044b0
[2022-05-09T10:10:01Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed80044b0, 0x7f0ed8004530
[2022-05-09T10:10:01Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8004530, 0x7f0ed80044b0
[2022-05-09T10:10:01Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed80044b0, 0x7f0ed0017340
[2022-05-09T10:10:01Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed80044b0, 0x7f0ed0007ad0
[2022-05-09T10:10:01Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f0ed80044b0
[2022-05-09T10:10:01Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/a45cfb0b-234f-49a3-91e8-0dc6bbef9cbd&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;device&quot;: &quot;gateway1&quot;, &quot;senderuid&quot;: &quot;51a21b07-e007-4cc5-9206-deded91a6dfa&quot;, &quot;time&quot;: &quot;2022-05-09T10:10:01.159828346+00:00&quot;, &quot;applicationuid&quot;: &quot;65871690-da2d-4171-91d9-3494477a4773&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;source&quot;: &quot;drogue://a45cfb0b%2D234f%2D49a3%2D91e8%2D0dc6bbef9cbd/gateway1&quot;, &quot;id&quot;: &quot;3e9e6623-1084-48a3-b1bf-af517095d065&quot;, &quot;application&quot;: &quot;a45cfb0b-234f-49a3-91e8-0dc6bbef9cbd&quot;, &quot;type&quot;: &quot;io.drogue.connection.v1&quot;, &quot;deviceuid&quot;: &quot;51a21b07-e007-4cc5-9206-deded91a6dfa&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;subject&quot;: &quot;connection&quot;, &quot;sender&quot;: &quot;gateway1&quot;, &quot;partitionkey&quot;: &quot;a45cfb0b%2D234f%2D49a3%2D91e8%2D0dc6bbef9cbd/gateway1&quot;}, payload: &quot;{\&quot;connected\&quot;:false}&quot; }
[2022-05-09T10:10:01Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-09T10:10:01Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-09T10:10:01Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-09T10:10:01Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;a45cfb0b-234f-49a3-91e8-0dc6bbef9cbd&quot;, device: &quot;gateway1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`,
 right: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;a45cfb0b-234f-49a3-91e8-0dc6bbef9cbd&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`: Position #0&#x27;, src/tools/assert.rs:35:39
[2022-05-09T10:10:01Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-09T10:10:01Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;a45cfb0b-234f-49a3-91e8-0dc6bbef9cbd&quot; &quot;device1&quot;
[2022-05-09T10:10:01Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:10:01Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-05-09T10:10:01Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;a45cfb0b-234f-49a3-91e8-0dc6bbef9cbd&quot; &quot;gateway1&quot;
[2022-05-09T10:10:01Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:10:01Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;a45cfb0b-234f-49a3-91e8-0dc6bbef9cbd&#x27;
[2022-05-09T10:10:01Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;a45cfb0b-234f-49a3-91e8-0dc6bbef9cbd&quot;
[2022-05-09T10:10:01Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App a45cfb0b-234f-49a3-91e8-0dc6bbef9cbd deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_2::integration_version_1::integration_ws_1

**Duration**: 14s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-09T10:10:03Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-09T10:10:03Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T10:10:03Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T10:10:03Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T10:10:03Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T10:10:04Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-09T10:10:06Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-09T10:10:06Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T10:10:06Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T10:10:06Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T10:10:07Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI0NDVmMTM5Zi0wNjNjLTRhZDgtODkwYi1mNTg1OTQ0NjFiZDAifQ.eyJleHAiOjE2NTIwOTI4MDcsImlhdCI6MTY1MjA5MTAwNywianRpIjoiYzE0ZDY5NmYtYmJiZC00MDU5LTgyZmYtZmRiYmQ0YTE3OGJlIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjNkZWIxOWY5LWM3NDYtNGIwMC1hOTA5LTJiOTg4NTVjZTRmMyIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlFldEgyWWpvNzRXV0tVa29DUFU3VlEiLCJzZXNzaW9uX3N0YXRlIjoiNDA5NDg5M2QtOTdjNy00Y2I1LTk3ZDktYzg3MTQ4YWVlOGJmIiwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjQwOTQ4OTNkLTk3YzctNGNiNS05N2Q5LWM4NzE0OGFlZThiZiJ9.1VBQwMeOaVQ4ud4Zr_vagF9BjoFFBmkpcNnuqFUY1tY
[2022-05-09T10:10:07Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-09T10:10:07Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-09T10:10:07Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI0NDVmMTM5Zi0wNjNjLTRhZDgtODkwYi1mNTg1OTQ0NjFiZDAifQ.eyJleHAiOjE2NTIwOTI4MDcsImlhdCI6MTY1MjA5MTAwNywianRpIjoiYzE0ZDY5NmYtYmJiZC00MDU5LTgyZmYtZmRiYmQ0YTE3OGJlIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjNkZWIxOWY5LWM3NDYtNGIwMC1hOTA5LTJiOTg4NTVjZTRmMyIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlFldEgyWWpvNzRXV0tVa29DUFU3VlEiLCJzZXNzaW9uX3N0YXRlIjoiNDA5NDg5M2QtOTdjNy00Y2I1LTk3ZDktYzg3MTQ4YWVlOGJmIiwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjQwOTQ4OTNkLTk3YzctNGNiNS05N2Q5LWM4NzE0OGFlZThiZiJ9.1VBQwMeOaVQ4ud4Zr_vagF9BjoFFBmkpcNnuqFUY1tY&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-09T10:10:08Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:10:08Z INFO  drogue_cloud_tests::resources::apps] Create application: a9cc71da-574f-4e09-8abf-b6e5dcf82350
[2022-05-09T10:10:08Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;a9cc71da-574f-4e09-8abf-b6e5dcf82350&quot;
[2022-05-09T10:10:08Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App a9cc71da-574f-4e09-8abf-b6e5dcf82350 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:10:08Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;a9cc71da-574f-4e09-8abf-b6e5dcf82350&quot;
[2022-05-09T10:10:08Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T10:10:08.688103Z\&quot;,\n    \&quot;generation\&quot;: 1,\n    \&quot;name\&quot;: \&quot;a9cc71da-574f-4e09-8abf-b6e5dcf82350\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;2c0fec8e-44ba-4f29-9bda-622e6d6be687\&quot;,\n    \&quot;uid\&quot;: \&quot;d0e43e79-a496-44d2-a259-6aca005f988d\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:10:08.702032109Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:10:08Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T10:10:08.688103Z&quot;), &quot;generation&quot;: Number(1), &quot;name&quot;: String(&quot;a9cc71da-574f-4e09-8abf-b6e5dcf82350&quot;), &quot;resourceVersion&quot;: String(&quot;2c0fec8e-44ba-4f29-9bda-622e6d6be687&quot;), &quot;uid&quot;: String(&quot;d0e43e79-a496-44d2-a259-6aca005f988d&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:10:08.702032109Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})])})})
[2022-05-09T10:10:08Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-09T10:10:09Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;a9cc71da-574f-4e09-8abf-b6e5dcf82350&quot;
[2022-05-09T10:10:09Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T10:10:08.688103Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;a9cc71da-574f-4e09-8abf-b6e5dcf82350\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;36d4bf31-230c-47d5-9778-4f1485ca57ca\&quot;,\n    \&quot;uid\&quot;: \&quot;d0e43e79-a496-44d2-a259-6aca005f988d\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:10:09.011075330Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:10:09.010973089Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:10:08.746878443Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:10:08.751591511Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:10:08.828929617Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:10:08.835117802Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:10:09.010848385Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:10:09.010943544Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;llCUjY7IULjt\&quot;,\n        \&quot;username\&quot;: \&quot;user-a9cc71da-574f-4e09-8abf-b6e5dcf82350\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:10:09Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T10:10:08.688103Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;a9cc71da-574f-4e09-8abf-b6e5dcf82350&quot;), &quot;resourceVersion&quot;: String(&quot;36d4bf31-230c-47d5-9778-4f1485ca57ca&quot;), &quot;uid&quot;: String(&quot;d0e43e79-a496-44d2-a259-6aca005f988d&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:10:09.011075330Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:10:09.010973089Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:10:08.746878443Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:10:08.751591511Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:10:08.828929617Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:10:08.835117802Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:10:09.010848385Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:10:09.010943544Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;llCUjY7IULjt&quot;), &quot;username&quot;: String(&quot;user-a9cc71da-574f-4e09-8abf-b6e5dcf82350&quot;)})})})})
[2022-05-09T10:10:09Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-09T10:10:09Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;a9cc71da-574f-4e09-8abf-b6e5dcf82350&quot;
[2022-05-09T10:10:09Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T10:10:08.688103Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;a9cc71da-574f-4e09-8abf-b6e5dcf82350\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;36d4bf31-230c-47d5-9778-4f1485ca57ca\&quot;,\n    \&quot;uid\&quot;: \&quot;d0e43e79-a496-44d2-a259-6aca005f988d\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:10:09.011075330Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:10:09.010973089Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:10:08.746878443Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:10:08.751591511Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:10:08.828929617Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:10:08.835117802Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:10:09.010848385Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:10:09.010943544Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;llCUjY7IULjt\&quot;,\n        \&quot;username\&quot;: \&quot;user-a9cc71da-574f-4e09-8abf-b6e5dcf82350\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:10:09Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T10:10:08.688103Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;a9cc71da-574f-4e09-8abf-b6e5dcf82350&quot;), &quot;resourceVersion&quot;: String(&quot;36d4bf31-230c-47d5-9778-4f1485ca57ca&quot;), &quot;uid&quot;: String(&quot;d0e43e79-a496-44d2-a259-6aca005f988d&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:10:09.011075330Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:10:09.010973089Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:10:08.746878443Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:10:08.751591511Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:10:08.828929617Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:10:08.835117802Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:10:09.010848385Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:10:09.010943544Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;llCUjY7IULjt&quot;), &quot;username&quot;: String(&quot;user-a9cc71da-574f-4e09-8abf-b6e5dcf82350&quot;)})})})})
[2022-05-09T10:10:09Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-09T10:10:09Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-05-09T10:10:09Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;a9cc71da-574f-4e09-8abf-b6e5dcf82350&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-09T10:10:09Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:10:09Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:10:09Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T10:10:09Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T10:10:09Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJXRG4zQ2wwMVNsYVpRRnRTbUpuS2JqWC1wcXdsR21xWDhSUFNWSHgxUHgwIn0.eyJleHAiOjE2NTIwOTEzMDcsImlhdCI6MTY1MjA5MTAwNywiYXV0aF90aW1lIjoxNjUyMDkxMDA1LCJqdGkiOiIyM2UwYjU3OS1kMzNkLTQyZWYtYmQ3ZS1lZTczY2FkZTRhMDQiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiM2RlYjE5ZjktYzc0Ni00YjAwLWE5MDktMmI5ODg1NWNlNGYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJRZXRIMllqbzc0V1dLVWtvQ1BVN1ZRIiwic2Vzc2lvbl9zdGF0ZSI6IjQwOTQ4OTNkLTk3YzctNGNiNS05N2Q5LWM4NzE0OGFlZThiZiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjQwOTQ4OTNkLTk3YzctNGNiNS05N2Q5LWM4NzE0OGFlZThiZiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.tc8S7Sm5o-kyIDV4KfdJDb3h8s6aUtC_3eB6Nd1zDmMq2SnoFZf7FBI3-787BQ4VsYqrRm5PKhMl2h6j4Hg3W7yyPvINrYqVcJ_Cr57nJQloy3Ho2k_Hv1qIGgEC6vG9faKO9dhUO5sEbhJ1f8Xvnaad9mvROGoWNZ4rwOj5SlRrDxy6iU9n5x9HI8X6QN4zaA7qzQ0Tb-GoQD-qqwryjQ5Yzc8stbSsLxDeJX7kyIDxhV3-isi_7NNKIneADICYbsusmEsMdDDtBp53TU_tMjexcXNMJF5FdqVimyvl-bwSUi024PTTzj2rrfr-j6QD1h_bCC4cpQm8TPOdhIyVYQ\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:10:09Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T10:10:09Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-09T10:10:09Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-09T10:10:09Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;a9cc71da-574f-4e09-8abf-b6e5dcf82350&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-05-09T10:10:09Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:10:09Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: ssl://mqtt-integration.172.18.0.2.nip.io:30002
[2022-05-09T10:10:09Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T10:10:09Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJXRG4zQ2wwMVNsYVpRRnRTbUpuS2JqWC1wcXdsR21xWDhSUFNWSHgxUHgwIn0.eyJleHAiOjE2NTIwOTEzMDcsImlhdCI6MTY1MjA5MTAwNywiYXV0aF90aW1lIjoxNjUyMDkxMDA1LCJqdGkiOiIyM2UwYjU3OS1kMzNkLTQyZWYtYmQ3ZS1lZTczY2FkZTRhMDQiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiM2RlYjE5ZjktYzc0Ni00YjAwLWE5MDktMmI5ODg1NWNlNGYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJRZXRIMllqbzc0V1dLVWtvQ1BVN1ZRIiwic2Vzc2lvbl9zdGF0ZSI6IjQwOTQ4OTNkLTk3YzctNGNiNS05N2Q5LWM4NzE0OGFlZThiZiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjQwOTQ4OTNkLTk3YzctNGNiNS05N2Q5LWM4NzE0OGFlZThiZiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.tc8S7Sm5o-kyIDV4KfdJDb3h8s6aUtC_3eB6Nd1zDmMq2SnoFZf7FBI3-787BQ4VsYqrRm5PKhMl2h6j4Hg3W7yyPvINrYqVcJ_Cr57nJQloy3Ho2k_Hv1qIGgEC6vG9faKO9dhUO5sEbhJ1f8Xvnaad9mvROGoWNZ4rwOj5SlRrDxy6iU9n5x9HI8X6QN4zaA7qzQ0Tb-GoQD-qqwryjQ5Yzc8stbSsLxDeJX7kyIDxhV3-isi_7NNKIneADICYbsusmEsMdDDtBp53TU_tMjexcXNMJF5FdqVimyvl-bwSUi024PTTzj2rrfr-j6QD1h_bCC4cpQm8TPOdhIyVYQ\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:10:09Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 4, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-integration.172.18.0.2.nip.io:30002&quot;, client_id: &quot;93a24389-4106-44e0-981e-dfa8874bbf36&quot;, persistence: None, user_data: None }
[2022-05-09T10:10:09Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T10:10:09Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55efdc038ee0
[2022-05-09T10:10:09Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55efdc038ee0
[2022-05-09T10:10:09Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 1, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x55efdbf0e8c0, connectTimeout: 30, retryInterval: 0, ssl: 0x55efdc114d20, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 4, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 0, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55efdbec7760, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJXRG4zQ2wwMVNsYVpRRnRTbUpuS2JqWC1wcXdsR21xWDhSUFNWSHgxUHgwIn0.eyJleHAiOjE2NTIwOTEzMDcsImlhdCI6MTY1MjA5MTAwNywiYXV0aF90aW1lIjoxNjUyMDkxMDA1LCJqdGkiOiIyM2UwYjU3OS1kMzNkLTQyZWYtYmQ3ZS1lZTczY2FkZTRhMDQiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiM2RlYjE5ZjktYzc0Ni00YjAwLWE5MDktMmI5ODg1NWNlNGYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJRZXRIMllqbzc0V1dLVWtvQ1BVN1ZRIiwic2Vzc2lvbl9zdGF0ZSI6IjQwOTQ4OTNkLTk3YzctNGNiNS05N2Q5LWM4NzE0OGFlZThiZiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjQwOTQ4OTNkLTk3YzctNGNiNS05N2Q5LWM4NzE0OGFlZThiZiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.tc8S7Sm5o-kyIDV4KfdJDb3h8s6aUtC_3eB6Nd1zDmMq2SnoFZf7FBI3-787BQ4VsYqrRm5PKhMl2h6j4Hg3W7yyPvINrYqVcJ_Cr57nJQloy3Ho2k_Hv1qIGgEC6vG9faKO9dhUO5sEbhJ1f8Xvnaad9mvROGoWNZ4rwOj5SlRrDxy6iU9n5x9HI8X6QN4zaA7qzQ0Tb-GoQD-qqwryjQ5Yzc8stbSsLxDeJX7kyIDxhV3-isi_7NNKIneADICYbsusmEsMdDDtBp53TU_tMjexcXNMJF5FdqVimyvl-bwSUi024PTTzj2rrfr-j6QD1h_bCC4cpQm8TPOdhIyVYQ&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T10:10:09Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/a9cc71da-574f-4e09-8abf-b6e5dcf82350&quot;&#x27; @ QOS 0
[2022-05-09T10:10:09Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-09T10:10:09Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-09T10:10:09Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:10:09Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:10:09Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:10:10Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:10:11Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:10:11Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:10:11Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:10:11Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:10:12Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:10:12Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:10:12Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:10:12Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:10:13Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:10:13Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:10:13Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:10:13Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:10:13Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 621, payload: 0x7f0ed002c4d0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/a9cc71da-574f-4e09-8abf-b6e5dcf82350&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 52, 57, 55, 100, 55, 50, 97, 57, 45, 97, 102, 53, 55, 45, 52, 97, 54, 53, 45, 57, 49, 55, 56, 45, 54, 54, 98, 102, 53, 97, 98, 55, 53, 51, 56, 101, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 97, 57, 99, 99, 55, 49, 100, 97, 37, 50, 68, 53, 55, 52, 102, 37, 50, 68, 52, 101, 48, 57, 37, 50, 68, 56, 97, 98, 102, 37, 50, 68, 98, 54, 101, 53, 100, 99, 102, 56, 50, 51, 53, 48, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 119, 97, 114, 109, 117, 112, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 48, 58, 49, 48, 58, 49, 51, 46, 51, 51, 56, 52, 48, 57, 54, 49, 54, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 102, 99, 48, 51, 54, 50, 100, 97, 45, 99, 102, 100, 54, 45, 52, 52, 100, 55, 45, 97, 99, 98, 52, 45, 99, 53, 52, 100, 49, 53, 49, 48, 57, 49, 48, 54, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 97, 57, 99, 99, 55, 49, 100, 97, 45, 53, 55, 52, 102, 45, 52, 101, 48, 57, 45, 56, 97, 98, 102, 45, 98, 54, 101, 53, 100, 99, 102, 56, 50, 51, 53, 48, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 99, 100, 55, 52, 48, 50, 49, 102, 45, 99, 50, 98, 49, 45, 52, 55, 97, 52, 45, 97, 101, 54, 49, 45, 50, 102, 99, 50, 56, 54, 100, 99, 52, 50, 97, 50, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 100, 48, 101, 52, 51, 101, 55, 57, 45, 97, 52, 57, 54, 45, 52, 52, 100, 50, 45, 97, 50, 53, 57, 45, 54, 97, 99, 97, 48, 48, 53, 102, 57, 56, 56, 100, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 97, 57, 99, 99, 55, 49, 100, 97, 37, 50, 68, 53, 55, 52, 102, 37, 50, 68, 52, 101, 48, 57, 37, 50, 68, 56, 97, 98, 102, 37, 50, 68, 98, 54, 101, 53, 100, 99, 102, 56, 50, 51, 53, 48, 47, 100, 101, 118, 105, 99, 101, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-09T10:10:13Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/a9cc71da-574f-4e09-8abf-b6e5dcf82350&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;497d72a9-af57-4a65-9178-66bf5ab7538e\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://a9cc71da%2D574f%2D4e09%2D8abf%2Db6e5dcf82350/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;warmup\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T10:10:13.338409616Z\&quot;,\&quot;data\&quot;:{\&quot;index\&quot;:3},\&quot;senderuid\&quot;:\&quot;fc0362da-cfd6-44d7-acb4-c54d15109106\&quot;,\&quot;application\&quot;:\&quot;a9cc71da-574f-4e09-8abf-b6e5dcf82350\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;deviceuid\&quot;:\&quot;cd74021f-c2b1-47a4-ae61-2fc286dc42a2\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;applicationuid\&quot;:\&quot;d0e43e79-a496-44d2-a259-6aca005f988d\&quot;,\&quot;partitionkey\&quot;:\&quot;a9cc71da%2D574f%2D4e09%2D8abf%2Db6e5dcf82350/device1\&quot;}&quot; }
[2022-05-09T10:10:14Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-09T10:10:14Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-09T10:10:14Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-09T10:10:14Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry/device1
[2022-05-09T10:10:14Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 4, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005/mqtt&quot;, client_id: &quot;e971cdc0-4dd2-44ff-9201-1381f8ecb8dc&quot;, persistence: None, user_data: None }
[2022-05-09T10:10:14Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T10:10:14Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55efdc05a790
[2022-05-09T10:10:14Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55efdc05a790
[2022-05-09T10:10:14Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 1, maxInflight: 65535, will: 0x0, username: 0x55efdc101fc0, password: 0x55efdc1f9660, connectTimeout: 30, retryInterval: 0, ssl: 0x55efdbfaa9f0, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 4, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 0, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55efdc05a750, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;gateway1@a9cc71da-574f-4e09-8abf-b6e5dcf82350&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T10:10:14Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 640, payload: 0x7f0ed0002b30, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/a9cc71da-574f-4e09-8abf-b6e5dcf82350&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 50, 99, 50, 54, 98, 101, 50, 53, 45, 51, 54, 100, 55, 45, 52, 48, 54, 54, 45, 98, 51, 55, 102, 45, 57, 101, 102, 50, 52, 100, 102, 102, 56, 56, 56, 101, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 97, 57, 99, 99, 55, 49, 100, 97, 37, 50, 68, 53, 55, 52, 102, 37, 50, 68, 52, 101, 48, 57, 37, 50, 68, 56, 97, 98, 102, 37, 50, 68, 98, 54, 101, 53, 100, 99, 102, 56, 50, 51, 53, 48, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 48, 58, 49, 48, 58, 49, 52, 46, 52, 54, 53, 53, 52, 54, 56, 55, 55, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 97, 57, 99, 99, 55, 49, 100, 97, 37, 50, 68, 53, 55, 52, 102, 37, 50, 68, 52, 101, 48, 57, 37, 50, 68, 56, 97, 98, 102, 37, 50, 68, 98, 54, 101, 53, 100, 99, 102, 56, 50, 51, 53, 48, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 100, 48, 101, 52, 51, 101, 55, 57, 45, 97, 52, 57, 54, 45, 52, 52, 100, 50, 45, 97, 50, 53, 57, 45, 54, 97, 99, 97, 48, 48, 53, 102, 57, 56, 56, 100, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 102, 99, 48, 51, 54, 50, 100, 97, 45, 99, 102, 100, 54, 45, 52, 52, 100, 55, 45, 97, 99, 98, 52, 45, 99, 53, 52, 100, 49, 53, 49, 48, 57, 49, 48, 54, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 97, 57, 99, 99, 55, 49, 100, 97, 45, 53, 55, 52, 102, 45, 52, 101, 48, 57, 45, 56, 97, 98, 102, 45, 98, 54, 101, 53, 100, 99, 102, 56, 50, 51, 53, 48, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 102, 99, 48, 51, 54, 50, 100, 97, 45, 99, 102, 100, 54, 45, 52, 52, 100, 55, 45, 97, 99, 98, 52, 45, 99, 53, 52, 100, 49, 53, 49, 48, 57, 49, 48, 54, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-09T10:10:14Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/a9cc71da-574f-4e09-8abf-b6e5dcf82350&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;2c26be25-36d7-4066-b37f-9ef24dff888e\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://a9cc71da%2D574f%2D4e09%2D8abf%2Db6e5dcf82350/gateway1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T10:10:14.465546877Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:true},\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;partitionkey\&quot;:\&quot;a9cc71da%2D574f%2D4e09%2D8abf%2Db6e5dcf82350/gateway1\&quot;,\&quot;applicationuid\&quot;:\&quot;d0e43e79-a496-44d2-a259-6aca005f988d\&quot;,\&quot;device\&quot;:\&quot;gateway1\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;senderuid\&quot;:\&quot;fc0362da-cfd6-44d7-acb4-c54d15109106\&quot;,\&quot;application\&quot;:\&quot;a9cc71da-574f-4e09-8abf-b6e5dcf82350\&quot;,\&quot;deviceuid\&quot;:\&quot;fc0362da-cfd6-44d7-acb4-c54d15109106\&quot;}&quot; }
[2022-05-09T10:10:14Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55efdbfb9840 } }, data: MessageData { topic: &quot;telemetry/device1&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55efdbfb9840 } } } }
[2022-05-09T10:10:14Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-09T10:10:15Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 630, payload: 0x7f0ed0002dc0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/a9cc71da-574f-4e09-8abf-b6e5dcf82350&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 102, 57, 98, 98, 55, 57, 100, 99, 45, 55, 50, 48, 101, 45, 52, 100, 55, 57, 45, 98, 54, 97, 51, 45, 54, 99, 102, 98, 101, 49, 57, 49, 53, 54, 56, 97, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 97, 57, 99, 99, 55, 49, 100, 97, 37, 50, 68, 53, 55, 52, 102, 37, 50, 68, 52, 101, 48, 57, 37, 50, 68, 56, 97, 98, 102, 37, 50, 68, 98, 54, 101, 53, 100, 99, 102, 56, 50, 51, 53, 48, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 111, 99, 116, 101, 116, 45, 115, 116, 114, 101, 97, 109, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 116, 101, 108, 101, 109, 101, 116, 114, 121, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 48, 58, 49, 48, 58, 49, 52, 46, 54, 54, 48, 57, 51, 51, 48, 50, 48, 90, 34, 44, 34, 100, 97, 116, 97, 95, 98, 97, 115, 101, 54, 52, 34, 58, 34, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 102, 99, 48, 51, 54, 50, 100, 97, 45, 99, 102, 100, 54, 45, 52, 52, 100, 55, 45, 97, 99, 98, 52, 45, 99, 53, 52, 100, 49, 53, 49, 48, 57, 49, 48, 54, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 97, 57, 99, 99, 55, 49, 100, 97, 37, 50, 68, 53, 55, 52, 102, 37, 50, 68, 52, 101, 48, 57, 37, 50, 68, 56, 97, 98, 102, 37, 50, 68, 98, 54, 101, 53, 100, 99, 102, 56, 50, 51, 53, 48, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 97, 57, 99, 99, 55, 49, 100, 97, 45, 53, 55, 52, 102, 45, 52, 101, 48, 57, 45, 56, 97, 98, 102, 45, 98, 54, 101, 53, 100, 99, 102, 56, 50, 51, 53, 48, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 100, 48, 101, 52, 51, 101, 55, 57, 45, 97, 52, 57, 54, 45, 52, 52, 100, 50, 45, 97, 50, 53, 57, 45, 54, 97, 99, 97, 48, 48, 53, 102, 57, 56, 56, 100, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 99, 100, 55, 52, 48, 50, 49, 102, 45, 99, 50, 98, 49, 45, 52, 55, 97, 52, 45, 97, 101, 54, 49, 45, 50, 102, 99, 50, 56, 54, 100, 99, 52, 50, 97, 50, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-09T10:10:15Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/a9cc71da-574f-4e09-8abf-b6e5dcf82350&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;f9bb79dc-720e-4d79-b6a3-6cfbe191568a\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://a9cc71da%2D574f%2D4e09%2D8abf%2Db6e5dcf82350/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/octet-stream\&quot;,\&quot;subject\&quot;:\&quot;telemetry\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T10:10:14.660933020Z\&quot;,\&quot;data_base64\&quot;:\&quot;\&quot;,\&quot;senderuid\&quot;:\&quot;fc0362da-cfd6-44d7-acb4-c54d15109106\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;partitionkey\&quot;:\&quot;a9cc71da%2D574f%2D4e09%2D8abf%2Db6e5dcf82350/device1\&quot;,\&quot;application\&quot;:\&quot;a9cc71da-574f-4e09-8abf-b6e5dcf82350\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;applicationuid\&quot;:\&quot;d0e43e79-a496-44d2-a259-6aca005f988d\&quot;,\&quot;deviceuid\&quot;:\&quot;cd74021f-c2b1-47a4-ae61-2fc286dc42a2\&quot;}&quot; }
[2022-05-09T10:10:15Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 641, payload: 0x7f0ed001b2b0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/a9cc71da-574f-4e09-8abf-b6e5dcf82350&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 51, 50, 51, 50, 54, 49, 53, 52, 45, 56, 56, 56, 100, 45, 52, 50, 52, 50, 45, 56, 50, 52, 49, 45, 49, 98, 99, 51, 53, 101, 101, 50, 48, 98, 101, 98, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 97, 57, 99, 99, 55, 49, 100, 97, 37, 50, 68, 53, 55, 52, 102, 37, 50, 68, 52, 101, 48, 57, 37, 50, 68, 56, 97, 98, 102, 37, 50, 68, 98, 54, 101, 53, 100, 99, 102, 56, 50, 51, 53, 48, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 48, 58, 49, 48, 58, 49, 53, 46, 52, 52, 49, 50, 52, 55, 53, 57, 51, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 102, 97, 108, 115, 101, 125, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 102, 99, 48, 51, 54, 50, 100, 97, 45, 99, 102, 100, 54, 45, 52, 52, 100, 55, 45, 97, 99, 98, 52, 45, 99, 53, 52, 100, 49, 53, 49, 48, 57, 49, 48, 54, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 97, 57, 99, 99, 55, 49, 100, 97, 37, 50, 68, 53, 55, 52, 102, 37, 50, 68, 52, 101, 48, 57, 37, 50, 68, 56, 97, 98, 102, 37, 50, 68, 98, 54, 101, 53, 100, 99, 102, 56, 50, 51, 53, 48, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 100, 48, 101, 52, 51, 101, 55, 57, 45, 97, 52, 57, 54, 45, 52, 52, 100, 50, 45, 97, 50, 53, 57, 45, 54, 97, 99, 97, 48, 48, 53, 102, 57, 56, 56, 100, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 102, 99, 48, 51, 54, 50, 100, 97, 45, 99, 102, 100, 54, 45, 52, 52, 100, 55, 45, 97, 99, 98, 52, 45, 99, 53, 52, 100, 49, 53, 49, 48, 57, 49, 48, 54, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 97, 57, 99, 99, 55, 49, 100, 97, 45, 53, 55, 52, 102, 45, 52, 101, 48, 57, 45, 56, 97, 98, 102, 45, 98, 54, 101, 53, 100, 99, 102, 56, 50, 51, 53, 48, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-09T10:10:15Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/a9cc71da-574f-4e09-8abf-b6e5dcf82350&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;32326154-888d-4242-8241-1bc35ee20beb\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://a9cc71da%2D574f%2D4e09%2D8abf%2Db6e5dcf82350/gateway1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T10:10:15.441247593Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:false},\&quot;device\&quot;:\&quot;gateway1\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;deviceuid\&quot;:\&quot;fc0362da-cfd6-44d7-acb4-c54d15109106\&quot;,\&quot;partitionkey\&quot;:\&quot;a9cc71da%2D574f%2D4e09%2D8abf%2Db6e5dcf82350/gateway1\&quot;,\&quot;applicationuid\&quot;:\&quot;d0e43e79-a496-44d2-a259-6aca005f988d\&quot;,\&quot;senderuid\&quot;:\&quot;fc0362da-cfd6-44d7-acb4-c54d15109106\&quot;,\&quot;application\&quot;:\&quot;a9cc71da-574f-4e09-8abf-b6e5dcf82350\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;}&quot; }
[2022-05-09T10:10:15Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-09T10:10:15Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-09T10:10:15Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-09T10:10:15Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;a9cc71da-574f-4e09-8abf-b6e5dcf82350&quot;, device: &quot;gateway1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`,
 right: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;a9cc71da-574f-4e09-8abf-b6e5dcf82350&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`: Position #0&#x27;, src/tools/assert.rs:35:39
[2022-05-09T10:10:15Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-09T10:10:15Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;a9cc71da-574f-4e09-8abf-b6e5dcf82350&quot; &quot;device1&quot;
[2022-05-09T10:10:15Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:10:15Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-05-09T10:10:15Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;a9cc71da-574f-4e09-8abf-b6e5dcf82350&quot; &quot;gateway1&quot;
[2022-05-09T10:10:15Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:10:15Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;a9cc71da-574f-4e09-8abf-b6e5dcf82350&#x27;
[2022-05-09T10:10:15Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;a9cc71da-574f-4e09-8abf-b6e5dcf82350&quot;
[2022-05-09T10:10:15Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App a9cc71da-574f-4e09-8abf-b6e5dcf82350 deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_2::integration_version_1::integration_ws_2

**Duration**: 14s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-09T10:10:17Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-09T10:10:17Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T10:10:17Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T10:10:17Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T10:10:17Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T10:10:18Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-09T10:10:20Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-09T10:10:20Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T10:10:20Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T10:10:20Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T10:10:22Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI0NDVmMTM5Zi0wNjNjLTRhZDgtODkwYi1mNTg1OTQ0NjFiZDAifQ.eyJleHAiOjE2NTIwOTI4MjIsImlhdCI6MTY1MjA5MTAyMiwianRpIjoiYzQ5ZmJlYzktZjk0MS00MWE2LTg0ZjAtNDYwMjIxMzgzYjgzIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjNkZWIxOWY5LWM3NDYtNGIwMC1hOTA5LTJiOTg4NTVjZTRmMyIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlIyYUVvVkpJR2YyR096eEcxTXhZUUEiLCJzZXNzaW9uX3N0YXRlIjoiYzhlMjIxMjctZTk1YS00ZmZiLTllN2EtNGQzMTUzMjAzMmEzIiwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImM4ZTIyMTI3LWU5NWEtNGZmYi05ZTdhLTRkMzE1MzIwMzJhMyJ9.Eu8-_F-X6aaqlo9cz7IBHYboNSJ3zTDYNWkcBcS0oeI
[2022-05-09T10:10:22Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-09T10:10:22Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-09T10:10:22Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI0NDVmMTM5Zi0wNjNjLTRhZDgtODkwYi1mNTg1OTQ0NjFiZDAifQ.eyJleHAiOjE2NTIwOTI4MjIsImlhdCI6MTY1MjA5MTAyMiwianRpIjoiYzQ5ZmJlYzktZjk0MS00MWE2LTg0ZjAtNDYwMjIxMzgzYjgzIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjNkZWIxOWY5LWM3NDYtNGIwMC1hOTA5LTJiOTg4NTVjZTRmMyIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlIyYUVvVkpJR2YyR096eEcxTXhZUUEiLCJzZXNzaW9uX3N0YXRlIjoiYzhlMjIxMjctZTk1YS00ZmZiLTllN2EtNGQzMTUzMjAzMmEzIiwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImM4ZTIyMTI3LWU5NWEtNGZmYi05ZTdhLTRkMzE1MzIwMzJhMyJ9.Eu8-_F-X6aaqlo9cz7IBHYboNSJ3zTDYNWkcBcS0oeI&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-09T10:10:22Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:10:23Z INFO  drogue_cloud_tests::resources::apps] Create application: a07db814-52a9-487c-abe7-a140f7679cc9
[2022-05-09T10:10:23Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;a07db814-52a9-487c-abe7-a140f7679cc9&quot;
[2022-05-09T10:10:23Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App a07db814-52a9-487c-abe7-a140f7679cc9 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:10:23Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;a07db814-52a9-487c-abe7-a140f7679cc9&quot;
[2022-05-09T10:10:23Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T10:10:23.398764Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;name\&quot;: \&quot;a07db814-52a9-487c-abe7-a140f7679cc9\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;ae888b05-8f1c-48cc-bb7e-fa5e6ea501c4\&quot;,\n    \&quot;uid\&quot;: \&quot;bceb5fe2-3130-4731-b60f-828da3315bea\&quot;\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:10:23Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T10:10:23.398764Z&quot;), &quot;generation&quot;: Number(0), &quot;name&quot;: String(&quot;a07db814-52a9-487c-abe7-a140f7679cc9&quot;), &quot;resourceVersion&quot;: String(&quot;ae888b05-8f1c-48cc-bb7e-fa5e6ea501c4&quot;), &quot;uid&quot;: String(&quot;bceb5fe2-3130-4731-b60f-828da3315bea&quot;)})})
[2022-05-09T10:10:23Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-09T10:10:24Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;a07db814-52a9-487c-abe7-a140f7679cc9&quot;
[2022-05-09T10:10:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T10:10:23.398764Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 8,\n    \&quot;name\&quot;: \&quot;a07db814-52a9-487c-abe7-a140f7679cc9\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;d4d3bda4-cff5-46d4-90dd-e0476f1bbe21\&quot;,\n    \&quot;uid\&quot;: \&quot;bceb5fe2-3130-4731-b60f-828da3315bea\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:10:23.924883169Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:10:23.924922303Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:10:23.494719782Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:10:23.501713835Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:10:23.647177216Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:10:23.653646990Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:10:23.924837655Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:10:23.924856170Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 7,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;kFAqlNrqnGGE\&quot;,\n        \&quot;username\&quot;: \&quot;user-a07db814-52a9-487c-abe7-a140f7679cc9\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:10:24Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T10:10:23.398764Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(8), &quot;name&quot;: String(&quot;a07db814-52a9-487c-abe7-a140f7679cc9&quot;), &quot;resourceVersion&quot;: String(&quot;d4d3bda4-cff5-46d4-90dd-e0476f1bbe21&quot;), &quot;uid&quot;: String(&quot;bceb5fe2-3130-4731-b60f-828da3315bea&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:10:23.924883169Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:10:23.924922303Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:10:23.494719782Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:10:23.501713835Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:10:23.647177216Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:10:23.653646990Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:10:23.924837655Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:10:23.924856170Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(7), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;kFAqlNrqnGGE&quot;), &quot;username&quot;: String(&quot;user-a07db814-52a9-487c-abe7-a140f7679cc9&quot;)})})})})
[2022-05-09T10:10:24Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-09T10:10:24Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;a07db814-52a9-487c-abe7-a140f7679cc9&quot;
[2022-05-09T10:10:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T10:10:23.398764Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 8,\n    \&quot;name\&quot;: \&quot;a07db814-52a9-487c-abe7-a140f7679cc9\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;d4d3bda4-cff5-46d4-90dd-e0476f1bbe21\&quot;,\n    \&quot;uid\&quot;: \&quot;bceb5fe2-3130-4731-b60f-828da3315bea\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:10:23.924883169Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:10:23.924922303Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:10:23.494719782Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:10:23.501713835Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:10:23.647177216Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:10:23.653646990Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:10:23.924837655Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:10:23.924856170Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 7,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;kFAqlNrqnGGE\&quot;,\n        \&quot;username\&quot;: \&quot;user-a07db814-52a9-487c-abe7-a140f7679cc9\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:10:24Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T10:10:23.398764Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(8), &quot;name&quot;: String(&quot;a07db814-52a9-487c-abe7-a140f7679cc9&quot;), &quot;resourceVersion&quot;: String(&quot;d4d3bda4-cff5-46d4-90dd-e0476f1bbe21&quot;), &quot;uid&quot;: String(&quot;bceb5fe2-3130-4731-b60f-828da3315bea&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:10:23.924883169Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:10:23.924922303Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:10:23.494719782Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:10:23.501713835Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:10:23.647177216Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:10:23.653646990Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:10:23.924837655Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:10:23.924856170Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(7), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;kFAqlNrqnGGE&quot;), &quot;username&quot;: String(&quot;user-a07db814-52a9-487c-abe7-a140f7679cc9&quot;)})})})})
[2022-05-09T10:10:24Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-09T10:10:24Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-05-09T10:10:24Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;a07db814-52a9-487c-abe7-a140f7679cc9&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-09T10:10:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:10:24Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:10:24Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T10:10:24Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T10:10:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJXRG4zQ2wwMVNsYVpRRnRTbUpuS2JqWC1wcXdsR21xWDhSUFNWSHgxUHgwIn0.eyJleHAiOjE2NTIwOTEzMjIsImlhdCI6MTY1MjA5MTAyMiwiYXV0aF90aW1lIjoxNjUyMDkxMDE5LCJqdGkiOiJjMWQwMWVmNS0zOTIxLTQwN2UtYjY1Ni1iYTExZjJhNWYxYjIiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiM2RlYjE5ZjktYzc0Ni00YjAwLWE5MDktMmI5ODg1NWNlNGYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJSMmFFb1ZKSUdmMkdPenhHMU14WVFBIiwic2Vzc2lvbl9zdGF0ZSI6ImM4ZTIyMTI3LWU5NWEtNGZmYi05ZTdhLTRkMzE1MzIwMzJhMyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImM4ZTIyMTI3LWU5NWEtNGZmYi05ZTdhLTRkMzE1MzIwMzJhMyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.nwaJK8euvqXBHezh0QbQHlYzXsnRJ_pkmgv4nPmWOIEX8K7JrsIa6wr-TnlGccRNiL0z2Dji3QIhZBay0M-sMqxNNRR2GrUuYPV3axhGHJEGjuVL8COwOPWaTfxXva9S_nCBrQ4Cj2YRI4dasKKn8NcejmXiBAkNGLBazxwnRK7ZeyI0FsglvD-Wu6ZJb2j9_suUA9fKizCiD-5kw6qLeJFnGRGCegj3dZHz-kf9evpvB3DUYQ7Ua05gFGNbeuBYwB2Ii9Y-2wzrn5Coh47NaeYJcSWrVteXjv67uksYorIpj-dTSEAqRWQmXjYElDwvu5BT5WkXfQ_J-i-g84Jf2A\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:10:24Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T10:10:24Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-09T10:10:24Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-09T10:10:24Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;a07db814-52a9-487c-abe7-a140f7679cc9&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-05-09T10:10:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:10:24Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt
[2022-05-09T10:10:24Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T10:10:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJXRG4zQ2wwMVNsYVpRRnRTbUpuS2JqWC1wcXdsR21xWDhSUFNWSHgxUHgwIn0.eyJleHAiOjE2NTIwOTEzMjIsImlhdCI6MTY1MjA5MTAyMiwiYXV0aF90aW1lIjoxNjUyMDkxMDE5LCJqdGkiOiJjMWQwMWVmNS0zOTIxLTQwN2UtYjY1Ni1iYTExZjJhNWYxYjIiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiM2RlYjE5ZjktYzc0Ni00YjAwLWE5MDktMmI5ODg1NWNlNGYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJSMmFFb1ZKSUdmMkdPenhHMU14WVFBIiwic2Vzc2lvbl9zdGF0ZSI6ImM4ZTIyMTI3LWU5NWEtNGZmYi05ZTdhLTRkMzE1MzIwMzJhMyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImM4ZTIyMTI3LWU5NWEtNGZmYi05ZTdhLTRkMzE1MzIwMzJhMyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.nwaJK8euvqXBHezh0QbQHlYzXsnRJ_pkmgv4nPmWOIEX8K7JrsIa6wr-TnlGccRNiL0z2Dji3QIhZBay0M-sMqxNNRR2GrUuYPV3axhGHJEGjuVL8COwOPWaTfxXva9S_nCBrQ4Cj2YRI4dasKKn8NcejmXiBAkNGLBazxwnRK7ZeyI0FsglvD-Wu6ZJb2j9_suUA9fKizCiD-5kw6qLeJFnGRGCegj3dZHz-kf9evpvB3DUYQ7Ua05gFGNbeuBYwB2Ii9Y-2wzrn5Coh47NaeYJcSWrVteXjv67uksYorIpj-dTSEAqRWQmXjYElDwvu5BT5WkXfQ_J-i-g84Jf2A\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:10:24Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 4, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt&quot;, client_id: &quot;59986f7b-4f49-4d21-974c-3b867a96fcdb&quot;, persistence: None, user_data: None }
[2022-05-09T10:10:24Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T10:10:24Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55efdbff7560
[2022-05-09T10:10:24Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55efdbff7560
[2022-05-09T10:10:24Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 1, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x55efdbff84c0, connectTimeout: 30, retryInterval: 0, ssl: 0x55efdbe943a0, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 4, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 0, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55efdbf12f10, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJXRG4zQ2wwMVNsYVpRRnRTbUpuS2JqWC1wcXdsR21xWDhSUFNWSHgxUHgwIn0.eyJleHAiOjE2NTIwOTEzMjIsImlhdCI6MTY1MjA5MTAyMiwiYXV0aF90aW1lIjoxNjUyMDkxMDE5LCJqdGkiOiJjMWQwMWVmNS0zOTIxLTQwN2UtYjY1Ni1iYTExZjJhNWYxYjIiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiM2RlYjE5ZjktYzc0Ni00YjAwLWE5MDktMmI5ODg1NWNlNGYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJSMmFFb1ZKSUdmMkdPenhHMU14WVFBIiwic2Vzc2lvbl9zdGF0ZSI6ImM4ZTIyMTI3LWU5NWEtNGZmYi05ZTdhLTRkMzE1MzIwMzJhMyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImM4ZTIyMTI3LWU5NWEtNGZmYi05ZTdhLTRkMzE1MzIwMzJhMyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.nwaJK8euvqXBHezh0QbQHlYzXsnRJ_pkmgv4nPmWOIEX8K7JrsIa6wr-TnlGccRNiL0z2Dji3QIhZBay0M-sMqxNNRR2GrUuYPV3axhGHJEGjuVL8COwOPWaTfxXva9S_nCBrQ4Cj2YRI4dasKKn8NcejmXiBAkNGLBazxwnRK7ZeyI0FsglvD-Wu6ZJb2j9_suUA9fKizCiD-5kw6qLeJFnGRGCegj3dZHz-kf9evpvB3DUYQ7Ua05gFGNbeuBYwB2Ii9Y-2wzrn5Coh47NaeYJcSWrVteXjv67uksYorIpj-dTSEAqRWQmXjYElDwvu5BT5WkXfQ_J-i-g84Jf2A&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T10:10:24Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/a07db814-52a9-487c-abe7-a140f7679cc9&quot;&#x27; @ QOS 0
[2022-05-09T10:10:24Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-09T10:10:24Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-09T10:10:24Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:10:24Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:10:24Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:10:25Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:10:26Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:10:26Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:10:26Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:10:26Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:10:27Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:10:27Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:10:27Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:10:27Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:10:28Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:10:28Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:10:28Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:10:28Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:10:28Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 621, payload: 0x7f0edc004cc0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/a07db814-52a9-487c-abe7-a140f7679cc9&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 55, 101, 50, 100, 97, 52, 52, 101, 45, 102, 55, 99, 49, 45, 52, 52, 101, 53, 45, 98, 97, 52, 54, 45, 50, 98, 50, 48, 51, 102, 101, 55, 52, 98, 56, 98, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 97, 48, 55, 100, 98, 56, 49, 52, 37, 50, 68, 53, 50, 97, 57, 37, 50, 68, 52, 56, 55, 99, 37, 50, 68, 97, 98, 101, 55, 37, 50, 68, 97, 49, 52, 48, 102, 55, 54, 55, 57, 99, 99, 57, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 119, 97, 114, 109, 117, 112, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 48, 58, 49, 48, 58, 50, 56, 46, 52, 51, 51, 56, 48, 56, 54, 57, 55, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 98, 99, 101, 98, 53, 102, 101, 50, 45, 51, 49, 51, 48, 45, 52, 55, 51, 49, 45, 98, 54, 48, 102, 45, 56, 50, 56, 100, 97, 51, 51, 49, 53, 98, 101, 97, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 97, 54, 49, 98, 55, 48, 51, 57, 45, 100, 56, 51, 56, 45, 52, 52, 53, 53, 45, 57, 53, 49, 49, 45, 97, 56, 98, 52, 49, 57, 99, 52, 53, 57, 51, 100, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 51, 102, 48, 97, 98, 56, 57, 56, 45, 97, 51, 98, 48, 45, 52, 54, 100, 101, 45, 57, 57, 50, 98, 45, 50, 50, 51, 98, 53, 57, 102, 53, 53, 54, 102, 52, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 97, 48, 55, 100, 98, 56, 49, 52, 45, 53, 50, 97, 57, 45, 52, 56, 55, 99, 45, 97, 98, 101, 55, 45, 97, 49, 52, 48, 102, 55, 54, 55, 57, 99, 99, 57, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 97, 48, 55, 100, 98, 56, 49, 52, 37, 50, 68, 53, 50, 97, 57, 37, 50, 68, 52, 56, 55, 99, 37, 50, 68, 97, 98, 101, 55, 37, 50, 68, 97, 49, 52, 48, 102, 55, 54, 55, 57, 99, 99, 57, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-09T10:10:28Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/a07db814-52a9-487c-abe7-a140f7679cc9&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;7e2da44e-f7c1-44e5-ba46-2b203fe74b8b\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://a07db814%2D52a9%2D487c%2Dabe7%2Da140f7679cc9/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;warmup\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T10:10:28.433808697Z\&quot;,\&quot;data\&quot;:{\&quot;index\&quot;:3},\&quot;applicationuid\&quot;:\&quot;bceb5fe2-3130-4731-b60f-828da3315bea\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;senderuid\&quot;:\&quot;a61b7039-d838-4455-9511-a8b419c4593d\&quot;,\&quot;deviceuid\&quot;:\&quot;3f0ab898-a3b0-46de-992b-223b59f556f4\&quot;,\&quot;application\&quot;:\&quot;a07db814-52a9-487c-abe7-a140f7679cc9\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;partitionkey\&quot;:\&quot;a07db814%2D52a9%2D487c%2Dabe7%2Da140f7679cc9/device1\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;}&quot; }
[2022-05-09T10:10:29Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-09T10:10:29Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-09T10:10:29Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-09T10:10:29Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry/device1
[2022-05-09T10:10:29Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 4, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005/mqtt&quot;, client_id: &quot;ecea5594-2bb6-468f-bfb6-b9eaad2a521b&quot;, persistence: None, user_data: None }
[2022-05-09T10:10:29Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T10:10:29Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55efdc143ab0
[2022-05-09T10:10:29Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55efdc143ab0
[2022-05-09T10:10:29Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 1, maxInflight: 65535, will: 0x0, username: 0x55efdc2b7260, password: 0x55efdbf12fa0, connectTimeout: 30, retryInterval: 0, ssl: 0x55efdc2d6b60, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 4, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 0, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55efdc2b60a0, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;gateway1@a07db814-52a9-487c-abe7-a140f7679cc9&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T10:10:29Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 640, payload: 0x7f0edc02b3c0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/a07db814-52a9-487c-abe7-a140f7679cc9&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 51, 49, 97, 51, 49, 48, 52, 97, 45, 100, 48, 50, 100, 45, 52, 53, 52, 102, 45, 97, 101, 52, 56, 45, 99, 102, 54, 54, 49, 55, 57, 48, 97, 101, 97, 101, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 97, 48, 55, 100, 98, 56, 49, 52, 37, 50, 68, 53, 50, 97, 57, 37, 50, 68, 52, 56, 55, 99, 37, 50, 68, 97, 98, 101, 55, 37, 50, 68, 97, 49, 52, 48, 102, 55, 54, 55, 57, 99, 99, 57, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 48, 58, 49, 48, 58, 50, 57, 46, 53, 52, 56, 55, 52, 57, 55, 53, 52, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 97, 54, 49, 98, 55, 48, 51, 57, 45, 100, 56, 51, 56, 45, 52, 52, 53, 53, 45, 57, 53, 49, 49, 45, 97, 56, 98, 52, 49, 57, 99, 52, 53, 57, 51, 100, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 98, 99, 101, 98, 53, 102, 101, 50, 45, 51, 49, 51, 48, 45, 52, 55, 51, 49, 45, 98, 54, 48, 102, 45, 56, 50, 56, 100, 97, 51, 51, 49, 53, 98, 101, 97, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 97, 48, 55, 100, 98, 56, 49, 52, 37, 50, 68, 53, 50, 97, 57, 37, 50, 68, 52, 56, 55, 99, 37, 50, 68, 97, 98, 101, 55, 37, 50, 68, 97, 49, 52, 48, 102, 55, 54, 55, 57, 99, 99, 57, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 97, 54, 49, 98, 55, 48, 51, 57, 45, 100, 56, 51, 56, 45, 52, 52, 53, 53, 45, 57, 53, 49, 49, 45, 97, 56, 98, 52, 49, 57, 99, 52, 53, 57, 51, 100, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 97, 48, 55, 100, 98, 56, 49, 52, 45, 53, 50, 97, 57, 45, 52, 56, 55, 99, 45, 97, 98, 101, 55, 45, 97, 49, 52, 48, 102, 55, 54, 55, 57, 99, 99, 57, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-09T10:10:29Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/a07db814-52a9-487c-abe7-a140f7679cc9&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;31a3104a-d02d-454f-ae48-cf661790aeae\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://a07db814%2D52a9%2D487c%2Dabe7%2Da140f7679cc9/gateway1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T10:10:29.548749754Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:true},\&quot;deviceuid\&quot;:\&quot;a61b7039-d838-4455-9511-a8b419c4593d\&quot;,\&quot;applicationuid\&quot;:\&quot;bceb5fe2-3130-4731-b60f-828da3315bea\&quot;,\&quot;device\&quot;:\&quot;gateway1\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;partitionkey\&quot;:\&quot;a07db814%2D52a9%2D487c%2Dabe7%2Da140f7679cc9/gateway1\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;senderuid\&quot;:\&quot;a61b7039-d838-4455-9511-a8b419c4593d\&quot;,\&quot;application\&quot;:\&quot;a07db814-52a9-487c-abe7-a140f7679cc9\&quot;}&quot; }
[2022-05-09T10:10:29Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55efdc2cdc80 } }, data: MessageData { topic: &quot;telemetry/device1&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55efdc2cdc80 } } } }
[2022-05-09T10:10:29Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-09T10:10:29Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 641, payload: 0x7f0edc02b650, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/a07db814-52a9-487c-abe7-a140f7679cc9&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 99, 100, 102, 55, 56, 56, 54, 102, 45, 99, 48, 48, 55, 45, 52, 49, 54, 99, 45, 98, 51, 100, 97, 45, 100, 54, 56, 97, 52, 52, 50, 102, 98, 55, 101, 49, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 97, 48, 55, 100, 98, 56, 49, 52, 37, 50, 68, 53, 50, 97, 57, 37, 50, 68, 52, 56, 55, 99, 37, 50, 68, 97, 98, 101, 55, 37, 50, 68, 97, 49, 52, 48, 102, 55, 54, 55, 57, 99, 99, 57, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 48, 58, 49, 48, 58, 50, 57, 46, 54, 57, 55, 57, 56, 50, 52, 53, 50, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 102, 97, 108, 115, 101, 125, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 98, 99, 101, 98, 53, 102, 101, 50, 45, 51, 49, 51, 48, 45, 52, 55, 51, 49, 45, 98, 54, 48, 102, 45, 56, 50, 56, 100, 97, 51, 51, 49, 53, 98, 101, 97, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 97, 48, 55, 100, 98, 56, 49, 52, 37, 50, 68, 53, 50, 97, 57, 37, 50, 68, 52, 56, 55, 99, 37, 50, 68, 97, 98, 101, 55, 37, 50, 68, 97, 49, 52, 48, 102, 55, 54, 55, 57, 99, 99, 57, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 97, 54, 49, 98, 55, 48, 51, 57, 45, 100, 56, 51, 56, 45, 52, 52, 53, 53, 45, 57, 53, 49, 49, 45, 97, 56, 98, 52, 49, 57, 99, 52, 53, 57, 51, 100, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 97, 54, 49, 98, 55, 48, 51, 57, 45, 100, 56, 51, 56, 45, 52, 52, 53, 53, 45, 57, 53, 49, 49, 45, 97, 56, 98, 52, 49, 57, 99, 52, 53, 57, 51, 100, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 97, 48, 55, 100, 98, 56, 49, 52, 45, 53, 50, 97, 57, 45, 52, 56, 55, 99, 45, 97, 98, 101, 55, 45, 97, 49, 52, 48, 102, 55, 54, 55, 57, 99, 99, 57, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-09T10:10:29Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/a07db814-52a9-487c-abe7-a140f7679cc9&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;cdf7886f-c007-416c-b3da-d68a442fb7e1\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://a07db814%2D52a9%2D487c%2Dabe7%2Da140f7679cc9/gateway1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T10:10:29.697982452Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:false},\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;applicationuid\&quot;:\&quot;bceb5fe2-3130-4731-b60f-828da3315bea\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;device\&quot;:\&quot;gateway1\&quot;,\&quot;partitionkey\&quot;:\&quot;a07db814%2D52a9%2D487c%2Dabe7%2Da140f7679cc9/gateway1\&quot;,\&quot;deviceuid\&quot;:\&quot;a61b7039-d838-4455-9511-a8b419c4593d\&quot;,\&quot;senderuid\&quot;:\&quot;a61b7039-d838-4455-9511-a8b419c4593d\&quot;,\&quot;application\&quot;:\&quot;a07db814-52a9-487c-abe7-a140f7679cc9\&quot;}&quot; }
[2022-05-09T10:10:30Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 630, payload: 0x7f0edc02bb90, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/a07db814-52a9-487c-abe7-a140f7679cc9&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 52, 54, 51, 98, 51, 50, 54, 54, 45, 56, 55, 97, 99, 45, 52, 99, 55, 101, 45, 57, 100, 53, 51, 45, 97, 49, 97, 52, 50, 51, 48, 50, 99, 54, 98, 53, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 97, 48, 55, 100, 98, 56, 49, 52, 37, 50, 68, 53, 50, 97, 57, 37, 50, 68, 52, 56, 55, 99, 37, 50, 68, 97, 98, 101, 55, 37, 50, 68, 97, 49, 52, 48, 102, 55, 54, 55, 57, 99, 99, 57, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 111, 99, 116, 101, 116, 45, 115, 116, 114, 101, 97, 109, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 116, 101, 108, 101, 109, 101, 116, 114, 121, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 48, 58, 49, 48, 58, 50, 57, 46, 54, 57, 54, 56, 53, 56, 56, 54, 50, 90, 34, 44, 34, 100, 97, 116, 97, 95, 98, 97, 115, 101, 54, 52, 34, 58, 34, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 97, 48, 55, 100, 98, 56, 49, 52, 45, 53, 50, 97, 57, 45, 52, 56, 55, 99, 45, 97, 98, 101, 55, 45, 97, 49, 52, 48, 102, 55, 54, 55, 57, 99, 99, 57, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 97, 48, 55, 100, 98, 56, 49, 52, 37, 50, 68, 53, 50, 97, 57, 37, 50, 68, 52, 56, 55, 99, 37, 50, 68, 97, 98, 101, 55, 37, 50, 68, 97, 49, 52, 48, 102, 55, 54, 55, 57, 99, 99, 57, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 98, 99, 101, 98, 53, 102, 101, 50, 45, 51, 49, 51, 48, 45, 52, 55, 51, 49, 45, 98, 54, 48, 102, 45, 56, 50, 56, 100, 97, 51, 51, 49, 53, 98, 101, 97, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 97, 54, 49, 98, 55, 48, 51, 57, 45, 100, 56, 51, 56, 45, 52, 52, 53, 53, 45, 57, 53, 49, 49, 45, 97, 56, 98, 52, 49, 57, 99, 52, 53, 57, 51, 100, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 51, 102, 48, 97, 98, 56, 57, 56, 45, 97, 51, 98, 48, 45, 52, 54, 100, 101, 45, 57, 57, 50, 98, 45, 50, 50, 51, 98, 53, 57, 102, 53, 53, 54, 102, 52, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-09T10:10:30Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/a07db814-52a9-487c-abe7-a140f7679cc9&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;463b3266-87ac-4c7e-9d53-a1a42302c6b5\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://a07db814%2D52a9%2D487c%2Dabe7%2Da140f7679cc9/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/octet-stream\&quot;,\&quot;subject\&quot;:\&quot;telemetry\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T10:10:29.696858862Z\&quot;,\&quot;data_base64\&quot;:\&quot;\&quot;,\&quot;application\&quot;:\&quot;a07db814-52a9-487c-abe7-a140f7679cc9\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;partitionkey\&quot;:\&quot;a07db814%2D52a9%2D487c%2Dabe7%2Da140f7679cc9/device1\&quot;,\&quot;applicationuid\&quot;:\&quot;bceb5fe2-3130-4731-b60f-828da3315bea\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;senderuid\&quot;:\&quot;a61b7039-d838-4455-9511-a8b419c4593d\&quot;,\&quot;deviceuid\&quot;:\&quot;3f0ab898-a3b0-46de-992b-223b59f556f4\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;}&quot; }
[2022-05-09T10:10:30Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-09T10:10:30Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-09T10:10:30Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-09T10:10:30Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;a07db814-52a9-487c-abe7-a140f7679cc9&quot;, device: &quot;gateway1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`,
 right: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;a07db814-52a9-487c-abe7-a140f7679cc9&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`: Position #0&#x27;, src/tools/assert.rs:35:39
[2022-05-09T10:10:30Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-09T10:10:30Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;a07db814-52a9-487c-abe7-a140f7679cc9&quot; &quot;device1&quot;
[2022-05-09T10:10:30Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:10:30Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-05-09T10:10:30Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;a07db814-52a9-487c-abe7-a140f7679cc9&quot; &quot;gateway1&quot;
[2022-05-09T10:10:30Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:10:30Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;a07db814-52a9-487c-abe7-a140f7679cc9&#x27;
[2022-05-09T10:10:30Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;a07db814-52a9-487c-abe7-a140f7679cc9&quot;
[2022-05-09T10:10:30Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App a07db814-52a9-487c-abe7-a140f7679cc9 deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_2::integration_version_2::integration_ws_1

**Duration**: 15s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-09T10:10:32Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-09T10:10:32Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T10:10:32Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T10:10:32Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T10:10:32Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T10:10:33Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-09T10:10:35Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-09T10:10:35Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T10:10:35Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T10:10:35Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T10:10:37Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI0NDVmMTM5Zi0wNjNjLTRhZDgtODkwYi1mNTg1OTQ0NjFiZDAifQ.eyJleHAiOjE2NTIwOTI4MzYsImlhdCI6MTY1MjA5MTAzNiwianRpIjoiMmZiYWFkNzEtNDIxMC00OWU3LTkyZjItMWZkMDNjYzZkZGI0IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjNkZWIxOWY5LWM3NDYtNGIwMC1hOTA5LTJiOTg4NTVjZTRmMyIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IjBsenVac3VFdzFfeGhBU3hIYnpQX3ciLCJzZXNzaW9uX3N0YXRlIjoiNGJlYmMwZjctNjVjYS00MjIwLTg1MjktYWE1YjljNDFmYTQ1Iiwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjRiZWJjMGY3LTY1Y2EtNDIyMC04NTI5LWFhNWI5YzQxZmE0NSJ9.Q-6UGz18DdFUTW4qOmrmdtTB_pHZihjA-CxQzU5FPrs
[2022-05-09T10:10:37Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-09T10:10:37Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-09T10:10:37Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI0NDVmMTM5Zi0wNjNjLTRhZDgtODkwYi1mNTg1OTQ0NjFiZDAifQ.eyJleHAiOjE2NTIwOTI4MzYsImlhdCI6MTY1MjA5MTAzNiwianRpIjoiMmZiYWFkNzEtNDIxMC00OWU3LTkyZjItMWZkMDNjYzZkZGI0IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjNkZWIxOWY5LWM3NDYtNGIwMC1hOTA5LTJiOTg4NTVjZTRmMyIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IjBsenVac3VFdzFfeGhBU3hIYnpQX3ciLCJzZXNzaW9uX3N0YXRlIjoiNGJlYmMwZjctNjVjYS00MjIwLTg1MjktYWE1YjljNDFmYTQ1Iiwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjRiZWJjMGY3LTY1Y2EtNDIyMC04NTI5LWFhNWI5YzQxZmE0NSJ9.Q-6UGz18DdFUTW4qOmrmdtTB_pHZihjA-CxQzU5FPrs&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-09T10:10:37Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:10:37Z INFO  drogue_cloud_tests::resources::apps] Create application: 6e8df301-fb0e-49b5-bf1a-2806a05e0107
[2022-05-09T10:10:37Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;6e8df301-fb0e-49b5-bf1a-2806a05e0107&quot;
[2022-05-09T10:10:37Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 6e8df301-fb0e-49b5-bf1a-2806a05e0107 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:10:37Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;6e8df301-fb0e-49b5-bf1a-2806a05e0107&quot;
[2022-05-09T10:10:37Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T10:10:37.839246Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 1,\n    \&quot;name\&quot;: \&quot;6e8df301-fb0e-49b5-bf1a-2806a05e0107\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;a5491bdf-58fc-4180-b371-1dd174501027\&quot;,\n    \&quot;uid\&quot;: \&quot;b11e2fef-2620-4a0d-9e62-780f1ccd3383\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:10:37.852643064Z\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: HasFinalizer\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:10:37.852682737Z\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:10:37.852511928Z\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:10:37.852513871Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:10:37.852514703Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:10:37.852515644Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:10:37.852517117Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:10:37.852525693Z\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:10:37Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T10:10:37.839246Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(1), &quot;name&quot;: String(&quot;6e8df301-fb0e-49b5-bf1a-2806a05e0107&quot;), &quot;resourceVersion&quot;: String(&quot;a5491bdf-58fc-4180-b371-1dd174501027&quot;), &quot;uid&quot;: String(&quot;b11e2fef-2620-4a0d-9e62-780f1ccd3383&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:10:37.852643064Z&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: HasFinalizer&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:10:37.852682737Z&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:10:37.852511928Z&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:10:37.852513871Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:10:37.852514703Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:10:37.852515644Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:10:37.852517117Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:10:37.852525693Z&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(0)})})})
[2022-05-09T10:10:37Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-09T10:10:38Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;6e8df301-fb0e-49b5-bf1a-2806a05e0107&quot;
[2022-05-09T10:10:38Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T10:10:37.839246Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 8,\n    \&quot;name\&quot;: \&quot;6e8df301-fb0e-49b5-bf1a-2806a05e0107\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;3a77289e-b52d-4fe3-a988-483a1b5d1782\&quot;,\n    \&quot;uid\&quot;: \&quot;b11e2fef-2620-4a0d-9e62-780f1ccd3383\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:10:38.111193417Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:10:38.111236818Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:10:37.879190695Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:10:37.885907159Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:10:37.946534301Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:10:37.953213826Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:10:38.111089082Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:10:38.111104331Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 7,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;i870TqULlqXH\&quot;,\n        \&quot;username\&quot;: \&quot;user-6e8df301-fb0e-49b5-bf1a-2806a05e0107\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:10:38Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T10:10:37.839246Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(8), &quot;name&quot;: String(&quot;6e8df301-fb0e-49b5-bf1a-2806a05e0107&quot;), &quot;resourceVersion&quot;: String(&quot;3a77289e-b52d-4fe3-a988-483a1b5d1782&quot;), &quot;uid&quot;: String(&quot;b11e2fef-2620-4a0d-9e62-780f1ccd3383&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:10:38.111193417Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:10:38.111236818Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:10:37.879190695Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:10:37.885907159Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:10:37.946534301Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:10:37.953213826Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:10:38.111089082Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:10:38.111104331Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(7), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;i870TqULlqXH&quot;), &quot;username&quot;: String(&quot;user-6e8df301-fb0e-49b5-bf1a-2806a05e0107&quot;)})})})})
[2022-05-09T10:10:38Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-09T10:10:38Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;6e8df301-fb0e-49b5-bf1a-2806a05e0107&quot;
[2022-05-09T10:10:38Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T10:10:37.839246Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 8,\n    \&quot;name\&quot;: \&quot;6e8df301-fb0e-49b5-bf1a-2806a05e0107\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;3a77289e-b52d-4fe3-a988-483a1b5d1782\&quot;,\n    \&quot;uid\&quot;: \&quot;b11e2fef-2620-4a0d-9e62-780f1ccd3383\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:10:38.111193417Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:10:38.111236818Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:10:37.879190695Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:10:37.885907159Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:10:37.946534301Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:10:37.953213826Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:10:38.111089082Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:10:38.111104331Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 7,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;i870TqULlqXH\&quot;,\n        \&quot;username\&quot;: \&quot;user-6e8df301-fb0e-49b5-bf1a-2806a05e0107\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:10:38Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T10:10:37.839246Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(8), &quot;name&quot;: String(&quot;6e8df301-fb0e-49b5-bf1a-2806a05e0107&quot;), &quot;resourceVersion&quot;: String(&quot;3a77289e-b52d-4fe3-a988-483a1b5d1782&quot;), &quot;uid&quot;: String(&quot;b11e2fef-2620-4a0d-9e62-780f1ccd3383&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:10:38.111193417Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:10:38.111236818Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:10:37.879190695Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:10:37.885907159Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:10:37.946534301Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:10:37.953213826Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:10:38.111089082Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:10:38.111104331Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(7), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;i870TqULlqXH&quot;), &quot;username&quot;: String(&quot;user-6e8df301-fb0e-49b5-bf1a-2806a05e0107&quot;)})})})})
[2022-05-09T10:10:38Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-09T10:10:38Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-05-09T10:10:38Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;6e8df301-fb0e-49b5-bf1a-2806a05e0107&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-09T10:10:38Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:10:38Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:10:38Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T10:10:38Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T10:10:38Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJXRG4zQ2wwMVNsYVpRRnRTbUpuS2JqWC1wcXdsR21xWDhSUFNWSHgxUHgwIn0.eyJleHAiOjE2NTIwOTEzMzcsImlhdCI6MTY1MjA5MTAzNywiYXV0aF90aW1lIjoxNjUyMDkxMDM0LCJqdGkiOiI4NzM3Y2UyYy00OTI5LTQ0NzUtYTNjYy1mMWM5OGY2MmI3MTkiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiM2RlYjE5ZjktYzc0Ni00YjAwLWE5MDktMmI5ODg1NWNlNGYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiIwbHp1WnN1RXcxX3hoQVN4SGJ6UF93Iiwic2Vzc2lvbl9zdGF0ZSI6IjRiZWJjMGY3LTY1Y2EtNDIyMC04NTI5LWFhNWI5YzQxZmE0NSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjRiZWJjMGY3LTY1Y2EtNDIyMC04NTI5LWFhNWI5YzQxZmE0NSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.vwoOnoi_GaPb3WQteDxRHgGnjmIxFMoRM4EEtD6Y14I8WSXjko84nhA8HXElMEYLD8wP52dh4yIMYSb5dV9bcOwpiDq0ftzDlnEBWUwqYNC2sXcAltYexns4O6QwNpAhbBpAX23Kdacsi0edxcutKXPh0nGmmG-OhpZDFisdtccxjrC4IapogyS_7lyopn_fotAZQ4yJukLZ3wUQSDlgUuJl9Vek7Lxk1HoJV4jsXDxrKZVQw8ph6xgK9UFfs8rlvKjYSe0cRSJJnDfWwZvmZAgNKJy6JilduHL0tFfmCFXlt-4KQxsdGjySc3zRrHUo3tANScfejWDyl37_Up2L-A\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:10:38Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T10:10:38Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-09T10:10:38Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-09T10:10:38Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;6e8df301-fb0e-49b5-bf1a-2806a05e0107&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-05-09T10:10:38Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:10:38Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: ssl://mqtt-integration.172.18.0.2.nip.io:30002
[2022-05-09T10:10:38Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T10:10:38Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJXRG4zQ2wwMVNsYVpRRnRTbUpuS2JqWC1wcXdsR21xWDhSUFNWSHgxUHgwIn0.eyJleHAiOjE2NTIwOTEzMzcsImlhdCI6MTY1MjA5MTAzNywiYXV0aF90aW1lIjoxNjUyMDkxMDM0LCJqdGkiOiI4NzM3Y2UyYy00OTI5LTQ0NzUtYTNjYy1mMWM5OGY2MmI3MTkiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiM2RlYjE5ZjktYzc0Ni00YjAwLWE5MDktMmI5ODg1NWNlNGYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiIwbHp1WnN1RXcxX3hoQVN4SGJ6UF93Iiwic2Vzc2lvbl9zdGF0ZSI6IjRiZWJjMGY3LTY1Y2EtNDIyMC04NTI5LWFhNWI5YzQxZmE0NSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjRiZWJjMGY3LTY1Y2EtNDIyMC04NTI5LWFhNWI5YzQxZmE0NSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.vwoOnoi_GaPb3WQteDxRHgGnjmIxFMoRM4EEtD6Y14I8WSXjko84nhA8HXElMEYLD8wP52dh4yIMYSb5dV9bcOwpiDq0ftzDlnEBWUwqYNC2sXcAltYexns4O6QwNpAhbBpAX23Kdacsi0edxcutKXPh0nGmmG-OhpZDFisdtccxjrC4IapogyS_7lyopn_fotAZQ4yJukLZ3wUQSDlgUuJl9Vek7Lxk1HoJV4jsXDxrKZVQw8ph6xgK9UFfs8rlvKjYSe0cRSJJnDfWwZvmZAgNKJy6JilduHL0tFfmCFXlt-4KQxsdGjySc3zRrHUo3tANScfejWDyl37_Up2L-A\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:10:38Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-integration.172.18.0.2.nip.io:30002&quot;, client_id: &quot;eb5b2b4b-fbf5-4184-9362-376a90bdd4a1&quot;, persistence: None, user_data: None }
[2022-05-09T10:10:38Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T10:10:38Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55efdc068c20
[2022-05-09T10:10:38Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55efdc068c20
[2022-05-09T10:10:38Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x55efdc081e00, connectTimeout: 30, retryInterval: 0, ssl: 0x55efdc2b6210, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x7f0ed8003120, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJXRG4zQ2wwMVNsYVpRRnRTbUpuS2JqWC1wcXdsR21xWDhSUFNWSHgxUHgwIn0.eyJleHAiOjE2NTIwOTEzMzcsImlhdCI6MTY1MjA5MTAzNywiYXV0aF90aW1lIjoxNjUyMDkxMDM0LCJqdGkiOiI4NzM3Y2UyYy00OTI5LTQ0NzUtYTNjYy1mMWM5OGY2MmI3MTkiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiM2RlYjE5ZjktYzc0Ni00YjAwLWE5MDktMmI5ODg1NWNlNGYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiIwbHp1WnN1RXcxX3hoQVN4SGJ6UF93Iiwic2Vzc2lvbl9zdGF0ZSI6IjRiZWJjMGY3LTY1Y2EtNDIyMC04NTI5LWFhNWI5YzQxZmE0NSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjRiZWJjMGY3LTY1Y2EtNDIyMC04NTI5LWFhNWI5YzQxZmE0NSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.vwoOnoi_GaPb3WQteDxRHgGnjmIxFMoRM4EEtD6Y14I8WSXjko84nhA8HXElMEYLD8wP52dh4yIMYSb5dV9bcOwpiDq0ftzDlnEBWUwqYNC2sXcAltYexns4O6QwNpAhbBpAX23Kdacsi0edxcutKXPh0nGmmG-OhpZDFisdtccxjrC4IapogyS_7lyopn_fotAZQ4yJukLZ3wUQSDlgUuJl9Vek7Lxk1HoJV4jsXDxrKZVQw8ph6xgK9UFfs8rlvKjYSe0cRSJJnDfWwZvmZAgNKJy6JilduHL0tFfmCFXlt-4KQxsdGjySc3zRrHUo3tANScfejWDyl37_Up2L-A&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T10:10:39Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/6e8df301-fb0e-49b5-bf1a-2806a05e0107&quot;&#x27; @ QOS 0
[2022-05-09T10:10:39Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-09T10:10:39Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-09T10:10:39Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:10:39Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:10:39Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:10:39Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:10:40Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:10:40Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:10:40Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:10:40Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:10:41Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:10:41Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:10:41Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:10:41Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:10:42Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:10:42Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:10:42Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:10:42Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:10:42Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 621, payload: 0x7f0edc006380, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f0edc006600 } }, data: MessageData { topic: &quot;app/6e8df301-fb0e-49b5-bf1a-2806a05e0107&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 102, 51, 57, 101, 56, 50, 101, 102, 45, 49, 53, 101, 49, 45, 52, 102, 102, 100, 45, 57, 100, 55, 97, 45, 102, 48, 54, 98, 101, 52, 52, 53, 100, 56, 51, 49, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 54, 101, 56, 100, 102, 51, 48, 49, 37, 50, 68, 102, 98, 48, 101, 37, 50, 68, 52, 57, 98, 53, 37, 50, 68, 98, 102, 49, 97, 37, 50, 68, 50, 56, 48, 54, 97, 48, 53, 101, 48, 49, 48, 55, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 119, 97, 114, 109, 117, 112, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 48, 58, 49, 48, 58, 52, 50, 46, 52, 51, 51, 57, 51, 48, 57, 56, 55, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 54, 101, 56, 100, 102, 51, 48, 49, 45, 102, 98, 48, 101, 45, 52, 57, 98, 53, 45, 98, 102, 49, 97, 45, 50, 56, 48, 54, 97, 48, 53, 101, 48, 49, 48, 55, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 55, 99, 99, 52, 57, 51, 51, 98, 45, 102, 57, 52, 99, 45, 52, 48, 100, 55, 45, 57, 98, 53, 57, 45, 54, 53, 56, 102, 98, 52, 48, 97, 100, 50, 57, 99, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 55, 98, 56, 50, 98, 56, 48, 49, 45, 97, 56, 101, 53, 45, 52, 53, 55, 53, 45, 98, 56, 100, 100, 45, 48, 97, 57, 55, 99, 97, 99, 50, 57, 48, 53, 57, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 54, 101, 56, 100, 102, 51, 48, 49, 37, 50, 68, 102, 98, 48, 101, 37, 50, 68, 52, 57, 98, 53, 37, 50, 68, 98, 102, 49, 97, 37, 50, 68, 50, 56, 48, 54, 97, 48, 53, 101, 48, 49, 48, 55, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 98, 49, 49, 101, 50, 102, 101, 102, 45, 50, 54, 50, 48, 45, 52, 97, 48, 100, 45, 57, 101, 54, 50, 45, 55, 56, 48, 102, 49, 99, 99, 100, 51, 51, 56, 51, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f0edc006600 } } } }
[2022-05-09T10:10:42Z DEBUG paho_mqtt::properties] Dropping string property: 0x55efdbf273a0
[2022-05-09T10:10:42Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/6e8df301-fb0e-49b5-bf1a-2806a05e0107&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;f39e82ef-15e1-4ffd-9d7a-f06be445d831\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://6e8df301%2Dfb0e%2D49b5%2Dbf1a%2D2806a05e0107/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;warmup\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T10:10:42.433930987Z\&quot;,\&quot;data\&quot;:{\&quot;index\&quot;:3},\&quot;application\&quot;:\&quot;6e8df301-fb0e-49b5-bf1a-2806a05e0107\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;deviceuid\&quot;:\&quot;7cc4933b-f94c-40d7-9b59-658fb40ad29c\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;senderuid\&quot;:\&quot;7b82b801-a8e5-4575-b8dd-0a97cac29059\&quot;,\&quot;partitionkey\&quot;:\&quot;6e8df301%2Dfb0e%2D49b5%2Dbf1a%2D2806a05e0107/device1\&quot;,\&quot;applicationuid\&quot;:\&quot;b11e2fef-2620-4a0d-9e62-780f1ccd3383\&quot;}&quot; }
[2022-05-09T10:10:43Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-09T10:10:43Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-09T10:10:43Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-09T10:10:43Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry/device1
[2022-05-09T10:10:43Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 4, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005/mqtt&quot;, client_id: &quot;c317f7bd-602e-454d-8766-995276fa9209&quot;, persistence: None, user_data: None }
[2022-05-09T10:10:43Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T10:10:43Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55efdbf4e5d0
[2022-05-09T10:10:43Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55efdbf4e5d0
[2022-05-09T10:10:43Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 1, maxInflight: 65535, will: 0x0, username: 0x55efdbf27620, password: 0x55efdbdf07c0, connectTimeout: 30, retryInterval: 0, ssl: 0x55efdbf765d0, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 4, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 0, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55efdc347660, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;gateway1@6e8df301-fb0e-49b5-bf1a-2806a05e0107&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T10:10:44Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 640, payload: 0x7f0edc018670, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f0edc018900 } }, data: MessageData { topic: &quot;app/6e8df301-fb0e-49b5-bf1a-2806a05e0107&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 98, 99, 54, 56, 51, 48, 100, 56, 45, 54, 48, 100, 97, 45, 52, 51, 56, 55, 45, 57, 52, 56, 99, 45, 97, 57, 100, 97, 99, 101, 101, 55, 53, 99, 100, 48, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 54, 101, 56, 100, 102, 51, 48, 49, 37, 50, 68, 102, 98, 48, 101, 37, 50, 68, 52, 57, 98, 53, 37, 50, 68, 98, 102, 49, 97, 37, 50, 68, 50, 56, 48, 54, 97, 48, 53, 101, 48, 49, 48, 55, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 48, 58, 49, 48, 58, 52, 51, 46, 55, 53, 53, 55, 56, 49, 50, 54, 50, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 55, 98, 56, 50, 98, 56, 48, 49, 45, 97, 56, 101, 53, 45, 52, 53, 55, 53, 45, 98, 56, 100, 100, 45, 48, 97, 57, 55, 99, 97, 99, 50, 57, 48, 53, 57, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 54, 101, 56, 100, 102, 51, 48, 49, 45, 102, 98, 48, 101, 45, 52, 57, 98, 53, 45, 98, 102, 49, 97, 45, 50, 56, 48, 54, 97, 48, 53, 101, 48, 49, 48, 55, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 55, 98, 56, 50, 98, 56, 48, 49, 45, 97, 56, 101, 53, 45, 52, 53, 55, 53, 45, 98, 56, 100, 100, 45, 48, 97, 57, 55, 99, 97, 99, 50, 57, 48, 53, 57, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 54, 101, 56, 100, 102, 51, 48, 49, 37, 50, 68, 102, 98, 48, 101, 37, 50, 68, 52, 57, 98, 53, 37, 50, 68, 98, 102, 49, 97, 37, 50, 68, 50, 56, 48, 54, 97, 48, 53, 101, 48, 49, 48, 55, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 98, 49, 49, 101, 50, 102, 101, 102, 45, 50, 54, 50, 48, 45, 52, 97, 48, 100, 45, 57, 101, 54, 50, 45, 55, 56, 48, 102, 49, 99, 99, 100, 51, 51, 56, 51, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f0edc018900 } } } }
[2022-05-09T10:10:44Z DEBUG paho_mqtt::properties] Dropping string property: 0x55efdbf273a0
[2022-05-09T10:10:44Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55efdc07d630 } }, data: MessageData { topic: &quot;telemetry/device1&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55efdc07d630 } } } }
[2022-05-09T10:10:44Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/6e8df301-fb0e-49b5-bf1a-2806a05e0107&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;bc6830d8-60da-4387-948c-a9dacee75cd0\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://6e8df301%2Dfb0e%2D49b5%2Dbf1a%2D2806a05e0107/gateway1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T10:10:43.755781262Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:true},\&quot;deviceuid\&quot;:\&quot;7b82b801-a8e5-4575-b8dd-0a97cac29059\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;application\&quot;:\&quot;6e8df301-fb0e-49b5-bf1a-2806a05e0107\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;senderuid\&quot;:\&quot;7b82b801-a8e5-4575-b8dd-0a97cac29059\&quot;,\&quot;partitionkey\&quot;:\&quot;6e8df301%2Dfb0e%2D49b5%2Dbf1a%2D2806a05e0107/gateway1\&quot;,\&quot;device\&quot;:\&quot;gateway1\&quot;,\&quot;applicationuid\&quot;:\&quot;b11e2fef-2620-4a0d-9e62-780f1ccd3383\&quot;}&quot; }
[2022-05-09T10:10:44Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-09T10:10:45Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 630, payload: 0x7f0edc01af10, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f0edc018900 } }, data: MessageData { topic: &quot;app/6e8df301-fb0e-49b5-bf1a-2806a05e0107&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 101, 53, 48, 102, 102, 53, 100, 49, 45, 98, 102, 99, 48, 45, 52, 98, 56, 55, 45, 57, 99, 55, 53, 45, 57, 48, 101, 98, 50, 50, 52, 52, 97, 53, 55, 57, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 54, 101, 56, 100, 102, 51, 48, 49, 37, 50, 68, 102, 98, 48, 101, 37, 50, 68, 52, 57, 98, 53, 37, 50, 68, 98, 102, 49, 97, 37, 50, 68, 50, 56, 48, 54, 97, 48, 53, 101, 48, 49, 48, 55, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 111, 99, 116, 101, 116, 45, 115, 116, 114, 101, 97, 109, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 116, 101, 108, 101, 109, 101, 116, 114, 121, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 48, 58, 49, 48, 58, 52, 52, 46, 54, 57, 56, 55, 55, 55, 48, 53, 52, 90, 34, 44, 34, 100, 97, 116, 97, 95, 98, 97, 115, 101, 54, 52, 34, 58, 34, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 54, 101, 56, 100, 102, 51, 48, 49, 37, 50, 68, 102, 98, 48, 101, 37, 50, 68, 52, 57, 98, 53, 37, 50, 68, 98, 102, 49, 97, 37, 50, 68, 50, 56, 48, 54, 97, 48, 53, 101, 48, 49, 48, 55, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 55, 98, 56, 50, 98, 56, 48, 49, 45, 97, 56, 101, 53, 45, 52, 53, 55, 53, 45, 98, 56, 100, 100, 45, 48, 97, 57, 55, 99, 97, 99, 50, 57, 48, 53, 57, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 98, 49, 49, 101, 50, 102, 101, 102, 45, 50, 54, 50, 48, 45, 52, 97, 48, 100, 45, 57, 101, 54, 50, 45, 55, 56, 48, 102, 49, 99, 99, 100, 51, 51, 56, 51, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 55, 99, 99, 52, 57, 51, 51, 98, 45, 102, 57, 52, 99, 45, 52, 48, 100, 55, 45, 57, 98, 53, 57, 45, 54, 53, 56, 102, 98, 52, 48, 97, 100, 50, 57, 99, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 54, 101, 56, 100, 102, 51, 48, 49, 45, 102, 98, 48, 101, 45, 52, 57, 98, 53, 45, 98, 102, 49, 97, 45, 50, 56, 48, 54, 97, 48, 53, 101, 48, 49, 48, 55, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f0edc018900 } } } }
[2022-05-09T10:10:45Z DEBUG paho_mqtt::properties] Dropping string property: 0x55efdbf273a0
[2022-05-09T10:10:45Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/6e8df301-fb0e-49b5-bf1a-2806a05e0107&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;e50ff5d1-bfc0-4b87-9c75-90eb2244a579\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://6e8df301%2Dfb0e%2D49b5%2Dbf1a%2D2806a05e0107/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/octet-stream\&quot;,\&quot;subject\&quot;:\&quot;telemetry\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T10:10:44.698777054Z\&quot;,\&quot;data_base64\&quot;:\&quot;\&quot;,\&quot;partitionkey\&quot;:\&quot;6e8df301%2Dfb0e%2D49b5%2Dbf1a%2D2806a05e0107/device1\&quot;,\&quot;senderuid\&quot;:\&quot;7b82b801-a8e5-4575-b8dd-0a97cac29059\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;applicationuid\&quot;:\&quot;b11e2fef-2620-4a0d-9e62-780f1ccd3383\&quot;,\&quot;deviceuid\&quot;:\&quot;7cc4933b-f94c-40d7-9b59-658fb40ad29c\&quot;,\&quot;application\&quot;:\&quot;6e8df301-fb0e-49b5-bf1a-2806a05e0107\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;}&quot; }
[2022-05-09T10:10:45Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 641, payload: 0x7f0edc016750, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f0edc018900 } }, data: MessageData { topic: &quot;app/6e8df301-fb0e-49b5-bf1a-2806a05e0107&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 49, 49, 52, 57, 102, 49, 52, 53, 45, 52, 57, 49, 52, 45, 52, 97, 98, 50, 45, 56, 101, 101, 49, 45, 53, 48, 55, 52, 102, 49, 52, 100, 49, 55, 57, 57, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 54, 101, 56, 100, 102, 51, 48, 49, 37, 50, 68, 102, 98, 48, 101, 37, 50, 68, 52, 57, 98, 53, 37, 50, 68, 98, 102, 49, 97, 37, 50, 68, 50, 56, 48, 54, 97, 48, 53, 101, 48, 49, 48, 55, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 48, 58, 49, 48, 58, 52, 53, 46, 52, 53, 49, 48, 54, 48, 49, 49, 50, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 102, 97, 108, 115, 101, 125, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 98, 49, 49, 101, 50, 102, 101, 102, 45, 50, 54, 50, 48, 45, 52, 97, 48, 100, 45, 57, 101, 54, 50, 45, 55, 56, 48, 102, 49, 99, 99, 100, 51, 51, 56, 51, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 54, 101, 56, 100, 102, 51, 48, 49, 45, 102, 98, 48, 101, 45, 52, 57, 98, 53, 45, 98, 102, 49, 97, 45, 50, 56, 48, 54, 97, 48, 53, 101, 48, 49, 48, 55, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 55, 98, 56, 50, 98, 56, 48, 49, 45, 97, 56, 101, 53, 45, 52, 53, 55, 53, 45, 98, 56, 100, 100, 45, 48, 97, 57, 55, 99, 97, 99, 50, 57, 48, 53, 57, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 55, 98, 56, 50, 98, 56, 48, 49, 45, 97, 56, 101, 53, 45, 52, 53, 55, 53, 45, 98, 56, 100, 100, 45, 48, 97, 57, 55, 99, 97, 99, 50, 57, 48, 53, 57, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 54, 101, 56, 100, 102, 51, 48, 49, 37, 50, 68, 102, 98, 48, 101, 37, 50, 68, 52, 57, 98, 53, 37, 50, 68, 98, 102, 49, 97, 37, 50, 68, 50, 56, 48, 54, 97, 48, 53, 101, 48, 49, 48, 55, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f0edc018900 } } } }
[2022-05-09T10:10:45Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f0edc003000
[2022-05-09T10:10:45Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/6e8df301-fb0e-49b5-bf1a-2806a05e0107&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;1149f145-4914-4ab2-8ee1-5074f14d1799\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://6e8df301%2Dfb0e%2D49b5%2Dbf1a%2D2806a05e0107/gateway1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T10:10:45.451060112Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:false},\&quot;applicationuid\&quot;:\&quot;b11e2fef-2620-4a0d-9e62-780f1ccd3383\&quot;,\&quot;application\&quot;:\&quot;6e8df301-fb0e-49b5-bf1a-2806a05e0107\&quot;,\&quot;deviceuid\&quot;:\&quot;7b82b801-a8e5-4575-b8dd-0a97cac29059\&quot;,\&quot;device\&quot;:\&quot;gateway1\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;senderuid\&quot;:\&quot;7b82b801-a8e5-4575-b8dd-0a97cac29059\&quot;,\&quot;partitionkey\&quot;:\&quot;6e8df301%2Dfb0e%2D49b5%2Dbf1a%2D2806a05e0107/gateway1\&quot;}&quot; }
[2022-05-09T10:10:45Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-09T10:10:45Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-09T10:10:45Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-09T10:10:45Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;6e8df301-fb0e-49b5-bf1a-2806a05e0107&quot;, device: &quot;gateway1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`,
 right: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;6e8df301-fb0e-49b5-bf1a-2806a05e0107&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`: Position #0&#x27;, src/tools/assert.rs:35:39
[2022-05-09T10:10:45Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-09T10:10:45Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;6e8df301-fb0e-49b5-bf1a-2806a05e0107&quot; &quot;device1&quot;
[2022-05-09T10:10:45Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:10:45Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-05-09T10:10:45Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;6e8df301-fb0e-49b5-bf1a-2806a05e0107&quot; &quot;gateway1&quot;
[2022-05-09T10:10:45Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:10:45Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;6e8df301-fb0e-49b5-bf1a-2806a05e0107&#x27;
[2022-05-09T10:10:45Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;6e8df301-fb0e-49b5-bf1a-2806a05e0107&quot;
[2022-05-09T10:10:45Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 6e8df301-fb0e-49b5-bf1a-2806a05e0107 deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_2::integration_version_2::integration_ws_2

**Duration**: 14s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-09T10:10:47Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-09T10:10:47Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T10:10:47Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T10:10:47Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T10:10:47Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T10:10:48Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-09T10:10:50Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-09T10:10:50Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T10:10:50Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T10:10:50Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T10:10:52Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI0NDVmMTM5Zi0wNjNjLTRhZDgtODkwYi1mNTg1OTQ0NjFiZDAifQ.eyJleHAiOjE2NTIwOTI4NTIsImlhdCI6MTY1MjA5MTA1MiwianRpIjoiZDgzZmE0YzUtMGFmMC00MmJlLWI4OTItNWMyNjBhNzgzOWJjIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjNkZWIxOWY5LWM3NDYtNGIwMC1hOTA5LTJiOTg4NTVjZTRmMyIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InVtM2VYSk03eTR0TnNpWWdESzUyQWciLCJzZXNzaW9uX3N0YXRlIjoiNzNlNDZkOGQtYzgwMy00MTBlLWI2MWMtYjAxODkzNmJmNTY5Iiwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjczZTQ2ZDhkLWM4MDMtNDEwZS1iNjFjLWIwMTg5MzZiZjU2OSJ9.YcZr0IrYIYg4m262Dq7Zw5WKdH3u1HFDCPk5SzDxfqo
[2022-05-09T10:10:52Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-09T10:10:52Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-09T10:10:52Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI0NDVmMTM5Zi0wNjNjLTRhZDgtODkwYi1mNTg1OTQ0NjFiZDAifQ.eyJleHAiOjE2NTIwOTI4NTIsImlhdCI6MTY1MjA5MTA1MiwianRpIjoiZDgzZmE0YzUtMGFmMC00MmJlLWI4OTItNWMyNjBhNzgzOWJjIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjNkZWIxOWY5LWM3NDYtNGIwMC1hOTA5LTJiOTg4NTVjZTRmMyIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InVtM2VYSk03eTR0TnNpWWdESzUyQWciLCJzZXNzaW9uX3N0YXRlIjoiNzNlNDZkOGQtYzgwMy00MTBlLWI2MWMtYjAxODkzNmJmNTY5Iiwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjczZTQ2ZDhkLWM4MDMtNDEwZS1iNjFjLWIwMTg5MzZiZjU2OSJ9.YcZr0IrYIYg4m262Dq7Zw5WKdH3u1HFDCPk5SzDxfqo&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-09T10:10:52Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:10:53Z INFO  drogue_cloud_tests::resources::apps] Create application: 624a50d6-67b1-40c1-9808-676dea1c578f
[2022-05-09T10:10:53Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;624a50d6-67b1-40c1-9808-676dea1c578f&quot;
[2022-05-09T10:10:53Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 624a50d6-67b1-40c1-9808-676dea1c578f created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:10:53Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;624a50d6-67b1-40c1-9808-676dea1c578f&quot;
[2022-05-09T10:10:53Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T10:10:53.070629Z\&quot;,\n    \&quot;generation\&quot;: 1,\n    \&quot;name\&quot;: \&quot;624a50d6-67b1-40c1-9808-676dea1c578f\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;4cfa79ab-7997-487d-9d97-fd2d3e58d97a\&quot;,\n    \&quot;uid\&quot;: \&quot;e4b1c04c-bf3e-4577-a198-3e1c490b608e\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:10:53.081761254Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:10:53Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T10:10:53.070629Z&quot;), &quot;generation&quot;: Number(1), &quot;name&quot;: String(&quot;624a50d6-67b1-40c1-9808-676dea1c578f&quot;), &quot;resourceVersion&quot;: String(&quot;4cfa79ab-7997-487d-9d97-fd2d3e58d97a&quot;), &quot;uid&quot;: String(&quot;e4b1c04c-bf3e-4577-a198-3e1c490b608e&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:10:53.081761254Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})])})})
[2022-05-09T10:10:53Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-09T10:10:54Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;624a50d6-67b1-40c1-9808-676dea1c578f&quot;
[2022-05-09T10:10:54Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T10:10:53.070629Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;624a50d6-67b1-40c1-9808-676dea1c578f\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;0463e54b-23b4-44c5-9c2e-ab24989b3a28\&quot;,\n    \&quot;uid\&quot;: \&quot;e4b1c04c-bf3e-4577-a198-3e1c490b608e\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:10:53.360417785Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:10:53.360374804Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:10:53.120482050Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:10:53.127909804Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:10:53.205428431Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:10:53.215319860Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:10:53.360327105Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:10:53.360344969Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;EB3gbATWrIxt\&quot;,\n        \&quot;username\&quot;: \&quot;user-624a50d6-67b1-40c1-9808-676dea1c578f\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:10:54Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T10:10:53.070629Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;624a50d6-67b1-40c1-9808-676dea1c578f&quot;), &quot;resourceVersion&quot;: String(&quot;0463e54b-23b4-44c5-9c2e-ab24989b3a28&quot;), &quot;uid&quot;: String(&quot;e4b1c04c-bf3e-4577-a198-3e1c490b608e&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:10:53.360417785Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:10:53.360374804Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:10:53.120482050Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:10:53.127909804Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:10:53.205428431Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:10:53.215319860Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:10:53.360327105Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:10:53.360344969Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;EB3gbATWrIxt&quot;), &quot;username&quot;: String(&quot;user-624a50d6-67b1-40c1-9808-676dea1c578f&quot;)})})})})
[2022-05-09T10:10:54Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-09T10:10:54Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;624a50d6-67b1-40c1-9808-676dea1c578f&quot;
[2022-05-09T10:10:54Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T10:10:53.070629Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;624a50d6-67b1-40c1-9808-676dea1c578f\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;0463e54b-23b4-44c5-9c2e-ab24989b3a28\&quot;,\n    \&quot;uid\&quot;: \&quot;e4b1c04c-bf3e-4577-a198-3e1c490b608e\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:10:53.360417785Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:10:53.360374804Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:10:53.120482050Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:10:53.127909804Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:10:53.205428431Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:10:53.215319860Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:10:53.360327105Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:10:53.360344969Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;EB3gbATWrIxt\&quot;,\n        \&quot;username\&quot;: \&quot;user-624a50d6-67b1-40c1-9808-676dea1c578f\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:10:54Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T10:10:53.070629Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;624a50d6-67b1-40c1-9808-676dea1c578f&quot;), &quot;resourceVersion&quot;: String(&quot;0463e54b-23b4-44c5-9c2e-ab24989b3a28&quot;), &quot;uid&quot;: String(&quot;e4b1c04c-bf3e-4577-a198-3e1c490b608e&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:10:53.360417785Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:10:53.360374804Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:10:53.120482050Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:10:53.127909804Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:10:53.205428431Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:10:53.215319860Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:10:53.360327105Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:10:53.360344969Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;EB3gbATWrIxt&quot;), &quot;username&quot;: String(&quot;user-624a50d6-67b1-40c1-9808-676dea1c578f&quot;)})})})})
[2022-05-09T10:10:54Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-09T10:10:54Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-05-09T10:10:54Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;624a50d6-67b1-40c1-9808-676dea1c578f&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-09T10:10:54Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:10:54Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:10:54Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T10:10:54Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T10:10:54Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJXRG4zQ2wwMVNsYVpRRnRTbUpuS2JqWC1wcXdsR21xWDhSUFNWSHgxUHgwIn0.eyJleHAiOjE2NTIwOTEzNTIsImlhdCI6MTY1MjA5MTA1MiwiYXV0aF90aW1lIjoxNjUyMDkxMDQ5LCJqdGkiOiIzYmIxZDUyOS04ODcyLTQzMTUtOGExOS0zODAyNWNhNjY2NmYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiM2RlYjE5ZjktYzc0Ni00YjAwLWE5MDktMmI5ODg1NWNlNGYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJ1bTNlWEpNN3k0dE5zaVlnREs1MkFnIiwic2Vzc2lvbl9zdGF0ZSI6IjczZTQ2ZDhkLWM4MDMtNDEwZS1iNjFjLWIwMTg5MzZiZjU2OSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjczZTQ2ZDhkLWM4MDMtNDEwZS1iNjFjLWIwMTg5MzZiZjU2OSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.YbrUlGDKnoglhn1d46bB0b1lJK31u9_ZxfQB7rRPlDoKum8QtglwGQi0Cp1lg8rXX-h4KiZq8Xhdxk9G5ZN8mjXadmL_vZOP26AxMU9qaXIKoYKJtsz9gy5ENP-q9OtWNcKmGVRSNUZmUr7YQDEv4pMf9wiE0_zxlhmO3HzoMCtFx5Bx6n5SxdS2JEj3PV4o-lGm7Efk8TfdA32MoKnzKrKlNiRHwX6GdPbzJmn71eIX8A4J1oCo1V3jBzhIoqeDuKtIHU4dZgsXeQr_aCxV0EDZ5ig4s8Z-u_DZrzA12wiw7flOXZJ0os4s92-SmrR5Y7jzRgeB3m87mA2nBy-uIA\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:10:54Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T10:10:54Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-09T10:10:54Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-09T10:10:54Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;624a50d6-67b1-40c1-9808-676dea1c578f&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-05-09T10:10:54Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:10:54Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt
[2022-05-09T10:10:54Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T10:10:54Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJXRG4zQ2wwMVNsYVpRRnRTbUpuS2JqWC1wcXdsR21xWDhSUFNWSHgxUHgwIn0.eyJleHAiOjE2NTIwOTEzNTIsImlhdCI6MTY1MjA5MTA1MiwiYXV0aF90aW1lIjoxNjUyMDkxMDQ5LCJqdGkiOiIzYmIxZDUyOS04ODcyLTQzMTUtOGExOS0zODAyNWNhNjY2NmYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiM2RlYjE5ZjktYzc0Ni00YjAwLWE5MDktMmI5ODg1NWNlNGYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJ1bTNlWEpNN3k0dE5zaVlnREs1MkFnIiwic2Vzc2lvbl9zdGF0ZSI6IjczZTQ2ZDhkLWM4MDMtNDEwZS1iNjFjLWIwMTg5MzZiZjU2OSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjczZTQ2ZDhkLWM4MDMtNDEwZS1iNjFjLWIwMTg5MzZiZjU2OSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.YbrUlGDKnoglhn1d46bB0b1lJK31u9_ZxfQB7rRPlDoKum8QtglwGQi0Cp1lg8rXX-h4KiZq8Xhdxk9G5ZN8mjXadmL_vZOP26AxMU9qaXIKoYKJtsz9gy5ENP-q9OtWNcKmGVRSNUZmUr7YQDEv4pMf9wiE0_zxlhmO3HzoMCtFx5Bx6n5SxdS2JEj3PV4o-lGm7Efk8TfdA32MoKnzKrKlNiRHwX6GdPbzJmn71eIX8A4J1oCo1V3jBzhIoqeDuKtIHU4dZgsXeQr_aCxV0EDZ5ig4s8Z-u_DZrzA12wiw7flOXZJ0os4s92-SmrR5Y7jzRgeB3m87mA2nBy-uIA\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:10:54Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt&quot;, client_id: &quot;3d2f10c4-c2a8-441b-87cd-689bb11e551b&quot;, persistence: None, user_data: None }
[2022-05-09T10:10:54Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T10:10:54Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55efdbeee490
[2022-05-09T10:10:54Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55efdbeee490
[2022-05-09T10:10:54Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x55efdbeee7d0, connectTimeout: 30, retryInterval: 0, ssl: 0x55efdbeeeea0, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55efdbf88ed0, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJXRG4zQ2wwMVNsYVpRRnRTbUpuS2JqWC1wcXdsR21xWDhSUFNWSHgxUHgwIn0.eyJleHAiOjE2NTIwOTEzNTIsImlhdCI6MTY1MjA5MTA1MiwiYXV0aF90aW1lIjoxNjUyMDkxMDQ5LCJqdGkiOiIzYmIxZDUyOS04ODcyLTQzMTUtOGExOS0zODAyNWNhNjY2NmYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiM2RlYjE5ZjktYzc0Ni00YjAwLWE5MDktMmI5ODg1NWNlNGYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJ1bTNlWEpNN3k0dE5zaVlnREs1MkFnIiwic2Vzc2lvbl9zdGF0ZSI6IjczZTQ2ZDhkLWM4MDMtNDEwZS1iNjFjLWIwMTg5MzZiZjU2OSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjczZTQ2ZDhkLWM4MDMtNDEwZS1iNjFjLWIwMTg5MzZiZjU2OSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.YbrUlGDKnoglhn1d46bB0b1lJK31u9_ZxfQB7rRPlDoKum8QtglwGQi0Cp1lg8rXX-h4KiZq8Xhdxk9G5ZN8mjXadmL_vZOP26AxMU9qaXIKoYKJtsz9gy5ENP-q9OtWNcKmGVRSNUZmUr7YQDEv4pMf9wiE0_zxlhmO3HzoMCtFx5Bx6n5SxdS2JEj3PV4o-lGm7Efk8TfdA32MoKnzKrKlNiRHwX6GdPbzJmn71eIX8A4J1oCo1V3jBzhIoqeDuKtIHU4dZgsXeQr_aCxV0EDZ5ig4s8Z-u_DZrzA12wiw7flOXZJ0os4s92-SmrR5Y7jzRgeB3m87mA2nBy-uIA&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T10:10:54Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/624a50d6-67b1-40c1-9808-676dea1c578f&quot;&#x27; @ QOS 0
[2022-05-09T10:10:54Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-09T10:10:54Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:10:54Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-09T10:10:54Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:10:54Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:10:55Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:10:56Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:10:56Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:10:56Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:10:56Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:10:57Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:10:57Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:10:57Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:10:57Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:10:58Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:10:58Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:10:58Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:10:58Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:10:58Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 621, payload: 0x7f0ed00167b0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f0ed0008160 } }, data: MessageData { topic: &quot;app/624a50d6-67b1-40c1-9808-676dea1c578f&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 52, 102, 52, 57, 99, 99, 99, 52, 45, 54, 52, 102, 51, 45, 52, 48, 57, 49, 45, 57, 54, 53, 98, 45, 50, 54, 56, 52, 98, 53, 97, 53, 54, 100, 53, 49, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 54, 50, 52, 97, 53, 48, 100, 54, 37, 50, 68, 54, 55, 98, 49, 37, 50, 68, 52, 48, 99, 49, 37, 50, 68, 57, 56, 48, 56, 37, 50, 68, 54, 55, 54, 100, 101, 97, 49, 99, 53, 55, 56, 102, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 119, 97, 114, 109, 117, 112, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 48, 58, 49, 48, 58, 53, 56, 46, 52, 52, 53, 51, 55, 52, 53, 55, 56, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 49, 51, 101, 99, 56, 55, 53, 97, 45, 99, 99, 51, 101, 45, 52, 102, 48, 52, 45, 57, 57, 52, 56, 45, 50, 52, 55, 53, 99, 54, 98, 55, 102, 48, 97, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 49, 50, 49, 51, 49, 98, 51, 98, 45, 57, 48, 54, 99, 45, 52, 100, 99, 100, 45, 57, 102, 48, 56, 45, 100, 57, 49, 52, 48, 51, 57, 53, 100, 53, 54, 98, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 101, 52, 98, 49, 99, 48, 52, 99, 45, 98, 102, 51, 101, 45, 52, 53, 55, 55, 45, 97, 49, 57, 56, 45, 51, 101, 49, 99, 52, 57, 48, 98, 54, 48, 56, 101, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 54, 50, 52, 97, 53, 48, 100, 54, 37, 50, 68, 54, 55, 98, 49, 37, 50, 68, 52, 48, 99, 49, 37, 50, 68, 57, 56, 48, 56, 37, 50, 68, 54, 55, 54, 100, 101, 97, 49, 99, 53, 55, 56, 102, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 54, 50, 52, 97, 53, 48, 100, 54, 45, 54, 55, 98, 49, 45, 52, 48, 99, 49, 45, 57, 56, 48, 56, 45, 54, 55, 54, 100, 101, 97, 49, 99, 53, 55, 56, 102, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f0ed0008160 } } } }
[2022-05-09T10:10:58Z DEBUG paho_mqtt::properties] Dropping string property: 0x55efdbf3cfc0
[2022-05-09T10:10:58Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/624a50d6-67b1-40c1-9808-676dea1c578f&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;4f49ccc4-64f3-4091-965b-2684b5a56d51\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://624a50d6%2D67b1%2D40c1%2D9808%2D676dea1c578f/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;warmup\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T10:10:58.445374578Z\&quot;,\&quot;data\&quot;:{\&quot;index\&quot;:3},\&quot;deviceuid\&quot;:\&quot;13ec875a-cc3e-4f04-9948-2475c6b7f0a1\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;senderuid\&quot;:\&quot;12131b3b-906c-4dcd-9f08-d9140395d56b\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;applicationuid\&quot;:\&quot;e4b1c04c-bf3e-4577-a198-3e1c490b608e\&quot;,\&quot;partitionkey\&quot;:\&quot;624a50d6%2D67b1%2D40c1%2D9808%2D676dea1c578f/device1\&quot;,\&quot;application\&quot;:\&quot;624a50d6-67b1-40c1-9808-676dea1c578f\&quot;}&quot; }
[2022-05-09T10:10:59Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-09T10:10:59Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-09T10:10:59Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-09T10:10:59Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry/device1
[2022-05-09T10:10:59Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 4, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005/mqtt&quot;, client_id: &quot;c597ef33-4d4e-4777-a16e-2070280ba26d&quot;, persistence: None, user_data: None }
[2022-05-09T10:10:59Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T10:10:59Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55efdbfebca0
[2022-05-09T10:10:59Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55efdbfebca0
[2022-05-09T10:10:59Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 1, maxInflight: 65535, will: 0x0, username: 0x55efdbf3cd50, password: 0x55efdc33d680, connectTimeout: 30, retryInterval: 0, ssl: 0x55efdc1d3960, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 4, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 0, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55efdc2caaa0, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;gateway1@624a50d6-67b1-40c1-9808-676dea1c578f&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T10:10:59Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 640, payload: 0x7f0ed002b220, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f0ed002b4b0 } }, data: MessageData { topic: &quot;app/624a50d6-67b1-40c1-9808-676dea1c578f&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 56, 100, 49, 53, 100, 54, 50, 102, 45, 54, 49, 102, 98, 45, 52, 53, 51, 53, 45, 57, 100, 53, 52, 45, 54, 55, 98, 48, 57, 53, 101, 53, 49, 55, 102, 97, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 54, 50, 52, 97, 53, 48, 100, 54, 37, 50, 68, 54, 55, 98, 49, 37, 50, 68, 52, 48, 99, 49, 37, 50, 68, 57, 56, 48, 56, 37, 50, 68, 54, 55, 54, 100, 101, 97, 49, 99, 53, 55, 56, 102, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 48, 58, 49, 48, 58, 53, 57, 46, 53, 53, 57, 54, 57, 52, 53, 54, 51, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 54, 50, 52, 97, 53, 48, 100, 54, 45, 54, 55, 98, 49, 45, 52, 48, 99, 49, 45, 57, 56, 48, 56, 45, 54, 55, 54, 100, 101, 97, 49, 99, 53, 55, 56, 102, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 49, 50, 49, 51, 49, 98, 51, 98, 45, 57, 48, 54, 99, 45, 52, 100, 99, 100, 45, 57, 102, 48, 56, 45, 100, 57, 49, 52, 48, 51, 57, 53, 100, 53, 54, 98, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 101, 52, 98, 49, 99, 48, 52, 99, 45, 98, 102, 51, 101, 45, 52, 53, 55, 55, 45, 97, 49, 57, 56, 45, 51, 101, 49, 99, 52, 57, 48, 98, 54, 48, 56, 101, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 54, 50, 52, 97, 53, 48, 100, 54, 37, 50, 68, 54, 55, 98, 49, 37, 50, 68, 52, 48, 99, 49, 37, 50, 68, 57, 56, 48, 56, 37, 50, 68, 54, 55, 54, 100, 101, 97, 49, 99, 53, 55, 56, 102, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 49, 50, 49, 51, 49, 98, 51, 98, 45, 57, 48, 54, 99, 45, 52, 100, 99, 100, 45, 57, 102, 48, 56, 45, 100, 57, 49, 52, 48, 51, 57, 53, 100, 53, 54, 98, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f0ed002b4b0 } } } }
[2022-05-09T10:10:59Z DEBUG paho_mqtt::properties] Dropping string property: 0x55efdbf3cfc0
[2022-05-09T10:10:59Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/624a50d6-67b1-40c1-9808-676dea1c578f&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;8d15d62f-61fb-4535-9d54-67b095e517fa\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://624a50d6%2D67b1%2D40c1%2D9808%2D676dea1c578f/gateway1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T10:10:59.559694563Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:true},\&quot;application\&quot;:\&quot;624a50d6-67b1-40c1-9808-676dea1c578f\&quot;,\&quot;deviceuid\&quot;:\&quot;12131b3b-906c-4dcd-9f08-d9140395d56b\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;applicationuid\&quot;:\&quot;e4b1c04c-bf3e-4577-a198-3e1c490b608e\&quot;,\&quot;device\&quot;:\&quot;gateway1\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;partitionkey\&quot;:\&quot;624a50d6%2D67b1%2D40c1%2D9808%2D676dea1c578f/gateway1\&quot;,\&quot;senderuid\&quot;:\&quot;12131b3b-906c-4dcd-9f08-d9140395d56b\&quot;}&quot; }
[2022-05-09T10:10:59Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55efdbe63830 } }, data: MessageData { topic: &quot;telemetry/device1&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55efdbe63830 } } } }
[2022-05-09T10:10:59Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-09T10:10:59Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 641, payload: 0x7f0ed002b650, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f0ed002b8e0 } }, data: MessageData { topic: &quot;app/624a50d6-67b1-40c1-9808-676dea1c578f&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 50, 57, 57, 98, 50, 97, 102, 100, 45, 53, 49, 49, 50, 45, 52, 51, 97, 55, 45, 97, 50, 100, 50, 45, 57, 51, 98, 50, 101, 102, 51, 101, 57, 99, 55, 102, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 54, 50, 52, 97, 53, 48, 100, 54, 37, 50, 68, 54, 55, 98, 49, 37, 50, 68, 52, 48, 99, 49, 37, 50, 68, 57, 56, 48, 56, 37, 50, 68, 54, 55, 54, 100, 101, 97, 49, 99, 53, 55, 56, 102, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 48, 58, 49, 48, 58, 53, 57, 46, 55, 49, 48, 50, 52, 48, 57, 54, 52, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 102, 97, 108, 115, 101, 125, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 101, 52, 98, 49, 99, 48, 52, 99, 45, 98, 102, 51, 101, 45, 52, 53, 55, 55, 45, 97, 49, 57, 56, 45, 51, 101, 49, 99, 52, 57, 48, 98, 54, 48, 56, 101, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 54, 50, 52, 97, 53, 48, 100, 54, 37, 50, 68, 54, 55, 98, 49, 37, 50, 68, 52, 48, 99, 49, 37, 50, 68, 57, 56, 48, 56, 37, 50, 68, 54, 55, 54, 100, 101, 97, 49, 99, 53, 55, 56, 102, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 49, 50, 49, 51, 49, 98, 51, 98, 45, 57, 48, 54, 99, 45, 52, 100, 99, 100, 45, 57, 102, 48, 56, 45, 100, 57, 49, 52, 48, 51, 57, 53, 100, 53, 54, 98, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 49, 50, 49, 51, 49, 98, 51, 98, 45, 57, 48, 54, 99, 45, 52, 100, 99, 100, 45, 57, 102, 48, 56, 45, 100, 57, 49, 52, 48, 51, 57, 53, 100, 53, 54, 98, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 54, 50, 52, 97, 53, 48, 100, 54, 45, 54, 55, 98, 49, 45, 52, 48, 99, 49, 45, 57, 56, 48, 56, 45, 54, 55, 54, 100, 101, 97, 49, 99, 53, 55, 56, 102, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f0ed002b8e0 } } } }
[2022-05-09T10:10:59Z DEBUG paho_mqtt::properties] Dropping string property: 0x55efdbf3cfc0
[2022-05-09T10:10:59Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/624a50d6-67b1-40c1-9808-676dea1c578f&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;299b2afd-5112-43a7-a2d2-93b2ef3e9c7f\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://624a50d6%2D67b1%2D40c1%2D9808%2D676dea1c578f/gateway1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T10:10:59.710240964Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:false},\&quot;device\&quot;:\&quot;gateway1\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;applicationuid\&quot;:\&quot;e4b1c04c-bf3e-4577-a198-3e1c490b608e\&quot;,\&quot;partitionkey\&quot;:\&quot;624a50d6%2D67b1%2D40c1%2D9808%2D676dea1c578f/gateway1\&quot;,\&quot;deviceuid\&quot;:\&quot;12131b3b-906c-4dcd-9f08-d9140395d56b\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;senderuid\&quot;:\&quot;12131b3b-906c-4dcd-9f08-d9140395d56b\&quot;,\&quot;application\&quot;:\&quot;624a50d6-67b1-40c1-9808-676dea1c578f\&quot;}&quot; }
[2022-05-09T10:11:00Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 630, payload: 0x7f0ed002bd60, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f0ed002bfe0 } }, data: MessageData { topic: &quot;app/624a50d6-67b1-40c1-9808-676dea1c578f&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 56, 101, 51, 54, 50, 57, 48, 97, 45, 53, 50, 102, 53, 45, 52, 54, 56, 51, 45, 97, 99, 48, 49, 45, 52, 57, 50, 100, 56, 49, 48, 53, 101, 97, 55, 52, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 54, 50, 52, 97, 53, 48, 100, 54, 37, 50, 68, 54, 55, 98, 49, 37, 50, 68, 52, 48, 99, 49, 37, 50, 68, 57, 56, 48, 56, 37, 50, 68, 54, 55, 54, 100, 101, 97, 49, 99, 53, 55, 56, 102, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 111, 99, 116, 101, 116, 45, 115, 116, 114, 101, 97, 109, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 116, 101, 108, 101, 109, 101, 116, 114, 121, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 48, 58, 49, 48, 58, 53, 57, 46, 55, 48, 57, 49, 54, 56, 51, 54, 57, 90, 34, 44, 34, 100, 97, 116, 97, 95, 98, 97, 115, 101, 54, 52, 34, 58, 34, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 101, 52, 98, 49, 99, 48, 52, 99, 45, 98, 102, 51, 101, 45, 52, 53, 55, 55, 45, 97, 49, 57, 56, 45, 51, 101, 49, 99, 52, 57, 48, 98, 54, 48, 56, 101, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 54, 50, 52, 97, 53, 48, 100, 54, 37, 50, 68, 54, 55, 98, 49, 37, 50, 68, 52, 48, 99, 49, 37, 50, 68, 57, 56, 48, 56, 37, 50, 68, 54, 55, 54, 100, 101, 97, 49, 99, 53, 55, 56, 102, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 49, 51, 101, 99, 56, 55, 53, 97, 45, 99, 99, 51, 101, 45, 52, 102, 48, 52, 45, 57, 57, 52, 56, 45, 50, 52, 55, 53, 99, 54, 98, 55, 102, 48, 97, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 54, 50, 52, 97, 53, 48, 100, 54, 45, 54, 55, 98, 49, 45, 52, 48, 99, 49, 45, 57, 56, 48, 56, 45, 54, 55, 54, 100, 101, 97, 49, 99, 53, 55, 56, 102, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 49, 50, 49, 51, 49, 98, 51, 98, 45, 57, 48, 54, 99, 45, 52, 100, 99, 100, 45, 57, 102, 48, 56, 45, 100, 57, 49, 52, 48, 51, 57, 53, 100, 53, 54, 98, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f0ed002bfe0 } } } }
[2022-05-09T10:11:00Z DEBUG paho_mqtt::properties] Dropping string property: 0x55efdbf3cfc0
[2022-05-09T10:11:00Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/624a50d6-67b1-40c1-9808-676dea1c578f&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;8e36290a-52f5-4683-ac01-492d8105ea74\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://624a50d6%2D67b1%2D40c1%2D9808%2D676dea1c578f/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/octet-stream\&quot;,\&quot;subject\&quot;:\&quot;telemetry\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T10:10:59.709168369Z\&quot;,\&quot;data_base64\&quot;:\&quot;\&quot;,\&quot;applicationuid\&quot;:\&quot;e4b1c04c-bf3e-4577-a198-3e1c490b608e\&quot;,\&quot;partitionkey\&quot;:\&quot;624a50d6%2D67b1%2D40c1%2D9808%2D676dea1c578f/device1\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;deviceuid\&quot;:\&quot;13ec875a-cc3e-4f04-9948-2475c6b7f0a1\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;application\&quot;:\&quot;624a50d6-67b1-40c1-9808-676dea1c578f\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;senderuid\&quot;:\&quot;12131b3b-906c-4dcd-9f08-d9140395d56b\&quot;}&quot; }
[2022-05-09T10:11:00Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-09T10:11:00Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-09T10:11:00Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-09T10:11:00Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;624a50d6-67b1-40c1-9808-676dea1c578f&quot;, device: &quot;gateway1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`,
 right: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;624a50d6-67b1-40c1-9808-676dea1c578f&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`: Position #0&#x27;, src/tools/assert.rs:35:39
[2022-05-09T10:11:00Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-09T10:11:00Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;624a50d6-67b1-40c1-9808-676dea1c578f&quot; &quot;device1&quot;
[2022-05-09T10:11:00Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:11:00Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-05-09T10:11:00Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;624a50d6-67b1-40c1-9808-676dea1c578f&quot; &quot;gateway1&quot;
[2022-05-09T10:11:00Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:11:00Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;624a50d6-67b1-40c1-9808-676dea1c578f&#x27;
[2022-05-09T10:11:00Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;624a50d6-67b1-40c1-9808-676dea1c578f&quot;
[2022-05-09T10:11:00Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 624a50d6-67b1-40c1-9808-676dea1c578f deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_2::integration_version_3::integration_ws_1

**Duration**: 14s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-09T10:11:02Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-09T10:11:02Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T10:11:02Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T10:11:02Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T10:11:02Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T10:11:03Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-09T10:11:05Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-09T10:11:05Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T10:11:05Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T10:11:05Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T10:11:06Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI0NDVmMTM5Zi0wNjNjLTRhZDgtODkwYi1mNTg1OTQ0NjFiZDAifQ.eyJleHAiOjE2NTIwOTI4NjYsImlhdCI6MTY1MjA5MTA2NiwianRpIjoiNzUxMzU3MDktMjMwMC00YzZmLTk4YmYtZmEyMTI4MzE3MmVhIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjNkZWIxOWY5LWM3NDYtNGIwMC1hOTA5LTJiOTg4NTVjZTRmMyIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IjRicmFJa3RFbjZBQzg4bTBaRUVkT2ciLCJzZXNzaW9uX3N0YXRlIjoiM2U5Mjc2NjYtN2JhYS00MTI3LWFiYjYtMTRjZTExMjdiNDEzIiwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjNlOTI3NjY2LTdiYWEtNDEyNy1hYmI2LTE0Y2UxMTI3YjQxMyJ9.4mqeBeik1LyOc6gXS7foVHG3xHYYm7Za3IQqNsqG7pI
[2022-05-09T10:11:06Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-09T10:11:06Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-09T10:11:06Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI0NDVmMTM5Zi0wNjNjLTRhZDgtODkwYi1mNTg1OTQ0NjFiZDAifQ.eyJleHAiOjE2NTIwOTI4NjYsImlhdCI6MTY1MjA5MTA2NiwianRpIjoiNzUxMzU3MDktMjMwMC00YzZmLTk4YmYtZmEyMTI4MzE3MmVhIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjNkZWIxOWY5LWM3NDYtNGIwMC1hOTA5LTJiOTg4NTVjZTRmMyIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IjRicmFJa3RFbjZBQzg4bTBaRUVkT2ciLCJzZXNzaW9uX3N0YXRlIjoiM2U5Mjc2NjYtN2JhYS00MTI3LWFiYjYtMTRjZTExMjdiNDEzIiwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjNlOTI3NjY2LTdiYWEtNDEyNy1hYmI2LTE0Y2UxMTI3YjQxMyJ9.4mqeBeik1LyOc6gXS7foVHG3xHYYm7Za3IQqNsqG7pI&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-09T10:11:06Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:11:07Z INFO  drogue_cloud_tests::resources::apps] Create application: d9424f8f-aa57-4d71-993d-dfde029dfb83
[2022-05-09T10:11:07Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;d9424f8f-aa57-4d71-993d-dfde029dfb83&quot;
[2022-05-09T10:11:07Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App d9424f8f-aa57-4d71-993d-dfde029dfb83 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:11:07Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;d9424f8f-aa57-4d71-993d-dfde029dfb83&quot;
[2022-05-09T10:11:07Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T10:11:07.662677Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 1,\n    \&quot;name\&quot;: \&quot;d9424f8f-aa57-4d71-993d-dfde029dfb83\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;2e260a14-e4f5-434a-9ad0-175e914f1f32\&quot;,\n    \&quot;uid\&quot;: \&quot;4536f0a8-b94d-430a-beac-9f1e1500a09c\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:11:07.678531730Z\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: HasFinalizer\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:11:07.678597793Z\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:11:07.678442443Z\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:11:07.678443955Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:11:07.678444797Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:11:07.678445869Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:11:07.678447292Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:11:07.678473591Z\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:11:07Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T10:11:07.662677Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(1), &quot;name&quot;: String(&quot;d9424f8f-aa57-4d71-993d-dfde029dfb83&quot;), &quot;resourceVersion&quot;: String(&quot;2e260a14-e4f5-434a-9ad0-175e914f1f32&quot;), &quot;uid&quot;: String(&quot;4536f0a8-b94d-430a-beac-9f1e1500a09c&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:11:07.678531730Z&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: HasFinalizer&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:11:07.678597793Z&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:11:07.678442443Z&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:11:07.678443955Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:11:07.678444797Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:11:07.678445869Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:11:07.678447292Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:11:07.678473591Z&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(0)})})})
[2022-05-09T10:11:07Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-09T10:11:08Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;d9424f8f-aa57-4d71-993d-dfde029dfb83&quot;
[2022-05-09T10:11:08Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T10:11:07.662677Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 8,\n    \&quot;name\&quot;: \&quot;d9424f8f-aa57-4d71-993d-dfde029dfb83\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;b4226e53-a1a6-4fdc-b995-f4758353c203\&quot;,\n    \&quot;uid\&quot;: \&quot;4536f0a8-b94d-430a-beac-9f1e1500a09c\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:11:07.969541045Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:11:07.969644888Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:11:07.712659511Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:11:07.730974465Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:11:07.804807073Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:11:07.810991273Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:11:07.969429837Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:11:07.969448242Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 7,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;EuYOyCfeobTu\&quot;,\n        \&quot;username\&quot;: \&quot;user-d9424f8f-aa57-4d71-993d-dfde029dfb83\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:11:08Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T10:11:07.662677Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(8), &quot;name&quot;: String(&quot;d9424f8f-aa57-4d71-993d-dfde029dfb83&quot;), &quot;resourceVersion&quot;: String(&quot;b4226e53-a1a6-4fdc-b995-f4758353c203&quot;), &quot;uid&quot;: String(&quot;4536f0a8-b94d-430a-beac-9f1e1500a09c&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:11:07.969541045Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:11:07.969644888Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:11:07.712659511Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:11:07.730974465Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:11:07.804807073Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:11:07.810991273Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:11:07.969429837Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:11:07.969448242Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(7), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;EuYOyCfeobTu&quot;), &quot;username&quot;: String(&quot;user-d9424f8f-aa57-4d71-993d-dfde029dfb83&quot;)})})})})
[2022-05-09T10:11:08Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-09T10:11:08Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;d9424f8f-aa57-4d71-993d-dfde029dfb83&quot;
[2022-05-09T10:11:08Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T10:11:07.662677Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 8,\n    \&quot;name\&quot;: \&quot;d9424f8f-aa57-4d71-993d-dfde029dfb83\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;b4226e53-a1a6-4fdc-b995-f4758353c203\&quot;,\n    \&quot;uid\&quot;: \&quot;4536f0a8-b94d-430a-beac-9f1e1500a09c\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:11:07.969541045Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:11:07.969644888Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:11:07.712659511Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:11:07.730974465Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:11:07.804807073Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:11:07.810991273Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:11:07.969429837Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:11:07.969448242Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 7,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;EuYOyCfeobTu\&quot;,\n        \&quot;username\&quot;: \&quot;user-d9424f8f-aa57-4d71-993d-dfde029dfb83\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:11:08Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T10:11:07.662677Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(8), &quot;name&quot;: String(&quot;d9424f8f-aa57-4d71-993d-dfde029dfb83&quot;), &quot;resourceVersion&quot;: String(&quot;b4226e53-a1a6-4fdc-b995-f4758353c203&quot;), &quot;uid&quot;: String(&quot;4536f0a8-b94d-430a-beac-9f1e1500a09c&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:11:07.969541045Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:11:07.969644888Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:11:07.712659511Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:11:07.730974465Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:11:07.804807073Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:11:07.810991273Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:11:07.969429837Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:11:07.969448242Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(7), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;EuYOyCfeobTu&quot;), &quot;username&quot;: String(&quot;user-d9424f8f-aa57-4d71-993d-dfde029dfb83&quot;)})})})})
[2022-05-09T10:11:08Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-09T10:11:08Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-05-09T10:11:08Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;d9424f8f-aa57-4d71-993d-dfde029dfb83&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-09T10:11:08Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:11:08Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:11:08Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T10:11:08Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T10:11:08Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJXRG4zQ2wwMVNsYVpRRnRTbUpuS2JqWC1wcXdsR21xWDhSUFNWSHgxUHgwIn0.eyJleHAiOjE2NTIwOTEzNjYsImlhdCI6MTY1MjA5MTA2NiwiYXV0aF90aW1lIjoxNjUyMDkxMDY0LCJqdGkiOiJlNGFiZTY0YS03MzZhLTQxMjEtOWJmYi05ZTU4YjkzZGUyZjkiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiM2RlYjE5ZjktYzc0Ni00YjAwLWE5MDktMmI5ODg1NWNlNGYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiI0YnJhSWt0RW42QUM4OG0wWkVFZE9nIiwic2Vzc2lvbl9zdGF0ZSI6IjNlOTI3NjY2LTdiYWEtNDEyNy1hYmI2LTE0Y2UxMTI3YjQxMyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjNlOTI3NjY2LTdiYWEtNDEyNy1hYmI2LTE0Y2UxMTI3YjQxMyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.g6NrUeIFp4AMxEyfgTu364eW77HshxVkPN4OiPx75yaJ8-HdddoM7ML_gZ3Jz75ob_TvSWcG8CGOvbX8sQTzou648MPe1PNc10mdBM_IlnTAyU9XhOoDFqIxxfcp3jXYrObekr2C2mr8k49EO4EckBuWYouew4ub4lWKGSlrAlRge1BmXuf4XD8rLvTq6YQesGYs-W3iZWOLVr2rO6gU-8SGpGSVnDcN1vVXlcy6f-X9o96net-fDOhduD_HFvIR4VLIFPFKdY-rTNQTdFuTexlsaj-9yCDPT--OhdtvTzU4LUM9_zCQQc-Hu66bIjx3l65-Kls8wcCBmyq6htyagw\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:11:08Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T10:11:08Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-09T10:11:08Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-09T10:11:08Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;d9424f8f-aa57-4d71-993d-dfde029dfb83&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-05-09T10:11:08Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:11:08Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: ssl://mqtt-integration.172.18.0.2.nip.io:30002
[2022-05-09T10:11:08Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T10:11:08Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJXRG4zQ2wwMVNsYVpRRnRTbUpuS2JqWC1wcXdsR21xWDhSUFNWSHgxUHgwIn0.eyJleHAiOjE2NTIwOTEzNjYsImlhdCI6MTY1MjA5MTA2NiwiYXV0aF90aW1lIjoxNjUyMDkxMDY0LCJqdGkiOiJlNGFiZTY0YS03MzZhLTQxMjEtOWJmYi05ZTU4YjkzZGUyZjkiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiM2RlYjE5ZjktYzc0Ni00YjAwLWE5MDktMmI5ODg1NWNlNGYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiI0YnJhSWt0RW42QUM4OG0wWkVFZE9nIiwic2Vzc2lvbl9zdGF0ZSI6IjNlOTI3NjY2LTdiYWEtNDEyNy1hYmI2LTE0Y2UxMTI3YjQxMyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjNlOTI3NjY2LTdiYWEtNDEyNy1hYmI2LTE0Y2UxMTI3YjQxMyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.g6NrUeIFp4AMxEyfgTu364eW77HshxVkPN4OiPx75yaJ8-HdddoM7ML_gZ3Jz75ob_TvSWcG8CGOvbX8sQTzou648MPe1PNc10mdBM_IlnTAyU9XhOoDFqIxxfcp3jXYrObekr2C2mr8k49EO4EckBuWYouew4ub4lWKGSlrAlRge1BmXuf4XD8rLvTq6YQesGYs-W3iZWOLVr2rO6gU-8SGpGSVnDcN1vVXlcy6f-X9o96net-fDOhduD_HFvIR4VLIFPFKdY-rTNQTdFuTexlsaj-9yCDPT--OhdtvTzU4LUM9_zCQQc-Hu66bIjx3l65-Kls8wcCBmyq6htyagw\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:11:08Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-integration.172.18.0.2.nip.io:30002&quot;, client_id: &quot;96bc50f3-1fa2-4cd6-a5d4-9341a2ca8f6b&quot;, persistence: None, user_data: None }
[2022-05-09T10:11:08Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T10:11:08Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55efdbed1080
[2022-05-09T10:11:08Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55efdbed1080
[2022-05-09T10:11:08Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x55efdbed13c0, connectTimeout: 30, retryInterval: 0, ssl: 0x55efdc2c9d80, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55efdc087640, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJXRG4zQ2wwMVNsYVpRRnRTbUpuS2JqWC1wcXdsR21xWDhSUFNWSHgxUHgwIn0.eyJleHAiOjE2NTIwOTEzNjYsImlhdCI6MTY1MjA5MTA2NiwiYXV0aF90aW1lIjoxNjUyMDkxMDY0LCJqdGkiOiJlNGFiZTY0YS03MzZhLTQxMjEtOWJmYi05ZTU4YjkzZGUyZjkiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiM2RlYjE5ZjktYzc0Ni00YjAwLWE5MDktMmI5ODg1NWNlNGYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiI0YnJhSWt0RW42QUM4OG0wWkVFZE9nIiwic2Vzc2lvbl9zdGF0ZSI6IjNlOTI3NjY2LTdiYWEtNDEyNy1hYmI2LTE0Y2UxMTI3YjQxMyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjNlOTI3NjY2LTdiYWEtNDEyNy1hYmI2LTE0Y2UxMTI3YjQxMyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.g6NrUeIFp4AMxEyfgTu364eW77HshxVkPN4OiPx75yaJ8-HdddoM7ML_gZ3Jz75ob_TvSWcG8CGOvbX8sQTzou648MPe1PNc10mdBM_IlnTAyU9XhOoDFqIxxfcp3jXYrObekr2C2mr8k49EO4EckBuWYouew4ub4lWKGSlrAlRge1BmXuf4XD8rLvTq6YQesGYs-W3iZWOLVr2rO6gU-8SGpGSVnDcN1vVXlcy6f-X9o96net-fDOhduD_HFvIR4VLIFPFKdY-rTNQTdFuTexlsaj-9yCDPT--OhdtvTzU4LUM9_zCQQc-Hu66bIjx3l65-Kls8wcCBmyq6htyagw&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T10:11:08Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/d9424f8f-aa57-4d71-993d-dfde029dfb83&quot;&#x27; @ QOS 0
[2022-05-09T10:11:08Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-09T10:11:08Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-09T10:11:08Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:11:08Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:11:08Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:11:09Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:11:10Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:11:10Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:11:10Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:11:10Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:11:11Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:11:11Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:11:11Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:11:11Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:11:12Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:11:12Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:11:12Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:11:12Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:11:12Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 11, payload: 0x7f0ed0007ed0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 574, array: 0x55efdc0d6640 } }, data: MessageData { topic: &quot;app/d9424f8f-aa57-4d71-993d-dfde029dfb83&quot;, payload: [123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 574, array: 0x55efdc0d6640 } } } }
[2022-05-09T10:11:12Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55efdc1352f0, 0x55efdc13a960
[2022-05-09T10:11:12Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55efdc13a960, 0x55efdc2b5830
[2022-05-09T10:11:12Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55efdc13a960, 0x55efdc201ab0
[2022-05-09T10:11:12Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55efdc201ab0, 0x55efdc036500
[2022-05-09T10:11:12Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55efdc201ab0, 0x7f0ee0006b20
[2022-05-09T10:11:12Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0006b20, 0x55efdc2b5830
[2022-05-09T10:11:12Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0006b20, 0x7f0ee0001b10
[2022-05-09T10:11:12Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0001b10, 0x55efdc13aea0
[2022-05-09T10:11:12Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0001b10, 0x55efdc2b5830
[2022-05-09T10:11:12Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0001b10, 0x55efdc2b5830
[2022-05-09T10:11:12Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0001b10, 0x55efdc2b5830
[2022-05-09T10:11:12Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0001b10, 0x55efdc2b5830
[2022-05-09T10:11:12Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0001b10, 0x7f0ee0006890
[2022-05-09T10:11:12Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0006890, 0x7f0ee0001b10
[2022-05-09T10:11:12Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f0ee0001b10
[2022-05-09T10:11:12Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/d9424f8f-aa57-4d71-993d-dfde029dfb83&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;partitionkey&quot;: &quot;d9424f8f%2Daa57%2D4d71%2D993d%2Ddfde029dfb83/device1&quot;, &quot;deviceuid&quot;: &quot;2bcc3328-11c7-4dad-923d-98cd3e6eb48a&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;type&quot;: &quot;io.drogue.event.v1&quot;, &quot;source&quot;: &quot;drogue://d9424f8f%2Daa57%2D4d71%2D993d%2Ddfde029dfb83/device1&quot;, &quot;sender&quot;: &quot;gateway1&quot;, &quot;device&quot;: &quot;device1&quot;, &quot;id&quot;: &quot;dcd930d0-855d-4b91-95d3-820eb0abec30&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;senderuid&quot;: &quot;579edcd4-8de0-4a5f-ab13-4d81a1b5a9e7&quot;, &quot;application&quot;: &quot;d9424f8f-aa57-4d71-993d-dfde029dfb83&quot;, &quot;applicationuid&quot;: &quot;4536f0a8-b94d-430a-beac-9f1e1500a09c&quot;, &quot;subject&quot;: &quot;warmup&quot;, &quot;time&quot;: &quot;2022-05-09T10:11:12.442416881+00:00&quot;}, payload: &quot;{\&quot;index\&quot;:3}&quot; }
[2022-05-09T10:11:13Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-09T10:11:13Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-09T10:11:13Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-09T10:11:13Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry/device1
[2022-05-09T10:11:13Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 4, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005/mqtt&quot;, client_id: &quot;55933dcd-071a-4541-9207-040003e9833b&quot;, persistence: None, user_data: None }
[2022-05-09T10:11:13Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T10:11:13Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55efdc0f01e0
[2022-05-09T10:11:13Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55efdc0f01e0
[2022-05-09T10:11:13Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 1, maxInflight: 65535, will: 0x0, username: 0x55efdc2bcbe0, password: 0x55efdc2d4f10, connectTimeout: 30, retryInterval: 0, ssl: 0x55efdbfc9e30, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 4, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 0, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55efdbf28d80, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;gateway1@d9424f8f-aa57-4d71-993d-dfde029dfb83&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T10:11:13Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 18, payload: 0x7f0ed001a350, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 586, array: 0x55efdc0d6640 } }, data: MessageData { topic: &quot;app/d9424f8f-aa57-4d71-993d-dfde029dfb83&quot;, payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 586, array: 0x55efdc0d6640 } } } }
[2022-05-09T10:11:13Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55efdbeb4cb0, 0x7f0ee00068d0
[2022-05-09T10:11:13Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee00068d0, 0x7f0ed0008200
[2022-05-09T10:11:13Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee00068d0, 0x7f0ee0006b20
[2022-05-09T10:11:13Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0006b20, 0x7f0ed0002e30
[2022-05-09T10:11:13Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0006b20, 0x7f0ee0001b10
[2022-05-09T10:11:13Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0001b10, 0x7f0ed0008200
[2022-05-09T10:11:13Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0001b10, 0x7f0ed0008200
[2022-05-09T10:11:13Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0001b10, 0x7f0ed0008200
[2022-05-09T10:11:13Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0001b10, 0x7f0ee0006840
[2022-05-09T10:11:13Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0006840, 0x7f0ed0016400
[2022-05-09T10:11:13Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0006840, 0x7f0ee0001b30
[2022-05-09T10:11:13Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0001b30, 0x7f0ed0008200
[2022-05-09T10:11:13Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0001b30, 0x7f0ee000ab50
[2022-05-09T10:11:13Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee000ab50, 0x7f0ed0008200
[2022-05-09T10:11:13Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f0ee000ab50
[2022-05-09T10:11:13Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/d9424f8f-aa57-4d71-993d-dfde029dfb83&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;subject&quot;: &quot;connection&quot;, &quot;deviceuid&quot;: &quot;579edcd4-8de0-4a5f-ab13-4d81a1b5a9e7&quot;, &quot;application&quot;: &quot;d9424f8f-aa57-4d71-993d-dfde029dfb83&quot;, &quot;time&quot;: &quot;2022-05-09T10:11:13.663580458+00:00&quot;, &quot;sender&quot;: &quot;gateway1&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;senderuid&quot;: &quot;579edcd4-8de0-4a5f-ab13-4d81a1b5a9e7&quot;, &quot;source&quot;: &quot;drogue://d9424f8f%2Daa57%2D4d71%2D993d%2Ddfde029dfb83/gateway1&quot;, &quot;partitionkey&quot;: &quot;d9424f8f%2Daa57%2D4d71%2D993d%2Ddfde029dfb83/gateway1&quot;, &quot;applicationuid&quot;: &quot;4536f0a8-b94d-430a-beac-9f1e1500a09c&quot;, &quot;id&quot;: &quot;4a45ba57-7422-4a10-9a8c-d45f5c2ed19f&quot;, &quot;device&quot;: &quot;gateway1&quot;, &quot;type&quot;: &quot;io.drogue.connection.v1&quot;, &quot;instance&quot;: &quot;drogue&quot;}, payload: &quot;{\&quot;connected\&quot;:true}&quot; }
[2022-05-09T10:11:13Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55efdc1a4600 } }, data: MessageData { topic: &quot;telemetry/device1&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55efdc1a4600 } } } }
[2022-05-09T10:11:13Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-09T10:11:13Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 19, payload: 0x7f0ed0017a40, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 586, array: 0x55efdbf126a0 } }, data: MessageData { topic: &quot;app/d9424f8f-aa57-4d71-993d-dfde029dfb83&quot;, payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 102, 97, 108, 115, 101, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 586, array: 0x55efdbf126a0 } } } }
[2022-05-09T10:11:13Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0006b20, 0x7f0ee000ab10
[2022-05-09T10:11:13Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee000ab10, 0x7f0ed001a4e0
[2022-05-09T10:11:13Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee000ab10, 0x7f0ee0001b50
[2022-05-09T10:11:13Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0001b50, 0x7f0ed0031950
[2022-05-09T10:11:13Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0001b50, 0x7f0ee000ab30
[2022-05-09T10:11:13Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee000ab30, 0x7f0ed001a4e0
[2022-05-09T10:11:13Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee000ab30, 0x7f0ed001a4e0
[2022-05-09T10:11:13Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee000ab30, 0x7f0ed0031c70
[2022-05-09T10:11:13Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee000ab30, 0x7f0ee000ab70
[2022-05-09T10:11:13Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee000ab70, 0x7f0ed001a4e0
[2022-05-09T10:11:13Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee000ab70, 0x7f0ed001a4e0
[2022-05-09T10:11:13Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee000ab70, 0x7f0ee0006920
[2022-05-09T10:11:13Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0006920, 0x7f0ee000ab70
[2022-05-09T10:11:13Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee000ab70, 0x7f0ed001a4e0
[2022-05-09T10:11:13Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f0ee000ab70
[2022-05-09T10:11:13Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/d9424f8f-aa57-4d71-993d-dfde029dfb83&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;applicationuid&quot;: &quot;4536f0a8-b94d-430a-beac-9f1e1500a09c&quot;, &quot;sender&quot;: &quot;gateway1&quot;, &quot;subject&quot;: &quot;connection&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;source&quot;: &quot;drogue://d9424f8f%2Daa57%2D4d71%2D993d%2Ddfde029dfb83/gateway1&quot;, &quot;application&quot;: &quot;d9424f8f-aa57-4d71-993d-dfde029dfb83&quot;, &quot;id&quot;: &quot;28041e39-101c-42cc-acc2-3fb418becf2b&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;time&quot;: &quot;2022-05-09T10:11:13.730769508+00:00&quot;, &quot;deviceuid&quot;: &quot;579edcd4-8de0-4a5f-ab13-4d81a1b5a9e7&quot;, &quot;partitionkey&quot;: &quot;d9424f8f%2Daa57%2D4d71%2D993d%2Ddfde029dfb83/gateway1&quot;, &quot;senderuid&quot;: &quot;579edcd4-8de0-4a5f-ab13-4d81a1b5a9e7&quot;, &quot;device&quot;: &quot;gateway1&quot;, &quot;type&quot;: &quot;io.drogue.connection.v1&quot;}, payload: &quot;{\&quot;connected\&quot;:false}&quot; }
[2022-05-09T10:11:14Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 585, array: 0x55efdc0d6640 } }, data: MessageData { topic: &quot;app/d9424f8f-aa57-4d71-993d-dfde029dfb83&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 585, array: 0x55efdc0d6640 } } } }
[2022-05-09T10:11:14Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee00068d0, 0x7f0ee0006840
[2022-05-09T10:11:14Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0006840, 0x7f0ed002cfb0
[2022-05-09T10:11:14Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0006840, 0x7f0ee0006920
[2022-05-09T10:11:14Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0006920, 0x7f0ed0001f80
[2022-05-09T10:11:14Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0006920, 0x7f0ee000abf0
[2022-05-09T10:11:14Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee000abf0, 0x7f0ed002cfb0
[2022-05-09T10:11:14Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee000abf0, 0x7f0ed002cfb0
[2022-05-09T10:11:14Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee000abf0, 0x7f0ee000ab30
[2022-05-09T10:11:14Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee000ab30, 0x7f0ed002cfb0
[2022-05-09T10:11:14Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee000ab30, 0x7f0ed002cfb0
[2022-05-09T10:11:14Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee000ab30, 0x7f0ee0006b20
[2022-05-09T10:11:14Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0006b20, 0x7f0ee000ab30
[2022-05-09T10:11:14Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee000ab30, 0x7f0ed002cfb0
[2022-05-09T10:11:14Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee000ab30, 0x7f0ed0030850
[2022-05-09T10:11:14Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f0ee0005f90
[2022-05-09T10:11:14Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/d9424f8f-aa57-4d71-993d-dfde029dfb83&quot;, content_type: Some(&quot;application/octet-stream&quot;), user_properties: {&quot;sender&quot;: &quot;gateway1&quot;, &quot;type&quot;: &quot;io.drogue.event.v1&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;subject&quot;: &quot;telemetry&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;id&quot;: &quot;4408c9af-1a68-4035-8ceb-a49399943a02&quot;, &quot;device&quot;: &quot;device1&quot;, &quot;partitionkey&quot;: &quot;d9424f8f%2Daa57%2D4d71%2D993d%2Ddfde029dfb83/device1&quot;, &quot;applicationuid&quot;: &quot;4536f0a8-b94d-430a-beac-9f1e1500a09c&quot;, &quot;time&quot;: &quot;2022-05-09T10:11:13.725702356+00:00&quot;, &quot;source&quot;: &quot;drogue://d9424f8f%2Daa57%2D4d71%2D993d%2Ddfde029dfb83/device1&quot;, &quot;application&quot;: &quot;d9424f8f-aa57-4d71-993d-dfde029dfb83&quot;, &quot;deviceuid&quot;: &quot;2bcc3328-11c7-4dad-923d-98cd3e6eb48a&quot;, &quot;senderuid&quot;: &quot;579edcd4-8de0-4a5f-ab13-4d81a1b5a9e7&quot;}, payload: &quot;&quot; }
[2022-05-09T10:11:14Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-09T10:11:14Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-09T10:11:14Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-09T10:11:14Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;d9424f8f-aa57-4d71-993d-dfde029dfb83&quot;, device: &quot;gateway1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`,
 right: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;d9424f8f-aa57-4d71-993d-dfde029dfb83&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`: Position #0&#x27;, src/tools/assert.rs:35:39
[2022-05-09T10:11:14Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-09T10:11:14Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;d9424f8f-aa57-4d71-993d-dfde029dfb83&quot; &quot;device1&quot;
[2022-05-09T10:11:14Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:11:14Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-05-09T10:11:14Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;d9424f8f-aa57-4d71-993d-dfde029dfb83&quot; &quot;gateway1&quot;
[2022-05-09T10:11:14Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:11:14Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;d9424f8f-aa57-4d71-993d-dfde029dfb83&#x27;
[2022-05-09T10:11:14Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;d9424f8f-aa57-4d71-993d-dfde029dfb83&quot;
[2022-05-09T10:11:14Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App d9424f8f-aa57-4d71-993d-dfde029dfb83 deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_2::integration_version_3::integration_ws_2

**Duration**: 15s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-09T10:11:16Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-09T10:11:16Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T10:11:16Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T10:11:16Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T10:11:16Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T10:11:17Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-09T10:11:19Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-09T10:11:19Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T10:11:19Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T10:11:19Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T10:11:21Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI0NDVmMTM5Zi0wNjNjLTRhZDgtODkwYi1mNTg1OTQ0NjFiZDAifQ.eyJleHAiOjE2NTIwOTI4ODEsImlhdCI6MTY1MjA5MTA4MSwianRpIjoiNTllNGFiOTAtMjQ0My00M2FjLWJhNWQtMGI4NzQ3ZTc1YTFiIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjNkZWIxOWY5LWM3NDYtNGIwMC1hOTA5LTJiOTg4NTVjZTRmMyIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlB6ZG1sNTZqdDNocEhBT2Y0SVRsQXciLCJzZXNzaW9uX3N0YXRlIjoiODFjNmQ1YTktMWNkNC00MWY0LTgwM2QtNWY5NTYwNzYxZjAxIiwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjgxYzZkNWE5LTFjZDQtNDFmNC04MDNkLTVmOTU2MDc2MWYwMSJ9.pobsttrIJnzXnCqe7WH9ZgUlJA8furYhyCeT4i3l9no
[2022-05-09T10:11:21Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-09T10:11:21Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-09T10:11:21Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI0NDVmMTM5Zi0wNjNjLTRhZDgtODkwYi1mNTg1OTQ0NjFiZDAifQ.eyJleHAiOjE2NTIwOTI4ODEsImlhdCI6MTY1MjA5MTA4MSwianRpIjoiNTllNGFiOTAtMjQ0My00M2FjLWJhNWQtMGI4NzQ3ZTc1YTFiIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjNkZWIxOWY5LWM3NDYtNGIwMC1hOTA5LTJiOTg4NTVjZTRmMyIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlB6ZG1sNTZqdDNocEhBT2Y0SVRsQXciLCJzZXNzaW9uX3N0YXRlIjoiODFjNmQ1YTktMWNkNC00MWY0LTgwM2QtNWY5NTYwNzYxZjAxIiwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjgxYzZkNWE5LTFjZDQtNDFmNC04MDNkLTVmOTU2MDc2MWYwMSJ9.pobsttrIJnzXnCqe7WH9ZgUlJA8furYhyCeT4i3l9no&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-09T10:11:21Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:11:21Z INFO  drogue_cloud_tests::resources::apps] Create application: 2f9e86f5-9914-449f-bfb3-b4e541c56b14
[2022-05-09T10:11:21Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;2f9e86f5-9914-449f-bfb3-b4e541c56b14&quot;
[2022-05-09T10:11:21Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 2f9e86f5-9914-449f-bfb3-b4e541c56b14 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:11:21Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;2f9e86f5-9914-449f-bfb3-b4e541c56b14&quot;
[2022-05-09T10:11:21Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T10:11:21.925184Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 2,\n    \&quot;name\&quot;: \&quot;2f9e86f5-9914-449f-bfb3-b4e541c56b14\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;41a8c281-f0ca-46f0-a0ba-dc2e3df18de2\&quot;,\n    \&quot;uid\&quot;: \&quot;f576decc-d296-4895-874a-728d3a46491f\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:11:21.946956055Z\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:11:21.946875694Z\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: HasFinalizer\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:11:21.946601752Z\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:11:21.946602754Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:11:21.946603115Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:11:21.946603645Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:11:21.946604187Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:11:21.946616580Z\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 1\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:11:21Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T10:11:21.925184Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(2), &quot;name&quot;: String(&quot;2f9e86f5-9914-449f-bfb3-b4e541c56b14&quot;), &quot;resourceVersion&quot;: String(&quot;41a8c281-f0ca-46f0-a0ba-dc2e3df18de2&quot;), &quot;uid&quot;: String(&quot;f576decc-d296-4895-874a-728d3a46491f&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:11:21.946956055Z&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:11:21.946875694Z&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: HasFinalizer&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:11:21.946601752Z&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:11:21.946602754Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:11:21.946603115Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:11:21.946603645Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:11:21.946604187Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:11:21.946616580Z&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(1)})})})
[2022-05-09T10:11:21Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-09T10:11:22Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;2f9e86f5-9914-449f-bfb3-b4e541c56b14&quot;
[2022-05-09T10:11:22Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T10:11:21.925184Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;2f9e86f5-9914-449f-bfb3-b4e541c56b14\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;e0ea0357-37f5-4ae3-9c19-8631c3819b92\&quot;,\n    \&quot;uid\&quot;: \&quot;f576decc-d296-4895-874a-728d3a46491f\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:11:22.208937304Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:11:22.208846675Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:11:21.968965395Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:11:21.976180371Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:11:22.027596019Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:11:22.035705858Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:11:22.208782014Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:11:22.208815036Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;C42A4pH2GNuH\&quot;,\n        \&quot;username\&quot;: \&quot;user-2f9e86f5-9914-449f-bfb3-b4e541c56b14\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:11:22Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T10:11:21.925184Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;2f9e86f5-9914-449f-bfb3-b4e541c56b14&quot;), &quot;resourceVersion&quot;: String(&quot;e0ea0357-37f5-4ae3-9c19-8631c3819b92&quot;), &quot;uid&quot;: String(&quot;f576decc-d296-4895-874a-728d3a46491f&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:11:22.208937304Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:11:22.208846675Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:11:21.968965395Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:11:21.976180371Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:11:22.027596019Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:11:22.035705858Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:11:22.208782014Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:11:22.208815036Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;C42A4pH2GNuH&quot;), &quot;username&quot;: String(&quot;user-2f9e86f5-9914-449f-bfb3-b4e541c56b14&quot;)})})})})
[2022-05-09T10:11:22Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-09T10:11:22Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;2f9e86f5-9914-449f-bfb3-b4e541c56b14&quot;
[2022-05-09T10:11:22Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T10:11:21.925184Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;2f9e86f5-9914-449f-bfb3-b4e541c56b14\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;e0ea0357-37f5-4ae3-9c19-8631c3819b92\&quot;,\n    \&quot;uid\&quot;: \&quot;f576decc-d296-4895-874a-728d3a46491f\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:11:22.208937304Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:11:22.208846675Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:11:21.968965395Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:11:21.976180371Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:11:22.027596019Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:11:22.035705858Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:11:22.208782014Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:11:22.208815036Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;C42A4pH2GNuH\&quot;,\n        \&quot;username\&quot;: \&quot;user-2f9e86f5-9914-449f-bfb3-b4e541c56b14\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:11:22Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T10:11:21.925184Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;2f9e86f5-9914-449f-bfb3-b4e541c56b14&quot;), &quot;resourceVersion&quot;: String(&quot;e0ea0357-37f5-4ae3-9c19-8631c3819b92&quot;), &quot;uid&quot;: String(&quot;f576decc-d296-4895-874a-728d3a46491f&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:11:22.208937304Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:11:22.208846675Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:11:21.968965395Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:11:21.976180371Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:11:22.027596019Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:11:22.035705858Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:11:22.208782014Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:11:22.208815036Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;C42A4pH2GNuH&quot;), &quot;username&quot;: String(&quot;user-2f9e86f5-9914-449f-bfb3-b4e541c56b14&quot;)})})})})
[2022-05-09T10:11:22Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-09T10:11:22Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-05-09T10:11:22Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;2f9e86f5-9914-449f-bfb3-b4e541c56b14&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-09T10:11:23Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:11:23Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:11:23Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T10:11:23Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T10:11:23Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJXRG4zQ2wwMVNsYVpRRnRTbUpuS2JqWC1wcXdsR21xWDhSUFNWSHgxUHgwIn0.eyJleHAiOjE2NTIwOTEzODEsImlhdCI6MTY1MjA5MTA4MSwiYXV0aF90aW1lIjoxNjUyMDkxMDc4LCJqdGkiOiIxZjg5YjhiMy0wM2RmLTQwMTYtOTExYi0yZTVjNTI1MzVhOGMiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiM2RlYjE5ZjktYzc0Ni00YjAwLWE5MDktMmI5ODg1NWNlNGYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJQemRtbDU2anQzaHBIQU9mNElUbEF3Iiwic2Vzc2lvbl9zdGF0ZSI6IjgxYzZkNWE5LTFjZDQtNDFmNC04MDNkLTVmOTU2MDc2MWYwMSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjgxYzZkNWE5LTFjZDQtNDFmNC04MDNkLTVmOTU2MDc2MWYwMSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.klUt40uoYRfgxRj-wZtQyTv69g4obZDMN2V8qWVgQMtCbwGtf-oLYX3WjmIfb6YqqWh9LVkCF3zmFHF-ktpjBZyKVGqrffoUsbI1-QsInFfUGbl0Xu5MYhx3zi4JYlWPq2lHfsoAcPXX0ZCLUMmcd4YAqmYDWhQ9VT8QyyK2p2kBZLDGvgsSwAlhZvAlaSVYU6S07Qi_e78uKgxrVst3f039JNt6CxiIowu1SGV7GLueu6kpstKnwFX3lEKUaedYFx6rriYRh6E2tdIcwM12yfYtfOH_RyDvYpPq_5xqiaK7MKXBueNgBiexZMmBk3ICfq_q6mT8Xmp4jVTfvIdKsQ\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:11:23Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T10:11:23Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-09T10:11:23Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-09T10:11:23Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;2f9e86f5-9914-449f-bfb3-b4e541c56b14&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-05-09T10:11:23Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:11:23Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt
[2022-05-09T10:11:23Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T10:11:23Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJXRG4zQ2wwMVNsYVpRRnRTbUpuS2JqWC1wcXdsR21xWDhSUFNWSHgxUHgwIn0.eyJleHAiOjE2NTIwOTEzODEsImlhdCI6MTY1MjA5MTA4MSwiYXV0aF90aW1lIjoxNjUyMDkxMDc4LCJqdGkiOiIxZjg5YjhiMy0wM2RmLTQwMTYtOTExYi0yZTVjNTI1MzVhOGMiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiM2RlYjE5ZjktYzc0Ni00YjAwLWE5MDktMmI5ODg1NWNlNGYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJQemRtbDU2anQzaHBIQU9mNElUbEF3Iiwic2Vzc2lvbl9zdGF0ZSI6IjgxYzZkNWE5LTFjZDQtNDFmNC04MDNkLTVmOTU2MDc2MWYwMSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjgxYzZkNWE5LTFjZDQtNDFmNC04MDNkLTVmOTU2MDc2MWYwMSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.klUt40uoYRfgxRj-wZtQyTv69g4obZDMN2V8qWVgQMtCbwGtf-oLYX3WjmIfb6YqqWh9LVkCF3zmFHF-ktpjBZyKVGqrffoUsbI1-QsInFfUGbl0Xu5MYhx3zi4JYlWPq2lHfsoAcPXX0ZCLUMmcd4YAqmYDWhQ9VT8QyyK2p2kBZLDGvgsSwAlhZvAlaSVYU6S07Qi_e78uKgxrVst3f039JNt6CxiIowu1SGV7GLueu6kpstKnwFX3lEKUaedYFx6rriYRh6E2tdIcwM12yfYtfOH_RyDvYpPq_5xqiaK7MKXBueNgBiexZMmBk3ICfq_q6mT8Xmp4jVTfvIdKsQ\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:11:23Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt&quot;, client_id: &quot;832302e2-113a-4bbb-af38-ab7b3905a470&quot;, persistence: None, user_data: None }
[2022-05-09T10:11:23Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T10:11:23Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55efdc279800
[2022-05-09T10:11:23Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55efdc279800
[2022-05-09T10:11:23Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x55efdbf61ab0, connectTimeout: 30, retryInterval: 0, ssl: 0x55efdc1e3530, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55efdbf121d0, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJXRG4zQ2wwMVNsYVpRRnRTbUpuS2JqWC1wcXdsR21xWDhSUFNWSHgxUHgwIn0.eyJleHAiOjE2NTIwOTEzODEsImlhdCI6MTY1MjA5MTA4MSwiYXV0aF90aW1lIjoxNjUyMDkxMDc4LCJqdGkiOiIxZjg5YjhiMy0wM2RmLTQwMTYtOTExYi0yZTVjNTI1MzVhOGMiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiM2RlYjE5ZjktYzc0Ni00YjAwLWE5MDktMmI5ODg1NWNlNGYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJQemRtbDU2anQzaHBIQU9mNElUbEF3Iiwic2Vzc2lvbl9zdGF0ZSI6IjgxYzZkNWE5LTFjZDQtNDFmNC04MDNkLTVmOTU2MDc2MWYwMSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjgxYzZkNWE5LTFjZDQtNDFmNC04MDNkLTVmOTU2MDc2MWYwMSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.klUt40uoYRfgxRj-wZtQyTv69g4obZDMN2V8qWVgQMtCbwGtf-oLYX3WjmIfb6YqqWh9LVkCF3zmFHF-ktpjBZyKVGqrffoUsbI1-QsInFfUGbl0Xu5MYhx3zi4JYlWPq2lHfsoAcPXX0ZCLUMmcd4YAqmYDWhQ9VT8QyyK2p2kBZLDGvgsSwAlhZvAlaSVYU6S07Qi_e78uKgxrVst3f039JNt6CxiIowu1SGV7GLueu6kpstKnwFX3lEKUaedYFx6rriYRh6E2tdIcwM12yfYtfOH_RyDvYpPq_5xqiaK7MKXBueNgBiexZMmBk3ICfq_q6mT8Xmp4jVTfvIdKsQ&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T10:11:23Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/2f9e86f5-9914-449f-bfb3-b4e541c56b14&quot;&#x27; @ QOS 0
[2022-05-09T10:11:23Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-09T10:11:23Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-09T10:11:23Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:11:23Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:11:23Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:11:23Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:11:24Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:11:24Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:11:24Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:11:24Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:11:25Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:11:25Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:11:25Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:11:25Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:11:26Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:11:26Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:11:26Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:11:26Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:11:26Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 11, payload: 0x7f0edc016280, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 574, array: 0x55efdbfca950 } }, data: MessageData { topic: &quot;app/2f9e86f5-9914-449f-bfb3-b4e541c56b14&quot;, payload: [123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 574, array: 0x55efdbfca950 } } } }
[2022-05-09T10:11:26Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55efdc1fb700, 0x55efdbfc8e40
[2022-05-09T10:11:26Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55efdbfc8e40, 0x7f0ed8004d50
[2022-05-09T10:11:26Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55efdbfc8e40, 0x7f0ee0000c40
[2022-05-09T10:11:26Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0000c40, 0x55efdbf93730
[2022-05-09T10:11:26Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0000c40, 0x7f0ed8004a90
[2022-05-09T10:11:26Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0000c40, 0x7f0ed8004a90
[2022-05-09T10:11:26Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0000c40, 0x55efdc07d3f0
[2022-05-09T10:11:26Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0000c40, 0x7f0ed8003a70
[2022-05-09T10:11:26Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8003a70, 0x7f0ee0000c40
[2022-05-09T10:11:26Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0000c40, 0x7f0ed8004a90
[2022-05-09T10:11:26Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0000c40, 0x7f0ed8004a90
[2022-05-09T10:11:26Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0000c40, 0x7f0ed8004ca0
[2022-05-09T10:11:26Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8004ca0, 0x7f0ed8004a90
[2022-05-09T10:11:26Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8004ca0, 0x7f0ed8004a90
[2022-05-09T10:11:26Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f0ed8004ca0
[2022-05-09T10:11:26Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/2f9e86f5-9914-449f-bfb3-b4e541c56b14&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;source&quot;: &quot;drogue://2f9e86f5%2D9914%2D449f%2Dbfb3%2Db4e541c56b14/device1&quot;, &quot;sender&quot;: &quot;gateway1&quot;, &quot;device&quot;: &quot;device1&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;deviceuid&quot;: &quot;542fb28b-7c28-456e-9367-2d4e8214c18f&quot;, &quot;applicationuid&quot;: &quot;f576decc-d296-4895-874a-728d3a46491f&quot;, &quot;senderuid&quot;: &quot;d87caa72-fdf3-4864-b096-52062dabd9f9&quot;, &quot;subject&quot;: &quot;warmup&quot;, &quot;type&quot;: &quot;io.drogue.event.v1&quot;, &quot;partitionkey&quot;: &quot;2f9e86f5%2D9914%2D449f%2Dbfb3%2Db4e541c56b14/device1&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;application&quot;: &quot;2f9e86f5-9914-449f-bfb3-b4e541c56b14&quot;, &quot;id&quot;: &quot;e0908e6b-1a82-4809-b77b-add7d464d68e&quot;, &quot;time&quot;: &quot;2022-05-09T10:11:26.448580329+00:00&quot;}, payload: &quot;{\&quot;index\&quot;:3}&quot; }
[2022-05-09T10:11:27Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-09T10:11:27Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-09T10:11:27Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-09T10:11:27Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry/device1
[2022-05-09T10:11:27Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 4, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005/mqtt&quot;, client_id: &quot;5d366024-f17c-4b46-8606-259f909bb2b5&quot;, persistence: None, user_data: None }
[2022-05-09T10:11:27Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T10:11:27Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55efdbeafbd0
[2022-05-09T10:11:27Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55efdbeafbd0
[2022-05-09T10:11:27Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 1, maxInflight: 65535, will: 0x0, username: 0x55efdc17a380, password: 0x55efdbe257c0, connectTimeout: 30, retryInterval: 0, ssl: 0x55efdbf24030, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 4, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 0, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55efdbebc420, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;gateway1@2f9e86f5-9914-449f-bfb3-b4e541c56b14&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T10:11:28Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 18, payload: 0x7f0edc02b0a0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 586, array: 0x55efdc1aa340 } }, data: MessageData { topic: &quot;app/2f9e86f5-9914-449f-bfb3-b4e541c56b14&quot;, payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 586, array: 0x55efdc1aa340 } } } }
[2022-05-09T10:11:28Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55efdc346c90, 0x7f0ed80049e0
[2022-05-09T10:11:28Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed80049e0, 0x7f0edc0165e0
[2022-05-09T10:11:28Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed80049e0, 0x55efdbfc8e40
[2022-05-09T10:11:28Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55efdbfc8e40, 0x7f0edc016660
[2022-05-09T10:11:28Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55efdbfc8e40, 0x7f0ed8004ca0
[2022-05-09T10:11:28Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8004ca0, 0x7f0edc0165e0
[2022-05-09T10:11:28Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8004ca0, 0x7f0ed8004bc0
[2022-05-09T10:11:28Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8004bc0, 0x7f0edc0165e0
[2022-05-09T10:11:28Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8004bc0, 0x7f0edc01cc10
[2022-05-09T10:11:28Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8004bc0, 0x7f0ed8003770
[2022-05-09T10:11:28Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8003770, 0x7f0ed8004bc0
[2022-05-09T10:11:28Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8004bc0, 0x7f0edc0165e0
[2022-05-09T10:11:28Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8004bc0, 0x7f0edc0165e0
[2022-05-09T10:11:28Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8004bc0, 0x7f0edc0165e0
[2022-05-09T10:11:28Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f0ed8004bc0
[2022-05-09T10:11:28Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55efdc1fd6c0 } }, data: MessageData { topic: &quot;telemetry/device1&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55efdc1fd6c0 } } } }
[2022-05-09T10:11:28Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/2f9e86f5-9914-449f-bfb3-b4e541c56b14&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;subject&quot;: &quot;connection&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;device&quot;: &quot;gateway1&quot;, &quot;partitionkey&quot;: &quot;2f9e86f5%2D9914%2D449f%2Dbfb3%2Db4e541c56b14/gateway1&quot;, &quot;sender&quot;: &quot;gateway1&quot;, &quot;time&quot;: &quot;2022-05-09T10:11:27.831658280+00:00&quot;, &quot;deviceuid&quot;: &quot;d87caa72-fdf3-4864-b096-52062dabd9f9&quot;, &quot;type&quot;: &quot;io.drogue.connection.v1&quot;, &quot;id&quot;: &quot;a940f0c4-9dc8-44fa-a11d-931cc0aee359&quot;, &quot;application&quot;: &quot;2f9e86f5-9914-449f-bfb3-b4e541c56b14&quot;, &quot;senderuid&quot;: &quot;d87caa72-fdf3-4864-b096-52062dabd9f9&quot;, &quot;source&quot;: &quot;drogue://2f9e86f5%2D9914%2D449f%2Dbfb3%2Db4e541c56b14/gateway1&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;applicationuid&quot;: &quot;f576decc-d296-4895-874a-728d3a46491f&quot;}, payload: &quot;{\&quot;connected\&quot;:true}&quot; }
[2022-05-09T10:11:28Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-09T10:11:28Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 19, payload: 0x7f0edc00a420, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 586, array: 0x55efdc1e2420 } }, data: MessageData { topic: &quot;app/2f9e86f5-9914-449f-bfb3-b4e541c56b14&quot;, payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 102, 97, 108, 115, 101, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 586, array: 0x55efdc1e2420 } } } }
[2022-05-09T10:11:28Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8003a10, 0x7f0ed80049a0
[2022-05-09T10:11:28Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed80049a0, 0x7f0ed8003a90
[2022-05-09T10:11:28Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed80049a0, 0x7f0ed8004d00
[2022-05-09T10:11:28Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8004d00, 0x7f0edc02f180
[2022-05-09T10:11:28Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8004d00, 0x7f0ed8009870
[2022-05-09T10:11:28Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8009870, 0x7f0ed8003a90
[2022-05-09T10:11:28Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8009870, 0x7f0ed8004ca0
[2022-05-09T10:11:28Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8004ca0, 0x7f0ed8003a90
[2022-05-09T10:11:28Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8004ca0, 0x7f0edc00a3e0
[2022-05-09T10:11:28Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8004ca0, 0x7f0ed8009850
[2022-05-09T10:11:28Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8009850, 0x7f0ed8003a90
[2022-05-09T10:11:28Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8009850, 0x7f0ed8003a90
[2022-05-09T10:11:28Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8009850, 0x7f0ed8003a90
[2022-05-09T10:11:28Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8009850, 0x7f0ed80098f0
[2022-05-09T10:11:28Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f0ed80098f0
[2022-05-09T10:11:28Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/2f9e86f5-9914-449f-bfb3-b4e541c56b14&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;sender&quot;: &quot;gateway1&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;applicationuid&quot;: &quot;f576decc-d296-4895-874a-728d3a46491f&quot;, &quot;partitionkey&quot;: &quot;2f9e86f5%2D9914%2D449f%2Dbfb3%2Db4e541c56b14/gateway1&quot;, &quot;source&quot;: &quot;drogue://2f9e86f5%2D9914%2D449f%2Dbfb3%2Db4e541c56b14/gateway1&quot;, &quot;deviceuid&quot;: &quot;d87caa72-fdf3-4864-b096-52062dabd9f9&quot;, &quot;device&quot;: &quot;gateway1&quot;, &quot;id&quot;: &quot;71356807-b767-4c7d-b4fe-60a0fa70573d&quot;, &quot;application&quot;: &quot;2f9e86f5-9914-449f-bfb3-b4e541c56b14&quot;, &quot;type&quot;: &quot;io.drogue.connection.v1&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;subject&quot;: &quot;connection&quot;, &quot;time&quot;: &quot;2022-05-09T10:11:28.751857860+00:00&quot;, &quot;senderuid&quot;: &quot;d87caa72-fdf3-4864-b096-52062dabd9f9&quot;}, payload: &quot;{\&quot;connected\&quot;:false}&quot; }
[2022-05-09T10:11:29Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 585, array: 0x55efdc0155e0 } }, data: MessageData { topic: &quot;app/2f9e86f5-9914-449f-bfb3-b4e541c56b14&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 585, array: 0x55efdc0155e0 } } } }
[2022-05-09T10:11:29Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8004ce0, 0x7f0ed8004cc0
[2022-05-09T10:11:29Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8004cc0, 0x7f0edc01cc90
[2022-05-09T10:11:29Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8004cc0, 0x7f0ed8009890
[2022-05-09T10:11:29Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8009890, 0x7f0edc016610
[2022-05-09T10:11:29Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8009890, 0x7f0ed8004ca0
[2022-05-09T10:11:29Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8004ca0, 0x7f0edc01cc90
[2022-05-09T10:11:29Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8004ca0, 0x7f0edc01cc90
[2022-05-09T10:11:29Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8004ca0, 0x7f0edc02dd30
[2022-05-09T10:11:29Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8004ca0, 0x7f0ed8002fe0
[2022-05-09T10:11:29Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8002fe0, 0x7f0edc01cc90
[2022-05-09T10:11:29Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8002fe0, 0x7f0ed8009930
[2022-05-09T10:11:29Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8009930, 0x7f0ed8002fe0
[2022-05-09T10:11:29Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8002fe0, 0x7f0edc01cc90
[2022-05-09T10:11:29Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8002fe0, 0x7f0edc01cc90
[2022-05-09T10:11:29Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f0ed8009970
[2022-05-09T10:11:29Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/2f9e86f5-9914-449f-bfb3-b4e541c56b14&quot;, content_type: Some(&quot;application/octet-stream&quot;), user_properties: {&quot;partitionkey&quot;: &quot;2f9e86f5%2D9914%2D449f%2Dbfb3%2Db4e541c56b14/device1&quot;, &quot;device&quot;: &quot;device1&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;time&quot;: &quot;2022-05-09T10:11:28.750784403+00:00&quot;, &quot;application&quot;: &quot;2f9e86f5-9914-449f-bfb3-b4e541c56b14&quot;, &quot;senderuid&quot;: &quot;d87caa72-fdf3-4864-b096-52062dabd9f9&quot;, &quot;subject&quot;: &quot;telemetry&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;type&quot;: &quot;io.drogue.event.v1&quot;, &quot;id&quot;: &quot;26304c25-633a-43f8-aedb-9181557cc557&quot;, &quot;deviceuid&quot;: &quot;542fb28b-7c28-456e-9367-2d4e8214c18f&quot;, &quot;source&quot;: &quot;drogue://2f9e86f5%2D9914%2D449f%2Dbfb3%2Db4e541c56b14/device1&quot;, &quot;applicationuid&quot;: &quot;f576decc-d296-4895-874a-728d3a46491f&quot;, &quot;sender&quot;: &quot;gateway1&quot;}, payload: &quot;&quot; }
[2022-05-09T10:11:29Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-09T10:11:29Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-09T10:11:29Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-09T10:11:29Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;2f9e86f5-9914-449f-bfb3-b4e541c56b14&quot;, device: &quot;gateway1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`,
 right: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;2f9e86f5-9914-449f-bfb3-b4e541c56b14&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`: Position #0&#x27;, src/tools/assert.rs:35:39
[2022-05-09T10:11:29Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-09T10:11:29Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;2f9e86f5-9914-449f-bfb3-b4e541c56b14&quot; &quot;device1&quot;
[2022-05-09T10:11:29Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:11:29Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-05-09T10:11:29Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;2f9e86f5-9914-449f-bfb3-b4e541c56b14&quot; &quot;gateway1&quot;
[2022-05-09T10:11:29Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:11:29Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;2f9e86f5-9914-449f-bfb3-b4e541c56b14&#x27;
[2022-05-09T10:11:29Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;2f9e86f5-9914-449f-bfb3-b4e541c56b14&quot;
[2022-05-09T10:11:29Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 2f9e86f5-9914-449f-bfb3-b4e541c56b14 deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_1::integration_version_1::integration_ws_1

**Duration**: 13s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-09T10:11:31Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-09T10:11:31Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T10:11:31Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T10:11:31Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T10:11:31Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T10:11:32Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-09T10:11:34Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-09T10:11:34Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T10:11:34Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T10:11:34Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T10:11:35Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI0NDVmMTM5Zi0wNjNjLTRhZDgtODkwYi1mNTg1OTQ0NjFiZDAifQ.eyJleHAiOjE2NTIwOTI4OTUsImlhdCI6MTY1MjA5MTA5NSwianRpIjoiZmJjODJkMmYtYWMyYi00ZWNlLWJjYTAtYzQ5MzM4Y2I3OTI3IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjNkZWIxOWY5LWM3NDYtNGIwMC1hOTA5LTJiOTg4NTVjZTRmMyIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlBIMmJWdkxLcmUtVFE0blR1SVN1UlEiLCJzZXNzaW9uX3N0YXRlIjoiZTBmNjQ0ZTctYTc0NC00MWZmLWFiNWEtZTNkOWMwMWMyZGVkIiwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImUwZjY0NGU3LWE3NDQtNDFmZi1hYjVhLWUzZDljMDFjMmRlZCJ9.uV6a8vVD50h6a-liFodURlK1tZg8tqoxZK-QX8aonfs
[2022-05-09T10:11:35Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-09T10:11:35Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-09T10:11:35Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI0NDVmMTM5Zi0wNjNjLTRhZDgtODkwYi1mNTg1OTQ0NjFiZDAifQ.eyJleHAiOjE2NTIwOTI4OTUsImlhdCI6MTY1MjA5MTA5NSwianRpIjoiZmJjODJkMmYtYWMyYi00ZWNlLWJjYTAtYzQ5MzM4Y2I3OTI3IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjNkZWIxOWY5LWM3NDYtNGIwMC1hOTA5LTJiOTg4NTVjZTRmMyIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlBIMmJWdkxLcmUtVFE0blR1SVN1UlEiLCJzZXNzaW9uX3N0YXRlIjoiZTBmNjQ0ZTctYTc0NC00MWZmLWFiNWEtZTNkOWMwMWMyZGVkIiwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImUwZjY0NGU3LWE3NDQtNDFmZi1hYjVhLWUzZDljMDFjMmRlZCJ9.uV6a8vVD50h6a-liFodURlK1tZg8tqoxZK-QX8aonfs&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-09T10:11:35Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:11:36Z INFO  drogue_cloud_tests::resources::apps] Create application: 026d5b1c-07f7-4974-a802-94273d8360c4
[2022-05-09T10:11:36Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;026d5b1c-07f7-4974-a802-94273d8360c4&quot;
[2022-05-09T10:11:36Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 026d5b1c-07f7-4974-a802-94273d8360c4 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:11:36Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;026d5b1c-07f7-4974-a802-94273d8360c4&quot;
[2022-05-09T10:11:36Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T10:11:36.580062Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 1,\n    \&quot;name\&quot;: \&quot;026d5b1c-07f7-4974-a802-94273d8360c4\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;c1a71132-6388-4eba-b372-bdbb3a3da8dc\&quot;,\n    \&quot;uid\&quot;: \&quot;511b8a37-572a-4443-ace9-ac80af317d75\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:11:36.597271024Z\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: HasFinalizer\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:11:36.597377032Z\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:11:36.597139949Z\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:11:36.597142514Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:11:36.597143256Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:11:36.597144357Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:11:36.597144949Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:11:36.597199831Z\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:11:36Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T10:11:36.580062Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(1), &quot;name&quot;: String(&quot;026d5b1c-07f7-4974-a802-94273d8360c4&quot;), &quot;resourceVersion&quot;: String(&quot;c1a71132-6388-4eba-b372-bdbb3a3da8dc&quot;), &quot;uid&quot;: String(&quot;511b8a37-572a-4443-ace9-ac80af317d75&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:11:36.597271024Z&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: HasFinalizer&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:11:36.597377032Z&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:11:36.597139949Z&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:11:36.597142514Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:11:36.597143256Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:11:36.597144357Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:11:36.597144949Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:11:36.597199831Z&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(0)})})})
[2022-05-09T10:11:36Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-09T10:11:37Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;026d5b1c-07f7-4974-a802-94273d8360c4&quot;
[2022-05-09T10:11:37Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T10:11:36.580062Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 8,\n    \&quot;name\&quot;: \&quot;026d5b1c-07f7-4974-a802-94273d8360c4\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;068f472a-e6dd-42a0-8df7-2fa1f229501f\&quot;,\n    \&quot;uid\&quot;: \&quot;511b8a37-572a-4443-ace9-ac80af317d75\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:11:37.073419577Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:11:37.073495098Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:11:36.621767183Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:11:36.631991796Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:11:36.713956537Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:11:36.721746027Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:11:37.073298170Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:11:37.073371507Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 7,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;pjW3t75tsLZL\&quot;,\n        \&quot;username\&quot;: \&quot;user-026d5b1c-07f7-4974-a802-94273d8360c4\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:11:37Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T10:11:36.580062Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(8), &quot;name&quot;: String(&quot;026d5b1c-07f7-4974-a802-94273d8360c4&quot;), &quot;resourceVersion&quot;: String(&quot;068f472a-e6dd-42a0-8df7-2fa1f229501f&quot;), &quot;uid&quot;: String(&quot;511b8a37-572a-4443-ace9-ac80af317d75&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:11:37.073419577Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:11:37.073495098Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:11:36.621767183Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:11:36.631991796Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:11:36.713956537Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:11:36.721746027Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:11:37.073298170Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:11:37.073371507Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(7), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;pjW3t75tsLZL&quot;), &quot;username&quot;: String(&quot;user-026d5b1c-07f7-4974-a802-94273d8360c4&quot;)})})})})
[2022-05-09T10:11:37Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-09T10:11:37Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;026d5b1c-07f7-4974-a802-94273d8360c4&quot;
[2022-05-09T10:11:37Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T10:11:36.580062Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 8,\n    \&quot;name\&quot;: \&quot;026d5b1c-07f7-4974-a802-94273d8360c4\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;068f472a-e6dd-42a0-8df7-2fa1f229501f\&quot;,\n    \&quot;uid\&quot;: \&quot;511b8a37-572a-4443-ace9-ac80af317d75\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:11:37.073419577Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:11:37.073495098Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:11:36.621767183Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:11:36.631991796Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:11:36.713956537Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:11:36.721746027Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:11:37.073298170Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:11:37.073371507Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 7,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;pjW3t75tsLZL\&quot;,\n        \&quot;username\&quot;: \&quot;user-026d5b1c-07f7-4974-a802-94273d8360c4\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:11:37Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T10:11:36.580062Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(8), &quot;name&quot;: String(&quot;026d5b1c-07f7-4974-a802-94273d8360c4&quot;), &quot;resourceVersion&quot;: String(&quot;068f472a-e6dd-42a0-8df7-2fa1f229501f&quot;), &quot;uid&quot;: String(&quot;511b8a37-572a-4443-ace9-ac80af317d75&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:11:37.073419577Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:11:37.073495098Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:11:36.621767183Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:11:36.631991796Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:11:36.713956537Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:11:36.721746027Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:11:37.073298170Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:11:37.073371507Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(7), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;pjW3t75tsLZL&quot;), &quot;username&quot;: String(&quot;user-026d5b1c-07f7-4974-a802-94273d8360c4&quot;)})})})})
[2022-05-09T10:11:37Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-09T10:11:37Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-05-09T10:11:37Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;026d5b1c-07f7-4974-a802-94273d8360c4&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-09T10:11:37Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:11:37Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:11:37Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T10:11:37Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T10:11:37Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJXRG4zQ2wwMVNsYVpRRnRTbUpuS2JqWC1wcXdsR21xWDhSUFNWSHgxUHgwIn0.eyJleHAiOjE2NTIwOTEzOTUsImlhdCI6MTY1MjA5MTA5NSwiYXV0aF90aW1lIjoxNjUyMDkxMDkzLCJqdGkiOiI3MjI4ZmQwNS0zYmUyLTQyNWQtOTI0MC1iODYxNjA1ZjUxOGUiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiM2RlYjE5ZjktYzc0Ni00YjAwLWE5MDktMmI5ODg1NWNlNGYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJQSDJiVnZMS3JlLVRRNG5UdUlTdVJRIiwic2Vzc2lvbl9zdGF0ZSI6ImUwZjY0NGU3LWE3NDQtNDFmZi1hYjVhLWUzZDljMDFjMmRlZCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImUwZjY0NGU3LWE3NDQtNDFmZi1hYjVhLWUzZDljMDFjMmRlZCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.SieNCPupV1_UaCHdVCfCN-Qe20UVR8Gdo9lEM8rQW9TJUKsCVgQsmZP6LaD7sZvw-nAFT6qXI7VZ9UQAX8PR55fpSIxKqffnP6nOajnwAxVD1NhATpOTyUD7s8racXFwE5QEvBkAxA_p2Kr6Jp3Jwg-Eh2qGTPfmMhwqzvj9Lqpy1Oql2UFVLfUePc-8ik9wOv8k3hxjCUoo0l0LakX2EQYZvdgSPE-_vAyswyjoYKvilwz5fXSzdWZAqkBei60tpuRVfOulK_94Fo-1pBh-Mrw-kytNZUr17GSs3SxlvL9VrgYqWiKA4XdHwckgrhKOzZuUuFhmdX3iJLv7YfL_mA\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:11:37Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T10:11:37Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-09T10:11:37Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-09T10:11:37Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;026d5b1c-07f7-4974-a802-94273d8360c4&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-05-09T10:11:37Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:11:37Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: ssl://mqtt-integration.172.18.0.2.nip.io:30002
[2022-05-09T10:11:37Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T10:11:37Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJXRG4zQ2wwMVNsYVpRRnRTbUpuS2JqWC1wcXdsR21xWDhSUFNWSHgxUHgwIn0.eyJleHAiOjE2NTIwOTEzOTUsImlhdCI6MTY1MjA5MTA5NSwiYXV0aF90aW1lIjoxNjUyMDkxMDkzLCJqdGkiOiI3MjI4ZmQwNS0zYmUyLTQyNWQtOTI0MC1iODYxNjA1ZjUxOGUiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiM2RlYjE5ZjktYzc0Ni00YjAwLWE5MDktMmI5ODg1NWNlNGYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJQSDJiVnZMS3JlLVRRNG5UdUlTdVJRIiwic2Vzc2lvbl9zdGF0ZSI6ImUwZjY0NGU3LWE3NDQtNDFmZi1hYjVhLWUzZDljMDFjMmRlZCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImUwZjY0NGU3LWE3NDQtNDFmZi1hYjVhLWUzZDljMDFjMmRlZCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.SieNCPupV1_UaCHdVCfCN-Qe20UVR8Gdo9lEM8rQW9TJUKsCVgQsmZP6LaD7sZvw-nAFT6qXI7VZ9UQAX8PR55fpSIxKqffnP6nOajnwAxVD1NhATpOTyUD7s8racXFwE5QEvBkAxA_p2Kr6Jp3Jwg-Eh2qGTPfmMhwqzvj9Lqpy1Oql2UFVLfUePc-8ik9wOv8k3hxjCUoo0l0LakX2EQYZvdgSPE-_vAyswyjoYKvilwz5fXSzdWZAqkBei60tpuRVfOulK_94Fo-1pBh-Mrw-kytNZUr17GSs3SxlvL9VrgYqWiKA4XdHwckgrhKOzZuUuFhmdX3iJLv7YfL_mA\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:11:37Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 4, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-integration.172.18.0.2.nip.io:30002&quot;, client_id: &quot;2e018ba1-5116-4c69-930d-8adf3eb3a8bc&quot;, persistence: None, user_data: None }
[2022-05-09T10:11:37Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T10:11:37Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55efdc19c360
[2022-05-09T10:11:37Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55efdc19c360
[2022-05-09T10:11:37Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 1, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x55efdbf3a3b0, connectTimeout: 30, retryInterval: 0, ssl: 0x55efdbf24030, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 4, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 0, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55efdc0eae10, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJXRG4zQ2wwMVNsYVpRRnRTbUpuS2JqWC1wcXdsR21xWDhSUFNWSHgxUHgwIn0.eyJleHAiOjE2NTIwOTEzOTUsImlhdCI6MTY1MjA5MTA5NSwiYXV0aF90aW1lIjoxNjUyMDkxMDkzLCJqdGkiOiI3MjI4ZmQwNS0zYmUyLTQyNWQtOTI0MC1iODYxNjA1ZjUxOGUiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiM2RlYjE5ZjktYzc0Ni00YjAwLWE5MDktMmI5ODg1NWNlNGYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJQSDJiVnZMS3JlLVRRNG5UdUlTdVJRIiwic2Vzc2lvbl9zdGF0ZSI6ImUwZjY0NGU3LWE3NDQtNDFmZi1hYjVhLWUzZDljMDFjMmRlZCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImUwZjY0NGU3LWE3NDQtNDFmZi1hYjVhLWUzZDljMDFjMmRlZCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.SieNCPupV1_UaCHdVCfCN-Qe20UVR8Gdo9lEM8rQW9TJUKsCVgQsmZP6LaD7sZvw-nAFT6qXI7VZ9UQAX8PR55fpSIxKqffnP6nOajnwAxVD1NhATpOTyUD7s8racXFwE5QEvBkAxA_p2Kr6Jp3Jwg-Eh2qGTPfmMhwqzvj9Lqpy1Oql2UFVLfUePc-8ik9wOv8k3hxjCUoo0l0LakX2EQYZvdgSPE-_vAyswyjoYKvilwz5fXSzdWZAqkBei60tpuRVfOulK_94Fo-1pBh-Mrw-kytNZUr17GSs3SxlvL9VrgYqWiKA4XdHwckgrhKOzZuUuFhmdX3iJLv7YfL_mA&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T10:11:37Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/026d5b1c-07f7-4974-a802-94273d8360c4&quot;&#x27; @ QOS 0
[2022-05-09T10:11:37Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-09T10:11:37Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-09T10:11:37Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:11:37Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:11:37Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:11:38Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:11:39Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:11:39Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:11:39Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:11:39Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:11:40Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:11:40Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:11:40Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:11:40Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:11:41Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:11:41Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:11:41Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:11:41Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:11:41Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 621, payload: 0x7f0edc009e50, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/026d5b1c-07f7-4974-a802-94273d8360c4&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 57, 100, 100, 52, 100, 48, 56, 102, 45, 54, 99, 51, 57, 45, 52, 57, 57, 52, 45, 56, 49, 51, 52, 45, 51, 56, 100, 56, 56, 101, 101, 57, 57, 55, 57, 48, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 48, 50, 54, 100, 53, 98, 49, 99, 37, 50, 68, 48, 55, 102, 55, 37, 50, 68, 52, 57, 55, 52, 37, 50, 68, 97, 56, 48, 50, 37, 50, 68, 57, 52, 50, 55, 51, 100, 56, 51, 54, 48, 99, 52, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 119, 97, 114, 109, 117, 112, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 48, 58, 49, 49, 58, 52, 49, 46, 52, 53, 51, 55, 52, 53, 56, 53, 50, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 48, 50, 54, 100, 53, 98, 49, 99, 37, 50, 68, 48, 55, 102, 55, 37, 50, 68, 52, 57, 55, 52, 37, 50, 68, 97, 56, 48, 50, 37, 50, 68, 57, 52, 50, 55, 51, 100, 56, 51, 54, 48, 99, 52, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 48, 50, 54, 100, 53, 98, 49, 99, 45, 48, 55, 102, 55, 45, 52, 57, 55, 52, 45, 97, 56, 48, 50, 45, 57, 52, 50, 55, 51, 100, 56, 51, 54, 48, 99, 52, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 102, 99, 49, 100, 99, 102, 99, 49, 45, 97, 97, 98, 99, 45, 52, 101, 51, 50, 45, 57, 101, 55, 48, 45, 56, 56, 98, 48, 52, 53, 50, 49, 50, 101, 100, 48, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 49, 54, 53, 55, 99, 101, 49, 50, 45, 51, 100, 99, 48, 45, 52, 57, 101, 48, 45, 57, 101, 56, 51, 45, 57, 99, 97, 101, 51, 57, 49, 53, 100, 54, 102, 97, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 53, 49, 49, 98, 56, 97, 51, 55, 45, 53, 55, 50, 97, 45, 52, 52, 52, 51, 45, 97, 99, 101, 57, 45, 97, 99, 56, 48, 97, 102, 51, 49, 55, 100, 55, 53, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-09T10:11:41Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/026d5b1c-07f7-4974-a802-94273d8360c4&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;9dd4d08f-6c39-4994-8134-38d88ee99790\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://026d5b1c%2D07f7%2D4974%2Da802%2D94273d8360c4/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;warmup\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T10:11:41.453745852Z\&quot;,\&quot;data\&quot;:{\&quot;index\&quot;:3},\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;partitionkey\&quot;:\&quot;026d5b1c%2D07f7%2D4974%2Da802%2D94273d8360c4/device1\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;application\&quot;:\&quot;026d5b1c-07f7-4974-a802-94273d8360c4\&quot;,\&quot;senderuid\&quot;:\&quot;fc1dcfc1-aabc-4e32-9e70-88b045212ed0\&quot;,\&quot;deviceuid\&quot;:\&quot;1657ce12-3dc0-49e0-9e83-9cae3915d6fa\&quot;,\&quot;applicationuid\&quot;:\&quot;511b8a37-572a-4443-ace9-ac80af317d75\&quot;}&quot; }
[2022-05-09T10:11:42Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-09T10:11:42Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-09T10:11:42Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-09T10:11:42Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry/device1
[2022-05-09T10:11:42Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-endpoint.172.18.0.2.nip.io:30001&quot;, client_id: &quot;d13a9208-12ef-4839-901c-303beacac305&quot;, persistence: None, user_data: None }
[2022-05-09T10:11:42Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T10:11:42Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55efdc0f1a20
[2022-05-09T10:11:42Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55efdc0f1a20
[2022-05-09T10:11:42Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x55efdc340e20, password: 0x55efdc2d05d0, connectTimeout: 30, retryInterval: 0, ssl: 0x55efdbf0d710, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55efdc33f640, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;gateway1@026d5b1c-07f7-4974-a802-94273d8360c4&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T10:11:42Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55efdc069c00 } }, data: MessageData { topic: &quot;telemetry/device1&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55efdc069c00 } } } }
[2022-05-09T10:11:42Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 640, payload: 0x7f0edc02a800, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/026d5b1c-07f7-4974-a802-94273d8360c4&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 51, 52, 57, 100, 56, 50, 99, 97, 45, 55, 50, 101, 52, 45, 52, 102, 98, 102, 45, 98, 51, 101, 57, 45, 48, 100, 48, 50, 54, 49, 51, 100, 102, 101, 51, 56, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 48, 50, 54, 100, 53, 98, 49, 99, 37, 50, 68, 48, 55, 102, 55, 37, 50, 68, 52, 57, 55, 52, 37, 50, 68, 97, 56, 48, 50, 37, 50, 68, 57, 52, 50, 55, 51, 100, 56, 51, 54, 48, 99, 52, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 48, 58, 49, 49, 58, 52, 50, 46, 52, 55, 57, 53, 49, 49, 50, 49, 52, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 102, 99, 49, 100, 99, 102, 99, 49, 45, 97, 97, 98, 99, 45, 52, 101, 51, 50, 45, 57, 101, 55, 48, 45, 56, 56, 98, 48, 52, 53, 50, 49, 50, 101, 100, 48, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 48, 50, 54, 100, 53, 98, 49, 99, 45, 48, 55, 102, 55, 45, 52, 57, 55, 52, 45, 97, 56, 48, 50, 45, 57, 52, 50, 55, 51, 100, 56, 51, 54, 48, 99, 52, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 102, 99, 49, 100, 99, 102, 99, 49, 45, 97, 97, 98, 99, 45, 52, 101, 51, 50, 45, 57, 101, 55, 48, 45, 56, 56, 98, 48, 52, 53, 50, 49, 50, 101, 100, 48, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 48, 50, 54, 100, 53, 98, 49, 99, 37, 50, 68, 48, 55, 102, 55, 37, 50, 68, 52, 57, 55, 52, 37, 50, 68, 97, 56, 48, 50, 37, 50, 68, 57, 52, 50, 55, 51, 100, 56, 51, 54, 48, 99, 52, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 53, 49, 49, 98, 56, 97, 51, 55, 45, 53, 55, 50, 97, 45, 52, 52, 52, 51, 45, 97, 99, 101, 57, 45, 97, 99, 56, 48, 97, 102, 51, 49, 55, 100, 55, 53, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-09T10:11:42Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-09T10:11:42Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/026d5b1c-07f7-4974-a802-94273d8360c4&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;349d82ca-72e4-4fbf-b3e9-0d02613dfe38\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://026d5b1c%2D07f7%2D4974%2Da802%2D94273d8360c4/gateway1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T10:11:42.479511214Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:true},\&quot;device\&quot;:\&quot;gateway1\&quot;,\&quot;deviceuid\&quot;:\&quot;fc1dcfc1-aabc-4e32-9e70-88b045212ed0\&quot;,\&quot;application\&quot;:\&quot;026d5b1c-07f7-4974-a802-94273d8360c4\&quot;,\&quot;senderuid\&quot;:\&quot;fc1dcfc1-aabc-4e32-9e70-88b045212ed0\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;partitionkey\&quot;:\&quot;026d5b1c%2D07f7%2D4974%2Da802%2D94273d8360c4/gateway1\&quot;,\&quot;applicationuid\&quot;:\&quot;511b8a37-572a-4443-ace9-ac80af317d75\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;}&quot; }
[2022-05-09T10:11:42Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 641, payload: 0x7f0edc004730, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/026d5b1c-07f7-4974-a802-94273d8360c4&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 53, 100, 57, 52, 99, 102, 53, 52, 45, 98, 102, 102, 57, 45, 52, 99, 102, 99, 45, 56, 102, 53, 57, 45, 55, 52, 97, 49, 102, 102, 102, 54, 52, 51, 100, 97, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 48, 50, 54, 100, 53, 98, 49, 99, 37, 50, 68, 48, 55, 102, 55, 37, 50, 68, 52, 57, 55, 52, 37, 50, 68, 97, 56, 48, 50, 37, 50, 68, 57, 52, 50, 55, 51, 100, 56, 51, 54, 48, 99, 52, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 48, 58, 49, 49, 58, 52, 50, 46, 55, 54, 56, 55, 51, 54, 53, 55, 53, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 102, 97, 108, 115, 101, 125, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 102, 99, 49, 100, 99, 102, 99, 49, 45, 97, 97, 98, 99, 45, 52, 101, 51, 50, 45, 57, 101, 55, 48, 45, 56, 56, 98, 48, 52, 53, 50, 49, 50, 101, 100, 48, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 48, 50, 54, 100, 53, 98, 49, 99, 37, 50, 68, 48, 55, 102, 55, 37, 50, 68, 52, 57, 55, 52, 37, 50, 68, 97, 56, 48, 50, 37, 50, 68, 57, 52, 50, 55, 51, 100, 56, 51, 54, 48, 99, 52, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 102, 99, 49, 100, 99, 102, 99, 49, 45, 97, 97, 98, 99, 45, 52, 101, 51, 50, 45, 57, 101, 55, 48, 45, 56, 56, 98, 48, 52, 53, 50, 49, 50, 101, 100, 48, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 48, 50, 54, 100, 53, 98, 49, 99, 45, 48, 55, 102, 55, 45, 52, 57, 55, 52, 45, 97, 56, 48, 50, 45, 57, 52, 50, 55, 51, 100, 56, 51, 54, 48, 99, 52, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 53, 49, 49, 98, 56, 97, 51, 55, 45, 53, 55, 50, 97, 45, 52, 52, 52, 51, 45, 97, 99, 101, 57, 45, 97, 99, 56, 48, 97, 102, 51, 49, 55, 100, 55, 53, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-09T10:11:42Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/026d5b1c-07f7-4974-a802-94273d8360c4&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;5d94cf54-bff9-4cfc-8f59-74a1fff643da\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://026d5b1c%2D07f7%2D4974%2Da802%2D94273d8360c4/gateway1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T10:11:42.768736575Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:false},\&quot;deviceuid\&quot;:\&quot;fc1dcfc1-aabc-4e32-9e70-88b045212ed0\&quot;,\&quot;partitionkey\&quot;:\&quot;026d5b1c%2D07f7%2D4974%2Da802%2D94273d8360c4/gateway1\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;senderuid\&quot;:\&quot;fc1dcfc1-aabc-4e32-9e70-88b045212ed0\&quot;,\&quot;device\&quot;:\&quot;gateway1\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;application\&quot;:\&quot;026d5b1c-07f7-4974-a802-94273d8360c4\&quot;,\&quot;applicationuid\&quot;:\&quot;511b8a37-572a-4443-ace9-ac80af317d75\&quot;}&quot; }
[2022-05-09T10:11:43Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 630, payload: 0x7f0edc007600, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/026d5b1c-07f7-4974-a802-94273d8360c4&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 55, 98, 97, 54, 56, 52, 100, 49, 45, 54, 100, 53, 49, 45, 52, 100, 54, 97, 45, 56, 52, 48, 97, 45, 56, 48, 48, 50, 99, 49, 48, 100, 53, 48, 52, 52, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 48, 50, 54, 100, 53, 98, 49, 99, 37, 50, 68, 48, 55, 102, 55, 37, 50, 68, 52, 57, 55, 52, 37, 50, 68, 97, 56, 48, 50, 37, 50, 68, 57, 52, 50, 55, 51, 100, 56, 51, 54, 48, 99, 52, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 111, 99, 116, 101, 116, 45, 115, 116, 114, 101, 97, 109, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 116, 101, 108, 101, 109, 101, 116, 114, 121, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 48, 58, 49, 49, 58, 52, 50, 46, 55, 54, 55, 51, 51, 55, 54, 50, 49, 90, 34, 44, 34, 100, 97, 116, 97, 95, 98, 97, 115, 101, 54, 52, 34, 58, 34, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 49, 54, 53, 55, 99, 101, 49, 50, 45, 51, 100, 99, 48, 45, 52, 57, 101, 48, 45, 57, 101, 56, 51, 45, 57, 99, 97, 101, 51, 57, 49, 53, 100, 54, 102, 97, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 48, 50, 54, 100, 53, 98, 49, 99, 37, 50, 68, 48, 55, 102, 55, 37, 50, 68, 52, 57, 55, 52, 37, 50, 68, 97, 56, 48, 50, 37, 50, 68, 57, 52, 50, 55, 51, 100, 56, 51, 54, 48, 99, 52, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 53, 49, 49, 98, 56, 97, 51, 55, 45, 53, 55, 50, 97, 45, 52, 52, 52, 51, 45, 97, 99, 101, 57, 45, 97, 99, 56, 48, 97, 102, 51, 49, 55, 100, 55, 53, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 48, 50, 54, 100, 53, 98, 49, 99, 45, 48, 55, 102, 55, 45, 52, 57, 55, 52, 45, 97, 56, 48, 50, 45, 57, 52, 50, 55, 51, 100, 56, 51, 54, 48, 99, 52, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 102, 99, 49, 100, 99, 102, 99, 49, 45, 97, 97, 98, 99, 45, 52, 101, 51, 50, 45, 57, 101, 55, 48, 45, 56, 56, 98, 48, 52, 53, 50, 49, 50, 101, 100, 48, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-09T10:11:43Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/026d5b1c-07f7-4974-a802-94273d8360c4&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;7ba684d1-6d51-4d6a-840a-8002c10d5044\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://026d5b1c%2D07f7%2D4974%2Da802%2D94273d8360c4/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/octet-stream\&quot;,\&quot;subject\&quot;:\&quot;telemetry\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T10:11:42.767337621Z\&quot;,\&quot;data_base64\&quot;:\&quot;\&quot;,\&quot;deviceuid\&quot;:\&quot;1657ce12-3dc0-49e0-9e83-9cae3915d6fa\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;partitionkey\&quot;:\&quot;026d5b1c%2D07f7%2D4974%2Da802%2D94273d8360c4/device1\&quot;,\&quot;applicationuid\&quot;:\&quot;511b8a37-572a-4443-ace9-ac80af317d75\&quot;,\&quot;application\&quot;:\&quot;026d5b1c-07f7-4974-a802-94273d8360c4\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;senderuid\&quot;:\&quot;fc1dcfc1-aabc-4e32-9e70-88b045212ed0\&quot;}&quot; }
[2022-05-09T10:11:43Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-09T10:11:43Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-09T10:11:43Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-09T10:11:43Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
[2022-05-09T10:11:43Z DEBUG paho_mqtt::token] Token failure! 0x7f0edc010800, 0x7ffe89114a70
[2022-05-09T10:11:43Z DEBUG paho_mqtt::token] Token completed with code: -11
[2022-05-09T10:11:43Z DEBUG paho_mqtt::token] Expecting server response for: None
[2022-05-09T10:11:43Z DEBUG paho_mqtt::token] Got response: ServerResponse { rsp: None, props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, reason_code: Success }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;026d5b1c-07f7-4974-a802-94273d8360c4&quot;, device: &quot;gateway1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`,
 right: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;026d5b1c-07f7-4974-a802-94273d8360c4&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`: Position #0&#x27;, src/tools/assert.rs:35:39
[2022-05-09T10:11:43Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-09T10:11:43Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;026d5b1c-07f7-4974-a802-94273d8360c4&quot; &quot;device1&quot;
[2022-05-09T10:11:43Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:11:43Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-05-09T10:11:43Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;026d5b1c-07f7-4974-a802-94273d8360c4&quot; &quot;gateway1&quot;
[2022-05-09T10:11:43Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:11:43Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;026d5b1c-07f7-4974-a802-94273d8360c4&#x27;
[2022-05-09T10:11:43Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;026d5b1c-07f7-4974-a802-94273d8360c4&quot;
[2022-05-09T10:11:43Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 026d5b1c-07f7-4974-a802-94273d8360c4 deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_1::integration_version_1::integration_ws_2

**Duration**: 13s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-09T10:11:45Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-09T10:11:45Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T10:11:45Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T10:11:45Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T10:11:45Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T10:11:46Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-09T10:11:48Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-09T10:11:48Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T10:11:48Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T10:11:48Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T10:11:49Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI0NDVmMTM5Zi0wNjNjLTRhZDgtODkwYi1mNTg1OTQ0NjFiZDAifQ.eyJleHAiOjE2NTIwOTI5MDksImlhdCI6MTY1MjA5MTEwOSwianRpIjoiYWJhNTBkMGItNmE4MC00YjIxLWEzOWItNzg2MzEyZmNiNjEyIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjNkZWIxOWY5LWM3NDYtNGIwMC1hOTA5LTJiOTg4NTVjZTRmMyIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IkxqY2w2S015MGVSbGktM1NzbXM0dXciLCJzZXNzaW9uX3N0YXRlIjoiNjhkMGNkN2EtZGY5Mi00OGRlLWFlYWMtYTM5ZDBmNjM5OTE1Iiwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjY4ZDBjZDdhLWRmOTItNDhkZS1hZWFjLWEzOWQwZjYzOTkxNSJ9.oo2_a0oJw_PxDqOz4U2pwvLd8d3GApVVPmY7txyJ1EA
[2022-05-09T10:11:49Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-09T10:11:49Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-09T10:11:49Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI0NDVmMTM5Zi0wNjNjLTRhZDgtODkwYi1mNTg1OTQ0NjFiZDAifQ.eyJleHAiOjE2NTIwOTI5MDksImlhdCI6MTY1MjA5MTEwOSwianRpIjoiYWJhNTBkMGItNmE4MC00YjIxLWEzOWItNzg2MzEyZmNiNjEyIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjNkZWIxOWY5LWM3NDYtNGIwMC1hOTA5LTJiOTg4NTVjZTRmMyIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IkxqY2w2S015MGVSbGktM1NzbXM0dXciLCJzZXNzaW9uX3N0YXRlIjoiNjhkMGNkN2EtZGY5Mi00OGRlLWFlYWMtYTM5ZDBmNjM5OTE1Iiwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjY4ZDBjZDdhLWRmOTItNDhkZS1hZWFjLWEzOWQwZjYzOTkxNSJ9.oo2_a0oJw_PxDqOz4U2pwvLd8d3GApVVPmY7txyJ1EA&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-09T10:11:50Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:11:50Z INFO  drogue_cloud_tests::resources::apps] Create application: 05e87cb5-9cd8-4120-97b3-fe84b75e03ee
[2022-05-09T10:11:50Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;05e87cb5-9cd8-4120-97b3-fe84b75e03ee&quot;
[2022-05-09T10:11:50Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 05e87cb5-9cd8-4120-97b3-fe84b75e03ee created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:11:50Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;05e87cb5-9cd8-4120-97b3-fe84b75e03ee&quot;
[2022-05-09T10:11:50Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T10:11:50.660968Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 2,\n    \&quot;name\&quot;: \&quot;05e87cb5-9cd8-4120-97b3-fe84b75e03ee\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;bfa75c72-fb37-4ebc-8f44-04153d8212e2\&quot;,\n    \&quot;uid\&quot;: \&quot;cbae443b-de66-45a6-9572-5ca7ff1c1f91\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:11:50.684520060Z\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:11:50.684496767Z\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: HasFinalizer\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:11:50.684464657Z\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:11:50.684465418Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:11:50.684465939Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:11:50.684466470Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:11:50.684467241Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:11:50.684472392Z\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 1\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:11:50Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T10:11:50.660968Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(2), &quot;name&quot;: String(&quot;05e87cb5-9cd8-4120-97b3-fe84b75e03ee&quot;), &quot;resourceVersion&quot;: String(&quot;bfa75c72-fb37-4ebc-8f44-04153d8212e2&quot;), &quot;uid&quot;: String(&quot;cbae443b-de66-45a6-9572-5ca7ff1c1f91&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:11:50.684520060Z&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:11:50.684496767Z&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: HasFinalizer&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:11:50.684464657Z&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:11:50.684465418Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:11:50.684465939Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:11:50.684466470Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:11:50.684467241Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:11:50.684472392Z&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(1)})})})
[2022-05-09T10:11:50Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-09T10:11:51Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;05e87cb5-9cd8-4120-97b3-fe84b75e03ee&quot;
[2022-05-09T10:11:51Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T10:11:50.660968Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;05e87cb5-9cd8-4120-97b3-fe84b75e03ee\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;02948674-0eda-4eba-b9e2-0997fbc826cb\&quot;,\n    \&quot;uid\&quot;: \&quot;cbae443b-de66-45a6-9572-5ca7ff1c1f91\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:11:50.918037332Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:11:50.917921094Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:11:50.707350906Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:11:50.716122563Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:11:50.775705349Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:11:50.781218053Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:11:50.917875139Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:11:50.917894396Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;mXd8CNfwOPnw\&quot;,\n        \&quot;username\&quot;: \&quot;user-05e87cb5-9cd8-4120-97b3-fe84b75e03ee\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:11:51Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T10:11:50.660968Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;05e87cb5-9cd8-4120-97b3-fe84b75e03ee&quot;), &quot;resourceVersion&quot;: String(&quot;02948674-0eda-4eba-b9e2-0997fbc826cb&quot;), &quot;uid&quot;: String(&quot;cbae443b-de66-45a6-9572-5ca7ff1c1f91&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:11:50.918037332Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:11:50.917921094Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:11:50.707350906Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:11:50.716122563Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:11:50.775705349Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:11:50.781218053Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:11:50.917875139Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:11:50.917894396Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;mXd8CNfwOPnw&quot;), &quot;username&quot;: String(&quot;user-05e87cb5-9cd8-4120-97b3-fe84b75e03ee&quot;)})})})})
[2022-05-09T10:11:51Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-09T10:11:51Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;05e87cb5-9cd8-4120-97b3-fe84b75e03ee&quot;
[2022-05-09T10:11:51Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T10:11:50.660968Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;05e87cb5-9cd8-4120-97b3-fe84b75e03ee\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;02948674-0eda-4eba-b9e2-0997fbc826cb\&quot;,\n    \&quot;uid\&quot;: \&quot;cbae443b-de66-45a6-9572-5ca7ff1c1f91\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:11:50.918037332Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:11:50.917921094Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:11:50.707350906Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:11:50.716122563Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:11:50.775705349Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:11:50.781218053Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:11:50.917875139Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:11:50.917894396Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;mXd8CNfwOPnw\&quot;,\n        \&quot;username\&quot;: \&quot;user-05e87cb5-9cd8-4120-97b3-fe84b75e03ee\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:11:51Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T10:11:50.660968Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;05e87cb5-9cd8-4120-97b3-fe84b75e03ee&quot;), &quot;resourceVersion&quot;: String(&quot;02948674-0eda-4eba-b9e2-0997fbc826cb&quot;), &quot;uid&quot;: String(&quot;cbae443b-de66-45a6-9572-5ca7ff1c1f91&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:11:50.918037332Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:11:50.917921094Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:11:50.707350906Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:11:50.716122563Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:11:50.775705349Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:11:50.781218053Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:11:50.917875139Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:11:50.917894396Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;mXd8CNfwOPnw&quot;), &quot;username&quot;: String(&quot;user-05e87cb5-9cd8-4120-97b3-fe84b75e03ee&quot;)})})})})
[2022-05-09T10:11:51Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-09T10:11:51Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-05-09T10:11:51Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;05e87cb5-9cd8-4120-97b3-fe84b75e03ee&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-09T10:11:51Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:11:51Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:11:51Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T10:11:51Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T10:11:51Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJXRG4zQ2wwMVNsYVpRRnRTbUpuS2JqWC1wcXdsR21xWDhSUFNWSHgxUHgwIn0.eyJleHAiOjE2NTIwOTE0MDksImlhdCI6MTY1MjA5MTEwOSwiYXV0aF90aW1lIjoxNjUyMDkxMTA2LCJqdGkiOiI4YTdjMGVmMC0wY2QyLTRiZjUtYTZkMi04ZTdmZmFlZjI5ZGQiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiM2RlYjE5ZjktYzc0Ni00YjAwLWE5MDktMmI5ODg1NWNlNGYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJMamNsNktNeTBlUmxpLTNTc21zNHV3Iiwic2Vzc2lvbl9zdGF0ZSI6IjY4ZDBjZDdhLWRmOTItNDhkZS1hZWFjLWEzOWQwZjYzOTkxNSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjY4ZDBjZDdhLWRmOTItNDhkZS1hZWFjLWEzOWQwZjYzOTkxNSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.bX1ZE0kZJBHvjCPUuaLvOs0Z5BOCIGuoX47D3tU21GL9BnWKI_90dp-XgChJ8Sq0Et1F5id-rJm71Tgw5kZuOPFhGFYSHaQwxKW_1VRLriiPcEODEJsLeW0HaBHfpBtD1qpvIlfrYAerZDIV8Z2aG7jYRNU-ZS0m8qbAEQaWPG0ym-CfNGCsr9eTcPm5jkZY66W-nrfOEuzgJ_44lcQXsSFX6QyFyMZIzku3SNQ9azKMh54yQ_JeQwYkFhxPT-_GT0XpelDje8l9P73fJ13Cw_nNOM8f4LMSVMhKNGgjagf9v8GlodN6rVopCsLeqrfe1kkL-jb7dyiCs4Ylw7D4tw\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:11:51Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T10:11:51Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-09T10:11:51Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-09T10:11:51Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;05e87cb5-9cd8-4120-97b3-fe84b75e03ee&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-05-09T10:11:51Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:11:51Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt
[2022-05-09T10:11:51Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T10:11:51Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJXRG4zQ2wwMVNsYVpRRnRTbUpuS2JqWC1wcXdsR21xWDhSUFNWSHgxUHgwIn0.eyJleHAiOjE2NTIwOTE0MDksImlhdCI6MTY1MjA5MTEwOSwiYXV0aF90aW1lIjoxNjUyMDkxMTA2LCJqdGkiOiI4YTdjMGVmMC0wY2QyLTRiZjUtYTZkMi04ZTdmZmFlZjI5ZGQiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiM2RlYjE5ZjktYzc0Ni00YjAwLWE5MDktMmI5ODg1NWNlNGYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJMamNsNktNeTBlUmxpLTNTc21zNHV3Iiwic2Vzc2lvbl9zdGF0ZSI6IjY4ZDBjZDdhLWRmOTItNDhkZS1hZWFjLWEzOWQwZjYzOTkxNSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjY4ZDBjZDdhLWRmOTItNDhkZS1hZWFjLWEzOWQwZjYzOTkxNSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.bX1ZE0kZJBHvjCPUuaLvOs0Z5BOCIGuoX47D3tU21GL9BnWKI_90dp-XgChJ8Sq0Et1F5id-rJm71Tgw5kZuOPFhGFYSHaQwxKW_1VRLriiPcEODEJsLeW0HaBHfpBtD1qpvIlfrYAerZDIV8Z2aG7jYRNU-ZS0m8qbAEQaWPG0ym-CfNGCsr9eTcPm5jkZY66W-nrfOEuzgJ_44lcQXsSFX6QyFyMZIzku3SNQ9azKMh54yQ_JeQwYkFhxPT-_GT0XpelDje8l9P73fJ13Cw_nNOM8f4LMSVMhKNGgjagf9v8GlodN6rVopCsLeqrfe1kkL-jb7dyiCs4Ylw7D4tw\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:11:51Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 4, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt&quot;, client_id: &quot;2d94ee7c-65ab-4562-8c48-a229bec3169f&quot;, persistence: None, user_data: None }
[2022-05-09T10:11:51Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T10:11:51Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55efdc06c250
[2022-05-09T10:11:51Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55efdc06c250
[2022-05-09T10:11:51Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 1, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x55efdc049660, connectTimeout: 30, retryInterval: 0, ssl: 0x55efdc04b360, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 4, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 0, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55efdc298fc0, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJXRG4zQ2wwMVNsYVpRRnRTbUpuS2JqWC1wcXdsR21xWDhSUFNWSHgxUHgwIn0.eyJleHAiOjE2NTIwOTE0MDksImlhdCI6MTY1MjA5MTEwOSwiYXV0aF90aW1lIjoxNjUyMDkxMTA2LCJqdGkiOiI4YTdjMGVmMC0wY2QyLTRiZjUtYTZkMi04ZTdmZmFlZjI5ZGQiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiM2RlYjE5ZjktYzc0Ni00YjAwLWE5MDktMmI5ODg1NWNlNGYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJMamNsNktNeTBlUmxpLTNTc21zNHV3Iiwic2Vzc2lvbl9zdGF0ZSI6IjY4ZDBjZDdhLWRmOTItNDhkZS1hZWFjLWEzOWQwZjYzOTkxNSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjY4ZDBjZDdhLWRmOTItNDhkZS1hZWFjLWEzOWQwZjYzOTkxNSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.bX1ZE0kZJBHvjCPUuaLvOs0Z5BOCIGuoX47D3tU21GL9BnWKI_90dp-XgChJ8Sq0Et1F5id-rJm71Tgw5kZuOPFhGFYSHaQwxKW_1VRLriiPcEODEJsLeW0HaBHfpBtD1qpvIlfrYAerZDIV8Z2aG7jYRNU-ZS0m8qbAEQaWPG0ym-CfNGCsr9eTcPm5jkZY66W-nrfOEuzgJ_44lcQXsSFX6QyFyMZIzku3SNQ9azKMh54yQ_JeQwYkFhxPT-_GT0XpelDje8l9P73fJ13Cw_nNOM8f4LMSVMhKNGgjagf9v8GlodN6rVopCsLeqrfe1kkL-jb7dyiCs4Ylw7D4tw&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T10:11:51Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/05e87cb5-9cd8-4120-97b3-fe84b75e03ee&quot;&#x27; @ QOS 0
[2022-05-09T10:11:51Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-09T10:11:51Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-09T10:11:51Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:11:51Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:11:51Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:11:52Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:11:53Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:11:53Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:11:53Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:11:53Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:11:54Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:11:54Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:11:54Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:11:54Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:11:55Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:11:55Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:11:55Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:11:55Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:11:55Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 621, payload: 0x7f0ed0015db0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/05e87cb5-9cd8-4120-97b3-fe84b75e03ee&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 101, 52, 56, 56, 52, 100, 54, 100, 45, 52, 57, 100, 57, 45, 52, 97, 98, 49, 45, 57, 98, 100, 53, 45, 49, 102, 55, 51, 51, 97, 97, 101, 99, 101, 57, 50, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 48, 53, 101, 56, 55, 99, 98, 53, 37, 50, 68, 57, 99, 100, 56, 37, 50, 68, 52, 49, 50, 48, 37, 50, 68, 57, 55, 98, 51, 37, 50, 68, 102, 101, 56, 52, 98, 55, 53, 101, 48, 51, 101, 101, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 119, 97, 114, 109, 117, 112, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 48, 58, 49, 49, 58, 53, 53, 46, 52, 54, 49, 56, 48, 57, 56, 56, 54, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 99, 98, 97, 101, 52, 52, 51, 98, 45, 100, 101, 54, 54, 45, 52, 53, 97, 54, 45, 57, 53, 55, 50, 45, 53, 99, 97, 55, 102, 102, 49, 99, 49, 102, 57, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 48, 53, 101, 56, 55, 99, 98, 53, 37, 50, 68, 57, 99, 100, 56, 37, 50, 68, 52, 49, 50, 48, 37, 50, 68, 57, 55, 98, 51, 37, 50, 68, 102, 101, 56, 52, 98, 55, 53, 101, 48, 51, 101, 101, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 50, 53, 50, 99, 98, 53, 51, 98, 45, 48, 101, 100, 53, 45, 52, 102, 53, 55, 45, 57, 97, 102, 53, 45, 99, 99, 99, 99, 52, 55, 55, 48, 56, 53, 49, 98, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 54, 97, 50, 52, 49, 52, 51, 50, 45, 99, 53, 97, 56, 45, 52, 50, 97, 53, 45, 56, 57, 52, 101, 45, 57, 101, 51, 57, 100, 51, 48, 102, 97, 48, 100, 100, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 48, 53, 101, 56, 55, 99, 98, 53, 45, 57, 99, 100, 56, 45, 52, 49, 50, 48, 45, 57, 55, 98, 51, 45, 102, 101, 56, 52, 98, 55, 53, 101, 48, 51, 101, 101, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-09T10:11:55Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/05e87cb5-9cd8-4120-97b3-fe84b75e03ee&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;e4884d6d-49d9-4ab1-9bd5-1f733aaece92\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://05e87cb5%2D9cd8%2D4120%2D97b3%2Dfe84b75e03ee/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;warmup\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T10:11:55.461809886Z\&quot;,\&quot;data\&quot;:{\&quot;index\&quot;:3},\&quot;applicationuid\&quot;:\&quot;cbae443b-de66-45a6-9572-5ca7ff1c1f91\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;partitionkey\&quot;:\&quot;05e87cb5%2D9cd8%2D4120%2D97b3%2Dfe84b75e03ee/device1\&quot;,\&quot;senderuid\&quot;:\&quot;252cb53b-0ed5-4f57-9af5-cccc4770851b\&quot;,\&quot;deviceuid\&quot;:\&quot;6a241432-c5a8-42a5-894e-9e39d30fa0dd\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;application\&quot;:\&quot;05e87cb5-9cd8-4120-97b3-fe84b75e03ee\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;}&quot; }
[2022-05-09T10:11:56Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-09T10:11:56Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-09T10:11:56Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-09T10:11:56Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry/device1
[2022-05-09T10:11:56Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-endpoint.172.18.0.2.nip.io:30001&quot;, client_id: &quot;0e0fe0a0-35b4-4a71-9bdd-15425e465e4f&quot;, persistence: None, user_data: None }
[2022-05-09T10:11:56Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T10:11:56Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55efdbff0510
[2022-05-09T10:11:56Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55efdbff0510
[2022-05-09T10:11:56Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x55efdc26f080, password: 0x55efdbef1d40, connectTimeout: 30, retryInterval: 0, ssl: 0x55efdbff2410, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55efdc26efc0, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;gateway1@05e87cb5-9cd8-4120-97b3-fe84b75e03ee&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T10:11:56Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55efdc0cfaa0 } }, data: MessageData { topic: &quot;telemetry/device1&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55efdc0cfaa0 } } } }
[2022-05-09T10:11:56Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 640, payload: 0x7f0ed000c450, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/05e87cb5-9cd8-4120-97b3-fe84b75e03ee&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 52, 50, 102, 97, 100, 98, 52, 100, 45, 53, 102, 54, 51, 45, 52, 98, 97, 99, 45, 98, 99, 52, 56, 45, 52, 100, 54, 98, 54, 56, 57, 51, 100, 52, 56, 49, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 48, 53, 101, 56, 55, 99, 98, 53, 37, 50, 68, 57, 99, 100, 56, 37, 50, 68, 52, 49, 50, 48, 37, 50, 68, 57, 55, 98, 51, 37, 50, 68, 102, 101, 56, 52, 98, 55, 53, 101, 48, 51, 101, 101, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 48, 58, 49, 49, 58, 53, 54, 46, 53, 55, 56, 54, 56, 55, 56, 49, 53, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 48, 53, 101, 56, 55, 99, 98, 53, 37, 50, 68, 57, 99, 100, 56, 37, 50, 68, 52, 49, 50, 48, 37, 50, 68, 57, 55, 98, 51, 37, 50, 68, 102, 101, 56, 52, 98, 55, 53, 101, 48, 51, 101, 101, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 50, 53, 50, 99, 98, 53, 51, 98, 45, 48, 101, 100, 53, 45, 52, 102, 53, 55, 45, 57, 97, 102, 53, 45, 99, 99, 99, 99, 52, 55, 55, 48, 56, 53, 49, 98, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 99, 98, 97, 101, 52, 52, 51, 98, 45, 100, 101, 54, 54, 45, 52, 53, 97, 54, 45, 57, 53, 55, 50, 45, 53, 99, 97, 55, 102, 102, 49, 99, 49, 102, 57, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 48, 53, 101, 56, 55, 99, 98, 53, 45, 57, 99, 100, 56, 45, 52, 49, 50, 48, 45, 57, 55, 98, 51, 45, 102, 101, 56, 52, 98, 55, 53, 101, 48, 51, 101, 101, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 50, 53, 50, 99, 98, 53, 51, 98, 45, 48, 101, 100, 53, 45, 52, 102, 53, 55, 45, 57, 97, 102, 53, 45, 99, 99, 99, 99, 52, 55, 55, 48, 56, 53, 49, 98, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-09T10:11:56Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/05e87cb5-9cd8-4120-97b3-fe84b75e03ee&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;42fadb4d-5f63-4bac-bc48-4d6b6893d481\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://05e87cb5%2D9cd8%2D4120%2D97b3%2Dfe84b75e03ee/gateway1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T10:11:56.578687815Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:true},\&quot;partitionkey\&quot;:\&quot;05e87cb5%2D9cd8%2D4120%2D97b3%2Dfe84b75e03ee/gateway1\&quot;,\&quot;senderuid\&quot;:\&quot;252cb53b-0ed5-4f57-9af5-cccc4770851b\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;device\&quot;:\&quot;gateway1\&quot;,\&quot;applicationuid\&quot;:\&quot;cbae443b-de66-45a6-9572-5ca7ff1c1f91\&quot;,\&quot;application\&quot;:\&quot;05e87cb5-9cd8-4120-97b3-fe84b75e03ee\&quot;,\&quot;deviceuid\&quot;:\&quot;252cb53b-0ed5-4f57-9af5-cccc4770851b\&quot;}&quot; }
[2022-05-09T10:11:56Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-09T10:11:56Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 641, payload: 0x7f0ed000c9b0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/05e87cb5-9cd8-4120-97b3-fe84b75e03ee&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 101, 99, 55, 55, 52, 54, 55, 100, 45, 98, 102, 54, 54, 45, 52, 54, 54, 99, 45, 57, 51, 56, 56, 45, 99, 57, 48, 57, 101, 53, 101, 56, 101, 57, 99, 57, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 48, 53, 101, 56, 55, 99, 98, 53, 37, 50, 68, 57, 99, 100, 56, 37, 50, 68, 52, 49, 50, 48, 37, 50, 68, 57, 55, 98, 51, 37, 50, 68, 102, 101, 56, 52, 98, 55, 53, 101, 48, 51, 101, 101, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 48, 58, 49, 49, 58, 53, 54, 46, 55, 55, 51, 57, 48, 54, 53, 54, 57, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 102, 97, 108, 115, 101, 125, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 99, 98, 97, 101, 52, 52, 51, 98, 45, 100, 101, 54, 54, 45, 52, 53, 97, 54, 45, 57, 53, 55, 50, 45, 53, 99, 97, 55, 102, 102, 49, 99, 49, 102, 57, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 50, 53, 50, 99, 98, 53, 51, 98, 45, 48, 101, 100, 53, 45, 52, 102, 53, 55, 45, 57, 97, 102, 53, 45, 99, 99, 99, 99, 52, 55, 55, 48, 56, 53, 49, 98, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 48, 53, 101, 56, 55, 99, 98, 53, 37, 50, 68, 57, 99, 100, 56, 37, 50, 68, 52, 49, 50, 48, 37, 50, 68, 57, 55, 98, 51, 37, 50, 68, 102, 101, 56, 52, 98, 55, 53, 101, 48, 51, 101, 101, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 50, 53, 50, 99, 98, 53, 51, 98, 45, 48, 101, 100, 53, 45, 52, 102, 53, 55, 45, 57, 97, 102, 53, 45, 99, 99, 99, 99, 52, 55, 55, 48, 56, 53, 49, 98, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 48, 53, 101, 56, 55, 99, 98, 53, 45, 57, 99, 100, 56, 45, 52, 49, 50, 48, 45, 57, 55, 98, 51, 45, 102, 101, 56, 52, 98, 55, 53, 101, 48, 51, 101, 101, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-09T10:11:56Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/05e87cb5-9cd8-4120-97b3-fe84b75e03ee&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;ec77467d-bf66-466c-9388-c909e5e8e9c9\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://05e87cb5%2D9cd8%2D4120%2D97b3%2Dfe84b75e03ee/gateway1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T10:11:56.773906569Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:false},\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;applicationuid\&quot;:\&quot;cbae443b-de66-45a6-9572-5ca7ff1c1f91\&quot;,\&quot;deviceuid\&quot;:\&quot;252cb53b-0ed5-4f57-9af5-cccc4770851b\&quot;,\&quot;partitionkey\&quot;:\&quot;05e87cb5%2D9cd8%2D4120%2D97b3%2Dfe84b75e03ee/gateway1\&quot;,\&quot;device\&quot;:\&quot;gateway1\&quot;,\&quot;senderuid\&quot;:\&quot;252cb53b-0ed5-4f57-9af5-cccc4770851b\&quot;,\&quot;application\&quot;:\&quot;05e87cb5-9cd8-4120-97b3-fe84b75e03ee\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;}&quot; }
[2022-05-09T10:11:57Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 630, payload: 0x7f0ed002bbe0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/05e87cb5-9cd8-4120-97b3-fe84b75e03ee&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 99, 55, 97, 51, 100, 97, 102, 98, 45, 55, 56, 100, 100, 45, 52, 56, 50, 52, 45, 56, 98, 99, 101, 45, 51, 101, 53, 102, 55, 102, 57, 98, 97, 57, 57, 53, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 48, 53, 101, 56, 55, 99, 98, 53, 37, 50, 68, 57, 99, 100, 56, 37, 50, 68, 52, 49, 50, 48, 37, 50, 68, 57, 55, 98, 51, 37, 50, 68, 102, 101, 56, 52, 98, 55, 53, 101, 48, 51, 101, 101, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 111, 99, 116, 101, 116, 45, 115, 116, 114, 101, 97, 109, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 116, 101, 108, 101, 109, 101, 116, 114, 121, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 48, 58, 49, 49, 58, 53, 54, 46, 55, 55, 50, 49, 56, 54, 54, 55, 52, 90, 34, 44, 34, 100, 97, 116, 97, 95, 98, 97, 115, 101, 54, 52, 34, 58, 34, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 54, 97, 50, 52, 49, 52, 51, 50, 45, 99, 53, 97, 56, 45, 52, 50, 97, 53, 45, 56, 57, 52, 101, 45, 57, 101, 51, 57, 100, 51, 48, 102, 97, 48, 100, 100, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 48, 53, 101, 56, 55, 99, 98, 53, 45, 57, 99, 100, 56, 45, 52, 49, 50, 48, 45, 57, 55, 98, 51, 45, 102, 101, 56, 52, 98, 55, 53, 101, 48, 51, 101, 101, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 50, 53, 50, 99, 98, 53, 51, 98, 45, 48, 101, 100, 53, 45, 52, 102, 53, 55, 45, 57, 97, 102, 53, 45, 99, 99, 99, 99, 52, 55, 55, 48, 56, 53, 49, 98, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 99, 98, 97, 101, 52, 52, 51, 98, 45, 100, 101, 54, 54, 45, 52, 53, 97, 54, 45, 57, 53, 55, 50, 45, 53, 99, 97, 55, 102, 102, 49, 99, 49, 102, 57, 49, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 48, 53, 101, 56, 55, 99, 98, 53, 37, 50, 68, 57, 99, 100, 56, 37, 50, 68, 52, 49, 50, 48, 37, 50, 68, 57, 55, 98, 51, 37, 50, 68, 102, 101, 56, 52, 98, 55, 53, 101, 48, 51, 101, 101, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-09T10:11:57Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/05e87cb5-9cd8-4120-97b3-fe84b75e03ee&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;c7a3dafb-78dd-4824-8bce-3e5f7f9ba995\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://05e87cb5%2D9cd8%2D4120%2D97b3%2Dfe84b75e03ee/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/octet-stream\&quot;,\&quot;subject\&quot;:\&quot;telemetry\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T10:11:56.772186674Z\&quot;,\&quot;data_base64\&quot;:\&quot;\&quot;,\&quot;deviceuid\&quot;:\&quot;6a241432-c5a8-42a5-894e-9e39d30fa0dd\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;application\&quot;:\&quot;05e87cb5-9cd8-4120-97b3-fe84b75e03ee\&quot;,\&quot;senderuid\&quot;:\&quot;252cb53b-0ed5-4f57-9af5-cccc4770851b\&quot;,\&quot;applicationuid\&quot;:\&quot;cbae443b-de66-45a6-9572-5ca7ff1c1f91\&quot;,\&quot;partitionkey\&quot;:\&quot;05e87cb5%2D9cd8%2D4120%2D97b3%2Dfe84b75e03ee/device1\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;}&quot; }
[2022-05-09T10:11:57Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-09T10:11:57Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-09T10:11:57Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-09T10:11:57Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;05e87cb5-9cd8-4120-97b3-fe84b75e03ee&quot;, device: &quot;gateway1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`,
 right: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;05e87cb5-9cd8-4120-97b3-fe84b75e03ee&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`: Position #0&#x27;, src/tools/assert.rs:35:39
[2022-05-09T10:11:57Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-09T10:11:57Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;05e87cb5-9cd8-4120-97b3-fe84b75e03ee&quot; &quot;device1&quot;
[2022-05-09T10:11:57Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:11:57Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-05-09T10:11:57Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;05e87cb5-9cd8-4120-97b3-fe84b75e03ee&quot; &quot;gateway1&quot;
[2022-05-09T10:11:57Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:11:57Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;05e87cb5-9cd8-4120-97b3-fe84b75e03ee&#x27;
[2022-05-09T10:11:57Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;05e87cb5-9cd8-4120-97b3-fe84b75e03ee&quot;
[2022-05-09T10:11:57Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 05e87cb5-9cd8-4120-97b3-fe84b75e03ee deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_1::integration_version_2::integration_ws_1

**Duration**: 14s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-09T10:11:59Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-09T10:11:59Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T10:11:59Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T10:11:59Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T10:11:59Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T10:12:00Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-09T10:12:01Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-09T10:12:01Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T10:12:01Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T10:12:01Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T10:12:03Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI0NDVmMTM5Zi0wNjNjLTRhZDgtODkwYi1mNTg1OTQ0NjFiZDAifQ.eyJleHAiOjE2NTIwOTI5MjMsImlhdCI6MTY1MjA5MTEyMywianRpIjoiM2UyZmQ5ZmItMjk2Ni00NGQ2LWFkNTItMDJhYjk2MTZkMTMwIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjNkZWIxOWY5LWM3NDYtNGIwMC1hOTA5LTJiOTg4NTVjZTRmMyIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlplZlljSFJLanJNUUNaQ0NwakhONmciLCJzZXNzaW9uX3N0YXRlIjoiZjFmZjQyMWMtMWNlMy00ZDZhLWE5MDgtM2JjYTg4YjA3ZTg3Iiwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImYxZmY0MjFjLTFjZTMtNGQ2YS1hOTA4LTNiY2E4OGIwN2U4NyJ9.S87nSDlurEY5BONdBvQcWZvINflIm1jPd0No4Q8SfwI
[2022-05-09T10:12:03Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-09T10:12:03Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-09T10:12:03Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI0NDVmMTM5Zi0wNjNjLTRhZDgtODkwYi1mNTg1OTQ0NjFiZDAifQ.eyJleHAiOjE2NTIwOTI5MjMsImlhdCI6MTY1MjA5MTEyMywianRpIjoiM2UyZmQ5ZmItMjk2Ni00NGQ2LWFkNTItMDJhYjk2MTZkMTMwIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjNkZWIxOWY5LWM3NDYtNGIwMC1hOTA5LTJiOTg4NTVjZTRmMyIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlplZlljSFJLanJNUUNaQ0NwakhONmciLCJzZXNzaW9uX3N0YXRlIjoiZjFmZjQyMWMtMWNlMy00ZDZhLWE5MDgtM2JjYTg4YjA3ZTg3Iiwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImYxZmY0MjFjLTFjZTMtNGQ2YS1hOTA4LTNiY2E4OGIwN2U4NyJ9.S87nSDlurEY5BONdBvQcWZvINflIm1jPd0No4Q8SfwI&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-09T10:12:03Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:12:04Z INFO  drogue_cloud_tests::resources::apps] Create application: e368499d-6e94-40eb-8b1b-c361bcc0e1d1
[2022-05-09T10:12:04Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;e368499d-6e94-40eb-8b1b-c361bcc0e1d1&quot;
[2022-05-09T10:12:04Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App e368499d-6e94-40eb-8b1b-c361bcc0e1d1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:12:04Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;e368499d-6e94-40eb-8b1b-c361bcc0e1d1&quot;
[2022-05-09T10:12:04Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T10:12:04.446859Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;name\&quot;: \&quot;e368499d-6e94-40eb-8b1b-c361bcc0e1d1\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;07abbf85-4683-4e9d-9672-34cb7df1073a\&quot;,\n    \&quot;uid\&quot;: \&quot;34605847-a69d-4a0b-bfb6-fd6ff3e6ff09\&quot;\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:12:04Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T10:12:04.446859Z&quot;), &quot;generation&quot;: Number(0), &quot;name&quot;: String(&quot;e368499d-6e94-40eb-8b1b-c361bcc0e1d1&quot;), &quot;resourceVersion&quot;: String(&quot;07abbf85-4683-4e9d-9672-34cb7df1073a&quot;), &quot;uid&quot;: String(&quot;34605847-a69d-4a0b-bfb6-fd6ff3e6ff09&quot;)})})
[2022-05-09T10:12:04Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-09T10:12:05Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;e368499d-6e94-40eb-8b1b-c361bcc0e1d1&quot;
[2022-05-09T10:12:05Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T10:12:04.446859Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;e368499d-6e94-40eb-8b1b-c361bcc0e1d1\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;3a4bf222-492c-4b15-9726-be51aac02653\&quot;,\n    \&quot;uid\&quot;: \&quot;34605847-a69d-4a0b-bfb6-fd6ff3e6ff09\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:12:04.779363296Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:12:04.779319474Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:12:04.508057483Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:12:04.515574065Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:12:04.591978615Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:12:04.606005154Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:12:04.779213376Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:12:04.779231579Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;Gc9FpU6fPSph\&quot;,\n        \&quot;username\&quot;: \&quot;user-e368499d-6e94-40eb-8b1b-c361bcc0e1d1\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:12:05Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T10:12:04.446859Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;e368499d-6e94-40eb-8b1b-c361bcc0e1d1&quot;), &quot;resourceVersion&quot;: String(&quot;3a4bf222-492c-4b15-9726-be51aac02653&quot;), &quot;uid&quot;: String(&quot;34605847-a69d-4a0b-bfb6-fd6ff3e6ff09&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:12:04.779363296Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:12:04.779319474Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:12:04.508057483Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:12:04.515574065Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:12:04.591978615Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:12:04.606005154Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:12:04.779213376Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:12:04.779231579Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;Gc9FpU6fPSph&quot;), &quot;username&quot;: String(&quot;user-e368499d-6e94-40eb-8b1b-c361bcc0e1d1&quot;)})})})})
[2022-05-09T10:12:05Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-09T10:12:05Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;e368499d-6e94-40eb-8b1b-c361bcc0e1d1&quot;
[2022-05-09T10:12:05Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T10:12:04.446859Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;e368499d-6e94-40eb-8b1b-c361bcc0e1d1\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;3a4bf222-492c-4b15-9726-be51aac02653\&quot;,\n    \&quot;uid\&quot;: \&quot;34605847-a69d-4a0b-bfb6-fd6ff3e6ff09\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:12:04.779363296Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:12:04.779319474Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:12:04.508057483Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:12:04.515574065Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:12:04.591978615Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:12:04.606005154Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:12:04.779213376Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:12:04.779231579Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;Gc9FpU6fPSph\&quot;,\n        \&quot;username\&quot;: \&quot;user-e368499d-6e94-40eb-8b1b-c361bcc0e1d1\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:12:05Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T10:12:04.446859Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;e368499d-6e94-40eb-8b1b-c361bcc0e1d1&quot;), &quot;resourceVersion&quot;: String(&quot;3a4bf222-492c-4b15-9726-be51aac02653&quot;), &quot;uid&quot;: String(&quot;34605847-a69d-4a0b-bfb6-fd6ff3e6ff09&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:12:04.779363296Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:12:04.779319474Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:12:04.508057483Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:12:04.515574065Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:12:04.591978615Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:12:04.606005154Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:12:04.779213376Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:12:04.779231579Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;Gc9FpU6fPSph&quot;), &quot;username&quot;: String(&quot;user-e368499d-6e94-40eb-8b1b-c361bcc0e1d1&quot;)})})})})
[2022-05-09T10:12:05Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-09T10:12:05Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-05-09T10:12:05Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;e368499d-6e94-40eb-8b1b-c361bcc0e1d1&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-09T10:12:05Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:12:05Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:12:05Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T10:12:05Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T10:12:05Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJXRG4zQ2wwMVNsYVpRRnRTbUpuS2JqWC1wcXdsR21xWDhSUFNWSHgxUHgwIn0.eyJleHAiOjE2NTIwOTE0MjMsImlhdCI6MTY1MjA5MTEyMywiYXV0aF90aW1lIjoxNjUyMDkxMTIwLCJqdGkiOiIyOGVkNDM3Yi02YzJkLTQwOGYtYjk5NC1lZjg5YmU2YWMwODQiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiM2RlYjE5ZjktYzc0Ni00YjAwLWE5MDktMmI5ODg1NWNlNGYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJaZWZZY0hSS2pyTVFDWkNDcGpITjZnIiwic2Vzc2lvbl9zdGF0ZSI6ImYxZmY0MjFjLTFjZTMtNGQ2YS1hOTA4LTNiY2E4OGIwN2U4NyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImYxZmY0MjFjLTFjZTMtNGQ2YS1hOTA4LTNiY2E4OGIwN2U4NyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.N63i9ABTcKxHRjetBR-RNxE08q3a7H0qgaOQtf3nKkh5b1pPD8rfodaep-7JatdloStc507gYyZUKOzTMrW46daDnYGoSObvFUNLe7IVak04P0sPlcvzNNZCcbNmJJVFL267D21i0XgW9_93QVtzk5t8id5U_uwWafKi9xoO1pJyrDVV1kcbx1Kbb_91nNOEGdVgC3gmO8YNtMAvcefR7lgBHa7aiRuuw4zguUcPpYaqiFenvBNQBvrtOvBtdT5Y6VgXhrrcIxm3PnP_NbRSErkY3aAKEkCXkOtRZZLJwYb1Yiq0afy4XyOF0UMx4pl4uobFdm5uHOdVvi5GRlOQCw\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:12:05Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T10:12:05Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-09T10:12:05Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-09T10:12:05Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;e368499d-6e94-40eb-8b1b-c361bcc0e1d1&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-05-09T10:12:05Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:12:05Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: ssl://mqtt-integration.172.18.0.2.nip.io:30002
[2022-05-09T10:12:05Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T10:12:05Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJXRG4zQ2wwMVNsYVpRRnRTbUpuS2JqWC1wcXdsR21xWDhSUFNWSHgxUHgwIn0.eyJleHAiOjE2NTIwOTE0MjMsImlhdCI6MTY1MjA5MTEyMywiYXV0aF90aW1lIjoxNjUyMDkxMTIwLCJqdGkiOiIyOGVkNDM3Yi02YzJkLTQwOGYtYjk5NC1lZjg5YmU2YWMwODQiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiM2RlYjE5ZjktYzc0Ni00YjAwLWE5MDktMmI5ODg1NWNlNGYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJaZWZZY0hSS2pyTVFDWkNDcGpITjZnIiwic2Vzc2lvbl9zdGF0ZSI6ImYxZmY0MjFjLTFjZTMtNGQ2YS1hOTA4LTNiY2E4OGIwN2U4NyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImYxZmY0MjFjLTFjZTMtNGQ2YS1hOTA4LTNiY2E4OGIwN2U4NyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.N63i9ABTcKxHRjetBR-RNxE08q3a7H0qgaOQtf3nKkh5b1pPD8rfodaep-7JatdloStc507gYyZUKOzTMrW46daDnYGoSObvFUNLe7IVak04P0sPlcvzNNZCcbNmJJVFL267D21i0XgW9_93QVtzk5t8id5U_uwWafKi9xoO1pJyrDVV1kcbx1Kbb_91nNOEGdVgC3gmO8YNtMAvcefR7lgBHa7aiRuuw4zguUcPpYaqiFenvBNQBvrtOvBtdT5Y6VgXhrrcIxm3PnP_NbRSErkY3aAKEkCXkOtRZZLJwYb1Yiq0afy4XyOF0UMx4pl4uobFdm5uHOdVvi5GRlOQCw\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:12:05Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-integration.172.18.0.2.nip.io:30002&quot;, client_id: &quot;bfef64b6-7450-4c04-8fcf-933499f0c151&quot;, persistence: None, user_data: None }
[2022-05-09T10:12:05Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T10:12:05Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55efdc19bb80
[2022-05-09T10:12:05Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55efdc19bb80
[2022-05-09T10:12:05Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x55efdc19bec0, connectTimeout: 30, retryInterval: 0, ssl: 0x55efdc199c40, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55efdc19a980, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJXRG4zQ2wwMVNsYVpRRnRTbUpuS2JqWC1wcXdsR21xWDhSUFNWSHgxUHgwIn0.eyJleHAiOjE2NTIwOTE0MjMsImlhdCI6MTY1MjA5MTEyMywiYXV0aF90aW1lIjoxNjUyMDkxMTIwLCJqdGkiOiIyOGVkNDM3Yi02YzJkLTQwOGYtYjk5NC1lZjg5YmU2YWMwODQiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiM2RlYjE5ZjktYzc0Ni00YjAwLWE5MDktMmI5ODg1NWNlNGYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJaZWZZY0hSS2pyTVFDWkNDcGpITjZnIiwic2Vzc2lvbl9zdGF0ZSI6ImYxZmY0MjFjLTFjZTMtNGQ2YS1hOTA4LTNiY2E4OGIwN2U4NyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImYxZmY0MjFjLTFjZTMtNGQ2YS1hOTA4LTNiY2E4OGIwN2U4NyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.N63i9ABTcKxHRjetBR-RNxE08q3a7H0qgaOQtf3nKkh5b1pPD8rfodaep-7JatdloStc507gYyZUKOzTMrW46daDnYGoSObvFUNLe7IVak04P0sPlcvzNNZCcbNmJJVFL267D21i0XgW9_93QVtzk5t8id5U_uwWafKi9xoO1pJyrDVV1kcbx1Kbb_91nNOEGdVgC3gmO8YNtMAvcefR7lgBHa7aiRuuw4zguUcPpYaqiFenvBNQBvrtOvBtdT5Y6VgXhrrcIxm3PnP_NbRSErkY3aAKEkCXkOtRZZLJwYb1Yiq0afy4XyOF0UMx4pl4uobFdm5uHOdVvi5GRlOQCw&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T10:12:05Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/e368499d-6e94-40eb-8b1b-c361bcc0e1d1&quot;&#x27; @ QOS 0
[2022-05-09T10:12:05Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-09T10:12:05Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-09T10:12:05Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:12:05Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:12:05Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:12:06Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:12:07Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:12:07Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:12:07Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:12:07Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:12:08Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:12:08Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:12:08Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:12:08Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:12:09Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:12:09Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:12:09Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:12:09Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:12:09Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 621, payload: 0x7f0edc001390, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f0edc001610 } }, data: MessageData { topic: &quot;app/e368499d-6e94-40eb-8b1b-c361bcc0e1d1&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 98, 49, 50, 99, 52, 50, 52, 99, 45, 53, 102, 51, 56, 45, 52, 48, 100, 98, 45, 57, 50, 97, 99, 45, 101, 53, 99, 56, 54, 50, 53, 100, 99, 102, 97, 55, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 101, 51, 54, 56, 52, 57, 57, 100, 37, 50, 68, 54, 101, 57, 52, 37, 50, 68, 52, 48, 101, 98, 37, 50, 68, 56, 98, 49, 98, 37, 50, 68, 99, 51, 54, 49, 98, 99, 99, 48, 101, 49, 100, 49, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 119, 97, 114, 109, 117, 112, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 48, 58, 49, 50, 58, 48, 57, 46, 52, 54, 55, 56, 55, 57, 48, 54, 48, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 101, 51, 54, 56, 52, 57, 57, 100, 37, 50, 68, 54, 101, 57, 52, 37, 50, 68, 52, 48, 101, 98, 37, 50, 68, 56, 98, 49, 98, 37, 50, 68, 99, 51, 54, 49, 98, 99, 99, 48, 101, 49, 100, 49, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 101, 51, 54, 56, 52, 57, 57, 100, 45, 54, 101, 57, 52, 45, 52, 48, 101, 98, 45, 56, 98, 49, 98, 45, 99, 51, 54, 49, 98, 99, 99, 48, 101, 49, 100, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 99, 53, 97, 100, 51, 56, 98, 101, 45, 97, 48, 99, 50, 45, 52, 55, 49, 98, 45, 98, 97, 100, 99, 45, 101, 48, 100, 100, 98, 53, 54, 101, 100, 57, 101, 97, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 51, 52, 54, 48, 53, 56, 52, 55, 45, 97, 54, 57, 100, 45, 52, 97, 48, 98, 45, 98, 102, 98, 54, 45, 102, 100, 54, 102, 102, 51, 101, 54, 102, 102, 48, 57, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 53, 99, 55, 49, 97, 97, 99, 53, 45, 54, 98, 53, 52, 45, 52, 53, 97, 48, 45, 97, 54, 99, 97, 45, 51, 55, 101, 48, 97, 51, 50, 52, 99, 100, 53, 53, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f0edc001610 } } } }
[2022-05-09T10:12:09Z DEBUG paho_mqtt::properties] Dropping string property: 0x55efdbf86250
[2022-05-09T10:12:09Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/e368499d-6e94-40eb-8b1b-c361bcc0e1d1&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;b12c424c-5f38-40db-92ac-e5c8625dcfa7\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://e368499d%2D6e94%2D40eb%2D8b1b%2Dc361bcc0e1d1/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;warmup\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T10:12:09.467879060Z\&quot;,\&quot;data\&quot;:{\&quot;index\&quot;:3},\&quot;partitionkey\&quot;:\&quot;e368499d%2D6e94%2D40eb%2D8b1b%2Dc361bcc0e1d1/device1\&quot;,\&quot;application\&quot;:\&quot;e368499d-6e94-40eb-8b1b-c361bcc0e1d1\&quot;,\&quot;deviceuid\&quot;:\&quot;c5ad38be-a0c2-471b-badc-e0ddb56ed9ea\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;applicationuid\&quot;:\&quot;34605847-a69d-4a0b-bfb6-fd6ff3e6ff09\&quot;,\&quot;senderuid\&quot;:\&quot;5c71aac5-6b54-45a0-a6ca-37e0a324cd55\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;}&quot; }
[2022-05-09T10:12:10Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-09T10:12:10Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-09T10:12:10Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-09T10:12:10Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry/device1
[2022-05-09T10:12:10Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-endpoint.172.18.0.2.nip.io:30001&quot;, client_id: &quot;87339b1d-6696-434b-b21f-f9ff7b1a317f&quot;, persistence: None, user_data: None }
[2022-05-09T10:12:10Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T10:12:10Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55efdbf869e0
[2022-05-09T10:12:10Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55efdbf869e0
[2022-05-09T10:12:10Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x55efdbf0eb30, password: 0x55efdbeb4c00, connectTimeout: 30, retryInterval: 0, ssl: 0x55efdbece870, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55efdc270410, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;gateway1@e368499d-6e94-40eb-8b1b-c361bcc0e1d1&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T10:12:10Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55efdc2ce8b0 } }, data: MessageData { topic: &quot;telemetry/device1&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55efdc2ce8b0 } } } }
[2022-05-09T10:12:10Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 640, payload: 0x7f0edc02bdc0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f0edc02c050 } }, data: MessageData { topic: &quot;app/e368499d-6e94-40eb-8b1b-c361bcc0e1d1&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 97, 101, 55, 99, 51, 99, 50, 53, 45, 50, 55, 98, 53, 45, 52, 54, 55, 55, 45, 57, 56, 56, 99, 45, 101, 49, 55, 51, 53, 54, 98, 49, 48, 57, 100, 99, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 101, 51, 54, 56, 52, 57, 57, 100, 37, 50, 68, 54, 101, 57, 52, 37, 50, 68, 52, 48, 101, 98, 37, 50, 68, 56, 98, 49, 98, 37, 50, 68, 99, 51, 54, 49, 98, 99, 99, 48, 101, 49, 100, 49, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 48, 58, 49, 50, 58, 49, 48, 46, 53, 56, 55, 57, 51, 53, 53, 53, 55, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 101, 51, 54, 56, 52, 57, 57, 100, 45, 54, 101, 57, 52, 45, 52, 48, 101, 98, 45, 56, 98, 49, 98, 45, 99, 51, 54, 49, 98, 99, 99, 48, 101, 49, 100, 49, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 101, 51, 54, 56, 52, 57, 57, 100, 37, 50, 68, 54, 101, 57, 52, 37, 50, 68, 52, 48, 101, 98, 37, 50, 68, 56, 98, 49, 98, 37, 50, 68, 99, 51, 54, 49, 98, 99, 99, 48, 101, 49, 100, 49, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 51, 52, 54, 48, 53, 56, 52, 55, 45, 97, 54, 57, 100, 45, 52, 97, 48, 98, 45, 98, 102, 98, 54, 45, 102, 100, 54, 102, 102, 51, 101, 54, 102, 102, 48, 57, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 53, 99, 55, 49, 97, 97, 99, 53, 45, 54, 98, 53, 52, 45, 52, 53, 97, 48, 45, 97, 54, 99, 97, 45, 51, 55, 101, 48, 97, 51, 50, 52, 99, 100, 53, 53, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 53, 99, 55, 49, 97, 97, 99, 53, 45, 54, 98, 53, 52, 45, 52, 53, 97, 48, 45, 97, 54, 99, 97, 45, 51, 55, 101, 48, 97, 51, 50, 52, 99, 100, 53, 53, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f0edc02c050 } } } }
[2022-05-09T10:12:10Z DEBUG paho_mqtt::properties] Dropping string property: 0x55efdbf86250
[2022-05-09T10:12:10Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-09T10:12:10Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/e368499d-6e94-40eb-8b1b-c361bcc0e1d1&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;ae7c3c25-27b5-4677-988c-e17356b109dc\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://e368499d%2D6e94%2D40eb%2D8b1b%2Dc361bcc0e1d1/gateway1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T10:12:10.587935557Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:true},\&quot;application\&quot;:\&quot;e368499d-6e94-40eb-8b1b-c361bcc0e1d1\&quot;,\&quot;partitionkey\&quot;:\&quot;e368499d%2D6e94%2D40eb%2D8b1b%2Dc361bcc0e1d1/gateway1\&quot;,\&quot;applicationuid\&quot;:\&quot;34605847-a69d-4a0b-bfb6-fd6ff3e6ff09\&quot;,\&quot;senderuid\&quot;:\&quot;5c71aac5-6b54-45a0-a6ca-37e0a324cd55\&quot;,\&quot;deviceuid\&quot;:\&quot;5c71aac5-6b54-45a0-a6ca-37e0a324cd55\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;device\&quot;:\&quot;gateway1\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;}&quot; }
[2022-05-09T10:12:10Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 641, payload: 0x7f0edc00d6d0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f0edc016e90 } }, data: MessageData { topic: &quot;app/e368499d-6e94-40eb-8b1b-c361bcc0e1d1&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 51, 50, 99, 100, 52, 101, 48, 50, 45, 50, 53, 56, 97, 45, 52, 98, 99, 102, 45, 57, 50, 97, 55, 45, 57, 50, 49, 48, 55, 53, 51, 50, 55, 54, 48, 51, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 101, 51, 54, 56, 52, 57, 57, 100, 37, 50, 68, 54, 101, 57, 52, 37, 50, 68, 52, 48, 101, 98, 37, 50, 68, 56, 98, 49, 98, 37, 50, 68, 99, 51, 54, 49, 98, 99, 99, 48, 101, 49, 100, 49, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 48, 58, 49, 50, 58, 49, 48, 46, 55, 56, 51, 50, 55, 55, 54, 53, 52, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 102, 97, 108, 115, 101, 125, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 101, 51, 54, 56, 52, 57, 57, 100, 37, 50, 68, 54, 101, 57, 52, 37, 50, 68, 52, 48, 101, 98, 37, 50, 68, 56, 98, 49, 98, 37, 50, 68, 99, 51, 54, 49, 98, 99, 99, 48, 101, 49, 100, 49, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 51, 52, 54, 48, 53, 56, 52, 55, 45, 97, 54, 57, 100, 45, 52, 97, 48, 98, 45, 98, 102, 98, 54, 45, 102, 100, 54, 102, 102, 51, 101, 54, 102, 102, 48, 57, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 53, 99, 55, 49, 97, 97, 99, 53, 45, 54, 98, 53, 52, 45, 52, 53, 97, 48, 45, 97, 54, 99, 97, 45, 51, 55, 101, 48, 97, 51, 50, 52, 99, 100, 53, 53, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 53, 99, 55, 49, 97, 97, 99, 53, 45, 54, 98, 53, 52, 45, 52, 53, 97, 48, 45, 97, 54, 99, 97, 45, 51, 55, 101, 48, 97, 51, 50, 52, 99, 100, 53, 53, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 101, 51, 54, 56, 52, 57, 57, 100, 45, 54, 101, 57, 52, 45, 52, 48, 101, 98, 45, 56, 98, 49, 98, 45, 99, 51, 54, 49, 98, 99, 99, 48, 101, 49, 100, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f0edc016e90 } } } }
[2022-05-09T10:12:10Z DEBUG paho_mqtt::properties] Dropping string property: 0x55efdbf86250
[2022-05-09T10:12:10Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/e368499d-6e94-40eb-8b1b-c361bcc0e1d1&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;32cd4e02-258a-4bcf-92a7-921075327603\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://e368499d%2D6e94%2D40eb%2D8b1b%2Dc361bcc0e1d1/gateway1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T10:12:10.783277654Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:false},\&quot;partitionkey\&quot;:\&quot;e368499d%2D6e94%2D40eb%2D8b1b%2Dc361bcc0e1d1/gateway1\&quot;,\&quot;applicationuid\&quot;:\&quot;34605847-a69d-4a0b-bfb6-fd6ff3e6ff09\&quot;,\&quot;device\&quot;:\&quot;gateway1\&quot;,\&quot;deviceuid\&quot;:\&quot;5c71aac5-6b54-45a0-a6ca-37e0a324cd55\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;senderuid\&quot;:\&quot;5c71aac5-6b54-45a0-a6ca-37e0a324cd55\&quot;,\&quot;application\&quot;:\&quot;e368499d-6e94-40eb-8b1b-c361bcc0e1d1\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;}&quot; }
[2022-05-09T10:12:11Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 630, payload: 0x7f0edc02c1f0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f0edc02c470 } }, data: MessageData { topic: &quot;app/e368499d-6e94-40eb-8b1b-c361bcc0e1d1&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 48, 52, 52, 54, 49, 56, 102, 50, 45, 97, 102, 102, 49, 45, 52, 51, 48, 57, 45, 97, 51, 52, 100, 45, 56, 50, 99, 51, 53, 55, 50, 97, 98, 102, 99, 102, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 101, 51, 54, 56, 52, 57, 57, 100, 37, 50, 68, 54, 101, 57, 52, 37, 50, 68, 52, 48, 101, 98, 37, 50, 68, 56, 98, 49, 98, 37, 50, 68, 99, 51, 54, 49, 98, 99, 99, 48, 101, 49, 100, 49, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 111, 99, 116, 101, 116, 45, 115, 116, 114, 101, 97, 109, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 116, 101, 108, 101, 109, 101, 116, 114, 121, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 48, 58, 49, 50, 58, 49, 48, 46, 55, 56, 50, 53, 48, 50, 49, 56, 52, 90, 34, 44, 34, 100, 97, 116, 97, 95, 98, 97, 115, 101, 54, 52, 34, 58, 34, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 101, 51, 54, 56, 52, 57, 57, 100, 37, 50, 68, 54, 101, 57, 52, 37, 50, 68, 52, 48, 101, 98, 37, 50, 68, 56, 98, 49, 98, 37, 50, 68, 99, 51, 54, 49, 98, 99, 99, 48, 101, 49, 100, 49, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 53, 99, 55, 49, 97, 97, 99, 53, 45, 54, 98, 53, 52, 45, 52, 53, 97, 48, 45, 97, 54, 99, 97, 45, 51, 55, 101, 48, 97, 51, 50, 52, 99, 100, 53, 53, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 51, 52, 54, 48, 53, 56, 52, 55, 45, 97, 54, 57, 100, 45, 52, 97, 48, 98, 45, 98, 102, 98, 54, 45, 102, 100, 54, 102, 102, 51, 101, 54, 102, 102, 48, 57, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 101, 51, 54, 56, 52, 57, 57, 100, 45, 54, 101, 57, 52, 45, 52, 48, 101, 98, 45, 56, 98, 49, 98, 45, 99, 51, 54, 49, 98, 99, 99, 48, 101, 49, 100, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 99, 53, 97, 100, 51, 56, 98, 101, 45, 97, 48, 99, 50, 45, 52, 55, 49, 98, 45, 98, 97, 100, 99, 45, 101, 48, 100, 100, 98, 53, 54, 101, 100, 57, 101, 97, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f0edc02c470 } } } }
[2022-05-09T10:12:11Z DEBUG paho_mqtt::properties] Dropping string property: 0x55efdbf86250
[2022-05-09T10:12:11Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/e368499d-6e94-40eb-8b1b-c361bcc0e1d1&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;044618f2-aff1-4309-a34d-82c3572abfcf\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://e368499d%2D6e94%2D40eb%2D8b1b%2Dc361bcc0e1d1/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/octet-stream\&quot;,\&quot;subject\&quot;:\&quot;telemetry\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T10:12:10.782502184Z\&quot;,\&quot;data_base64\&quot;:\&quot;\&quot;,\&quot;partitionkey\&quot;:\&quot;e368499d%2D6e94%2D40eb%2D8b1b%2Dc361bcc0e1d1/device1\&quot;,\&quot;senderuid\&quot;:\&quot;5c71aac5-6b54-45a0-a6ca-37e0a324cd55\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;applicationuid\&quot;:\&quot;34605847-a69d-4a0b-bfb6-fd6ff3e6ff09\&quot;,\&quot;application\&quot;:\&quot;e368499d-6e94-40eb-8b1b-c361bcc0e1d1\&quot;,\&quot;deviceuid\&quot;:\&quot;c5ad38be-a0c2-471b-badc-e0ddb56ed9ea\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;}&quot; }
[2022-05-09T10:12:11Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-09T10:12:11Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-09T10:12:11Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-09T10:12:11Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;e368499d-6e94-40eb-8b1b-c361bcc0e1d1&quot;, device: &quot;gateway1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`,
 right: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;e368499d-6e94-40eb-8b1b-c361bcc0e1d1&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`: Position #0&#x27;, src/tools/assert.rs:35:39
[2022-05-09T10:12:11Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-09T10:12:11Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;e368499d-6e94-40eb-8b1b-c361bcc0e1d1&quot; &quot;device1&quot;
[2022-05-09T10:12:11Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:12:11Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-05-09T10:12:11Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;e368499d-6e94-40eb-8b1b-c361bcc0e1d1&quot; &quot;gateway1&quot;
[2022-05-09T10:12:11Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:12:11Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;e368499d-6e94-40eb-8b1b-c361bcc0e1d1&#x27;
[2022-05-09T10:12:11Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;e368499d-6e94-40eb-8b1b-c361bcc0e1d1&quot;
[2022-05-09T10:12:11Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App e368499d-6e94-40eb-8b1b-c361bcc0e1d1 deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_1::integration_version_2::integration_ws_2

**Duration**: 14s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-09T10:12:13Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-09T10:12:13Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T10:12:13Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T10:12:13Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T10:12:13Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T10:12:14Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-09T10:12:15Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-09T10:12:15Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T10:12:15Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T10:12:15Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T10:12:17Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI0NDVmMTM5Zi0wNjNjLTRhZDgtODkwYi1mNTg1OTQ0NjFiZDAifQ.eyJleHAiOjE2NTIwOTI5MzcsImlhdCI6MTY1MjA5MTEzNywianRpIjoiNzhiNjFhM2QtODIxYS00ZGJmLWE2MTMtYWI1NmQzMDAxYTdlIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjNkZWIxOWY5LWM3NDYtNGIwMC1hOTA5LTJiOTg4NTVjZTRmMyIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlNpWVhuQlhRUjJhTXA4alZhb2VNTXciLCJzZXNzaW9uX3N0YXRlIjoiODJiM2EyODQtOWRmOS00ODM1LTg4MmEtMzdlOTg4NmViMTczIiwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjgyYjNhMjg0LTlkZjktNDgzNS04ODJhLTM3ZTk4ODZlYjE3MyJ9.O85IiL2jh7rDqbmjsD2GrihFY2fQwvXrn0mr2te7hwc
[2022-05-09T10:12:17Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-09T10:12:17Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-09T10:12:17Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI0NDVmMTM5Zi0wNjNjLTRhZDgtODkwYi1mNTg1OTQ0NjFiZDAifQ.eyJleHAiOjE2NTIwOTI5MzcsImlhdCI6MTY1MjA5MTEzNywianRpIjoiNzhiNjFhM2QtODIxYS00ZGJmLWE2MTMtYWI1NmQzMDAxYTdlIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjNkZWIxOWY5LWM3NDYtNGIwMC1hOTA5LTJiOTg4NTVjZTRmMyIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlNpWVhuQlhRUjJhTXA4alZhb2VNTXciLCJzZXNzaW9uX3N0YXRlIjoiODJiM2EyODQtOWRmOS00ODM1LTg4MmEtMzdlOTg4NmViMTczIiwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjgyYjNhMjg0LTlkZjktNDgzNS04ODJhLTM3ZTk4ODZlYjE3MyJ9.O85IiL2jh7rDqbmjsD2GrihFY2fQwvXrn0mr2te7hwc&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-09T10:12:17Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:12:18Z INFO  drogue_cloud_tests::resources::apps] Create application: c8b9a876-2e15-4df7-9b09-98ed27b5d7c5
[2022-05-09T10:12:18Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;c8b9a876-2e15-4df7-9b09-98ed27b5d7c5&quot;
[2022-05-09T10:12:18Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App c8b9a876-2e15-4df7-9b09-98ed27b5d7c5 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:12:18Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;c8b9a876-2e15-4df7-9b09-98ed27b5d7c5&quot;
[2022-05-09T10:12:18Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T10:12:18.369813Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 2,\n    \&quot;name\&quot;: \&quot;c8b9a876-2e15-4df7-9b09-98ed27b5d7c5\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;640267f5-ef18-441f-ae5c-77834186ca8e\&quot;,\n    \&quot;uid\&quot;: \&quot;f601dc47-5807-43e9-9330-8c39e1c302ee\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:12:18.399063645Z\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:12:18.399036183Z\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: HasFinalizer\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:12:18.398951235Z\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:12:18.398952076Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:12:18.398952467Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:12:18.398952948Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:12:18.398953529Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:12:18.398981742Z\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 1\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:12:18Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T10:12:18.369813Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(2), &quot;name&quot;: String(&quot;c8b9a876-2e15-4df7-9b09-98ed27b5d7c5&quot;), &quot;resourceVersion&quot;: String(&quot;640267f5-ef18-441f-ae5c-77834186ca8e&quot;), &quot;uid&quot;: String(&quot;f601dc47-5807-43e9-9330-8c39e1c302ee&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:12:18.399063645Z&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:12:18.399036183Z&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: HasFinalizer&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:12:18.398951235Z&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:12:18.398952076Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:12:18.398952467Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:12:18.398952948Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:12:18.398953529Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:12:18.398981742Z&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(1)})})})
[2022-05-09T10:12:18Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-09T10:12:19Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;c8b9a876-2e15-4df7-9b09-98ed27b5d7c5&quot;
[2022-05-09T10:12:19Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T10:12:18.369813Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;c8b9a876-2e15-4df7-9b09-98ed27b5d7c5\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;f0b3f00b-5546-479e-bde7-daadaf169227\&quot;,\n    \&quot;uid\&quot;: \&quot;f601dc47-5807-43e9-9330-8c39e1c302ee\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:12:18.674272857Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:12:18.674229055Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:12:18.422084537Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:12:18.429262183Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:12:18.496312861Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:12:18.503256159Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:12:18.674182538Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:12:18.674201083Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;fESG8CniDuuI\&quot;,\n        \&quot;username\&quot;: \&quot;user-c8b9a876-2e15-4df7-9b09-98ed27b5d7c5\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:12:19Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T10:12:18.369813Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;c8b9a876-2e15-4df7-9b09-98ed27b5d7c5&quot;), &quot;resourceVersion&quot;: String(&quot;f0b3f00b-5546-479e-bde7-daadaf169227&quot;), &quot;uid&quot;: String(&quot;f601dc47-5807-43e9-9330-8c39e1c302ee&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:12:18.674272857Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:12:18.674229055Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:12:18.422084537Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:12:18.429262183Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:12:18.496312861Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:12:18.503256159Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:12:18.674182538Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:12:18.674201083Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;fESG8CniDuuI&quot;), &quot;username&quot;: String(&quot;user-c8b9a876-2e15-4df7-9b09-98ed27b5d7c5&quot;)})})})})
[2022-05-09T10:12:19Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-09T10:12:19Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;c8b9a876-2e15-4df7-9b09-98ed27b5d7c5&quot;
[2022-05-09T10:12:19Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T10:12:18.369813Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;c8b9a876-2e15-4df7-9b09-98ed27b5d7c5\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;f0b3f00b-5546-479e-bde7-daadaf169227\&quot;,\n    \&quot;uid\&quot;: \&quot;f601dc47-5807-43e9-9330-8c39e1c302ee\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:12:18.674272857Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:12:18.674229055Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:12:18.422084537Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:12:18.429262183Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:12:18.496312861Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:12:18.503256159Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:12:18.674182538Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:12:18.674201083Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;fESG8CniDuuI\&quot;,\n        \&quot;username\&quot;: \&quot;user-c8b9a876-2e15-4df7-9b09-98ed27b5d7c5\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:12:19Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T10:12:18.369813Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;c8b9a876-2e15-4df7-9b09-98ed27b5d7c5&quot;), &quot;resourceVersion&quot;: String(&quot;f0b3f00b-5546-479e-bde7-daadaf169227&quot;), &quot;uid&quot;: String(&quot;f601dc47-5807-43e9-9330-8c39e1c302ee&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:12:18.674272857Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:12:18.674229055Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:12:18.422084537Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:12:18.429262183Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:12:18.496312861Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:12:18.503256159Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:12:18.674182538Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:12:18.674201083Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;fESG8CniDuuI&quot;), &quot;username&quot;: String(&quot;user-c8b9a876-2e15-4df7-9b09-98ed27b5d7c5&quot;)})})})})
[2022-05-09T10:12:19Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-09T10:12:19Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-05-09T10:12:19Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;c8b9a876-2e15-4df7-9b09-98ed27b5d7c5&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-09T10:12:19Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:12:19Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:12:19Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T10:12:19Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T10:12:19Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJXRG4zQ2wwMVNsYVpRRnRTbUpuS2JqWC1wcXdsR21xWDhSUFNWSHgxUHgwIn0.eyJleHAiOjE2NTIwOTE0MzcsImlhdCI6MTY1MjA5MTEzNywiYXV0aF90aW1lIjoxNjUyMDkxMTM0LCJqdGkiOiI2YWE0MWRjMy1hZjYwLTQyZTQtYTE4Mi00NjdlMjdhNGJiZTYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiM2RlYjE5ZjktYzc0Ni00YjAwLWE5MDktMmI5ODg1NWNlNGYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJTaVlYbkJYUVIyYU1wOGpWYW9lTU13Iiwic2Vzc2lvbl9zdGF0ZSI6IjgyYjNhMjg0LTlkZjktNDgzNS04ODJhLTM3ZTk4ODZlYjE3MyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjgyYjNhMjg0LTlkZjktNDgzNS04ODJhLTM3ZTk4ODZlYjE3MyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.T4IvdfAPDuZltubm0nxnIlnO2TPRuwsoTa4nRG0_NRIKuH19MoYPY3NQoyhFBxVxKcdNZWmBpmiI8wF5dc0ssC_HYP2Bz8vtmRnlFslZ6X5u2Y6KuroNMnKZD4Ct7nxO-8-aWM9I3aeNVjK_nwwY66zHzuOHOLoyn4scTa2gMaNSwlIUKkbzEM4e1pVN3vuFyFfAmVsQOjUPl5KYPDYK8xIDDwAiZuTZy-QYzlV2nGm0QPkptlW4I35W5_9MepnI1CDprduSHvXaFfg9MFWH3rudJCsceYs26wXKbGKf4DNwQF9oN_gwv15RJXXsFu03q9eejDNS2XhECzFA3fGUsg\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:12:19Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T10:12:19Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-09T10:12:19Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-09T10:12:19Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;c8b9a876-2e15-4df7-9b09-98ed27b5d7c5&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-05-09T10:12:19Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:12:19Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt
[2022-05-09T10:12:19Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T10:12:19Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJXRG4zQ2wwMVNsYVpRRnRTbUpuS2JqWC1wcXdsR21xWDhSUFNWSHgxUHgwIn0.eyJleHAiOjE2NTIwOTE0MzcsImlhdCI6MTY1MjA5MTEzNywiYXV0aF90aW1lIjoxNjUyMDkxMTM0LCJqdGkiOiI2YWE0MWRjMy1hZjYwLTQyZTQtYTE4Mi00NjdlMjdhNGJiZTYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiM2RlYjE5ZjktYzc0Ni00YjAwLWE5MDktMmI5ODg1NWNlNGYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJTaVlYbkJYUVIyYU1wOGpWYW9lTU13Iiwic2Vzc2lvbl9zdGF0ZSI6IjgyYjNhMjg0LTlkZjktNDgzNS04ODJhLTM3ZTk4ODZlYjE3MyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjgyYjNhMjg0LTlkZjktNDgzNS04ODJhLTM3ZTk4ODZlYjE3MyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.T4IvdfAPDuZltubm0nxnIlnO2TPRuwsoTa4nRG0_NRIKuH19MoYPY3NQoyhFBxVxKcdNZWmBpmiI8wF5dc0ssC_HYP2Bz8vtmRnlFslZ6X5u2Y6KuroNMnKZD4Ct7nxO-8-aWM9I3aeNVjK_nwwY66zHzuOHOLoyn4scTa2gMaNSwlIUKkbzEM4e1pVN3vuFyFfAmVsQOjUPl5KYPDYK8xIDDwAiZuTZy-QYzlV2nGm0QPkptlW4I35W5_9MepnI1CDprduSHvXaFfg9MFWH3rudJCsceYs26wXKbGKf4DNwQF9oN_gwv15RJXXsFu03q9eejDNS2XhECzFA3fGUsg\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:12:19Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt&quot;, client_id: &quot;04e69bfe-e6cb-447d-9b24-a5a73cb9da00&quot;, persistence: None, user_data: None }
[2022-05-09T10:12:19Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T10:12:19Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55efdbfac450
[2022-05-09T10:12:19Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55efdbfac450
[2022-05-09T10:12:19Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x55efdbfaa820, connectTimeout: 30, retryInterval: 0, ssl: 0x55efdc2d6410, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55efdbf74dd0, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJXRG4zQ2wwMVNsYVpRRnRTbUpuS2JqWC1wcXdsR21xWDhSUFNWSHgxUHgwIn0.eyJleHAiOjE2NTIwOTE0MzcsImlhdCI6MTY1MjA5MTEzNywiYXV0aF90aW1lIjoxNjUyMDkxMTM0LCJqdGkiOiI2YWE0MWRjMy1hZjYwLTQyZTQtYTE4Mi00NjdlMjdhNGJiZTYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiM2RlYjE5ZjktYzc0Ni00YjAwLWE5MDktMmI5ODg1NWNlNGYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJTaVlYbkJYUVIyYU1wOGpWYW9lTU13Iiwic2Vzc2lvbl9zdGF0ZSI6IjgyYjNhMjg0LTlkZjktNDgzNS04ODJhLTM3ZTk4ODZlYjE3MyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjgyYjNhMjg0LTlkZjktNDgzNS04ODJhLTM3ZTk4ODZlYjE3MyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.T4IvdfAPDuZltubm0nxnIlnO2TPRuwsoTa4nRG0_NRIKuH19MoYPY3NQoyhFBxVxKcdNZWmBpmiI8wF5dc0ssC_HYP2Bz8vtmRnlFslZ6X5u2Y6KuroNMnKZD4Ct7nxO-8-aWM9I3aeNVjK_nwwY66zHzuOHOLoyn4scTa2gMaNSwlIUKkbzEM4e1pVN3vuFyFfAmVsQOjUPl5KYPDYK8xIDDwAiZuTZy-QYzlV2nGm0QPkptlW4I35W5_9MepnI1CDprduSHvXaFfg9MFWH3rudJCsceYs26wXKbGKf4DNwQF9oN_gwv15RJXXsFu03q9eejDNS2XhECzFA3fGUsg&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T10:12:19Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/c8b9a876-2e15-4df7-9b09-98ed27b5d7c5&quot;&#x27; @ QOS 0
[2022-05-09T10:12:19Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-09T10:12:19Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-09T10:12:19Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:12:19Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:12:19Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:12:20Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:12:21Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:12:21Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:12:21Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:12:21Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:12:22Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:12:22Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:12:22Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:12:22Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:12:23Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:12:23Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:12:23Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:12:23Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:12:23Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 621, payload: 0x7f0edc01e060, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f0edc017db0 } }, data: MessageData { topic: &quot;app/c8b9a876-2e15-4df7-9b09-98ed27b5d7c5&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 48, 53, 101, 100, 48, 102, 56, 99, 45, 55, 49, 55, 49, 45, 52, 50, 56, 53, 45, 56, 56, 49, 100, 45, 49, 97, 101, 49, 52, 56, 101, 49, 99, 100, 49, 51, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 99, 56, 98, 57, 97, 56, 55, 54, 37, 50, 68, 50, 101, 49, 53, 37, 50, 68, 52, 100, 102, 55, 37, 50, 68, 57, 98, 48, 57, 37, 50, 68, 57, 56, 101, 100, 50, 55, 98, 53, 100, 55, 99, 53, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 119, 97, 114, 109, 117, 112, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 48, 58, 49, 50, 58, 50, 51, 46, 52, 56, 49, 48, 52, 57, 57, 48, 50, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 99, 56, 98, 57, 97, 56, 55, 54, 45, 50, 101, 49, 53, 45, 52, 100, 102, 55, 45, 57, 98, 48, 57, 45, 57, 56, 101, 100, 50, 55, 98, 53, 100, 55, 99, 53, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 102, 54, 48, 49, 100, 99, 52, 55, 45, 53, 56, 48, 55, 45, 52, 51, 101, 57, 45, 57, 51, 51, 48, 45, 56, 99, 51, 57, 101, 49, 99, 51, 48, 50, 101, 101, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 53, 102, 100, 49, 101, 51, 101, 101, 45, 57, 55, 101, 52, 45, 52, 53, 55, 49, 45, 56, 98, 52, 48, 45, 57, 48, 97, 98, 54, 99, 55, 50, 102, 57, 98, 57, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 57, 51, 54, 97, 98, 50, 57, 53, 45, 53, 101, 53, 55, 45, 52, 98, 57, 50, 45, 98, 97, 49, 56, 45, 53, 99, 98, 100, 52, 97, 97, 51, 99, 57, 54, 51, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 99, 56, 98, 57, 97, 56, 55, 54, 37, 50, 68, 50, 101, 49, 53, 37, 50, 68, 52, 100, 102, 55, 37, 50, 68, 57, 98, 48, 57, 37, 50, 68, 57, 56, 101, 100, 50, 55, 98, 53, 100, 55, 99, 53, 47, 100, 101, 118, 105, 99, 101, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f0edc017db0 } } } }
[2022-05-09T10:12:23Z DEBUG paho_mqtt::properties] Dropping string property: 0x55efdc200da0
[2022-05-09T10:12:23Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/c8b9a876-2e15-4df7-9b09-98ed27b5d7c5&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;05ed0f8c-7171-4285-881d-1ae148e1cd13\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://c8b9a876%2D2e15%2D4df7%2D9b09%2D98ed27b5d7c5/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;warmup\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T10:12:23.481049902Z\&quot;,\&quot;data\&quot;:{\&quot;index\&quot;:3},\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;application\&quot;:\&quot;c8b9a876-2e15-4df7-9b09-98ed27b5d7c5\&quot;,\&quot;applicationuid\&quot;:\&quot;f601dc47-5807-43e9-9330-8c39e1c302ee\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;senderuid\&quot;:\&quot;5fd1e3ee-97e4-4571-8b40-90ab6c72f9b9\&quot;,\&quot;deviceuid\&quot;:\&quot;936ab295-5e57-4b92-ba18-5cbd4aa3c963\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;partitionkey\&quot;:\&quot;c8b9a876%2D2e15%2D4df7%2D9b09%2D98ed27b5d7c5/device1\&quot;}&quot; }
[2022-05-09T10:12:24Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-09T10:12:24Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-09T10:12:24Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-09T10:12:24Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry/device1
[2022-05-09T10:12:24Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-endpoint.172.18.0.2.nip.io:30001&quot;, client_id: &quot;0880538e-0011-4c90-884b-9e0086e27e50&quot;, persistence: None, user_data: None }
[2022-05-09T10:12:24Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T10:12:24Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55efdc1af990
[2022-05-09T10:12:24Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55efdc1af990
[2022-05-09T10:12:24Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x55efdc276e60, password: 0x55efdbf75330, connectTimeout: 30, retryInterval: 0, ssl: 0x55efdc200e30, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55efdc2784f0, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;gateway1@c8b9a876-2e15-4df7-9b09-98ed27b5d7c5&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T10:12:24Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 640, payload: 0x7f0edc01af20, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f0edc01b1b0 } }, data: MessageData { topic: &quot;app/c8b9a876-2e15-4df7-9b09-98ed27b5d7c5&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 50, 48, 48, 97, 100, 99, 101, 53, 45, 48, 57, 49, 97, 45, 52, 50, 56, 102, 45, 98, 97, 52, 102, 45, 97, 48, 97, 97, 54, 48, 102, 50, 97, 56, 48, 100, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 99, 56, 98, 57, 97, 56, 55, 54, 37, 50, 68, 50, 101, 49, 53, 37, 50, 68, 52, 100, 102, 55, 37, 50, 68, 57, 98, 48, 57, 37, 50, 68, 57, 56, 101, 100, 50, 55, 98, 53, 100, 55, 99, 53, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 48, 58, 49, 50, 58, 50, 52, 46, 54, 48, 53, 55, 57, 53, 51, 57, 49, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 102, 54, 48, 49, 100, 99, 52, 55, 45, 53, 56, 48, 55, 45, 52, 51, 101, 57, 45, 57, 51, 51, 48, 45, 56, 99, 51, 57, 101, 49, 99, 51, 48, 50, 101, 101, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 99, 56, 98, 57, 97, 56, 55, 54, 45, 50, 101, 49, 53, 45, 52, 100, 102, 55, 45, 57, 98, 48, 57, 45, 57, 56, 101, 100, 50, 55, 98, 53, 100, 55, 99, 53, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 53, 102, 100, 49, 101, 51, 101, 101, 45, 57, 55, 101, 52, 45, 52, 53, 55, 49, 45, 56, 98, 52, 48, 45, 57, 48, 97, 98, 54, 99, 55, 50, 102, 57, 98, 57, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 99, 56, 98, 57, 97, 56, 55, 54, 37, 50, 68, 50, 101, 49, 53, 37, 50, 68, 52, 100, 102, 55, 37, 50, 68, 57, 98, 48, 57, 37, 50, 68, 57, 56, 101, 100, 50, 55, 98, 53, 100, 55, 99, 53, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 53, 102, 100, 49, 101, 51, 101, 101, 45, 57, 55, 101, 52, 45, 52, 53, 55, 49, 45, 56, 98, 52, 48, 45, 57, 48, 97, 98, 54, 99, 55, 50, 102, 57, 98, 57, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f0edc01b1b0 } } } }
[2022-05-09T10:12:24Z DEBUG paho_mqtt::properties] Dropping string property: 0x55efdc200da0
[2022-05-09T10:12:24Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/c8b9a876-2e15-4df7-9b09-98ed27b5d7c5&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;200adce5-091a-428f-ba4f-a0aa60f2a80d\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://c8b9a876%2D2e15%2D4df7%2D9b09%2D98ed27b5d7c5/gateway1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T10:12:24.605795391Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:true},\&quot;applicationuid\&quot;:\&quot;f601dc47-5807-43e9-9330-8c39e1c302ee\&quot;,\&quot;application\&quot;:\&quot;c8b9a876-2e15-4df7-9b09-98ed27b5d7c5\&quot;,\&quot;device\&quot;:\&quot;gateway1\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;senderuid\&quot;:\&quot;5fd1e3ee-97e4-4571-8b40-90ab6c72f9b9\&quot;,\&quot;partitionkey\&quot;:\&quot;c8b9a876%2D2e15%2D4df7%2D9b09%2D98ed27b5d7c5/gateway1\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;deviceuid\&quot;:\&quot;5fd1e3ee-97e4-4571-8b40-90ab6c72f9b9\&quot;}&quot; }
[2022-05-09T10:12:24Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55efdc2ba1e0 } }, data: MessageData { topic: &quot;telemetry/device1&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55efdc2ba1e0 } } } }
[2022-05-09T10:12:24Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-09T10:12:25Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 630, payload: 0x7f0edc001da0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f0edc002020 } }, data: MessageData { topic: &quot;app/c8b9a876-2e15-4df7-9b09-98ed27b5d7c5&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 102, 48, 99, 51, 57, 53, 52, 101, 45, 102, 51, 50, 101, 45, 52, 98, 48, 100, 45, 97, 57, 56, 98, 45, 98, 54, 57, 99, 98, 49, 50, 53, 102, 48, 53, 50, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 99, 56, 98, 57, 97, 56, 55, 54, 37, 50, 68, 50, 101, 49, 53, 37, 50, 68, 52, 100, 102, 55, 37, 50, 68, 57, 98, 48, 57, 37, 50, 68, 57, 56, 101, 100, 50, 55, 98, 53, 100, 55, 99, 53, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 111, 99, 116, 101, 116, 45, 115, 116, 114, 101, 97, 109, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 116, 101, 108, 101, 109, 101, 116, 114, 121, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 48, 58, 49, 50, 58, 50, 52, 46, 55, 57, 49, 54, 57, 55, 56, 53, 53, 90, 34, 44, 34, 100, 97, 116, 97, 95, 98, 97, 115, 101, 54, 52, 34, 58, 34, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 53, 102, 100, 49, 101, 51, 101, 101, 45, 57, 55, 101, 52, 45, 52, 53, 55, 49, 45, 56, 98, 52, 48, 45, 57, 48, 97, 98, 54, 99, 55, 50, 102, 57, 98, 57, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 102, 54, 48, 49, 100, 99, 52, 55, 45, 53, 56, 48, 55, 45, 52, 51, 101, 57, 45, 57, 51, 51, 48, 45, 56, 99, 51, 57, 101, 49, 99, 51, 48, 50, 101, 101, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 57, 51, 54, 97, 98, 50, 57, 53, 45, 53, 101, 53, 55, 45, 52, 98, 57, 50, 45, 98, 97, 49, 56, 45, 53, 99, 98, 100, 52, 97, 97, 51, 99, 57, 54, 51, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 99, 56, 98, 57, 97, 56, 55, 54, 37, 50, 68, 50, 101, 49, 53, 37, 50, 68, 52, 100, 102, 55, 37, 50, 68, 57, 98, 48, 57, 37, 50, 68, 57, 56, 101, 100, 50, 55, 98, 53, 100, 55, 99, 53, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 99, 56, 98, 57, 97, 56, 55, 54, 45, 50, 101, 49, 53, 45, 52, 100, 102, 55, 45, 57, 98, 48, 57, 45, 57, 56, 101, 100, 50, 55, 98, 53, 100, 55, 99, 53, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f0edc002020 } } } }
[2022-05-09T10:12:25Z DEBUG paho_mqtt::properties] Dropping string property: 0x55efdc200da0
[2022-05-09T10:12:25Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/c8b9a876-2e15-4df7-9b09-98ed27b5d7c5&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;f0c3954e-f32e-4b0d-a98b-b69cb125f052\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://c8b9a876%2D2e15%2D4df7%2D9b09%2D98ed27b5d7c5/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/octet-stream\&quot;,\&quot;subject\&quot;:\&quot;telemetry\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T10:12:24.791697855Z\&quot;,\&quot;data_base64\&quot;:\&quot;\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;senderuid\&quot;:\&quot;5fd1e3ee-97e4-4571-8b40-90ab6c72f9b9\&quot;,\&quot;applicationuid\&quot;:\&quot;f601dc47-5807-43e9-9330-8c39e1c302ee\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;deviceuid\&quot;:\&quot;936ab295-5e57-4b92-ba18-5cbd4aa3c963\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;partitionkey\&quot;:\&quot;c8b9a876%2D2e15%2D4df7%2D9b09%2D98ed27b5d7c5/device1\&quot;,\&quot;application\&quot;:\&quot;c8b9a876-2e15-4df7-9b09-98ed27b5d7c5\&quot;}&quot; }
[2022-05-09T10:12:25Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 641, payload: 0x7f0edc018fa0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f0edc002020 } }, data: MessageData { topic: &quot;app/c8b9a876-2e15-4df7-9b09-98ed27b5d7c5&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 101, 97, 99, 49, 52, 53, 48, 101, 45, 101, 100, 98, 52, 45, 52, 51, 48, 57, 45, 57, 50, 102, 102, 45, 97, 53, 100, 53, 52, 50, 55, 97, 50, 57, 52, 53, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 99, 56, 98, 57, 97, 56, 55, 54, 37, 50, 68, 50, 101, 49, 53, 37, 50, 68, 52, 100, 102, 55, 37, 50, 68, 57, 98, 48, 57, 37, 50, 68, 57, 56, 101, 100, 50, 55, 98, 53, 100, 55, 99, 53, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 48, 58, 49, 50, 58, 50, 53, 46, 50, 50, 56, 49, 49, 51, 54, 48, 48, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 102, 97, 108, 115, 101, 125, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 53, 102, 100, 49, 101, 51, 101, 101, 45, 57, 55, 101, 52, 45, 52, 53, 55, 49, 45, 56, 98, 52, 48, 45, 57, 48, 97, 98, 54, 99, 55, 50, 102, 57, 98, 57, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 99, 56, 98, 57, 97, 56, 55, 54, 45, 50, 101, 49, 53, 45, 52, 100, 102, 55, 45, 57, 98, 48, 57, 45, 57, 56, 101, 100, 50, 55, 98, 53, 100, 55, 99, 53, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 53, 102, 100, 49, 101, 51, 101, 101, 45, 57, 55, 101, 52, 45, 52, 53, 55, 49, 45, 56, 98, 52, 48, 45, 57, 48, 97, 98, 54, 99, 55, 50, 102, 57, 98, 57, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 102, 54, 48, 49, 100, 99, 52, 55, 45, 53, 56, 48, 55, 45, 52, 51, 101, 57, 45, 57, 51, 51, 48, 45, 56, 99, 51, 57, 101, 49, 99, 51, 48, 50, 101, 101, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 99, 56, 98, 57, 97, 56, 55, 54, 37, 50, 68, 50, 101, 49, 53, 37, 50, 68, 52, 100, 102, 55, 37, 50, 68, 57, 98, 48, 57, 37, 50, 68, 57, 56, 101, 100, 50, 55, 98, 53, 100, 55, 99, 53, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f0edc002020 } } } }
[2022-05-09T10:12:25Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f0edc0180f0
[2022-05-09T10:12:25Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/c8b9a876-2e15-4df7-9b09-98ed27b5d7c5&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;eac1450e-edb4-4309-92ff-a5d5427a2945\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://c8b9a876%2D2e15%2D4df7%2D9b09%2D98ed27b5d7c5/gateway1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T10:12:25.228113600Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:false},\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;senderuid\&quot;:\&quot;5fd1e3ee-97e4-4571-8b40-90ab6c72f9b9\&quot;,\&quot;device\&quot;:\&quot;gateway1\&quot;,\&quot;application\&quot;:\&quot;c8b9a876-2e15-4df7-9b09-98ed27b5d7c5\&quot;,\&quot;deviceuid\&quot;:\&quot;5fd1e3ee-97e4-4571-8b40-90ab6c72f9b9\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;applicationuid\&quot;:\&quot;f601dc47-5807-43e9-9330-8c39e1c302ee\&quot;,\&quot;partitionkey\&quot;:\&quot;c8b9a876%2D2e15%2D4df7%2D9b09%2D98ed27b5d7c5/gateway1\&quot;}&quot; }
[2022-05-09T10:12:25Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-09T10:12:25Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-09T10:12:25Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-09T10:12:25Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;c8b9a876-2e15-4df7-9b09-98ed27b5d7c5&quot;, device: &quot;gateway1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`,
 right: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;c8b9a876-2e15-4df7-9b09-98ed27b5d7c5&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`: Position #0&#x27;, src/tools/assert.rs:35:39
[2022-05-09T10:12:25Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-09T10:12:25Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;c8b9a876-2e15-4df7-9b09-98ed27b5d7c5&quot; &quot;device1&quot;
[2022-05-09T10:12:25Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:12:25Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-05-09T10:12:25Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;c8b9a876-2e15-4df7-9b09-98ed27b5d7c5&quot; &quot;gateway1&quot;
[2022-05-09T10:12:25Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:12:25Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;c8b9a876-2e15-4df7-9b09-98ed27b5d7c5&#x27;
[2022-05-09T10:12:25Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;c8b9a876-2e15-4df7-9b09-98ed27b5d7c5&quot;
[2022-05-09T10:12:25Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App c8b9a876-2e15-4df7-9b09-98ed27b5d7c5 deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_1::integration_version_3::integration_ws_1

**Duration**: 14s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-09T10:12:27Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-09T10:12:27Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T10:12:27Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T10:12:27Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T10:12:27Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T10:12:28Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-09T10:12:30Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-09T10:12:30Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T10:12:30Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T10:12:30Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T10:12:31Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI0NDVmMTM5Zi0wNjNjLTRhZDgtODkwYi1mNTg1OTQ0NjFiZDAifQ.eyJleHAiOjE2NTIwOTI5NTEsImlhdCI6MTY1MjA5MTE1MSwianRpIjoiODY2Y2E0NWQtNzk3NS00ODA1LWFkOGYtOTRmOTE4MDVlYTZlIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjNkZWIxOWY5LWM3NDYtNGIwMC1hOTA5LTJiOTg4NTVjZTRmMyIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Imh4UXphOTNSTWpYMmppS0VzcXkyQXciLCJzZXNzaW9uX3N0YXRlIjoiNmE0ZmM0OTktNzY3ZS00M2NlLTg5MzMtMGM4NTk0MjM2MWI0Iiwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjZhNGZjNDk5LTc2N2UtNDNjZS04OTMzLTBjODU5NDIzNjFiNCJ9.t-W6jR3BHYdzPxksVD1LAfkrxvBD79ZnqFyRZ25JgrM
[2022-05-09T10:12:31Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-09T10:12:31Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-09T10:12:31Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI0NDVmMTM5Zi0wNjNjLTRhZDgtODkwYi1mNTg1OTQ0NjFiZDAifQ.eyJleHAiOjE2NTIwOTI5NTEsImlhdCI6MTY1MjA5MTE1MSwianRpIjoiODY2Y2E0NWQtNzk3NS00ODA1LWFkOGYtOTRmOTE4MDVlYTZlIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjNkZWIxOWY5LWM3NDYtNGIwMC1hOTA5LTJiOTg4NTVjZTRmMyIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Imh4UXphOTNSTWpYMmppS0VzcXkyQXciLCJzZXNzaW9uX3N0YXRlIjoiNmE0ZmM0OTktNzY3ZS00M2NlLTg5MzMtMGM4NTk0MjM2MWI0Iiwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjZhNGZjNDk5LTc2N2UtNDNjZS04OTMzLTBjODU5NDIzNjFiNCJ9.t-W6jR3BHYdzPxksVD1LAfkrxvBD79ZnqFyRZ25JgrM&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-09T10:12:31Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:12:32Z INFO  drogue_cloud_tests::resources::apps] Create application: 5f52fc41-7449-4b86-b196-881da4e26953
[2022-05-09T10:12:32Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;5f52fc41-7449-4b86-b196-881da4e26953&quot;
[2022-05-09T10:12:32Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 5f52fc41-7449-4b86-b196-881da4e26953 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:12:32Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;5f52fc41-7449-4b86-b196-881da4e26953&quot;
[2022-05-09T10:12:32Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T10:12:32.624484Z\&quot;,\n    \&quot;generation\&quot;: 1,\n    \&quot;name\&quot;: \&quot;5f52fc41-7449-4b86-b196-881da4e26953\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;1f2c4704-1405-467d-827e-ebff80e89f99\&quot;,\n    \&quot;uid\&quot;: \&quot;2b1c693d-a21b-47bf-b302-e89bb59e1c9b\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:12:32.643243408Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:12:32Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T10:12:32.624484Z&quot;), &quot;generation&quot;: Number(1), &quot;name&quot;: String(&quot;5f52fc41-7449-4b86-b196-881da4e26953&quot;), &quot;resourceVersion&quot;: String(&quot;1f2c4704-1405-467d-827e-ebff80e89f99&quot;), &quot;uid&quot;: String(&quot;2b1c693d-a21b-47bf-b302-e89bb59e1c9b&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:12:32.643243408Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})])})})
[2022-05-09T10:12:32Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-09T10:12:33Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;5f52fc41-7449-4b86-b196-881da4e26953&quot;
[2022-05-09T10:12:33Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T10:12:32.624484Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;5f52fc41-7449-4b86-b196-881da4e26953\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;b6373c7e-fbfc-4b60-89e8-572a7c8ab2b9\&quot;,\n    \&quot;uid\&quot;: \&quot;2b1c693d-a21b-47bf-b302-e89bb59e1c9b\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:12:32.930746925Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:12:32.930675352Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:12:32.676065682Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:12:32.684686115Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:12:32.741889606Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:12:32.747624657Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:12:32.930548766Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:12:32.930598397Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;cmIA6j33scbJ\&quot;,\n        \&quot;username\&quot;: \&quot;user-5f52fc41-7449-4b86-b196-881da4e26953\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:12:33Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T10:12:32.624484Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;5f52fc41-7449-4b86-b196-881da4e26953&quot;), &quot;resourceVersion&quot;: String(&quot;b6373c7e-fbfc-4b60-89e8-572a7c8ab2b9&quot;), &quot;uid&quot;: String(&quot;2b1c693d-a21b-47bf-b302-e89bb59e1c9b&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:12:32.930746925Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:12:32.930675352Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:12:32.676065682Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:12:32.684686115Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:12:32.741889606Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:12:32.747624657Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:12:32.930548766Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:12:32.930598397Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;cmIA6j33scbJ&quot;), &quot;username&quot;: String(&quot;user-5f52fc41-7449-4b86-b196-881da4e26953&quot;)})})})})
[2022-05-09T10:12:33Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-09T10:12:33Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;5f52fc41-7449-4b86-b196-881da4e26953&quot;
[2022-05-09T10:12:33Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T10:12:32.624484Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;5f52fc41-7449-4b86-b196-881da4e26953\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;b6373c7e-fbfc-4b60-89e8-572a7c8ab2b9\&quot;,\n    \&quot;uid\&quot;: \&quot;2b1c693d-a21b-47bf-b302-e89bb59e1c9b\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:12:32.930746925Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:12:32.930675352Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:12:32.676065682Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:12:32.684686115Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:12:32.741889606Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:12:32.747624657Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:12:32.930548766Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:12:32.930598397Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;cmIA6j33scbJ\&quot;,\n        \&quot;username\&quot;: \&quot;user-5f52fc41-7449-4b86-b196-881da4e26953\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:12:33Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T10:12:32.624484Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;5f52fc41-7449-4b86-b196-881da4e26953&quot;), &quot;resourceVersion&quot;: String(&quot;b6373c7e-fbfc-4b60-89e8-572a7c8ab2b9&quot;), &quot;uid&quot;: String(&quot;2b1c693d-a21b-47bf-b302-e89bb59e1c9b&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:12:32.930746925Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:12:32.930675352Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:12:32.676065682Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:12:32.684686115Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:12:32.741889606Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:12:32.747624657Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:12:32.930548766Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:12:32.930598397Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;cmIA6j33scbJ&quot;), &quot;username&quot;: String(&quot;user-5f52fc41-7449-4b86-b196-881da4e26953&quot;)})})})})
[2022-05-09T10:12:33Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-09T10:12:33Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-05-09T10:12:33Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;5f52fc41-7449-4b86-b196-881da4e26953&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-09T10:12:33Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:12:33Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:12:33Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T10:12:33Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T10:12:33Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJXRG4zQ2wwMVNsYVpRRnRTbUpuS2JqWC1wcXdsR21xWDhSUFNWSHgxUHgwIn0.eyJleHAiOjE2NTIwOTE0NTEsImlhdCI6MTY1MjA5MTE1MSwiYXV0aF90aW1lIjoxNjUyMDkxMTQ4LCJqdGkiOiI1NjZlNGNkOC01MTBiLTRmNmMtOGNhNC05M2Y3ZTYwN2IwNTUiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiM2RlYjE5ZjktYzc0Ni00YjAwLWE5MDktMmI5ODg1NWNlNGYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJoeFF6YTkzUk1qWDJqaUtFc3F5MkF3Iiwic2Vzc2lvbl9zdGF0ZSI6IjZhNGZjNDk5LTc2N2UtNDNjZS04OTMzLTBjODU5NDIzNjFiNCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjZhNGZjNDk5LTc2N2UtNDNjZS04OTMzLTBjODU5NDIzNjFiNCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.u_reQI1gGEfo8l-rYB3ZFjQ39-qCBX7y1JP3_OwgZZChwYRn5Kjs8HKA_ZM9xwy4hYFKpfXUrGbE20LTtZaY_QumXxZBklT_STrQ6jiZ5xWYPowKi5-VLTY4n1TWy6_ncWypOLeNPdl1Jew36-g87k7-FxYzIq9-smsL7AJzpPOhvWrQEn_Pc_1aFF8PqjTXmojZBX35KEL8bfXyNKufTbszyLe5nJ_7o6B4AdnwhM4ht-pi6RczGUVELbangqAJavjmwJc4K1RfQwPvBNvKEqZZ1KS-qs8uV12QF5A3Hxzy3shOiJ9oupq-1rHN0fvRZPHgRK21K5ZVMuRIEzUFBQ\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:12:33Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T10:12:33Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-09T10:12:33Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-09T10:12:33Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;5f52fc41-7449-4b86-b196-881da4e26953&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-05-09T10:12:33Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:12:33Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: ssl://mqtt-integration.172.18.0.2.nip.io:30002
[2022-05-09T10:12:33Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T10:12:33Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJXRG4zQ2wwMVNsYVpRRnRTbUpuS2JqWC1wcXdsR21xWDhSUFNWSHgxUHgwIn0.eyJleHAiOjE2NTIwOTE0NTEsImlhdCI6MTY1MjA5MTE1MSwiYXV0aF90aW1lIjoxNjUyMDkxMTQ4LCJqdGkiOiI1NjZlNGNkOC01MTBiLTRmNmMtOGNhNC05M2Y3ZTYwN2IwNTUiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiM2RlYjE5ZjktYzc0Ni00YjAwLWE5MDktMmI5ODg1NWNlNGYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJoeFF6YTkzUk1qWDJqaUtFc3F5MkF3Iiwic2Vzc2lvbl9zdGF0ZSI6IjZhNGZjNDk5LTc2N2UtNDNjZS04OTMzLTBjODU5NDIzNjFiNCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjZhNGZjNDk5LTc2N2UtNDNjZS04OTMzLTBjODU5NDIzNjFiNCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.u_reQI1gGEfo8l-rYB3ZFjQ39-qCBX7y1JP3_OwgZZChwYRn5Kjs8HKA_ZM9xwy4hYFKpfXUrGbE20LTtZaY_QumXxZBklT_STrQ6jiZ5xWYPowKi5-VLTY4n1TWy6_ncWypOLeNPdl1Jew36-g87k7-FxYzIq9-smsL7AJzpPOhvWrQEn_Pc_1aFF8PqjTXmojZBX35KEL8bfXyNKufTbszyLe5nJ_7o6B4AdnwhM4ht-pi6RczGUVELbangqAJavjmwJc4K1RfQwPvBNvKEqZZ1KS-qs8uV12QF5A3Hxzy3shOiJ9oupq-1rHN0fvRZPHgRK21K5ZVMuRIEzUFBQ\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:12:33Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-integration.172.18.0.2.nip.io:30002&quot;, client_id: &quot;fe890b7f-6dd1-4063-b9f2-716c420b779d&quot;, persistence: None, user_data: None }
[2022-05-09T10:12:33Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T10:12:33Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55efdbf95ae0
[2022-05-09T10:12:33Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55efdbf95ae0
[2022-05-09T10:12:33Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x55efdbf96050, connectTimeout: 30, retryInterval: 0, ssl: 0x55efdbfc93a0, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55efdbf957d0, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJXRG4zQ2wwMVNsYVpRRnRTbUpuS2JqWC1wcXdsR21xWDhSUFNWSHgxUHgwIn0.eyJleHAiOjE2NTIwOTE0NTEsImlhdCI6MTY1MjA5MTE1MSwiYXV0aF90aW1lIjoxNjUyMDkxMTQ4LCJqdGkiOiI1NjZlNGNkOC01MTBiLTRmNmMtOGNhNC05M2Y3ZTYwN2IwNTUiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiM2RlYjE5ZjktYzc0Ni00YjAwLWE5MDktMmI5ODg1NWNlNGYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJoeFF6YTkzUk1qWDJqaUtFc3F5MkF3Iiwic2Vzc2lvbl9zdGF0ZSI6IjZhNGZjNDk5LTc2N2UtNDNjZS04OTMzLTBjODU5NDIzNjFiNCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjZhNGZjNDk5LTc2N2UtNDNjZS04OTMzLTBjODU5NDIzNjFiNCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.u_reQI1gGEfo8l-rYB3ZFjQ39-qCBX7y1JP3_OwgZZChwYRn5Kjs8HKA_ZM9xwy4hYFKpfXUrGbE20LTtZaY_QumXxZBklT_STrQ6jiZ5xWYPowKi5-VLTY4n1TWy6_ncWypOLeNPdl1Jew36-g87k7-FxYzIq9-smsL7AJzpPOhvWrQEn_Pc_1aFF8PqjTXmojZBX35KEL8bfXyNKufTbszyLe5nJ_7o6B4AdnwhM4ht-pi6RczGUVELbangqAJavjmwJc4K1RfQwPvBNvKEqZZ1KS-qs8uV12QF5A3Hxzy3shOiJ9oupq-1rHN0fvRZPHgRK21K5ZVMuRIEzUFBQ&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T10:12:33Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/5f52fc41-7449-4b86-b196-881da4e26953&quot;&#x27; @ QOS 0
[2022-05-09T10:12:33Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-09T10:12:33Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-09T10:12:33Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:12:33Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:12:33Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:12:34Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:12:35Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:12:35Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:12:35Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:12:35Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:12:36Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:12:36Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:12:36Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:12:36Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:12:37Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:12:37Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:12:37Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:12:37Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:12:37Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 11, payload: 0x7f0edc0038b0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 574, array: 0x7f0ee000a9e0 } }, data: MessageData { topic: &quot;app/5f52fc41-7449-4b86-b196-881da4e26953&quot;, payload: [123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 574, array: 0x7f0ee000a9e0 } } } }
[2022-05-09T10:12:37Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8007c10, 0x55efdbe6a230
[2022-05-09T10:12:37Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55efdbe6a230, 0x55efdc057f80
[2022-05-09T10:12:37Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55efdbe6a230, 0x7f0ee0006920
[2022-05-09T10:12:37Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0006920, 0x55efdc05bde0
[2022-05-09T10:12:37Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0006920, 0x7f0ed80053b0
[2022-05-09T10:12:37Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed80053b0, 0x55efdc057f80
[2022-05-09T10:12:37Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed80053b0, 0x55efdc1acc20
[2022-05-09T10:12:37Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed80053b0, 0x55efdc057f80
[2022-05-09T10:12:37Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed80053b0, 0x55efdc057f80
[2022-05-09T10:12:37Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed80053b0, 0x7f0ed8007d80
[2022-05-09T10:12:37Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8007d80, 0x55efdc057f80
[2022-05-09T10:12:37Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8007d80, 0x55efdc057f80
[2022-05-09T10:12:37Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8007d80, 0x7f0ed8008d20
[2022-05-09T10:12:37Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8008d20, 0x7f0ed8007d80
[2022-05-09T10:12:37Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f0ed8007d80
[2022-05-09T10:12:37Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/5f52fc41-7449-4b86-b196-881da4e26953&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;device&quot;: &quot;device1&quot;, &quot;sender&quot;: &quot;gateway1&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;applicationuid&quot;: &quot;2b1c693d-a21b-47bf-b302-e89bb59e1c9b&quot;, &quot;id&quot;: &quot;b271ad0d-4d42-4c84-badd-9a685060f3dc&quot;, &quot;application&quot;: &quot;5f52fc41-7449-4b86-b196-881da4e26953&quot;, &quot;subject&quot;: &quot;warmup&quot;, &quot;deviceuid&quot;: &quot;3feb5fe5-1463-44b1-bad1-7260d1be94b6&quot;, &quot;type&quot;: &quot;io.drogue.event.v1&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;source&quot;: &quot;drogue://5f52fc41%2D7449%2D4b86%2Db196%2D881da4e26953/device1&quot;, &quot;time&quot;: &quot;2022-05-09T10:12:37.477706523+00:00&quot;, &quot;senderuid&quot;: &quot;11908ccc-5c9f-4921-ac79-1d4f869177ea&quot;, &quot;partitionkey&quot;: &quot;5f52fc41%2D7449%2D4b86%2Db196%2D881da4e26953/device1&quot;}, payload: &quot;{\&quot;index\&quot;:3}&quot; }
[2022-05-09T10:12:38Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-09T10:12:38Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-09T10:12:38Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-09T10:12:38Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry/device1
[2022-05-09T10:12:38Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-endpoint.172.18.0.2.nip.io:30001&quot;, client_id: &quot;57bf7e75-b09d-4065-be14-3a5ddc96163f&quot;, persistence: None, user_data: None }
[2022-05-09T10:12:38Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T10:12:38Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55efdbe6ca80
[2022-05-09T10:12:38Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55efdbe6ca80
[2022-05-09T10:12:38Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x55efdbf60ec0, password: 0x55efdbf86b30, connectTimeout: 30, retryInterval: 0, ssl: 0x55efdc1917e0, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55efdbf60c30, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;gateway1@5f52fc41-7449-4b86-b196-881da4e26953&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T10:12:38Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 18, payload: 0x7f0edc026740, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 586, array: 0x7f0ee00047d0 } }, data: MessageData { topic: &quot;app/5f52fc41-7449-4b86-b196-881da4e26953&quot;, payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 586, array: 0x7f0ee00047d0 } } } }
[2022-05-09T10:12:38Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8008d40, 0x7f0ed8007f50
[2022-05-09T10:12:38Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8007f50, 0x7f0edc0176b0
[2022-05-09T10:12:38Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8007f50, 0x7f0ed8007da0
[2022-05-09T10:12:38Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8007da0, 0x7f0edc017360
[2022-05-09T10:12:38Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8007da0, 0x7f0ed8007d80
[2022-05-09T10:12:38Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8007d80, 0x7f0edc0176b0
[2022-05-09T10:12:38Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8007d80, 0x7f0ed8004e30
[2022-05-09T10:12:38Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8004e30, 0x7f0edc0176b0
[2022-05-09T10:12:38Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8004e30, 0x7f0edc0176b0
[2022-05-09T10:12:38Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8004e30, 0x7f0edc0171a0
[2022-05-09T10:12:38Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8004e30, 0x7f0ed80076e0
[2022-05-09T10:12:38Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed80076e0, 0x7f0edc0176b0
[2022-05-09T10:12:38Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed80076e0, 0x7f0ed8007c10
[2022-05-09T10:12:38Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8007c10, 0x7f0edc0176b0
[2022-05-09T10:12:38Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f0ed8007c10
[2022-05-09T10:12:38Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/5f52fc41-7449-4b86-b196-881da4e26953&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;specversion&quot;: &quot;1.0&quot;, &quot;type&quot;: &quot;io.drogue.connection.v1&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;source&quot;: &quot;drogue://5f52fc41%2D7449%2D4b86%2Db196%2D881da4e26953/gateway1&quot;, &quot;deviceuid&quot;: &quot;11908ccc-5c9f-4921-ac79-1d4f869177ea&quot;, &quot;partitionkey&quot;: &quot;5f52fc41%2D7449%2D4b86%2Db196%2D881da4e26953/gateway1&quot;, &quot;sender&quot;: &quot;gateway1&quot;, &quot;device&quot;: &quot;gateway1&quot;, &quot;subject&quot;: &quot;connection&quot;, &quot;applicationuid&quot;: &quot;2b1c693d-a21b-47bf-b302-e89bb59e1c9b&quot;, &quot;senderuid&quot;: &quot;11908ccc-5c9f-4921-ac79-1d4f869177ea&quot;, &quot;application&quot;: &quot;5f52fc41-7449-4b86-b196-881da4e26953&quot;, &quot;time&quot;: &quot;2022-05-09T10:12:38.534145681+00:00&quot;, &quot;id&quot;: &quot;44780f59-990c-4626-aba6-75008dfcc16a&quot;}, payload: &quot;{\&quot;connected\&quot;:true}&quot; }
[2022-05-09T10:12:38Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55efdbe54d80 } }, data: MessageData { topic: &quot;telemetry/device1&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55efdbe54d80 } } } }
[2022-05-09T10:12:38Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-09T10:12:38Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 19, payload: 0x7f0edc002630, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 586, array: 0x7f0ee0005160 } }, data: MessageData { topic: &quot;app/5f52fc41-7449-4b86-b196-881da4e26953&quot;, payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 102, 97, 108, 115, 101, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 586, array: 0x7f0ee0005160 } } } }
[2022-05-09T10:12:38Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8005390, 0x7f0edc0038b0
[2022-05-09T10:12:38Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0edc0038b0, 0x7f0edc0267e0
[2022-05-09T10:12:38Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0edc0038b0, 0x7f0ed8007f30
[2022-05-09T10:12:38Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8007f30, 0x7f0edc02b870
[2022-05-09T10:12:38Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8007f30, 0x7f0ed8008d40
[2022-05-09T10:12:38Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8008d40, 0x7f0edc0267e0
[2022-05-09T10:12:38Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8008d40, 0x7f0ed8006cc0
[2022-05-09T10:12:38Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8006cc0, 0x7f0edc0267e0
[2022-05-09T10:12:38Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8006cc0, 0x7f0edc0267e0
[2022-05-09T10:12:38Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8006cc0, 0x7f0ed8007da0
[2022-05-09T10:12:38Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8007da0, 0x7f0ed8006cc0
[2022-05-09T10:12:38Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8006cc0, 0x7f0edc0267e0
[2022-05-09T10:12:38Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8006cc0, 0x7f0edc0267e0
[2022-05-09T10:12:38Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8006cc0, 0x7f0edc02c3e0
[2022-05-09T10:12:38Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f0ed8006cc0
[2022-05-09T10:12:38Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/5f52fc41-7449-4b86-b196-881da4e26953&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;senderuid&quot;: &quot;11908ccc-5c9f-4921-ac79-1d4f869177ea&quot;, &quot;applicationuid&quot;: &quot;2b1c693d-a21b-47bf-b302-e89bb59e1c9b&quot;, &quot;partitionkey&quot;: &quot;5f52fc41%2D7449%2D4b86%2Db196%2D881da4e26953/gateway1&quot;, &quot;application&quot;: &quot;5f52fc41-7449-4b86-b196-881da4e26953&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;subject&quot;: &quot;connection&quot;, &quot;id&quot;: &quot;3f67fd2b-e5cd-4dc6-8fdf-f5040e17d751&quot;, &quot;source&quot;: &quot;drogue://5f52fc41%2D7449%2D4b86%2Db196%2D881da4e26953/gateway1&quot;, &quot;type&quot;: &quot;io.drogue.connection.v1&quot;, &quot;time&quot;: &quot;2022-05-09T10:12:38.795354079+00:00&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;deviceuid&quot;: &quot;11908ccc-5c9f-4921-ac79-1d4f869177ea&quot;, &quot;device&quot;: &quot;gateway1&quot;, &quot;sender&quot;: &quot;gateway1&quot;}, payload: &quot;{\&quot;connected\&quot;:false}&quot; }
[2022-05-09T10:12:39Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 585, array: 0x7f0ee0005af0 } }, data: MessageData { topic: &quot;app/5f52fc41-7449-4b86-b196-881da4e26953&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 585, array: 0x7f0ee0005af0 } } } }
[2022-05-09T10:12:39Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed80076e0, 0x7f0ed8008d40
[2022-05-09T10:12:39Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8008d40, 0x7f0edc02efc0
[2022-05-09T10:12:39Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8008d40, 0x7f0ed8007da0
[2022-05-09T10:12:39Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8007da0, 0x7f0edc0172d0
[2022-05-09T10:12:39Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8007da0, 0x7f0ed8007d80
[2022-05-09T10:12:39Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8007d80, 0x7f0edc02efc0
[2022-05-09T10:12:39Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8007d80, 0x7f0edc02efc0
[2022-05-09T10:12:39Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8007d80, 0x7f0ed8006ca0
[2022-05-09T10:12:39Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8006ca0, 0x7f0ed8007d80
[2022-05-09T10:12:39Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8007d80, 0x7f0edc02efc0
[2022-05-09T10:12:39Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8007d80, 0x7f0ed8004e30
[2022-05-09T10:12:39Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8004e30, 0x7f0edc02efc0
[2022-05-09T10:12:39Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8004e30, 0x7f0edc02b5d0
[2022-05-09T10:12:39Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8004e30, 0x7f0edc02efc0
[2022-05-09T10:12:39Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f0ed8009a60
[2022-05-09T10:12:39Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/5f52fc41-7449-4b86-b196-881da4e26953&quot;, content_type: Some(&quot;application/octet-stream&quot;), user_properties: {&quot;sender&quot;: &quot;gateway1&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;device&quot;: &quot;device1&quot;, &quot;partitionkey&quot;: &quot;5f52fc41%2D7449%2D4b86%2Db196%2D881da4e26953/device1&quot;, &quot;senderuid&quot;: &quot;11908ccc-5c9f-4921-ac79-1d4f869177ea&quot;, &quot;time&quot;: &quot;2022-05-09T10:12:38.793926551+00:00&quot;, &quot;deviceuid&quot;: &quot;3feb5fe5-1463-44b1-bad1-7260d1be94b6&quot;, &quot;applicationuid&quot;: &quot;2b1c693d-a21b-47bf-b302-e89bb59e1c9b&quot;, &quot;application&quot;: &quot;5f52fc41-7449-4b86-b196-881da4e26953&quot;, &quot;id&quot;: &quot;fb49a98f-767a-49cd-b16c-7c256d741b03&quot;, &quot;type&quot;: &quot;io.drogue.event.v1&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;subject&quot;: &quot;telemetry&quot;, &quot;source&quot;: &quot;drogue://5f52fc41%2D7449%2D4b86%2Db196%2D881da4e26953/device1&quot;}, payload: &quot;&quot; }
[2022-05-09T10:12:39Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-09T10:12:39Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-09T10:12:39Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-09T10:12:39Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;5f52fc41-7449-4b86-b196-881da4e26953&quot;, device: &quot;gateway1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`,
 right: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;5f52fc41-7449-4b86-b196-881da4e26953&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`: Position #0&#x27;, src/tools/assert.rs:35:39
[2022-05-09T10:12:39Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-09T10:12:39Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;5f52fc41-7449-4b86-b196-881da4e26953&quot; &quot;device1&quot;
[2022-05-09T10:12:39Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:12:39Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-05-09T10:12:39Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;5f52fc41-7449-4b86-b196-881da4e26953&quot; &quot;gateway1&quot;
[2022-05-09T10:12:39Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:12:39Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;5f52fc41-7449-4b86-b196-881da4e26953&#x27;
[2022-05-09T10:12:39Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;5f52fc41-7449-4b86-b196-881da4e26953&quot;
[2022-05-09T10:12:39Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 5f52fc41-7449-4b86-b196-881da4e26953 deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_1::integration_version_3::integration_ws_2

**Duration**: 14s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-09T10:12:41Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-09T10:12:41Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T10:12:41Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T10:12:41Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T10:12:41Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T10:12:42Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-09T10:12:44Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-09T10:12:44Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T10:12:44Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T10:12:44Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T10:12:45Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI0NDVmMTM5Zi0wNjNjLTRhZDgtODkwYi1mNTg1OTQ0NjFiZDAifQ.eyJleHAiOjE2NTIwOTI5NjUsImlhdCI6MTY1MjA5MTE2NSwianRpIjoiYmIxYjFmZjItYzUyZS00YWE5LWIwZGUtOWQyYTdiNjZlZjkwIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjNkZWIxOWY5LWM3NDYtNGIwMC1hOTA5LTJiOTg4NTVjZTRmMyIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Ik03cllCQWY2OUNLeDAtSThQaU9jVUEiLCJzZXNzaW9uX3N0YXRlIjoiZjUzMDlhZDgtOTI2OC00ZTQyLWI4MjItZjg1NDVlOTdmNmI2Iiwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImY1MzA5YWQ4LTkyNjgtNGU0Mi1iODIyLWY4NTQ1ZTk3ZjZiNiJ9.0akdOv49mLZicAgVQN7zo6bxm6i-utI-HSfaWJW1_DA
[2022-05-09T10:12:45Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-09T10:12:45Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-09T10:12:45Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI0NDVmMTM5Zi0wNjNjLTRhZDgtODkwYi1mNTg1OTQ0NjFiZDAifQ.eyJleHAiOjE2NTIwOTI5NjUsImlhdCI6MTY1MjA5MTE2NSwianRpIjoiYmIxYjFmZjItYzUyZS00YWE5LWIwZGUtOWQyYTdiNjZlZjkwIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjNkZWIxOWY5LWM3NDYtNGIwMC1hOTA5LTJiOTg4NTVjZTRmMyIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Ik03cllCQWY2OUNLeDAtSThQaU9jVUEiLCJzZXNzaW9uX3N0YXRlIjoiZjUzMDlhZDgtOTI2OC00ZTQyLWI4MjItZjg1NDVlOTdmNmI2Iiwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImY1MzA5YWQ4LTkyNjgtNGU0Mi1iODIyLWY4NTQ1ZTk3ZjZiNiJ9.0akdOv49mLZicAgVQN7zo6bxm6i-utI-HSfaWJW1_DA&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-09T10:12:45Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:12:46Z INFO  drogue_cloud_tests::resources::apps] Create application: 31ab483d-353f-41ce-b69b-f9a4c8bf1ec5
[2022-05-09T10:12:46Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;31ab483d-353f-41ce-b69b-f9a4c8bf1ec5&quot;
[2022-05-09T10:12:46Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 31ab483d-353f-41ce-b69b-f9a4c8bf1ec5 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:12:46Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;31ab483d-353f-41ce-b69b-f9a4c8bf1ec5&quot;
[2022-05-09T10:12:46Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T10:12:46.585652Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 1,\n    \&quot;name\&quot;: \&quot;31ab483d-353f-41ce-b69b-f9a4c8bf1ec5\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;6c16c48e-7ec7-4240-895b-6dfb3cc16de6\&quot;,\n    \&quot;uid\&quot;: \&quot;e07faeab-f24a-4ae2-a33d-d9bac48de4b0\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:12:46.597892069Z\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: HasFinalizer\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:12:46.597925622Z\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:12:46.597839731Z\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:12:46.597842577Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:12:46.597843608Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:12:46.597844741Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:12:46.597845502Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:12:46.597860540Z\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:12:46Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T10:12:46.585652Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(1), &quot;name&quot;: String(&quot;31ab483d-353f-41ce-b69b-f9a4c8bf1ec5&quot;), &quot;resourceVersion&quot;: String(&quot;6c16c48e-7ec7-4240-895b-6dfb3cc16de6&quot;), &quot;uid&quot;: String(&quot;e07faeab-f24a-4ae2-a33d-d9bac48de4b0&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:12:46.597892069Z&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: HasFinalizer&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:12:46.597925622Z&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:12:46.597839731Z&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:12:46.597842577Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:12:46.597843608Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:12:46.597844741Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:12:46.597845502Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:12:46.597860540Z&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(0)})})})
[2022-05-09T10:12:46Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-09T10:12:47Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;31ab483d-353f-41ce-b69b-f9a4c8bf1ec5&quot;
[2022-05-09T10:12:47Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T10:12:46.585652Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 8,\n    \&quot;name\&quot;: \&quot;31ab483d-353f-41ce-b69b-f9a4c8bf1ec5\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;b5dcf5ac-4b77-4682-86aa-fcc3e76b25ac\&quot;,\n    \&quot;uid\&quot;: \&quot;e07faeab-f24a-4ae2-a33d-d9bac48de4b0\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:12:46.873836904Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:12:46.873942040Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:12:46.621297110Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:12:46.627122069Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:12:46.695102966Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:12:46.701002003Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:12:46.873673028Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:12:46.873689167Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 7,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;fweeK0Fkya35\&quot;,\n        \&quot;username\&quot;: \&quot;user-31ab483d-353f-41ce-b69b-f9a4c8bf1ec5\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:12:47Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T10:12:46.585652Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(8), &quot;name&quot;: String(&quot;31ab483d-353f-41ce-b69b-f9a4c8bf1ec5&quot;), &quot;resourceVersion&quot;: String(&quot;b5dcf5ac-4b77-4682-86aa-fcc3e76b25ac&quot;), &quot;uid&quot;: String(&quot;e07faeab-f24a-4ae2-a33d-d9bac48de4b0&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:12:46.873836904Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:12:46.873942040Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:12:46.621297110Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:12:46.627122069Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:12:46.695102966Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:12:46.701002003Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:12:46.873673028Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:12:46.873689167Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(7), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;fweeK0Fkya35&quot;), &quot;username&quot;: String(&quot;user-31ab483d-353f-41ce-b69b-f9a4c8bf1ec5&quot;)})})})})
[2022-05-09T10:12:47Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-09T10:12:47Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;31ab483d-353f-41ce-b69b-f9a4c8bf1ec5&quot;
[2022-05-09T10:12:47Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T10:12:46.585652Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 8,\n    \&quot;name\&quot;: \&quot;31ab483d-353f-41ce-b69b-f9a4c8bf1ec5\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;b5dcf5ac-4b77-4682-86aa-fcc3e76b25ac\&quot;,\n    \&quot;uid\&quot;: \&quot;e07faeab-f24a-4ae2-a33d-d9bac48de4b0\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:12:46.873836904Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:12:46.873942040Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:12:46.621297110Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:12:46.627122069Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:12:46.695102966Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:12:46.701002003Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:12:46.873673028Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:12:46.873689167Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 7,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;fweeK0Fkya35\&quot;,\n        \&quot;username\&quot;: \&quot;user-31ab483d-353f-41ce-b69b-f9a4c8bf1ec5\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:12:47Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T10:12:46.585652Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(8), &quot;name&quot;: String(&quot;31ab483d-353f-41ce-b69b-f9a4c8bf1ec5&quot;), &quot;resourceVersion&quot;: String(&quot;b5dcf5ac-4b77-4682-86aa-fcc3e76b25ac&quot;), &quot;uid&quot;: String(&quot;e07faeab-f24a-4ae2-a33d-d9bac48de4b0&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:12:46.873836904Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:12:46.873942040Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:12:46.621297110Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:12:46.627122069Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:12:46.695102966Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:12:46.701002003Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:12:46.873673028Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:12:46.873689167Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(7), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;fweeK0Fkya35&quot;), &quot;username&quot;: String(&quot;user-31ab483d-353f-41ce-b69b-f9a4c8bf1ec5&quot;)})})})})
[2022-05-09T10:12:47Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-09T10:12:47Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-05-09T10:12:47Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;31ab483d-353f-41ce-b69b-f9a4c8bf1ec5&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-09T10:12:47Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:12:47Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:12:47Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T10:12:47Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T10:12:47Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJXRG4zQ2wwMVNsYVpRRnRTbUpuS2JqWC1wcXdsR21xWDhSUFNWSHgxUHgwIn0.eyJleHAiOjE2NTIwOTE0NjUsImlhdCI6MTY1MjA5MTE2NSwiYXV0aF90aW1lIjoxNjUyMDkxMTYzLCJqdGkiOiJlYjhlNWFjNC0xMGIyLTQ2YTUtYThmNC0yN2U3MzVjZGFmMzkiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiM2RlYjE5ZjktYzc0Ni00YjAwLWE5MDktMmI5ODg1NWNlNGYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJNN3JZQkFmNjlDS3gwLUk4UGlPY1VBIiwic2Vzc2lvbl9zdGF0ZSI6ImY1MzA5YWQ4LTkyNjgtNGU0Mi1iODIyLWY4NTQ1ZTk3ZjZiNiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImY1MzA5YWQ4LTkyNjgtNGU0Mi1iODIyLWY4NTQ1ZTk3ZjZiNiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.ZIPS9xRQOOUlX6YYlAKW-imwENmtVB3VWgbCfWh0wnLgV4JHsBtqH7dQJxj7oHqIQVhH3sPa_4JMxB84A3UbTZsditpUSPp7p6jgQtUFXDL0KOACoo0RmccneQRHDqdfRklO3SIXKzfrJ-MLWf1jFN3v1JVo7w-3w-JmFpLCYcz5_dtZsvn7jlBDQaL1srQ_VUTefgMwGHqYQ7ibGCXHvjXV7M9KMB7a2VAAVw9RJ69nd9mvc_StouHrPcMMWTYgXv0MMYYwVPllAa-N89Fywwkr51m0iYII_6h1J_M7PBY8FBiHEd219HiuNGjrpFhJcVwLQBagZ5HCDFWeyLgeSQ\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:12:47Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T10:12:47Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-09T10:12:47Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-09T10:12:47Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;31ab483d-353f-41ce-b69b-f9a4c8bf1ec5&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-05-09T10:12:47Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:12:47Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt
[2022-05-09T10:12:47Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T10:12:47Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJXRG4zQ2wwMVNsYVpRRnRTbUpuS2JqWC1wcXdsR21xWDhSUFNWSHgxUHgwIn0.eyJleHAiOjE2NTIwOTE0NjUsImlhdCI6MTY1MjA5MTE2NSwiYXV0aF90aW1lIjoxNjUyMDkxMTYzLCJqdGkiOiJlYjhlNWFjNC0xMGIyLTQ2YTUtYThmNC0yN2U3MzVjZGFmMzkiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiM2RlYjE5ZjktYzc0Ni00YjAwLWE5MDktMmI5ODg1NWNlNGYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJNN3JZQkFmNjlDS3gwLUk4UGlPY1VBIiwic2Vzc2lvbl9zdGF0ZSI6ImY1MzA5YWQ4LTkyNjgtNGU0Mi1iODIyLWY4NTQ1ZTk3ZjZiNiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImY1MzA5YWQ4LTkyNjgtNGU0Mi1iODIyLWY4NTQ1ZTk3ZjZiNiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.ZIPS9xRQOOUlX6YYlAKW-imwENmtVB3VWgbCfWh0wnLgV4JHsBtqH7dQJxj7oHqIQVhH3sPa_4JMxB84A3UbTZsditpUSPp7p6jgQtUFXDL0KOACoo0RmccneQRHDqdfRklO3SIXKzfrJ-MLWf1jFN3v1JVo7w-3w-JmFpLCYcz5_dtZsvn7jlBDQaL1srQ_VUTefgMwGHqYQ7ibGCXHvjXV7M9KMB7a2VAAVw9RJ69nd9mvc_StouHrPcMMWTYgXv0MMYYwVPllAa-N89Fywwkr51m0iYII_6h1J_M7PBY8FBiHEd219HiuNGjrpFhJcVwLQBagZ5HCDFWeyLgeSQ\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:12:47Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt&quot;, client_id: &quot;01f0541b-4e1a-4cb2-bf71-4002fd33c04a&quot;, persistence: None, user_data: None }
[2022-05-09T10:12:47Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T10:12:47Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55efdc2095e0
[2022-05-09T10:12:47Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55efdc2095e0
[2022-05-09T10:12:47Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x55efdc209920, connectTimeout: 30, retryInterval: 0, ssl: 0x55efdc209ff0, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55efdc222e00, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJXRG4zQ2wwMVNsYVpRRnRTbUpuS2JqWC1wcXdsR21xWDhSUFNWSHgxUHgwIn0.eyJleHAiOjE2NTIwOTE0NjUsImlhdCI6MTY1MjA5MTE2NSwiYXV0aF90aW1lIjoxNjUyMDkxMTYzLCJqdGkiOiJlYjhlNWFjNC0xMGIyLTQ2YTUtYThmNC0yN2U3MzVjZGFmMzkiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiM2RlYjE5ZjktYzc0Ni00YjAwLWE5MDktMmI5ODg1NWNlNGYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJNN3JZQkFmNjlDS3gwLUk4UGlPY1VBIiwic2Vzc2lvbl9zdGF0ZSI6ImY1MzA5YWQ4LTkyNjgtNGU0Mi1iODIyLWY4NTQ1ZTk3ZjZiNiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImY1MzA5YWQ4LTkyNjgtNGU0Mi1iODIyLWY4NTQ1ZTk3ZjZiNiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.ZIPS9xRQOOUlX6YYlAKW-imwENmtVB3VWgbCfWh0wnLgV4JHsBtqH7dQJxj7oHqIQVhH3sPa_4JMxB84A3UbTZsditpUSPp7p6jgQtUFXDL0KOACoo0RmccneQRHDqdfRklO3SIXKzfrJ-MLWf1jFN3v1JVo7w-3w-JmFpLCYcz5_dtZsvn7jlBDQaL1srQ_VUTefgMwGHqYQ7ibGCXHvjXV7M9KMB7a2VAAVw9RJ69nd9mvc_StouHrPcMMWTYgXv0MMYYwVPllAa-N89Fywwkr51m0iYII_6h1J_M7PBY8FBiHEd219HiuNGjrpFhJcVwLQBagZ5HCDFWeyLgeSQ&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T10:12:47Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/31ab483d-353f-41ce-b69b-f9a4c8bf1ec5&quot;&#x27; @ QOS 0
[2022-05-09T10:12:47Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-09T10:12:47Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-09T10:12:47Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:12:47Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:12:47Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:12:48Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:12:49Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:12:49Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:12:49Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:12:49Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:12:50Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:12:50Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:12:50Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:12:50Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:12:51Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:12:51Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:12:51Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:12:51Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:12:51Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 11, payload: 0x7f0edc02a230, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 574, array: 0x7f0ed0001f00 } }, data: MessageData { topic: &quot;app/31ab483d-353f-41ce-b69b-f9a4c8bf1ec5&quot;, payload: [123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 574, array: 0x7f0ed0001f00 } } } }
[2022-05-09T10:12:51Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55efdc2c9f30, 0x7f0ee0006d80
[2022-05-09T10:12:51Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0006d80, 0x7f0ed8008ee0
[2022-05-09T10:12:51Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0006d80, 0x55efdbed3a30
[2022-05-09T10:12:51Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55efdbed3a30, 0x55efdc05d9d0
[2022-05-09T10:12:51Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55efdbed3a30, 0x7f0ee000af90
[2022-05-09T10:12:51Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee000af90, 0x7f0ed8008ee0
[2022-05-09T10:12:51Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee000af90, 0x7f0ed8008ee0
[2022-05-09T10:12:51Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee000af90, 0x7f0ee00094c0
[2022-05-09T10:12:51Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee000af90, 0x7f0ee0009c60
[2022-05-09T10:12:51Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee000af90, 0x7f0ee0009c60
[2022-05-09T10:12:51Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee000af90, 0x7f0ee000dee0
[2022-05-09T10:12:51Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee000dee0, 0x7f0ee000af90
[2022-05-09T10:12:51Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee000af90, 0x7f0ee0009c60
[2022-05-09T10:12:51Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee000af90, 0x7f0ee0009c60
[2022-05-09T10:12:51Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f0ee000af90
[2022-05-09T10:12:51Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/31ab483d-353f-41ce-b69b-f9a4c8bf1ec5&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;type&quot;: &quot;io.drogue.event.v1&quot;, &quot;application&quot;: &quot;31ab483d-353f-41ce-b69b-f9a4c8bf1ec5&quot;, &quot;time&quot;: &quot;2022-05-09T10:12:51.487806877+00:00&quot;, &quot;senderuid&quot;: &quot;9e3ad6a0-74cd-4ebe-929c-83c316e01a1e&quot;, &quot;deviceuid&quot;: &quot;58057fe7-eb20-4390-ab90-3bf869e0091d&quot;, &quot;applicationuid&quot;: &quot;e07faeab-f24a-4ae2-a33d-d9bac48de4b0&quot;, &quot;id&quot;: &quot;ea37574d-a24f-40be-b49b-20676299678c&quot;, &quot;device&quot;: &quot;device1&quot;, &quot;sender&quot;: &quot;gateway1&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;source&quot;: &quot;drogue://31ab483d%2D353f%2D41ce%2Db69b%2Df9a4c8bf1ec5/device1&quot;, &quot;partitionkey&quot;: &quot;31ab483d%2D353f%2D41ce%2Db69b%2Df9a4c8bf1ec5/device1&quot;, &quot;subject&quot;: &quot;warmup&quot;, &quot;specversion&quot;: &quot;1.0&quot;}, payload: &quot;{\&quot;index\&quot;:3}&quot; }
[2022-05-09T10:12:52Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-09T10:12:52Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-09T10:12:52Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-09T10:12:52Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry/device1
[2022-05-09T10:12:52Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-endpoint.172.18.0.2.nip.io:30001&quot;, client_id: &quot;6ddc2806-f1ba-49a8-b8ef-e5bb08c8e4cf&quot;, persistence: None, user_data: None }
[2022-05-09T10:12:52Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T10:12:52Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55efdbe84a80
[2022-05-09T10:12:52Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55efdbe84a80
[2022-05-09T10:12:52Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x55efdc381f00, password: 0x55efdbf23580, connectTimeout: 30, retryInterval: 0, ssl: 0x55efdbe4d330, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55efdc381bf0, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;gateway1@31ab483d-353f-41ce-b69b-f9a4c8bf1ec5&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T10:12:52Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 18, payload: 0x7f0edc00d2e0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 586, array: 0x7f0ed0002890 } }, data: MessageData { topic: &quot;app/31ab483d-353f-41ce-b69b-f9a4c8bf1ec5&quot;, payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 586, array: 0x7f0ed0002890 } } } }
[2022-05-09T10:12:52Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55efdbeb1980, 0x55efdc13b880
[2022-05-09T10:12:52Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55efdc13b880, 0x55efdbe89970
[2022-05-09T10:12:52Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55efdc13b880, 0x7f0ee000aff0
[2022-05-09T10:12:52Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee000aff0, 0x55efdc2c0110
[2022-05-09T10:12:52Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee000aff0, 0x7f0ed8007b20
[2022-05-09T10:12:52Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8007b20, 0x55efdbe89970
[2022-05-09T10:12:52Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8007b20, 0x7f0ed80088e0
[2022-05-09T10:12:52Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed80088e0, 0x55efdbe89970
[2022-05-09T10:12:52Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed80088e0, 0x7f0ed8003a20
[2022-05-09T10:12:52Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8003a20, 0x55efdbe89970
[2022-05-09T10:12:52Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8003a20, 0x55efdbe89970
[2022-05-09T10:12:52Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8003a20, 0x55efdbe89970
[2022-05-09T10:12:52Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8003a20, 0x55efdbfce120
[2022-05-09T10:12:52Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8003a20, 0x7f0ed8003870
[2022-05-09T10:12:52Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f0ed8003870
[2022-05-09T10:12:52Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/31ab483d-353f-41ce-b69b-f9a4c8bf1ec5&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;instance&quot;: &quot;drogue&quot;, &quot;type&quot;: &quot;io.drogue.connection.v1&quot;, &quot;device&quot;: &quot;gateway1&quot;, &quot;sender&quot;: &quot;gateway1&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;deviceuid&quot;: &quot;9e3ad6a0-74cd-4ebe-929c-83c316e01a1e&quot;, &quot;applicationuid&quot;: &quot;e07faeab-f24a-4ae2-a33d-d9bac48de4b0&quot;, &quot;id&quot;: &quot;4db87333-fe04-4503-bacc-98a68a0c5674&quot;, &quot;application&quot;: &quot;31ab483d-353f-41ce-b69b-f9a4c8bf1ec5&quot;, &quot;subject&quot;: &quot;connection&quot;, &quot;partitionkey&quot;: &quot;31ab483d%2D353f%2D41ce%2Db69b%2Df9a4c8bf1ec5/gateway1&quot;, &quot;senderuid&quot;: &quot;9e3ad6a0-74cd-4ebe-929c-83c316e01a1e&quot;, &quot;time&quot;: &quot;2022-05-09T10:12:52.621115833+00:00&quot;, &quot;source&quot;: &quot;drogue://31ab483d%2D353f%2D41ce%2Db69b%2Df9a4c8bf1ec5/gateway1&quot;}, payload: &quot;{\&quot;connected\&quot;:true}&quot; }
[2022-05-09T10:12:52Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55efdbe8c2c0 } }, data: MessageData { topic: &quot;telemetry/device1&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55efdbe8c2c0 } } } }
[2022-05-09T10:12:52Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-09T10:12:52Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 19, payload: 0x7f0edc01d330, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 586, array: 0x7f0ed00034b0 } }, data: MessageData { topic: &quot;app/31ab483d-353f-41ce-b69b-f9a4c8bf1ec5&quot;, payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 102, 97, 108, 115, 101, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 586, array: 0x7f0ed00034b0 } } } }
[2022-05-09T10:12:52Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8003290, 0x7f0ed8003a00
[2022-05-09T10:12:52Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8003a00, 0x7f0edc032be0
[2022-05-09T10:12:52Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8003a00, 0x7f0ed8003ae0
[2022-05-09T10:12:52Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8003ae0, 0x7f0edc034810
[2022-05-09T10:12:52Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8003ae0, 0x7f0ed8007b20
[2022-05-09T10:12:52Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8007b20, 0x7f0edc032be0
[2022-05-09T10:12:52Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8007b20, 0x7f0edc032be0
[2022-05-09T10:12:52Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8007b20, 0x7f0edc032be0
[2022-05-09T10:12:52Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8007b20, 0x7f0ed8003850
[2022-05-09T10:12:52Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8003850, 0x7f0edc032be0
[2022-05-09T10:12:52Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8003850, 0x7f0ed8003b40
[2022-05-09T10:12:52Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8003b40, 0x7f0edc032a20
[2022-05-09T10:12:52Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8003b40, 0x7f0ed8003ba0
[2022-05-09T10:12:52Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8003ba0, 0x7f0edc032be0
[2022-05-09T10:12:52Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f0ed8003ba0
[2022-05-09T10:12:52Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/31ab483d-353f-41ce-b69b-f9a4c8bf1ec5&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;specversion&quot;: &quot;1.0&quot;, &quot;type&quot;: &quot;io.drogue.connection.v1&quot;, &quot;subject&quot;: &quot;connection&quot;, &quot;time&quot;: &quot;2022-05-09T10:12:52.804282450+00:00&quot;, &quot;sender&quot;: &quot;gateway1&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;source&quot;: &quot;drogue://31ab483d%2D353f%2D41ce%2Db69b%2Df9a4c8bf1ec5/gateway1&quot;, &quot;deviceuid&quot;: &quot;9e3ad6a0-74cd-4ebe-929c-83c316e01a1e&quot;, &quot;device&quot;: &quot;gateway1&quot;, &quot;id&quot;: &quot;93593075-4c62-4bbc-8831-126cd7398701&quot;, &quot;application&quot;: &quot;31ab483d-353f-41ce-b69b-f9a4c8bf1ec5&quot;, &quot;applicationuid&quot;: &quot;e07faeab-f24a-4ae2-a33d-d9bac48de4b0&quot;, &quot;partitionkey&quot;: &quot;31ab483d%2D353f%2D41ce%2Db69b%2Df9a4c8bf1ec5/gateway1&quot;, &quot;senderuid&quot;: &quot;9e3ad6a0-74cd-4ebe-929c-83c316e01a1e&quot;}, payload: &quot;{\&quot;connected\&quot;:false}&quot; }
[2022-05-09T10:12:53Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 585, array: 0x7f0ed0003b10 } }, data: MessageData { topic: &quot;app/31ab483d-353f-41ce-b69b-f9a4c8bf1ec5&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 585, array: 0x7f0ed0003b10 } } } }
[2022-05-09T10:12:53Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed80076d0, 0x7f0edc00d2e0
[2022-05-09T10:12:53Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0edc00d2e0, 0x7f0ed8003890
[2022-05-09T10:12:53Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0edc00d2e0, 0x55efdc2e0370
[2022-05-09T10:12:53Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55efdc2e0370, 0x7f0edc01b610
[2022-05-09T10:12:53Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55efdc2e0370, 0x7f0ed8007b20
[2022-05-09T10:12:53Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8007b20, 0x7f0ed8003890
[2022-05-09T10:12:53Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8007b20, 0x7f0edc01d370
[2022-05-09T10:12:53Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8007b20, 0x7f0ed8003290
[2022-05-09T10:12:53Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8003290, 0x7f0ed8003890
[2022-05-09T10:12:53Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8003290, 0x7f0ed8003850
[2022-05-09T10:12:53Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8003850, 0x7f0ed8003890
[2022-05-09T10:12:53Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8003850, 0x7f0ed8003890
[2022-05-09T10:12:53Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8003850, 0x7f0ed8003890
[2022-05-09T10:12:53Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8003850, 0x7f0ed8003b80
[2022-05-09T10:12:53Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f0ed8003c20
[2022-05-09T10:12:53Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/31ab483d-353f-41ce-b69b-f9a4c8bf1ec5&quot;, content_type: Some(&quot;application/octet-stream&quot;), user_properties: {&quot;senderuid&quot;: &quot;9e3ad6a0-74cd-4ebe-929c-83c316e01a1e&quot;, &quot;partitionkey&quot;: &quot;31ab483d%2D353f%2D41ce%2Db69b%2Df9a4c8bf1ec5/device1&quot;, &quot;device&quot;: &quot;device1&quot;, &quot;application&quot;: &quot;31ab483d-353f-41ce-b69b-f9a4c8bf1ec5&quot;, &quot;sender&quot;: &quot;gateway1&quot;, &quot;subject&quot;: &quot;telemetry&quot;, &quot;type&quot;: &quot;io.drogue.event.v1&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;applicationuid&quot;: &quot;e07faeab-f24a-4ae2-a33d-d9bac48de4b0&quot;, &quot;deviceuid&quot;: &quot;58057fe7-eb20-4390-ab90-3bf869e0091d&quot;, &quot;id&quot;: &quot;d6c9fe43-5e81-4767-b101-e3f72a45957c&quot;, &quot;source&quot;: &quot;drogue://31ab483d%2D353f%2D41ce%2Db69b%2Df9a4c8bf1ec5/device1&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;time&quot;: &quot;2022-05-09T10:12:52.802860281+00:00&quot;}, payload: &quot;&quot; }
[2022-05-09T10:12:53Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-09T10:12:53Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-09T10:12:53Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-09T10:12:53Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;31ab483d-353f-41ce-b69b-f9a4c8bf1ec5&quot;, device: &quot;gateway1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`,
 right: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;31ab483d-353f-41ce-b69b-f9a4c8bf1ec5&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`: Position #0&#x27;, src/tools/assert.rs:35:39
[2022-05-09T10:12:53Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-09T10:12:53Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;31ab483d-353f-41ce-b69b-f9a4c8bf1ec5&quot; &quot;device1&quot;
[2022-05-09T10:12:53Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:12:53Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-05-09T10:12:53Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;31ab483d-353f-41ce-b69b-f9a4c8bf1ec5&quot; &quot;gateway1&quot;
[2022-05-09T10:12:53Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:12:53Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;31ab483d-353f-41ce-b69b-f9a4c8bf1ec5&#x27;
[2022-05-09T10:12:53Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;31ab483d-353f-41ce-b69b-f9a4c8bf1ec5&quot;
[2022-05-09T10:12:53Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 31ab483d-353f-41ce-b69b-f9a4c8bf1ec5 deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_2::integration_version_1::integration_ws_1

**Duration**: 15s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-09T10:12:55Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-09T10:12:55Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T10:12:55Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T10:12:55Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T10:12:55Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T10:12:56Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-09T10:12:58Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-09T10:12:58Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T10:12:58Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T10:12:58Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T10:13:00Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI0NDVmMTM5Zi0wNjNjLTRhZDgtODkwYi1mNTg1OTQ0NjFiZDAifQ.eyJleHAiOjE2NTIwOTI5NzksImlhdCI6MTY1MjA5MTE3OSwianRpIjoiNzFmYWZjZTMtMmE1MS00ZWNhLTk5OGQtNjI1MzIyOTVlZTJlIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjNkZWIxOWY5LWM3NDYtNGIwMC1hOTA5LTJiOTg4NTVjZTRmMyIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlZSdjNicDgtTGktTk8xMWR6Z3ptMFEiLCJzZXNzaW9uX3N0YXRlIjoiMGU4NWViY2UtN2U0Ny00NTZiLWFiMDUtYzY3Y2VhNDRiY2I5Iiwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjBlODVlYmNlLTdlNDctNDU2Yi1hYjA1LWM2N2NlYTQ0YmNiOSJ9.BxDUJHLXJuxPiq60HGZWExgNpx27xO64W1Az4oUMfGM
[2022-05-09T10:13:00Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-09T10:13:00Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-09T10:13:00Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI0NDVmMTM5Zi0wNjNjLTRhZDgtODkwYi1mNTg1OTQ0NjFiZDAifQ.eyJleHAiOjE2NTIwOTI5NzksImlhdCI6MTY1MjA5MTE3OSwianRpIjoiNzFmYWZjZTMtMmE1MS00ZWNhLTk5OGQtNjI1MzIyOTVlZTJlIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjNkZWIxOWY5LWM3NDYtNGIwMC1hOTA5LTJiOTg4NTVjZTRmMyIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlZSdjNicDgtTGktTk8xMWR6Z3ptMFEiLCJzZXNzaW9uX3N0YXRlIjoiMGU4NWViY2UtN2U0Ny00NTZiLWFiMDUtYzY3Y2VhNDRiY2I5Iiwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjBlODVlYmNlLTdlNDctNDU2Yi1hYjA1LWM2N2NlYTQ0YmNiOSJ9.BxDUJHLXJuxPiq60HGZWExgNpx27xO64W1Az4oUMfGM&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-09T10:13:00Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:13:00Z INFO  drogue_cloud_tests::resources::apps] Create application: 7238a6ae-f096-4c66-bdea-8ca6a8e0c5ea
[2022-05-09T10:13:00Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;7238a6ae-f096-4c66-bdea-8ca6a8e0c5ea&quot;
[2022-05-09T10:13:00Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 7238a6ae-f096-4c66-bdea-8ca6a8e0c5ea created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:13:00Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;7238a6ae-f096-4c66-bdea-8ca6a8e0c5ea&quot;
[2022-05-09T10:13:00Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T10:13:00.869196Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 1,\n    \&quot;name\&quot;: \&quot;7238a6ae-f096-4c66-bdea-8ca6a8e0c5ea\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;bf5d75b2-883c-4fcc-981c-9a9f1840f762\&quot;,\n    \&quot;uid\&quot;: \&quot;e50b0f6e-4bf5-424d-b000-7e562471040e\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:13:00.882614181Z\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: HasFinalizer\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:13:00.882692708Z\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:13:00.882569067Z\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:13:00.882571492Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:13:00.882572323Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:13:00.882573425Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:13:00.882574066Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:13:00.882582943Z\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:13:00Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T10:13:00.869196Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(1), &quot;name&quot;: String(&quot;7238a6ae-f096-4c66-bdea-8ca6a8e0c5ea&quot;), &quot;resourceVersion&quot;: String(&quot;bf5d75b2-883c-4fcc-981c-9a9f1840f762&quot;), &quot;uid&quot;: String(&quot;e50b0f6e-4bf5-424d-b000-7e562471040e&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:13:00.882614181Z&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: HasFinalizer&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:13:00.882692708Z&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:13:00.882569067Z&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:13:00.882571492Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:13:00.882572323Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:13:00.882573425Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:13:00.882574066Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:13:00.882582943Z&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(0)})})})
[2022-05-09T10:13:00Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-09T10:13:01Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;7238a6ae-f096-4c66-bdea-8ca6a8e0c5ea&quot;
[2022-05-09T10:13:01Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T10:13:00.869196Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 8,\n    \&quot;name\&quot;: \&quot;7238a6ae-f096-4c66-bdea-8ca6a8e0c5ea\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;b89dcb69-dbea-48c4-9482-fe9e50890f27\&quot;,\n    \&quot;uid\&quot;: \&quot;e50b0f6e-4bf5-424d-b000-7e562471040e\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:13:01.128843523Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:13:01.128957867Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:13:00.908609084Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:13:00.915652531Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:13:00.973494887Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:13:00.979035694Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:13:01.128701787Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:13:01.128811563Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 7,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;dkVEKaynQsTO\&quot;,\n        \&quot;username\&quot;: \&quot;user-7238a6ae-f096-4c66-bdea-8ca6a8e0c5ea\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:13:01Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T10:13:00.869196Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(8), &quot;name&quot;: String(&quot;7238a6ae-f096-4c66-bdea-8ca6a8e0c5ea&quot;), &quot;resourceVersion&quot;: String(&quot;b89dcb69-dbea-48c4-9482-fe9e50890f27&quot;), &quot;uid&quot;: String(&quot;e50b0f6e-4bf5-424d-b000-7e562471040e&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:13:01.128843523Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:13:01.128957867Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:13:00.908609084Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:13:00.915652531Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:13:00.973494887Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:13:00.979035694Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:13:01.128701787Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:13:01.128811563Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(7), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;dkVEKaynQsTO&quot;), &quot;username&quot;: String(&quot;user-7238a6ae-f096-4c66-bdea-8ca6a8e0c5ea&quot;)})})})})
[2022-05-09T10:13:01Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-09T10:13:01Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;7238a6ae-f096-4c66-bdea-8ca6a8e0c5ea&quot;
[2022-05-09T10:13:01Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T10:13:00.869196Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 8,\n    \&quot;name\&quot;: \&quot;7238a6ae-f096-4c66-bdea-8ca6a8e0c5ea\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;b89dcb69-dbea-48c4-9482-fe9e50890f27\&quot;,\n    \&quot;uid\&quot;: \&quot;e50b0f6e-4bf5-424d-b000-7e562471040e\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:13:01.128843523Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:13:01.128957867Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:13:00.908609084Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:13:00.915652531Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:13:00.973494887Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:13:00.979035694Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:13:01.128701787Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:13:01.128811563Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 7,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;dkVEKaynQsTO\&quot;,\n        \&quot;username\&quot;: \&quot;user-7238a6ae-f096-4c66-bdea-8ca6a8e0c5ea\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:13:01Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T10:13:00.869196Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(8), &quot;name&quot;: String(&quot;7238a6ae-f096-4c66-bdea-8ca6a8e0c5ea&quot;), &quot;resourceVersion&quot;: String(&quot;b89dcb69-dbea-48c4-9482-fe9e50890f27&quot;), &quot;uid&quot;: String(&quot;e50b0f6e-4bf5-424d-b000-7e562471040e&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:13:01.128843523Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:13:01.128957867Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:13:00.908609084Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:13:00.915652531Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:13:00.973494887Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:13:00.979035694Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:13:01.128701787Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:13:01.128811563Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(7), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;dkVEKaynQsTO&quot;), &quot;username&quot;: String(&quot;user-7238a6ae-f096-4c66-bdea-8ca6a8e0c5ea&quot;)})})})})
[2022-05-09T10:13:01Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-09T10:13:01Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-05-09T10:13:01Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;7238a6ae-f096-4c66-bdea-8ca6a8e0c5ea&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-09T10:13:01Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:13:01Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:13:01Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T10:13:01Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T10:13:01Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJXRG4zQ2wwMVNsYVpRRnRTbUpuS2JqWC1wcXdsR21xWDhSUFNWSHgxUHgwIn0.eyJleHAiOjE2NTIwOTE0ODAsImlhdCI6MTY1MjA5MTE4MCwiYXV0aF90aW1lIjoxNjUyMDkxMTc3LCJqdGkiOiIzNTU3OWIzYS1mM2FhLTQxYmMtYjc2Yi01YjM1YjVlYjAyNzEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiM2RlYjE5ZjktYzc0Ni00YjAwLWE5MDktMmI5ODg1NWNlNGYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJWUnYzYnA4LUxpLU5PMTFkemd6bTBRIiwic2Vzc2lvbl9zdGF0ZSI6IjBlODVlYmNlLTdlNDctNDU2Yi1hYjA1LWM2N2NlYTQ0YmNiOSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjBlODVlYmNlLTdlNDctNDU2Yi1hYjA1LWM2N2NlYTQ0YmNiOSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.Ku0dW4DHGwoxc8gWvme1hkAR8WPYiOLd8-Wlw6ChsM8iIKgJcKCc4bPtIiCrgMYd_ZLLM5EZ-Piwm7icrOKO9pPP57FWLrzI7XlU84ZnoegPakIEIW8CcSS1yX3_4PW7MTp8oSRJdBEwCtt8Tu_WWODn4-mIO00K5LLpmeH3zpH8wnb_38SfjSKIrJFgTp9mSErBldinu70gfeAQZ1JBeoYuW53qTHuuB-b0BnZy_NE9vgxu3pmXDsCkELlO0CAQJ0fzrhLT3QdxLs8EhKY6zoRIIybdfCs0K7lHhDwv2ONEjfyoPDbQc9K_Gz10CF1lo4GQnBS_pWK-eycJGbK-ZQ\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:13:01Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T10:13:01Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-09T10:13:01Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-09T10:13:01Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;7238a6ae-f096-4c66-bdea-8ca6a8e0c5ea&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-05-09T10:13:02Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:13:02Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: ssl://mqtt-integration.172.18.0.2.nip.io:30002
[2022-05-09T10:13:02Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T10:13:02Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJXRG4zQ2wwMVNsYVpRRnRTbUpuS2JqWC1wcXdsR21xWDhSUFNWSHgxUHgwIn0.eyJleHAiOjE2NTIwOTE0ODAsImlhdCI6MTY1MjA5MTE4MCwiYXV0aF90aW1lIjoxNjUyMDkxMTc3LCJqdGkiOiIzNTU3OWIzYS1mM2FhLTQxYmMtYjc2Yi01YjM1YjVlYjAyNzEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiM2RlYjE5ZjktYzc0Ni00YjAwLWE5MDktMmI5ODg1NWNlNGYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJWUnYzYnA4LUxpLU5PMTFkemd6bTBRIiwic2Vzc2lvbl9zdGF0ZSI6IjBlODVlYmNlLTdlNDctNDU2Yi1hYjA1LWM2N2NlYTQ0YmNiOSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjBlODVlYmNlLTdlNDctNDU2Yi1hYjA1LWM2N2NlYTQ0YmNiOSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.Ku0dW4DHGwoxc8gWvme1hkAR8WPYiOLd8-Wlw6ChsM8iIKgJcKCc4bPtIiCrgMYd_ZLLM5EZ-Piwm7icrOKO9pPP57FWLrzI7XlU84ZnoegPakIEIW8CcSS1yX3_4PW7MTp8oSRJdBEwCtt8Tu_WWODn4-mIO00K5LLpmeH3zpH8wnb_38SfjSKIrJFgTp9mSErBldinu70gfeAQZ1JBeoYuW53qTHuuB-b0BnZy_NE9vgxu3pmXDsCkELlO0CAQJ0fzrhLT3QdxLs8EhKY6zoRIIybdfCs0K7lHhDwv2ONEjfyoPDbQc9K_Gz10CF1lo4GQnBS_pWK-eycJGbK-ZQ\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:13:02Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 4, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-integration.172.18.0.2.nip.io:30002&quot;, client_id: &quot;84103b00-8f89-4542-919c-e7f2ed65fb35&quot;, persistence: None, user_data: None }
[2022-05-09T10:13:02Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T10:13:02Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55efdbe85c40
[2022-05-09T10:13:02Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55efdbe85c40
[2022-05-09T10:13:02Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 1, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x55efdbe86980, connectTimeout: 30, retryInterval: 0, ssl: 0x55efdc273b80, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 4, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 0, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55efdbe86940, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJXRG4zQ2wwMVNsYVpRRnRTbUpuS2JqWC1wcXdsR21xWDhSUFNWSHgxUHgwIn0.eyJleHAiOjE2NTIwOTE0ODAsImlhdCI6MTY1MjA5MTE4MCwiYXV0aF90aW1lIjoxNjUyMDkxMTc3LCJqdGkiOiIzNTU3OWIzYS1mM2FhLTQxYmMtYjc2Yi01YjM1YjVlYjAyNzEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiM2RlYjE5ZjktYzc0Ni00YjAwLWE5MDktMmI5ODg1NWNlNGYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJWUnYzYnA4LUxpLU5PMTFkemd6bTBRIiwic2Vzc2lvbl9zdGF0ZSI6IjBlODVlYmNlLTdlNDctNDU2Yi1hYjA1LWM2N2NlYTQ0YmNiOSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjBlODVlYmNlLTdlNDctNDU2Yi1hYjA1LWM2N2NlYTQ0YmNiOSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.Ku0dW4DHGwoxc8gWvme1hkAR8WPYiOLd8-Wlw6ChsM8iIKgJcKCc4bPtIiCrgMYd_ZLLM5EZ-Piwm7icrOKO9pPP57FWLrzI7XlU84ZnoegPakIEIW8CcSS1yX3_4PW7MTp8oSRJdBEwCtt8Tu_WWODn4-mIO00K5LLpmeH3zpH8wnb_38SfjSKIrJFgTp9mSErBldinu70gfeAQZ1JBeoYuW53qTHuuB-b0BnZy_NE9vgxu3pmXDsCkELlO0CAQJ0fzrhLT3QdxLs8EhKY6zoRIIybdfCs0K7lHhDwv2ONEjfyoPDbQc9K_Gz10CF1lo4GQnBS_pWK-eycJGbK-ZQ&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T10:13:02Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/7238a6ae-f096-4c66-bdea-8ca6a8e0c5ea&quot;&#x27; @ QOS 0
[2022-05-09T10:13:02Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-09T10:13:02Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-09T10:13:02Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:13:02Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:13:02Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:13:02Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:13:03Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:13:03Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:13:03Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:13:03Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:13:04Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:13:04Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:13:04Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:13:04Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:13:05Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:13:05Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:13:05Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:13:05Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:13:05Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 621, payload: 0x7f0ed0016810, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/7238a6ae-f096-4c66-bdea-8ca6a8e0c5ea&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 99, 53, 57, 54, 57, 98, 99, 51, 45, 55, 100, 48, 99, 45, 52, 56, 98, 54, 45, 97, 101, 55, 57, 45, 101, 53, 49, 52, 50, 54, 102, 102, 49, 49, 100, 52, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 55, 50, 51, 56, 97, 54, 97, 101, 37, 50, 68, 102, 48, 57, 54, 37, 50, 68, 52, 99, 54, 54, 37, 50, 68, 98, 100, 101, 97, 37, 50, 68, 56, 99, 97, 54, 97, 56, 101, 48, 99, 53, 101, 97, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 119, 97, 114, 109, 117, 112, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 48, 58, 49, 51, 58, 48, 53, 46, 52, 57, 50, 53, 51, 54, 53, 51, 57, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 55, 50, 51, 56, 97, 54, 97, 101, 45, 102, 48, 57, 54, 45, 52, 99, 54, 54, 45, 98, 100, 101, 97, 45, 56, 99, 97, 54, 97, 56, 101, 48, 99, 53, 101, 97, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 101, 53, 48, 98, 48, 102, 54, 101, 45, 52, 98, 102, 53, 45, 52, 50, 52, 100, 45, 98, 48, 48, 48, 45, 55, 101, 53, 54, 50, 52, 55, 49, 48, 52, 48, 101, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 50, 51, 48, 51, 54, 101, 98, 51, 45, 101, 97, 99, 48, 45, 52, 97, 101, 101, 45, 98, 100, 99, 48, 45, 57, 56, 49, 100, 51, 101, 55, 102, 55, 53, 55, 48, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 55, 50, 51, 56, 97, 54, 97, 101, 37, 50, 68, 102, 48, 57, 54, 37, 50, 68, 52, 99, 54, 54, 37, 50, 68, 98, 100, 101, 97, 37, 50, 68, 56, 99, 97, 54, 97, 56, 101, 48, 99, 53, 101, 97, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 49, 98, 97, 98, 100, 51, 53, 53, 45, 97, 55, 54, 54, 45, 52, 52, 50, 98, 45, 98, 57, 101, 50, 45, 52, 54, 97, 100, 48, 52, 53, 99, 53, 98, 48, 51, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-09T10:13:05Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/7238a6ae-f096-4c66-bdea-8ca6a8e0c5ea&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;c5969bc3-7d0c-48b6-ae79-e51426ff11d4\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://7238a6ae%2Df096%2D4c66%2Dbdea%2D8ca6a8e0c5ea/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;warmup\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T10:13:05.492536539Z\&quot;,\&quot;data\&quot;:{\&quot;index\&quot;:3},\&quot;application\&quot;:\&quot;7238a6ae-f096-4c66-bdea-8ca6a8e0c5ea\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;applicationuid\&quot;:\&quot;e50b0f6e-4bf5-424d-b000-7e562471040e\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;senderuid\&quot;:\&quot;23036eb3-eac0-4aee-bdc0-981d3e7f7570\&quot;,\&quot;partitionkey\&quot;:\&quot;7238a6ae%2Df096%2D4c66%2Dbdea%2D8ca6a8e0c5ea/device1\&quot;,\&quot;deviceuid\&quot;:\&quot;1babd355-a766-442b-b9e2-46ad045c5b03\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;}&quot; }
[2022-05-09T10:13:06Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-09T10:13:06Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-09T10:13:06Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-09T10:13:06Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry/device1
[2022-05-09T10:13:06Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005/mqtt&quot;, client_id: &quot;eaf6d5d6-5e25-4bae-bdf7-946c44d6d9fb&quot;, persistence: None, user_data: None }
[2022-05-09T10:13:06Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T10:13:06Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55efdbef77f0
[2022-05-09T10:13:06Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55efdbef77f0
[2022-05-09T10:13:06Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x55efdc19f040, password: 0x55efdc19c4c0, connectTimeout: 30, retryInterval: 0, ssl: 0x55efdc2da380, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55efdc19f080, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;gateway1@7238a6ae-f096-4c66-bdea-8ca6a8e0c5ea&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T10:13:07Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55efdbf123b0 } }, data: MessageData { topic: &quot;telemetry/device1&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55efdbf123b0 } } } }
[2022-05-09T10:13:07Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-09T10:13:07Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 640, payload: 0x7f0ed000d460, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/7238a6ae-f096-4c66-bdea-8ca6a8e0c5ea&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 53, 101, 48, 97, 100, 57, 101, 99, 45, 51, 100, 51, 101, 45, 52, 52, 50, 57, 45, 97, 98, 52, 49, 45, 100, 49, 102, 100, 100, 57, 56, 52, 101, 50, 51, 49, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 55, 50, 51, 56, 97, 54, 97, 101, 37, 50, 68, 102, 48, 57, 54, 37, 50, 68, 52, 99, 54, 54, 37, 50, 68, 98, 100, 101, 97, 37, 50, 68, 56, 99, 97, 54, 97, 56, 101, 48, 99, 53, 101, 97, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 48, 58, 49, 51, 58, 48, 54, 46, 56, 48, 49, 55, 51, 57, 55, 53, 53, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 55, 50, 51, 56, 97, 54, 97, 101, 37, 50, 68, 102, 48, 57, 54, 37, 50, 68, 52, 99, 54, 54, 37, 50, 68, 98, 100, 101, 97, 37, 50, 68, 56, 99, 97, 54, 97, 56, 101, 48, 99, 53, 101, 97, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 50, 51, 48, 51, 54, 101, 98, 51, 45, 101, 97, 99, 48, 45, 52, 97, 101, 101, 45, 98, 100, 99, 48, 45, 57, 56, 49, 100, 51, 101, 55, 102, 55, 53, 55, 48, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 101, 53, 48, 98, 48, 102, 54, 101, 45, 52, 98, 102, 53, 45, 52, 50, 52, 100, 45, 98, 48, 48, 48, 45, 55, 101, 53, 54, 50, 52, 55, 49, 48, 52, 48, 101, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 55, 50, 51, 56, 97, 54, 97, 101, 45, 102, 48, 57, 54, 45, 52, 99, 54, 54, 45, 98, 100, 101, 97, 45, 56, 99, 97, 54, 97, 56, 101, 48, 99, 53, 101, 97, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 50, 51, 48, 51, 54, 101, 98, 51, 45, 101, 97, 99, 48, 45, 52, 97, 101, 101, 45, 98, 100, 99, 48, 45, 57, 56, 49, 100, 51, 101, 55, 102, 55, 53, 55, 48, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-09T10:13:07Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/7238a6ae-f096-4c66-bdea-8ca6a8e0c5ea&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;5e0ad9ec-3d3e-4429-ab41-d1fdd984e231\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://7238a6ae%2Df096%2D4c66%2Dbdea%2D8ca6a8e0c5ea/gateway1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T10:13:06.801739755Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:true},\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;partitionkey\&quot;:\&quot;7238a6ae%2Df096%2D4c66%2Dbdea%2D8ca6a8e0c5ea/gateway1\&quot;,\&quot;senderuid\&quot;:\&quot;23036eb3-eac0-4aee-bdc0-981d3e7f7570\&quot;,\&quot;applicationuid\&quot;:\&quot;e50b0f6e-4bf5-424d-b000-7e562471040e\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;device\&quot;:\&quot;gateway1\&quot;,\&quot;application\&quot;:\&quot;7238a6ae-f096-4c66-bdea-8ca6a8e0c5ea\&quot;,\&quot;deviceuid\&quot;:\&quot;23036eb3-eac0-4aee-bdc0-981d3e7f7570\&quot;}&quot; }
[2022-05-09T10:13:07Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 641, payload: 0x7f0ed00170c0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/7238a6ae-f096-4c66-bdea-8ca6a8e0c5ea&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 48, 52, 48, 100, 99, 52, 99, 55, 45, 99, 56, 48, 52, 45, 52, 53, 57, 51, 45, 57, 53, 101, 51, 45, 52, 54, 57, 101, 101, 52, 98, 54, 53, 50, 57, 50, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 55, 50, 51, 56, 97, 54, 97, 101, 37, 50, 68, 102, 48, 57, 54, 37, 50, 68, 52, 99, 54, 54, 37, 50, 68, 98, 100, 101, 97, 37, 50, 68, 56, 99, 97, 54, 97, 56, 101, 48, 99, 53, 101, 97, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 48, 58, 49, 51, 58, 48, 55, 46, 57, 48, 50, 56, 56, 57, 51, 54, 50, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 102, 97, 108, 115, 101, 125, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 50, 51, 48, 51, 54, 101, 98, 51, 45, 101, 97, 99, 48, 45, 52, 97, 101, 101, 45, 98, 100, 99, 48, 45, 57, 56, 49, 100, 51, 101, 55, 102, 55, 53, 55, 48, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 101, 53, 48, 98, 48, 102, 54, 101, 45, 52, 98, 102, 53, 45, 52, 50, 52, 100, 45, 98, 48, 48, 48, 45, 55, 101, 53, 54, 50, 52, 55, 49, 48, 52, 48, 101, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 55, 50, 51, 56, 97, 54, 97, 101, 37, 50, 68, 102, 48, 57, 54, 37, 50, 68, 52, 99, 54, 54, 37, 50, 68, 98, 100, 101, 97, 37, 50, 68, 56, 99, 97, 54, 97, 56, 101, 48, 99, 53, 101, 97, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 50, 51, 48, 51, 54, 101, 98, 51, 45, 101, 97, 99, 48, 45, 52, 97, 101, 101, 45, 98, 100, 99, 48, 45, 57, 56, 49, 100, 51, 101, 55, 102, 55, 53, 55, 48, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 55, 50, 51, 56, 97, 54, 97, 101, 45, 102, 48, 57, 54, 45, 52, 99, 54, 54, 45, 98, 100, 101, 97, 45, 56, 99, 97, 54, 97, 56, 101, 48, 99, 53, 101, 97, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-09T10:13:07Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/7238a6ae-f096-4c66-bdea-8ca6a8e0c5ea&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;040dc4c7-c804-4593-95e3-469ee4b65292\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://7238a6ae%2Df096%2D4c66%2Dbdea%2D8ca6a8e0c5ea/gateway1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T10:13:07.902889362Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:false},\&quot;senderuid\&quot;:\&quot;23036eb3-eac0-4aee-bdc0-981d3e7f7570\&quot;,\&quot;applicationuid\&quot;:\&quot;e50b0f6e-4bf5-424d-b000-7e562471040e\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;partitionkey\&quot;:\&quot;7238a6ae%2Df096%2D4c66%2Dbdea%2D8ca6a8e0c5ea/gateway1\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;deviceuid\&quot;:\&quot;23036eb3-eac0-4aee-bdc0-981d3e7f7570\&quot;,\&quot;application\&quot;:\&quot;7238a6ae-f096-4c66-bdea-8ca6a8e0c5ea\&quot;,\&quot;device\&quot;:\&quot;gateway1\&quot;}&quot; }
[2022-05-09T10:13:08Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 630, payload: 0x7f0ed000d460, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/7238a6ae-f096-4c66-bdea-8ca6a8e0c5ea&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 52, 100, 97, 48, 97, 49, 102, 56, 45, 98, 50, 101, 51, 45, 52, 98, 102, 97, 45, 56, 100, 98, 51, 45, 102, 102, 100, 100, 101, 97, 53, 55, 57, 48, 51, 100, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 55, 50, 51, 56, 97, 54, 97, 101, 37, 50, 68, 102, 48, 57, 54, 37, 50, 68, 52, 99, 54, 54, 37, 50, 68, 98, 100, 101, 97, 37, 50, 68, 56, 99, 97, 54, 97, 56, 101, 48, 99, 53, 101, 97, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 111, 99, 116, 101, 116, 45, 115, 116, 114, 101, 97, 109, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 116, 101, 108, 101, 109, 101, 116, 114, 121, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 48, 58, 49, 51, 58, 48, 55, 46, 57, 48, 49, 57, 50, 48, 52, 53, 48, 90, 34, 44, 34, 100, 97, 116, 97, 95, 98, 97, 115, 101, 54, 52, 34, 58, 34, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 55, 50, 51, 56, 97, 54, 97, 101, 37, 50, 68, 102, 48, 57, 54, 37, 50, 68, 52, 99, 54, 54, 37, 50, 68, 98, 100, 101, 97, 37, 50, 68, 56, 99, 97, 54, 97, 56, 101, 48, 99, 53, 101, 97, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 49, 98, 97, 98, 100, 51, 53, 53, 45, 97, 55, 54, 54, 45, 52, 52, 50, 98, 45, 98, 57, 101, 50, 45, 52, 54, 97, 100, 48, 52, 53, 99, 53, 98, 48, 51, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 50, 51, 48, 51, 54, 101, 98, 51, 45, 101, 97, 99, 48, 45, 52, 97, 101, 101, 45, 98, 100, 99, 48, 45, 57, 56, 49, 100, 51, 101, 55, 102, 55, 53, 55, 48, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 55, 50, 51, 56, 97, 54, 97, 101, 45, 102, 48, 57, 54, 45, 52, 99, 54, 54, 45, 98, 100, 101, 97, 45, 56, 99, 97, 54, 97, 56, 101, 48, 99, 53, 101, 97, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 101, 53, 48, 98, 48, 102, 54, 101, 45, 52, 98, 102, 53, 45, 52, 50, 52, 100, 45, 98, 48, 48, 48, 45, 55, 101, 53, 54, 50, 52, 55, 49, 48, 52, 48, 101, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-09T10:13:08Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/7238a6ae-f096-4c66-bdea-8ca6a8e0c5ea&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;4da0a1f8-b2e3-4bfa-8db3-ffddea57903d\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://7238a6ae%2Df096%2D4c66%2Dbdea%2D8ca6a8e0c5ea/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/octet-stream\&quot;,\&quot;subject\&quot;:\&quot;telemetry\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T10:13:07.901920450Z\&quot;,\&quot;data_base64\&quot;:\&quot;\&quot;,\&quot;partitionkey\&quot;:\&quot;7238a6ae%2Df096%2D4c66%2Dbdea%2D8ca6a8e0c5ea/device1\&quot;,\&quot;deviceuid\&quot;:\&quot;1babd355-a766-442b-b9e2-46ad045c5b03\&quot;,\&quot;senderuid\&quot;:\&quot;23036eb3-eac0-4aee-bdc0-981d3e7f7570\&quot;,\&quot;application\&quot;:\&quot;7238a6ae-f096-4c66-bdea-8ca6a8e0c5ea\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;applicationuid\&quot;:\&quot;e50b0f6e-4bf5-424d-b000-7e562471040e\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;}&quot; }
[2022-05-09T10:13:08Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-09T10:13:08Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-09T10:13:08Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-09T10:13:08Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;7238a6ae-f096-4c66-bdea-8ca6a8e0c5ea&quot;, device: &quot;gateway1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`,
 right: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;7238a6ae-f096-4c66-bdea-8ca6a8e0c5ea&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`: Position #0&#x27;, src/tools/assert.rs:35:39
[2022-05-09T10:13:08Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-09T10:13:08Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;7238a6ae-f096-4c66-bdea-8ca6a8e0c5ea&quot; &quot;device1&quot;
[2022-05-09T10:13:08Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:13:08Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-05-09T10:13:08Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;7238a6ae-f096-4c66-bdea-8ca6a8e0c5ea&quot; &quot;gateway1&quot;
[2022-05-09T10:13:08Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:13:08Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;7238a6ae-f096-4c66-bdea-8ca6a8e0c5ea&#x27;
[2022-05-09T10:13:08Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;7238a6ae-f096-4c66-bdea-8ca6a8e0c5ea&quot;
[2022-05-09T10:13:08Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 7238a6ae-f096-4c66-bdea-8ca6a8e0c5ea deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_2::integration_version_1::integration_ws_2

**Duration**: 14s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-09T10:13:10Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-09T10:13:10Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T10:13:10Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T10:13:10Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T10:13:10Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T10:13:11Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-09T10:13:13Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-09T10:13:13Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T10:13:13Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T10:13:13Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T10:13:15Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI0NDVmMTM5Zi0wNjNjLTRhZDgtODkwYi1mNTg1OTQ0NjFiZDAifQ.eyJleHAiOjE2NTIwOTI5OTUsImlhdCI6MTY1MjA5MTE5NSwianRpIjoiOWIxZmVjY2EtNDI5NS00ODYxLTg3MzMtMWNkYmZhNDU2YzZmIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjNkZWIxOWY5LWM3NDYtNGIwMC1hOTA5LTJiOTg4NTVjZTRmMyIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IkVkWjRyQTRGTWx1X1Q5TExnWUROLXciLCJzZXNzaW9uX3N0YXRlIjoiZTY2NDg1MDYtMjM0OS00NDA5LWI3NTgtMjIwZWZlYWJhZDQxIiwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImU2NjQ4NTA2LTIzNDktNDQwOS1iNzU4LTIyMGVmZWFiYWQ0MSJ9.cpaTri9MUq5xKC_I1DHnmJIYhAOrL-VsQcEO-95K-FM
[2022-05-09T10:13:15Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-09T10:13:15Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-09T10:13:15Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI0NDVmMTM5Zi0wNjNjLTRhZDgtODkwYi1mNTg1OTQ0NjFiZDAifQ.eyJleHAiOjE2NTIwOTI5OTUsImlhdCI6MTY1MjA5MTE5NSwianRpIjoiOWIxZmVjY2EtNDI5NS00ODYxLTg3MzMtMWNkYmZhNDU2YzZmIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjNkZWIxOWY5LWM3NDYtNGIwMC1hOTA5LTJiOTg4NTVjZTRmMyIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IkVkWjRyQTRGTWx1X1Q5TExnWUROLXciLCJzZXNzaW9uX3N0YXRlIjoiZTY2NDg1MDYtMjM0OS00NDA5LWI3NTgtMjIwZWZlYWJhZDQxIiwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImU2NjQ4NTA2LTIzNDktNDQwOS1iNzU4LTIyMGVmZWFiYWQ0MSJ9.cpaTri9MUq5xKC_I1DHnmJIYhAOrL-VsQcEO-95K-FM&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-09T10:13:15Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:13:16Z INFO  drogue_cloud_tests::resources::apps] Create application: 05416f5d-e435-47fb-a256-ff77783aaf0d
[2022-05-09T10:13:16Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;05416f5d-e435-47fb-a256-ff77783aaf0d&quot;
[2022-05-09T10:13:16Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 05416f5d-e435-47fb-a256-ff77783aaf0d created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:13:16Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;05416f5d-e435-47fb-a256-ff77783aaf0d&quot;
[2022-05-09T10:13:16Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T10:13:16.057052Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 1,\n    \&quot;name\&quot;: \&quot;05416f5d-e435-47fb-a256-ff77783aaf0d\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;7faac4d0-1d77-40de-ab4e-504ab68217fc\&quot;,\n    \&quot;uid\&quot;: \&quot;2bb16e82-0253-4886-9f84-a59376d3acd3\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:13:16.070901560Z\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: HasFinalizer\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:13:16.070930103Z\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:13:16.070864421Z\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:13:16.070865703Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:13:16.070866274Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:13:16.070867086Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:13:16.070868298Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:13:16.070874429Z\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:13:16Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T10:13:16.057052Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(1), &quot;name&quot;: String(&quot;05416f5d-e435-47fb-a256-ff77783aaf0d&quot;), &quot;resourceVersion&quot;: String(&quot;7faac4d0-1d77-40de-ab4e-504ab68217fc&quot;), &quot;uid&quot;: String(&quot;2bb16e82-0253-4886-9f84-a59376d3acd3&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:13:16.070901560Z&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: HasFinalizer&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:13:16.070930103Z&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:13:16.070864421Z&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:13:16.070865703Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:13:16.070866274Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:13:16.070867086Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:13:16.070868298Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:13:16.070874429Z&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(0)})})})
[2022-05-09T10:13:16Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-09T10:13:17Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;05416f5d-e435-47fb-a256-ff77783aaf0d&quot;
[2022-05-09T10:13:17Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T10:13:16.057052Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 8,\n    \&quot;name\&quot;: \&quot;05416f5d-e435-47fb-a256-ff77783aaf0d\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;c15ac8d6-3816-4431-8235-8bc9cbf2fc2e\&quot;,\n    \&quot;uid\&quot;: \&quot;2bb16e82-0253-4886-9f84-a59376d3acd3\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:13:16.356662664Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:13:16.356748333Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:13:16.100592342Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:13:16.106965296Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:13:16.176048525Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:13:16.183954774Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:13:16.356561814Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:13:16.356617850Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 7,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;YmYFOqWGd2K8\&quot;,\n        \&quot;username\&quot;: \&quot;user-05416f5d-e435-47fb-a256-ff77783aaf0d\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:13:17Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T10:13:16.057052Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(8), &quot;name&quot;: String(&quot;05416f5d-e435-47fb-a256-ff77783aaf0d&quot;), &quot;resourceVersion&quot;: String(&quot;c15ac8d6-3816-4431-8235-8bc9cbf2fc2e&quot;), &quot;uid&quot;: String(&quot;2bb16e82-0253-4886-9f84-a59376d3acd3&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:13:16.356662664Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:13:16.356748333Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:13:16.100592342Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:13:16.106965296Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:13:16.176048525Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:13:16.183954774Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:13:16.356561814Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:13:16.356617850Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(7), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;YmYFOqWGd2K8&quot;), &quot;username&quot;: String(&quot;user-05416f5d-e435-47fb-a256-ff77783aaf0d&quot;)})})})})
[2022-05-09T10:13:17Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-09T10:13:17Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;05416f5d-e435-47fb-a256-ff77783aaf0d&quot;
[2022-05-09T10:13:17Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T10:13:16.057052Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 8,\n    \&quot;name\&quot;: \&quot;05416f5d-e435-47fb-a256-ff77783aaf0d\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;c15ac8d6-3816-4431-8235-8bc9cbf2fc2e\&quot;,\n    \&quot;uid\&quot;: \&quot;2bb16e82-0253-4886-9f84-a59376d3acd3\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:13:16.356662664Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:13:16.356748333Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:13:16.100592342Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:13:16.106965296Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:13:16.176048525Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:13:16.183954774Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:13:16.356561814Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:13:16.356617850Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 7,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;YmYFOqWGd2K8\&quot;,\n        \&quot;username\&quot;: \&quot;user-05416f5d-e435-47fb-a256-ff77783aaf0d\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:13:17Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T10:13:16.057052Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(8), &quot;name&quot;: String(&quot;05416f5d-e435-47fb-a256-ff77783aaf0d&quot;), &quot;resourceVersion&quot;: String(&quot;c15ac8d6-3816-4431-8235-8bc9cbf2fc2e&quot;), &quot;uid&quot;: String(&quot;2bb16e82-0253-4886-9f84-a59376d3acd3&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:13:16.356662664Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:13:16.356748333Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:13:16.100592342Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:13:16.106965296Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:13:16.176048525Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:13:16.183954774Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:13:16.356561814Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:13:16.356617850Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(7), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;YmYFOqWGd2K8&quot;), &quot;username&quot;: String(&quot;user-05416f5d-e435-47fb-a256-ff77783aaf0d&quot;)})})})})
[2022-05-09T10:13:17Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-09T10:13:17Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-05-09T10:13:17Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;05416f5d-e435-47fb-a256-ff77783aaf0d&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-09T10:13:17Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:13:17Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:13:17Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T10:13:17Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T10:13:17Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJXRG4zQ2wwMVNsYVpRRnRTbUpuS2JqWC1wcXdsR21xWDhSUFNWSHgxUHgwIn0.eyJleHAiOjE2NTIwOTE0OTUsImlhdCI6MTY1MjA5MTE5NSwiYXV0aF90aW1lIjoxNjUyMDkxMTkyLCJqdGkiOiI1Y2YyZTFmYy0wY2QxLTQ0ZDYtYjdlNS0wMzVmMzE3MmQ1NGMiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiM2RlYjE5ZjktYzc0Ni00YjAwLWE5MDktMmI5ODg1NWNlNGYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJFZFo0ckE0Rk1sdV9UOUxMZ1lETi13Iiwic2Vzc2lvbl9zdGF0ZSI6ImU2NjQ4NTA2LTIzNDktNDQwOS1iNzU4LTIyMGVmZWFiYWQ0MSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImU2NjQ4NTA2LTIzNDktNDQwOS1iNzU4LTIyMGVmZWFiYWQ0MSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.sq5ZODZQNMB2Jhr7pWvFEAeq7Ua8LSQsXqruhJPvFDIicSvuN6zGYfPSNWvQKojOZ4o5o9tieAWVq3PeNbifKj0p2C65G_CQ1JbC206G_IWaB3zTSDk7-zwetifb3dKRhrMK8IWSV3X0XnwAt7E1FgpdvQJEltYSqbeooI4GFDPreY78USpQ8RTurrdpUokjEtpznFKIFAFN9XuhBlq60Vs1R1S-g61JmzlEOnvUla2tqKg9cplWRsiEAFoTRngvPf8pSSAKc4S8fc8IoGV7ggomJ4x55uNj5C8cyiepcpierPLzNVYc2y6OtQTJPLf_9LUtS3ZGaPkwyLW-9TCQkA\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:13:17Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T10:13:17Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-09T10:13:17Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-09T10:13:17Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;05416f5d-e435-47fb-a256-ff77783aaf0d&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-05-09T10:13:17Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:13:17Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt
[2022-05-09T10:13:17Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T10:13:17Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJXRG4zQ2wwMVNsYVpRRnRTbUpuS2JqWC1wcXdsR21xWDhSUFNWSHgxUHgwIn0.eyJleHAiOjE2NTIwOTE0OTUsImlhdCI6MTY1MjA5MTE5NSwiYXV0aF90aW1lIjoxNjUyMDkxMTkyLCJqdGkiOiI1Y2YyZTFmYy0wY2QxLTQ0ZDYtYjdlNS0wMzVmMzE3MmQ1NGMiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiM2RlYjE5ZjktYzc0Ni00YjAwLWE5MDktMmI5ODg1NWNlNGYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJFZFo0ckE0Rk1sdV9UOUxMZ1lETi13Iiwic2Vzc2lvbl9zdGF0ZSI6ImU2NjQ4NTA2LTIzNDktNDQwOS1iNzU4LTIyMGVmZWFiYWQ0MSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImU2NjQ4NTA2LTIzNDktNDQwOS1iNzU4LTIyMGVmZWFiYWQ0MSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.sq5ZODZQNMB2Jhr7pWvFEAeq7Ua8LSQsXqruhJPvFDIicSvuN6zGYfPSNWvQKojOZ4o5o9tieAWVq3PeNbifKj0p2C65G_CQ1JbC206G_IWaB3zTSDk7-zwetifb3dKRhrMK8IWSV3X0XnwAt7E1FgpdvQJEltYSqbeooI4GFDPreY78USpQ8RTurrdpUokjEtpznFKIFAFN9XuhBlq60Vs1R1S-g61JmzlEOnvUla2tqKg9cplWRsiEAFoTRngvPf8pSSAKc4S8fc8IoGV7ggomJ4x55uNj5C8cyiepcpierPLzNVYc2y6OtQTJPLf_9LUtS3ZGaPkwyLW-9TCQkA\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:13:17Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 4, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt&quot;, client_id: &quot;33cbef55-4b98-4edf-bdce-e229304f5cd8&quot;, persistence: None, user_data: None }
[2022-05-09T10:13:17Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T10:13:17Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55efdc2cc0e0
[2022-05-09T10:13:17Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55efdc2cc0e0
[2022-05-09T10:13:17Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 1, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x55efdc1cf460, connectTimeout: 30, retryInterval: 0, ssl: 0x55efdc2c0e90, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 4, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 0, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55efdc17a4e0, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJXRG4zQ2wwMVNsYVpRRnRTbUpuS2JqWC1wcXdsR21xWDhSUFNWSHgxUHgwIn0.eyJleHAiOjE2NTIwOTE0OTUsImlhdCI6MTY1MjA5MTE5NSwiYXV0aF90aW1lIjoxNjUyMDkxMTkyLCJqdGkiOiI1Y2YyZTFmYy0wY2QxLTQ0ZDYtYjdlNS0wMzVmMzE3MmQ1NGMiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiM2RlYjE5ZjktYzc0Ni00YjAwLWE5MDktMmI5ODg1NWNlNGYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJFZFo0ckE0Rk1sdV9UOUxMZ1lETi13Iiwic2Vzc2lvbl9zdGF0ZSI6ImU2NjQ4NTA2LTIzNDktNDQwOS1iNzU4LTIyMGVmZWFiYWQ0MSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImU2NjQ4NTA2LTIzNDktNDQwOS1iNzU4LTIyMGVmZWFiYWQ0MSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.sq5ZODZQNMB2Jhr7pWvFEAeq7Ua8LSQsXqruhJPvFDIicSvuN6zGYfPSNWvQKojOZ4o5o9tieAWVq3PeNbifKj0p2C65G_CQ1JbC206G_IWaB3zTSDk7-zwetifb3dKRhrMK8IWSV3X0XnwAt7E1FgpdvQJEltYSqbeooI4GFDPreY78USpQ8RTurrdpUokjEtpznFKIFAFN9XuhBlq60Vs1R1S-g61JmzlEOnvUla2tqKg9cplWRsiEAFoTRngvPf8pSSAKc4S8fc8IoGV7ggomJ4x55uNj5C8cyiepcpierPLzNVYc2y6OtQTJPLf_9LUtS3ZGaPkwyLW-9TCQkA&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T10:13:17Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/05416f5d-e435-47fb-a256-ff77783aaf0d&quot;&#x27; @ QOS 0
[2022-05-09T10:13:17Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-09T10:13:17Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-09T10:13:17Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:13:17Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:13:17Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:13:17Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:13:18Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:13:18Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:13:18Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:13:18Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:13:19Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:13:19Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:13:19Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:13:19Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:13:20Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:13:20Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:13:20Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:13:20Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:13:20Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 621, payload: 0x7f0ed002da30, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/05416f5d-e435-47fb-a256-ff77783aaf0d&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 99, 97, 98, 52, 97, 56, 48, 102, 45, 51, 100, 100, 98, 45, 52, 48, 49, 55, 45, 97, 57, 49, 99, 45, 100, 97, 48, 48, 48, 97, 54, 57, 52, 100, 52, 49, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 48, 53, 52, 49, 54, 102, 53, 100, 37, 50, 68, 101, 52, 51, 53, 37, 50, 68, 52, 55, 102, 98, 37, 50, 68, 97, 50, 53, 54, 37, 50, 68, 102, 102, 55, 55, 55, 56, 51, 97, 97, 102, 48, 100, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 119, 97, 114, 109, 117, 112, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 48, 58, 49, 51, 58, 50, 48, 46, 52, 57, 55, 50, 50, 55, 49, 48, 55, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 50, 98, 98, 49, 54, 101, 56, 50, 45, 48, 50, 53, 51, 45, 52, 56, 56, 54, 45, 57, 102, 56, 52, 45, 97, 53, 57, 51, 55, 54, 100, 51, 97, 99, 100, 51, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 57, 50, 55, 57, 98, 52, 101, 53, 45, 99, 48, 53, 48, 45, 52, 97, 102, 102, 45, 98, 56, 52, 55, 45, 57, 57, 51, 97, 97, 102, 53, 53, 100, 48, 53, 54, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 48, 53, 52, 49, 54, 102, 53, 100, 45, 101, 52, 51, 53, 45, 52, 55, 102, 98, 45, 97, 50, 53, 54, 45, 102, 102, 55, 55, 55, 56, 51, 97, 97, 102, 48, 100, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 48, 53, 52, 49, 54, 102, 53, 100, 37, 50, 68, 101, 52, 51, 53, 37, 50, 68, 52, 55, 102, 98, 37, 50, 68, 97, 50, 53, 54, 37, 50, 68, 102, 102, 55, 55, 55, 56, 51, 97, 97, 102, 48, 100, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 55, 101, 55, 51, 53, 56, 52, 57, 45, 98, 54, 101, 56, 45, 52, 54, 52, 49, 45, 97, 100, 52, 57, 45, 48, 48, 57, 51, 100, 98, 55, 56, 99, 53, 97, 55, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-09T10:13:20Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/05416f5d-e435-47fb-a256-ff77783aaf0d&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;cab4a80f-3ddb-4017-a91c-da000a694d41\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://05416f5d%2De435%2D47fb%2Da256%2Dff77783aaf0d/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;warmup\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T10:13:20.497227107Z\&quot;,\&quot;data\&quot;:{\&quot;index\&quot;:3},\&quot;applicationuid\&quot;:\&quot;2bb16e82-0253-4886-9f84-a59376d3acd3\&quot;,\&quot;deviceuid\&quot;:\&quot;9279b4e5-c050-4aff-b847-993aaf55d056\&quot;,\&quot;application\&quot;:\&quot;05416f5d-e435-47fb-a256-ff77783aaf0d\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;partitionkey\&quot;:\&quot;05416f5d%2De435%2D47fb%2Da256%2Dff77783aaf0d/device1\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;senderuid\&quot;:\&quot;7e735849-b6e8-4641-ad49-0093db78c5a7\&quot;}&quot; }
[2022-05-09T10:13:21Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-09T10:13:21Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-09T10:13:21Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-09T10:13:21Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry/device1
[2022-05-09T10:13:21Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005/mqtt&quot;, client_id: &quot;47c6a8dd-2783-44a3-b912-4eceebe76a89&quot;, persistence: None, user_data: None }
[2022-05-09T10:13:21Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T10:13:21Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55efdbfea8a0
[2022-05-09T10:13:21Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55efdbfea8a0
[2022-05-09T10:13:21Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x55efdc1d0ff0, password: 0x55efdc2bf0b0, connectTimeout: 30, retryInterval: 0, ssl: 0x55efdbe643e0, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55efdc2c54b0, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;gateway1@05416f5d-e435-47fb-a256-ff77783aaf0d&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T10:13:22Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 640, payload: 0x7f0ed00300e0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/05416f5d-e435-47fb-a256-ff77783aaf0d&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 100, 50, 50, 50, 52, 98, 101, 52, 45, 53, 54, 48, 102, 45, 52, 53, 50, 48, 45, 56, 98, 49, 99, 45, 48, 98, 57, 50, 54, 54, 53, 48, 100, 48, 51, 50, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 48, 53, 52, 49, 54, 102, 53, 100, 37, 50, 68, 101, 52, 51, 53, 37, 50, 68, 52, 55, 102, 98, 37, 50, 68, 97, 50, 53, 54, 37, 50, 68, 102, 102, 55, 55, 55, 56, 51, 97, 97, 102, 48, 100, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 48, 58, 49, 51, 58, 50, 49, 46, 57, 54, 55, 49, 56, 52, 53, 51, 53, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 50, 98, 98, 49, 54, 101, 56, 50, 45, 48, 50, 53, 51, 45, 52, 56, 56, 54, 45, 57, 102, 56, 52, 45, 97, 53, 57, 51, 55, 54, 100, 51, 97, 99, 100, 51, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 48, 53, 52, 49, 54, 102, 53, 100, 45, 101, 52, 51, 53, 45, 52, 55, 102, 98, 45, 97, 50, 53, 54, 45, 102, 102, 55, 55, 55, 56, 51, 97, 97, 102, 48, 100, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 55, 101, 55, 51, 53, 56, 52, 57, 45, 98, 54, 101, 56, 45, 52, 54, 52, 49, 45, 97, 100, 52, 57, 45, 48, 48, 57, 51, 100, 98, 55, 56, 99, 53, 97, 55, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 48, 53, 52, 49, 54, 102, 53, 100, 37, 50, 68, 101, 52, 51, 53, 37, 50, 68, 52, 55, 102, 98, 37, 50, 68, 97, 50, 53, 54, 37, 50, 68, 102, 102, 55, 55, 55, 56, 51, 97, 97, 102, 48, 100, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 55, 101, 55, 51, 53, 56, 52, 57, 45, 98, 54, 101, 56, 45, 52, 54, 52, 49, 45, 97, 100, 52, 57, 45, 48, 48, 57, 51, 100, 98, 55, 56, 99, 53, 97, 55, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-09T10:13:22Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/05416f5d-e435-47fb-a256-ff77783aaf0d&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;d2224be4-560f-4520-8b1c-0b926650d032\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://05416f5d%2De435%2D47fb%2Da256%2Dff77783aaf0d/gateway1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T10:13:21.967184535Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:true},\&quot;applicationuid\&quot;:\&quot;2bb16e82-0253-4886-9f84-a59376d3acd3\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;application\&quot;:\&quot;05416f5d-e435-47fb-a256-ff77783aaf0d\&quot;,\&quot;deviceuid\&quot;:\&quot;7e735849-b6e8-4641-ad49-0093db78c5a7\&quot;,\&quot;partitionkey\&quot;:\&quot;05416f5d%2De435%2D47fb%2Da256%2Dff77783aaf0d/gateway1\&quot;,\&quot;device\&quot;:\&quot;gateway1\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;senderuid\&quot;:\&quot;7e735849-b6e8-4641-ad49-0093db78c5a7\&quot;}&quot; }
[2022-05-09T10:13:22Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55efdc06a260 } }, data: MessageData { topic: &quot;telemetry/device1&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55efdc06a260 } } } }
[2022-05-09T10:13:22Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-09T10:13:22Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 641, payload: 0x7f0ed000abf0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/05416f5d-e435-47fb-a256-ff77783aaf0d&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 101, 102, 101, 57, 52, 97, 50, 56, 45, 97, 102, 54, 102, 45, 52, 56, 52, 49, 45, 97, 54, 98, 52, 45, 97, 50, 102, 97, 53, 48, 51, 49, 56, 97, 50, 55, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 48, 53, 52, 49, 54, 102, 53, 100, 37, 50, 68, 101, 52, 51, 53, 37, 50, 68, 52, 55, 102, 98, 37, 50, 68, 97, 50, 53, 54, 37, 50, 68, 102, 102, 55, 55, 55, 56, 51, 97, 97, 102, 48, 100, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 48, 58, 49, 51, 58, 50, 50, 46, 56, 51, 48, 51, 52, 50, 57, 57, 49, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 102, 97, 108, 115, 101, 125, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 48, 53, 52, 49, 54, 102, 53, 100, 45, 101, 52, 51, 53, 45, 52, 55, 102, 98, 45, 97, 50, 53, 54, 45, 102, 102, 55, 55, 55, 56, 51, 97, 97, 102, 48, 100, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 55, 101, 55, 51, 53, 56, 52, 57, 45, 98, 54, 101, 56, 45, 52, 54, 52, 49, 45, 97, 100, 52, 57, 45, 48, 48, 57, 51, 100, 98, 55, 56, 99, 53, 97, 55, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 48, 53, 52, 49, 54, 102, 53, 100, 37, 50, 68, 101, 52, 51, 53, 37, 50, 68, 52, 55, 102, 98, 37, 50, 68, 97, 50, 53, 54, 37, 50, 68, 102, 102, 55, 55, 55, 56, 51, 97, 97, 102, 48, 100, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 55, 101, 55, 51, 53, 56, 52, 57, 45, 98, 54, 101, 56, 45, 52, 54, 52, 49, 45, 97, 100, 52, 57, 45, 48, 48, 57, 51, 100, 98, 55, 56, 99, 53, 97, 55, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 50, 98, 98, 49, 54, 101, 56, 50, 45, 48, 50, 53, 51, 45, 52, 56, 56, 54, 45, 57, 102, 56, 52, 45, 97, 53, 57, 51, 55, 54, 100, 51, 97, 99, 100, 51, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-09T10:13:22Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/05416f5d-e435-47fb-a256-ff77783aaf0d&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;efe94a28-af6f-4841-a6b4-a2fa50318a27\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://05416f5d%2De435%2D47fb%2Da256%2Dff77783aaf0d/gateway1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T10:13:22.830342991Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:false},\&quot;application\&quot;:\&quot;05416f5d-e435-47fb-a256-ff77783aaf0d\&quot;,\&quot;device\&quot;:\&quot;gateway1\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;senderuid\&quot;:\&quot;7e735849-b6e8-4641-ad49-0093db78c5a7\&quot;,\&quot;partitionkey\&quot;:\&quot;05416f5d%2De435%2D47fb%2Da256%2Dff77783aaf0d/gateway1\&quot;,\&quot;deviceuid\&quot;:\&quot;7e735849-b6e8-4641-ad49-0093db78c5a7\&quot;,\&quot;applicationuid\&quot;:\&quot;2bb16e82-0253-4886-9f84-a59376d3acd3\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;}&quot; }
[2022-05-09T10:13:23Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 630, payload: 0x7f0ed0030390, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/05416f5d-e435-47fb-a256-ff77783aaf0d&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 102, 51, 49, 51, 99, 102, 52, 53, 45, 102, 49, 98, 51, 45, 52, 101, 53, 99, 45, 56, 50, 97, 53, 45, 49, 56, 52, 101, 98, 49, 102, 101, 102, 50, 102, 98, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 48, 53, 52, 49, 54, 102, 53, 100, 37, 50, 68, 101, 52, 51, 53, 37, 50, 68, 52, 55, 102, 98, 37, 50, 68, 97, 50, 53, 54, 37, 50, 68, 102, 102, 55, 55, 55, 56, 51, 97, 97, 102, 48, 100, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 111, 99, 116, 101, 116, 45, 115, 116, 114, 101, 97, 109, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 116, 101, 108, 101, 109, 101, 116, 114, 121, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 48, 58, 49, 51, 58, 50, 50, 46, 56, 50, 57, 51, 56, 56, 52, 51, 55, 90, 34, 44, 34, 100, 97, 116, 97, 95, 98, 97, 115, 101, 54, 52, 34, 58, 34, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 57, 50, 55, 57, 98, 52, 101, 53, 45, 99, 48, 53, 48, 45, 52, 97, 102, 102, 45, 98, 56, 52, 55, 45, 57, 57, 51, 97, 97, 102, 53, 53, 100, 48, 53, 54, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 48, 53, 52, 49, 54, 102, 53, 100, 37, 50, 68, 101, 52, 51, 53, 37, 50, 68, 52, 55, 102, 98, 37, 50, 68, 97, 50, 53, 54, 37, 50, 68, 102, 102, 55, 55, 55, 56, 51, 97, 97, 102, 48, 100, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 48, 53, 52, 49, 54, 102, 53, 100, 45, 101, 52, 51, 53, 45, 52, 55, 102, 98, 45, 97, 50, 53, 54, 45, 102, 102, 55, 55, 55, 56, 51, 97, 97, 102, 48, 100, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 50, 98, 98, 49, 54, 101, 56, 50, 45, 48, 50, 53, 51, 45, 52, 56, 56, 54, 45, 57, 102, 56, 52, 45, 97, 53, 57, 51, 55, 54, 100, 51, 97, 99, 100, 51, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 55, 101, 55, 51, 53, 56, 52, 57, 45, 98, 54, 101, 56, 45, 52, 54, 52, 49, 45, 97, 100, 52, 57, 45, 48, 48, 57, 51, 100, 98, 55, 56, 99, 53, 97, 55, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-09T10:13:23Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/05416f5d-e435-47fb-a256-ff77783aaf0d&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;f313cf45-f1b3-4e5c-82a5-184eb1fef2fb\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://05416f5d%2De435%2D47fb%2Da256%2Dff77783aaf0d/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/octet-stream\&quot;,\&quot;subject\&quot;:\&quot;telemetry\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T10:13:22.829388437Z\&quot;,\&quot;data_base64\&quot;:\&quot;\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;deviceuid\&quot;:\&quot;9279b4e5-c050-4aff-b847-993aaf55d056\&quot;,\&quot;partitionkey\&quot;:\&quot;05416f5d%2De435%2D47fb%2Da256%2Dff77783aaf0d/device1\&quot;,\&quot;application\&quot;:\&quot;05416f5d-e435-47fb-a256-ff77783aaf0d\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;applicationuid\&quot;:\&quot;2bb16e82-0253-4886-9f84-a59376d3acd3\&quot;,\&quot;senderuid\&quot;:\&quot;7e735849-b6e8-4641-ad49-0093db78c5a7\&quot;}&quot; }
[2022-05-09T10:13:23Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-09T10:13:23Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-09T10:13:23Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-09T10:13:23Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;05416f5d-e435-47fb-a256-ff77783aaf0d&quot;, device: &quot;gateway1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`,
 right: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;05416f5d-e435-47fb-a256-ff77783aaf0d&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`: Position #0&#x27;, src/tools/assert.rs:35:39
[2022-05-09T10:13:23Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-09T10:13:23Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;05416f5d-e435-47fb-a256-ff77783aaf0d&quot; &quot;device1&quot;
[2022-05-09T10:13:23Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:13:23Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-05-09T10:13:23Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;05416f5d-e435-47fb-a256-ff77783aaf0d&quot; &quot;gateway1&quot;
[2022-05-09T10:13:23Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:13:23Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;05416f5d-e435-47fb-a256-ff77783aaf0d&#x27;
[2022-05-09T10:13:23Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;05416f5d-e435-47fb-a256-ff77783aaf0d&quot;
[2022-05-09T10:13:23Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 05416f5d-e435-47fb-a256-ff77783aaf0d deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_2::integration_version_2::integration_ws_1

**Duration**: 14s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-09T10:13:25Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-09T10:13:25Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T10:13:25Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T10:13:25Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T10:13:25Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T10:13:26Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-09T10:13:28Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-09T10:13:28Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T10:13:28Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T10:13:28Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T10:13:30Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI0NDVmMTM5Zi0wNjNjLTRhZDgtODkwYi1mNTg1OTQ0NjFiZDAifQ.eyJleHAiOjE2NTIwOTMwMDksImlhdCI6MTY1MjA5MTIwOSwianRpIjoiZGVkNzE1YzQtYjk3NC00MTcxLTk4MTQtMTcxYTdiMzFlMzk3IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjNkZWIxOWY5LWM3NDYtNGIwMC1hOTA5LTJiOTg4NTVjZTRmMyIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImRKaXNwUGJzVVFadWgxNGJaRjE0S2ciLCJzZXNzaW9uX3N0YXRlIjoiODQxOWIzNDktMjhkOC00YTEwLWIzNWYtZjdjNjhhMjgyYjA5Iiwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6Ijg0MTliMzQ5LTI4ZDgtNGExMC1iMzVmLWY3YzY4YTI4MmIwOSJ9.2gTNWZjJr6xlsgzpUoYShDh2YjP_1vhzw7GoTrEtvEA
[2022-05-09T10:13:30Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-09T10:13:30Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-09T10:13:30Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI0NDVmMTM5Zi0wNjNjLTRhZDgtODkwYi1mNTg1OTQ0NjFiZDAifQ.eyJleHAiOjE2NTIwOTMwMDksImlhdCI6MTY1MjA5MTIwOSwianRpIjoiZGVkNzE1YzQtYjk3NC00MTcxLTk4MTQtMTcxYTdiMzFlMzk3IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjNkZWIxOWY5LWM3NDYtNGIwMC1hOTA5LTJiOTg4NTVjZTRmMyIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImRKaXNwUGJzVVFadWgxNGJaRjE0S2ciLCJzZXNzaW9uX3N0YXRlIjoiODQxOWIzNDktMjhkOC00YTEwLWIzNWYtZjdjNjhhMjgyYjA5Iiwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6Ijg0MTliMzQ5LTI4ZDgtNGExMC1iMzVmLWY3YzY4YTI4MmIwOSJ9.2gTNWZjJr6xlsgzpUoYShDh2YjP_1vhzw7GoTrEtvEA&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-09T10:13:30Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:13:30Z INFO  drogue_cloud_tests::resources::apps] Create application: 0d12a8db-0af1-4730-838e-6fd40b867a87
[2022-05-09T10:13:30Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;0d12a8db-0af1-4730-838e-6fd40b867a87&quot;
[2022-05-09T10:13:30Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 0d12a8db-0af1-4730-838e-6fd40b867a87 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:13:30Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;0d12a8db-0af1-4730-838e-6fd40b867a87&quot;
[2022-05-09T10:13:30Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T10:13:30.956259Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 1,\n    \&quot;name\&quot;: \&quot;0d12a8db-0af1-4730-838e-6fd40b867a87\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;431756ff-9b36-4262-b7fa-8cc5459fc11c\&quot;,\n    \&quot;uid\&quot;: \&quot;d15ac861-9c08-45c3-99a9-e8497a049f48\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:13:30.968751260Z\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: HasFinalizer\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:13:30.968794851Z\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:13:30.968643629Z\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:13:30.968645232Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:13:30.968646063Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:13:30.968647396Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:13:30.968648748Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:13:30.968716164Z\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:13:30Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T10:13:30.956259Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(1), &quot;name&quot;: String(&quot;0d12a8db-0af1-4730-838e-6fd40b867a87&quot;), &quot;resourceVersion&quot;: String(&quot;431756ff-9b36-4262-b7fa-8cc5459fc11c&quot;), &quot;uid&quot;: String(&quot;d15ac861-9c08-45c3-99a9-e8497a049f48&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:13:30.968751260Z&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: HasFinalizer&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:13:30.968794851Z&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:13:30.968643629Z&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:13:30.968645232Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:13:30.968646063Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:13:30.968647396Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:13:30.968648748Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:13:30.968716164Z&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(0)})})})
[2022-05-09T10:13:30Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-09T10:13:31Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;0d12a8db-0af1-4730-838e-6fd40b867a87&quot;
[2022-05-09T10:13:32Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T10:13:30.956259Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 8,\n    \&quot;name\&quot;: \&quot;0d12a8db-0af1-4730-838e-6fd40b867a87\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;11ba3c12-18a4-4df1-89fb-3fe95a65799a\&quot;,\n    \&quot;uid\&quot;: \&quot;d15ac861-9c08-45c3-99a9-e8497a049f48\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:13:31.203813082Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:13:31.203859770Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:13:30.994524749Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:13:31.000800140Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:13:31.050012585Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:13:31.055548102Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:13:31.203713034Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:13:31.203731188Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 7,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;US1sMmfe3uwI\&quot;,\n        \&quot;username\&quot;: \&quot;user-0d12a8db-0af1-4730-838e-6fd40b867a87\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:13:32Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T10:13:30.956259Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(8), &quot;name&quot;: String(&quot;0d12a8db-0af1-4730-838e-6fd40b867a87&quot;), &quot;resourceVersion&quot;: String(&quot;11ba3c12-18a4-4df1-89fb-3fe95a65799a&quot;), &quot;uid&quot;: String(&quot;d15ac861-9c08-45c3-99a9-e8497a049f48&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:13:31.203813082Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:13:31.203859770Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:13:30.994524749Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:13:31.000800140Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:13:31.050012585Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:13:31.055548102Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:13:31.203713034Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:13:31.203731188Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(7), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;US1sMmfe3uwI&quot;), &quot;username&quot;: String(&quot;user-0d12a8db-0af1-4730-838e-6fd40b867a87&quot;)})})})})
[2022-05-09T10:13:32Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-09T10:13:32Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;0d12a8db-0af1-4730-838e-6fd40b867a87&quot;
[2022-05-09T10:13:32Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T10:13:30.956259Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 8,\n    \&quot;name\&quot;: \&quot;0d12a8db-0af1-4730-838e-6fd40b867a87\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;11ba3c12-18a4-4df1-89fb-3fe95a65799a\&quot;,\n    \&quot;uid\&quot;: \&quot;d15ac861-9c08-45c3-99a9-e8497a049f48\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:13:31.203813082Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:13:31.203859770Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:13:30.994524749Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:13:31.000800140Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:13:31.050012585Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:13:31.055548102Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:13:31.203713034Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:13:31.203731188Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 7,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;US1sMmfe3uwI\&quot;,\n        \&quot;username\&quot;: \&quot;user-0d12a8db-0af1-4730-838e-6fd40b867a87\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:13:32Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T10:13:30.956259Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(8), &quot;name&quot;: String(&quot;0d12a8db-0af1-4730-838e-6fd40b867a87&quot;), &quot;resourceVersion&quot;: String(&quot;11ba3c12-18a4-4df1-89fb-3fe95a65799a&quot;), &quot;uid&quot;: String(&quot;d15ac861-9c08-45c3-99a9-e8497a049f48&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:13:31.203813082Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:13:31.203859770Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:13:30.994524749Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:13:31.000800140Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:13:31.050012585Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:13:31.055548102Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:13:31.203713034Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:13:31.203731188Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(7), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;US1sMmfe3uwI&quot;), &quot;username&quot;: String(&quot;user-0d12a8db-0af1-4730-838e-6fd40b867a87&quot;)})})})})
[2022-05-09T10:13:32Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-09T10:13:32Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-05-09T10:13:32Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;0d12a8db-0af1-4730-838e-6fd40b867a87&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-09T10:13:32Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:13:32Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:13:32Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T10:13:32Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T10:13:32Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJXRG4zQ2wwMVNsYVpRRnRTbUpuS2JqWC1wcXdsR21xWDhSUFNWSHgxUHgwIn0.eyJleHAiOjE2NTIwOTE1MTAsImlhdCI6MTY1MjA5MTIxMCwiYXV0aF90aW1lIjoxNjUyMDkxMjA3LCJqdGkiOiIwNmU1ZWJjOS0xZmFhLTRmNjYtYmNjOS1hZGE0ZTVmNDlmMDMiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiM2RlYjE5ZjktYzc0Ni00YjAwLWE5MDktMmI5ODg1NWNlNGYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJkSmlzcFBic1VRWnVoMTRiWkYxNEtnIiwic2Vzc2lvbl9zdGF0ZSI6Ijg0MTliMzQ5LTI4ZDgtNGExMC1iMzVmLWY3YzY4YTI4MmIwOSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6Ijg0MTliMzQ5LTI4ZDgtNGExMC1iMzVmLWY3YzY4YTI4MmIwOSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.qxzwCNf2x9bkv35ymPrh25YGej49N0BfQj4ojvniCn-APfH6fb8Cv5wnUj5XdnTXd5NL-yoKLgzr3xR75QMehDe2zCv22c5qJCJbFncql3vNT_LsDlawKkSo6lHRJYtgtxvgTZo8ZPy34AMXZgFG0Mi19H11SZJ5fgVDXmW2HPVwdQyq5cBefZh9NNzVeGSrnsdPZe8Eqw2Ql61M5WSOsWMjQy2HrD4lLp2sd0r_XFEA30e9rwtRt7DbfnEwSVBRVmDenuORmqlSad14IN3r_uifV8WLOWE5D75WcZ0tc70r8881rlth7VJIPJyZ-G7iqDG8DNmPJOass6bw4egLbg\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:13:32Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T10:13:32Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-09T10:13:32Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-09T10:13:32Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;0d12a8db-0af1-4730-838e-6fd40b867a87&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-05-09T10:13:32Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:13:32Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: ssl://mqtt-integration.172.18.0.2.nip.io:30002
[2022-05-09T10:13:32Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T10:13:32Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJXRG4zQ2wwMVNsYVpRRnRTbUpuS2JqWC1wcXdsR21xWDhSUFNWSHgxUHgwIn0.eyJleHAiOjE2NTIwOTE1MTAsImlhdCI6MTY1MjA5MTIxMCwiYXV0aF90aW1lIjoxNjUyMDkxMjA3LCJqdGkiOiIwNmU1ZWJjOS0xZmFhLTRmNjYtYmNjOS1hZGE0ZTVmNDlmMDMiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiM2RlYjE5ZjktYzc0Ni00YjAwLWE5MDktMmI5ODg1NWNlNGYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJkSmlzcFBic1VRWnVoMTRiWkYxNEtnIiwic2Vzc2lvbl9zdGF0ZSI6Ijg0MTliMzQ5LTI4ZDgtNGExMC1iMzVmLWY3YzY4YTI4MmIwOSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6Ijg0MTliMzQ5LTI4ZDgtNGExMC1iMzVmLWY3YzY4YTI4MmIwOSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.qxzwCNf2x9bkv35ymPrh25YGej49N0BfQj4ojvniCn-APfH6fb8Cv5wnUj5XdnTXd5NL-yoKLgzr3xR75QMehDe2zCv22c5qJCJbFncql3vNT_LsDlawKkSo6lHRJYtgtxvgTZo8ZPy34AMXZgFG0Mi19H11SZJ5fgVDXmW2HPVwdQyq5cBefZh9NNzVeGSrnsdPZe8Eqw2Ql61M5WSOsWMjQy2HrD4lLp2sd0r_XFEA30e9rwtRt7DbfnEwSVBRVmDenuORmqlSad14IN3r_uifV8WLOWE5D75WcZ0tc70r8881rlth7VJIPJyZ-G7iqDG8DNmPJOass6bw4egLbg\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:13:32Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-integration.172.18.0.2.nip.io:30002&quot;, client_id: &quot;21f754c0-d5c1-4d78-8652-a89d59e14983&quot;, persistence: None, user_data: None }
[2022-05-09T10:13:32Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T10:13:32Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55efdc19ba10
[2022-05-09T10:13:32Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55efdc19ba10
[2022-05-09T10:13:32Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x55efdc19a4c0, connectTimeout: 30, retryInterval: 0, ssl: 0x55efdbfb9200, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55efdc19ae70, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJXRG4zQ2wwMVNsYVpRRnRTbUpuS2JqWC1wcXdsR21xWDhSUFNWSHgxUHgwIn0.eyJleHAiOjE2NTIwOTE1MTAsImlhdCI6MTY1MjA5MTIxMCwiYXV0aF90aW1lIjoxNjUyMDkxMjA3LCJqdGkiOiIwNmU1ZWJjOS0xZmFhLTRmNjYtYmNjOS1hZGE0ZTVmNDlmMDMiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiM2RlYjE5ZjktYzc0Ni00YjAwLWE5MDktMmI5ODg1NWNlNGYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJkSmlzcFBic1VRWnVoMTRiWkYxNEtnIiwic2Vzc2lvbl9zdGF0ZSI6Ijg0MTliMzQ5LTI4ZDgtNGExMC1iMzVmLWY3YzY4YTI4MmIwOSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6Ijg0MTliMzQ5LTI4ZDgtNGExMC1iMzVmLWY3YzY4YTI4MmIwOSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.qxzwCNf2x9bkv35ymPrh25YGej49N0BfQj4ojvniCn-APfH6fb8Cv5wnUj5XdnTXd5NL-yoKLgzr3xR75QMehDe2zCv22c5qJCJbFncql3vNT_LsDlawKkSo6lHRJYtgtxvgTZo8ZPy34AMXZgFG0Mi19H11SZJ5fgVDXmW2HPVwdQyq5cBefZh9NNzVeGSrnsdPZe8Eqw2Ql61M5WSOsWMjQy2HrD4lLp2sd0r_XFEA30e9rwtRt7DbfnEwSVBRVmDenuORmqlSad14IN3r_uifV8WLOWE5D75WcZ0tc70r8881rlth7VJIPJyZ-G7iqDG8DNmPJOass6bw4egLbg&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T10:13:32Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/0d12a8db-0af1-4730-838e-6fd40b867a87&quot;&#x27; @ QOS 0
[2022-05-09T10:13:32Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-09T10:13:32Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-09T10:13:32Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:13:32Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:13:32Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:13:32Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:13:33Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:13:33Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:13:33Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:13:33Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:13:34Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:13:34Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:13:34Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:13:34Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:13:35Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:13:35Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:13:35Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:13:35Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:13:35Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 621, payload: 0x7f0edc032b50, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f0edc032dd0 } }, data: MessageData { topic: &quot;app/0d12a8db-0af1-4730-838e-6fd40b867a87&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 54, 97, 97, 49, 56, 53, 100, 101, 45, 101, 48, 54, 52, 45, 52, 49, 97, 49, 45, 56, 55, 55, 97, 45, 52, 53, 97, 56, 52, 101, 100, 53, 99, 56, 52, 98, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 48, 100, 49, 50, 97, 56, 100, 98, 37, 50, 68, 48, 97, 102, 49, 37, 50, 68, 52, 55, 51, 48, 37, 50, 68, 56, 51, 56, 101, 37, 50, 68, 54, 102, 100, 52, 48, 98, 56, 54, 55, 97, 56, 55, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 119, 97, 114, 109, 117, 112, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 48, 58, 49, 51, 58, 51, 53, 46, 52, 57, 52, 52, 53, 51, 51, 49, 54, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 100, 49, 53, 97, 99, 56, 54, 49, 45, 57, 99, 48, 56, 45, 52, 53, 99, 51, 45, 57, 57, 97, 57, 45, 101, 56, 52, 57, 55, 97, 48, 52, 57, 102, 52, 56, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 48, 100, 49, 50, 97, 56, 100, 98, 37, 50, 68, 48, 97, 102, 49, 37, 50, 68, 52, 55, 51, 48, 37, 50, 68, 56, 51, 56, 101, 37, 50, 68, 54, 102, 100, 52, 48, 98, 56, 54, 55, 97, 56, 55, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 55, 49, 99, 101, 52, 51, 101, 57, 45, 56, 55, 55, 50, 45, 52, 99, 52, 51, 45, 98, 97, 98, 55, 45, 55, 102, 100, 52, 55, 56, 100, 49, 55, 101, 51, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 102, 53, 98, 54, 53, 102, 52, 54, 45, 99, 97, 101, 101, 45, 52, 48, 57, 53, 45, 98, 54, 102, 52, 45, 101, 54, 97, 102, 53, 99, 57, 55, 53, 51, 97, 50, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 48, 100, 49, 50, 97, 56, 100, 98, 45, 48, 97, 102, 49, 45, 52, 55, 51, 48, 45, 56, 51, 56, 101, 45, 54, 102, 100, 52, 48, 98, 56, 54, 55, 97, 56, 55, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f0edc032dd0 } } } }
[2022-05-09T10:13:35Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f0ee0006220
[2022-05-09T10:13:35Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/0d12a8db-0af1-4730-838e-6fd40b867a87&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;6aa185de-e064-41a1-877a-45a84ed5c84b\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://0d12a8db%2D0af1%2D4730%2D838e%2D6fd40b867a87/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;warmup\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T10:13:35.494453316Z\&quot;,\&quot;data\&quot;:{\&quot;index\&quot;:3},\&quot;applicationuid\&quot;:\&quot;d15ac861-9c08-45c3-99a9-e8497a049f48\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;partitionkey\&quot;:\&quot;0d12a8db%2D0af1%2D4730%2D838e%2D6fd40b867a87/device1\&quot;,\&quot;deviceuid\&quot;:\&quot;71ce43e9-8772-4c43-bab7-7fd478d17e31\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;senderuid\&quot;:\&quot;f5b65f46-caee-4095-b6f4-e6af5c9753a2\&quot;,\&quot;application\&quot;:\&quot;0d12a8db-0af1-4730-838e-6fd40b867a87\&quot;}&quot; }
[2022-05-09T10:13:36Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-09T10:13:36Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-09T10:13:36Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-09T10:13:36Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry/device1
[2022-05-09T10:13:36Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005/mqtt&quot;, client_id: &quot;b227552f-e932-4d82-92a6-2d3056a3ce11&quot;, persistence: None, user_data: None }
[2022-05-09T10:13:36Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T10:13:36Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55efdbebbe50
[2022-05-09T10:13:36Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55efdbebbe50
[2022-05-09T10:13:36Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x55efdc37f3f0, password: 0x55efdc198be0, connectTimeout: 30, retryInterval: 0, ssl: 0x55efdbf4f7a0, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55efdc37f120, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;gateway1@0d12a8db-0af1-4730-838e-6fd40b867a87&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T10:13:36Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 640, payload: 0x7f0edc011d00, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f0edc011f90 } }, data: MessageData { topic: &quot;app/0d12a8db-0af1-4730-838e-6fd40b867a87&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 100, 99, 99, 99, 56, 101, 98, 98, 45, 49, 52, 56, 55, 45, 52, 50, 99, 57, 45, 57, 51, 99, 97, 45, 54, 98, 54, 100, 48, 48, 54, 51, 57, 48, 100, 98, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 48, 100, 49, 50, 97, 56, 100, 98, 37, 50, 68, 48, 97, 102, 49, 37, 50, 68, 52, 55, 51, 48, 37, 50, 68, 56, 51, 56, 101, 37, 50, 68, 54, 102, 100, 52, 48, 98, 56, 54, 55, 97, 56, 55, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 48, 58, 49, 51, 58, 51, 54, 46, 53, 51, 53, 51, 57, 52, 49, 54, 48, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 102, 53, 98, 54, 53, 102, 52, 54, 45, 99, 97, 101, 101, 45, 52, 48, 57, 53, 45, 98, 54, 102, 52, 45, 101, 54, 97, 102, 53, 99, 57, 55, 53, 51, 97, 50, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 48, 100, 49, 50, 97, 56, 100, 98, 45, 48, 97, 102, 49, 45, 52, 55, 51, 48, 45, 56, 51, 56, 101, 45, 54, 102, 100, 52, 48, 98, 56, 54, 55, 97, 56, 55, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 100, 49, 53, 97, 99, 56, 54, 49, 45, 57, 99, 48, 56, 45, 52, 53, 99, 51, 45, 57, 57, 97, 57, 45, 101, 56, 52, 57, 55, 97, 48, 52, 57, 102, 52, 56, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 48, 100, 49, 50, 97, 56, 100, 98, 37, 50, 68, 48, 97, 102, 49, 37, 50, 68, 52, 55, 51, 48, 37, 50, 68, 56, 51, 56, 101, 37, 50, 68, 54, 102, 100, 52, 48, 98, 56, 54, 55, 97, 56, 55, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 102, 53, 98, 54, 53, 102, 52, 54, 45, 99, 97, 101, 101, 45, 52, 48, 57, 53, 45, 98, 54, 102, 52, 45, 101, 54, 97, 102, 53, 99, 57, 55, 53, 51, 97, 50, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f0edc011f90 } } } }
[2022-05-09T10:13:36Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f0edc0017e0
[2022-05-09T10:13:36Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/0d12a8db-0af1-4730-838e-6fd40b867a87&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;dccc8ebb-1487-42c9-93ca-6b6d006390db\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://0d12a8db%2D0af1%2D4730%2D838e%2D6fd40b867a87/gateway1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T10:13:36.535394160Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:true},\&quot;deviceuid\&quot;:\&quot;f5b65f46-caee-4095-b6f4-e6af5c9753a2\&quot;,\&quot;application\&quot;:\&quot;0d12a8db-0af1-4730-838e-6fd40b867a87\&quot;,\&quot;applicationuid\&quot;:\&quot;d15ac861-9c08-45c3-99a9-e8497a049f48\&quot;,\&quot;partitionkey\&quot;:\&quot;0d12a8db%2D0af1%2D4730%2D838e%2D6fd40b867a87/gateway1\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;senderuid\&quot;:\&quot;f5b65f46-caee-4095-b6f4-e6af5c9753a2\&quot;,\&quot;device\&quot;:\&quot;gateway1\&quot;}&quot; }
[2022-05-09T10:13:36Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55efdbf226f0 } }, data: MessageData { topic: &quot;telemetry/device1&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55efdbf226f0 } } } }
[2022-05-09T10:13:36Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-09T10:13:36Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 641, payload: 0x7f0edc012130, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f0edc02a230 } }, data: MessageData { topic: &quot;app/0d12a8db-0af1-4730-838e-6fd40b867a87&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 101, 53, 57, 101, 56, 98, 100, 56, 45, 99, 56, 50, 97, 45, 52, 51, 49, 99, 45, 57, 53, 99, 99, 45, 101, 55, 52, 48, 99, 100, 57, 56, 97, 102, 52, 99, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 48, 100, 49, 50, 97, 56, 100, 98, 37, 50, 68, 48, 97, 102, 49, 37, 50, 68, 52, 55, 51, 48, 37, 50, 68, 56, 51, 56, 101, 37, 50, 68, 54, 102, 100, 52, 48, 98, 56, 54, 55, 97, 56, 55, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 48, 58, 49, 51, 58, 51, 54, 46, 56, 52, 51, 49, 53, 53, 48, 53, 52, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 102, 97, 108, 115, 101, 125, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 102, 53, 98, 54, 53, 102, 52, 54, 45, 99, 97, 101, 101, 45, 52, 48, 57, 53, 45, 98, 54, 102, 52, 45, 101, 54, 97, 102, 53, 99, 57, 55, 53, 51, 97, 50, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 100, 49, 53, 97, 99, 56, 54, 49, 45, 57, 99, 48, 56, 45, 52, 53, 99, 51, 45, 57, 57, 97, 57, 45, 101, 56, 52, 57, 55, 97, 48, 52, 57, 102, 52, 56, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 102, 53, 98, 54, 53, 102, 52, 54, 45, 99, 97, 101, 101, 45, 52, 48, 57, 53, 45, 98, 54, 102, 52, 45, 101, 54, 97, 102, 53, 99, 57, 55, 53, 51, 97, 50, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 48, 100, 49, 50, 97, 56, 100, 98, 45, 48, 97, 102, 49, 45, 52, 55, 51, 48, 45, 56, 51, 56, 101, 45, 54, 102, 100, 52, 48, 98, 56, 54, 55, 97, 56, 55, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 48, 100, 49, 50, 97, 56, 100, 98, 37, 50, 68, 48, 97, 102, 49, 37, 50, 68, 52, 55, 51, 48, 37, 50, 68, 56, 51, 56, 101, 37, 50, 68, 54, 102, 100, 52, 48, 98, 56, 54, 55, 97, 56, 55, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f0edc02a230 } } } }
[2022-05-09T10:13:36Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f0edc0017e0
[2022-05-09T10:13:36Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/0d12a8db-0af1-4730-838e-6fd40b867a87&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;e59e8bd8-c82a-431c-95cc-e740cd98af4c\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://0d12a8db%2D0af1%2D4730%2D838e%2D6fd40b867a87/gateway1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T10:13:36.843155054Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:false},\&quot;deviceuid\&quot;:\&quot;f5b65f46-caee-4095-b6f4-e6af5c9753a2\&quot;,\&quot;applicationuid\&quot;:\&quot;d15ac861-9c08-45c3-99a9-e8497a049f48\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;device\&quot;:\&quot;gateway1\&quot;,\&quot;senderuid\&quot;:\&quot;f5b65f46-caee-4095-b6f4-e6af5c9753a2\&quot;,\&quot;application\&quot;:\&quot;0d12a8db-0af1-4730-838e-6fd40b867a87\&quot;,\&quot;partitionkey\&quot;:\&quot;0d12a8db%2D0af1%2D4730%2D838e%2D6fd40b867a87/gateway1\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;}&quot; }
[2022-05-09T10:13:37Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 630, payload: 0x7f0edc01c3f0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f0edc01c670 } }, data: MessageData { topic: &quot;app/0d12a8db-0af1-4730-838e-6fd40b867a87&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 55, 98, 100, 56, 48, 99, 49, 97, 45, 101, 99, 51, 53, 45, 52, 99, 50, 50, 45, 57, 97, 48, 102, 45, 102, 53, 53, 53, 52, 55, 48, 99, 50, 51, 100, 101, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 48, 100, 49, 50, 97, 56, 100, 98, 37, 50, 68, 48, 97, 102, 49, 37, 50, 68, 52, 55, 51, 48, 37, 50, 68, 56, 51, 56, 101, 37, 50, 68, 54, 102, 100, 52, 48, 98, 56, 54, 55, 97, 56, 55, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 111, 99, 116, 101, 116, 45, 115, 116, 114, 101, 97, 109, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 116, 101, 108, 101, 109, 101, 116, 114, 121, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 48, 58, 49, 51, 58, 51, 54, 46, 56, 51, 54, 54, 49, 52, 54, 57, 54, 90, 34, 44, 34, 100, 97, 116, 97, 95, 98, 97, 115, 101, 54, 52, 34, 58, 34, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 48, 100, 49, 50, 97, 56, 100, 98, 37, 50, 68, 48, 97, 102, 49, 37, 50, 68, 52, 55, 51, 48, 37, 50, 68, 56, 51, 56, 101, 37, 50, 68, 54, 102, 100, 52, 48, 98, 56, 54, 55, 97, 56, 55, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 55, 49, 99, 101, 52, 51, 101, 57, 45, 56, 55, 55, 50, 45, 52, 99, 52, 51, 45, 98, 97, 98, 55, 45, 55, 102, 100, 52, 55, 56, 100, 49, 55, 101, 51, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 102, 53, 98, 54, 53, 102, 52, 54, 45, 99, 97, 101, 101, 45, 52, 48, 57, 53, 45, 98, 54, 102, 52, 45, 101, 54, 97, 102, 53, 99, 57, 55, 53, 51, 97, 50, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 100, 49, 53, 97, 99, 56, 54, 49, 45, 57, 99, 48, 56, 45, 52, 53, 99, 51, 45, 57, 57, 97, 57, 45, 101, 56, 52, 57, 55, 97, 48, 52, 57, 102, 52, 56, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 48, 100, 49, 50, 97, 56, 100, 98, 45, 48, 97, 102, 49, 45, 52, 55, 51, 48, 45, 56, 51, 56, 101, 45, 54, 102, 100, 52, 48, 98, 56, 54, 55, 97, 56, 55, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f0edc01c670 } } } }
[2022-05-09T10:13:37Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f0edc0017e0
[2022-05-09T10:13:37Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/0d12a8db-0af1-4730-838e-6fd40b867a87&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;7bd80c1a-ec35-4c22-9a0f-f555470c23de\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://0d12a8db%2D0af1%2D4730%2D838e%2D6fd40b867a87/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/octet-stream\&quot;,\&quot;subject\&quot;:\&quot;telemetry\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T10:13:36.836614696Z\&quot;,\&quot;data_base64\&quot;:\&quot;\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;partitionkey\&quot;:\&quot;0d12a8db%2D0af1%2D4730%2D838e%2D6fd40b867a87/device1\&quot;,\&quot;deviceuid\&quot;:\&quot;71ce43e9-8772-4c43-bab7-7fd478d17e31\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;senderuid\&quot;:\&quot;f5b65f46-caee-4095-b6f4-e6af5c9753a2\&quot;,\&quot;applicationuid\&quot;:\&quot;d15ac861-9c08-45c3-99a9-e8497a049f48\&quot;,\&quot;application\&quot;:\&quot;0d12a8db-0af1-4730-838e-6fd40b867a87\&quot;}&quot; }
[2022-05-09T10:13:37Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-09T10:13:37Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-09T10:13:37Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-09T10:13:37Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;0d12a8db-0af1-4730-838e-6fd40b867a87&quot;, device: &quot;gateway1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`,
 right: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;0d12a8db-0af1-4730-838e-6fd40b867a87&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`: Position #0&#x27;, src/tools/assert.rs:35:39
[2022-05-09T10:13:37Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-09T10:13:37Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;0d12a8db-0af1-4730-838e-6fd40b867a87&quot; &quot;device1&quot;
[2022-05-09T10:13:37Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:13:37Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-05-09T10:13:37Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;0d12a8db-0af1-4730-838e-6fd40b867a87&quot; &quot;gateway1&quot;
[2022-05-09T10:13:37Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:13:37Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;0d12a8db-0af1-4730-838e-6fd40b867a87&#x27;
[2022-05-09T10:13:37Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;0d12a8db-0af1-4730-838e-6fd40b867a87&quot;
[2022-05-09T10:13:37Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 0d12a8db-0af1-4730-838e-6fd40b867a87 deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_2::integration_version_2::integration_ws_2

**Duration**: 15s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-09T10:13:39Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-09T10:13:39Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T10:13:39Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T10:13:39Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T10:13:39Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T10:13:40Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-09T10:13:42Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-09T10:13:42Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T10:13:42Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T10:13:42Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T10:13:44Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI0NDVmMTM5Zi0wNjNjLTRhZDgtODkwYi1mNTg1OTQ0NjFiZDAifQ.eyJleHAiOjE2NTIwOTMwMjQsImlhdCI6MTY1MjA5MTIyNCwianRpIjoiNTRiMWI1MTItMjcwNy00ZTJlLWFmMjYtY2UyNmUyOGYxNzI1IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjNkZWIxOWY5LWM3NDYtNGIwMC1hOTA5LTJiOTg4NTVjZTRmMyIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImM3VWdsYlZDTG5TaVNmc21fRl9jUmciLCJzZXNzaW9uX3N0YXRlIjoiOGVkNzViMTItNWY0MS00MjdjLTg1MDItMzQ3YTU2MGE4ODk5Iiwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjhlZDc1YjEyLTVmNDEtNDI3Yy04NTAyLTM0N2E1NjBhODg5OSJ9.2rtBRqx0R5sd3QrLcjAJJpS9_NclU-HYq21duaqhH6o
[2022-05-09T10:13:44Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-09T10:13:44Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-09T10:13:44Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI0NDVmMTM5Zi0wNjNjLTRhZDgtODkwYi1mNTg1OTQ0NjFiZDAifQ.eyJleHAiOjE2NTIwOTMwMjQsImlhdCI6MTY1MjA5MTIyNCwianRpIjoiNTRiMWI1MTItMjcwNy00ZTJlLWFmMjYtY2UyNmUyOGYxNzI1IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjNkZWIxOWY5LWM3NDYtNGIwMC1hOTA5LTJiOTg4NTVjZTRmMyIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImM3VWdsYlZDTG5TaVNmc21fRl9jUmciLCJzZXNzaW9uX3N0YXRlIjoiOGVkNzViMTItNWY0MS00MjdjLTg1MDItMzQ3YTU2MGE4ODk5Iiwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjhlZDc1YjEyLTVmNDEtNDI3Yy04NTAyLTM0N2E1NjBhODg5OSJ9.2rtBRqx0R5sd3QrLcjAJJpS9_NclU-HYq21duaqhH6o&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-09T10:13:44Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:13:45Z INFO  drogue_cloud_tests::resources::apps] Create application: e86f98d5-4a2d-4b4c-b185-8cb1f6e6c938
[2022-05-09T10:13:45Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;e86f98d5-4a2d-4b4c-b185-8cb1f6e6c938&quot;
[2022-05-09T10:13:45Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App e86f98d5-4a2d-4b4c-b185-8cb1f6e6c938 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:13:45Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;e86f98d5-4a2d-4b4c-b185-8cb1f6e6c938&quot;
[2022-05-09T10:13:45Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T10:13:45.039453Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 1,\n    \&quot;name\&quot;: \&quot;e86f98d5-4a2d-4b4c-b185-8cb1f6e6c938\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;26ad18e5-5b90-4f99-b278-3806f269b513\&quot;,\n    \&quot;uid\&quot;: \&quot;fbc4e8a1-c56e-40c3-af9b-4a9c4fc90cb1\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:13:45.053978301Z\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: HasFinalizer\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:13:45.054073060Z\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:13:45.053915044Z\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:13:45.053918140Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:13:45.053919132Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:13:45.053920384Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:13:45.053921125Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:13:45.053942315Z\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:13:45Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T10:13:45.039453Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(1), &quot;name&quot;: String(&quot;e86f98d5-4a2d-4b4c-b185-8cb1f6e6c938&quot;), &quot;resourceVersion&quot;: String(&quot;26ad18e5-5b90-4f99-b278-3806f269b513&quot;), &quot;uid&quot;: String(&quot;fbc4e8a1-c56e-40c3-af9b-4a9c4fc90cb1&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:13:45.053978301Z&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: HasFinalizer&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:13:45.054073060Z&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:13:45.053915044Z&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:13:45.053918140Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:13:45.053919132Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:13:45.053920384Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:13:45.053921125Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:13:45.053942315Z&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(0)})})})
[2022-05-09T10:13:45Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-09T10:13:46Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;e86f98d5-4a2d-4b4c-b185-8cb1f6e6c938&quot;
[2022-05-09T10:13:46Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T10:13:45.039453Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 8,\n    \&quot;name\&quot;: \&quot;e86f98d5-4a2d-4b4c-b185-8cb1f6e6c938\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;8813aebb-9a32-4dc8-854d-450ac1681de5\&quot;,\n    \&quot;uid\&quot;: \&quot;fbc4e8a1-c56e-40c3-af9b-4a9c4fc90cb1\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:13:45.312463845Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:13:45.312615569Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:13:45.079119028Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:13:45.084904174Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:13:45.154505814Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:13:45.161688340Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:13:45.312291262Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:13:45.312411827Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 7,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;ddvN8BJr7IKo\&quot;,\n        \&quot;username\&quot;: \&quot;user-e86f98d5-4a2d-4b4c-b185-8cb1f6e6c938\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:13:46Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T10:13:45.039453Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(8), &quot;name&quot;: String(&quot;e86f98d5-4a2d-4b4c-b185-8cb1f6e6c938&quot;), &quot;resourceVersion&quot;: String(&quot;8813aebb-9a32-4dc8-854d-450ac1681de5&quot;), &quot;uid&quot;: String(&quot;fbc4e8a1-c56e-40c3-af9b-4a9c4fc90cb1&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:13:45.312463845Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:13:45.312615569Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:13:45.079119028Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:13:45.084904174Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:13:45.154505814Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:13:45.161688340Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:13:45.312291262Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:13:45.312411827Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(7), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;ddvN8BJr7IKo&quot;), &quot;username&quot;: String(&quot;user-e86f98d5-4a2d-4b4c-b185-8cb1f6e6c938&quot;)})})})})
[2022-05-09T10:13:46Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-09T10:13:46Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;e86f98d5-4a2d-4b4c-b185-8cb1f6e6c938&quot;
[2022-05-09T10:13:46Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T10:13:45.039453Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 8,\n    \&quot;name\&quot;: \&quot;e86f98d5-4a2d-4b4c-b185-8cb1f6e6c938\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;8813aebb-9a32-4dc8-854d-450ac1681de5\&quot;,\n    \&quot;uid\&quot;: \&quot;fbc4e8a1-c56e-40c3-af9b-4a9c4fc90cb1\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:13:45.312463845Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:13:45.312615569Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:13:45.079119028Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:13:45.084904174Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:13:45.154505814Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:13:45.161688340Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:13:45.312291262Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:13:45.312411827Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 7,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;ddvN8BJr7IKo\&quot;,\n        \&quot;username\&quot;: \&quot;user-e86f98d5-4a2d-4b4c-b185-8cb1f6e6c938\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:13:46Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T10:13:45.039453Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(8), &quot;name&quot;: String(&quot;e86f98d5-4a2d-4b4c-b185-8cb1f6e6c938&quot;), &quot;resourceVersion&quot;: String(&quot;8813aebb-9a32-4dc8-854d-450ac1681de5&quot;), &quot;uid&quot;: String(&quot;fbc4e8a1-c56e-40c3-af9b-4a9c4fc90cb1&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:13:45.312463845Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:13:45.312615569Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:13:45.079119028Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:13:45.084904174Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:13:45.154505814Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:13:45.161688340Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:13:45.312291262Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:13:45.312411827Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(7), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;ddvN8BJr7IKo&quot;), &quot;username&quot;: String(&quot;user-e86f98d5-4a2d-4b4c-b185-8cb1f6e6c938&quot;)})})})})
[2022-05-09T10:13:46Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-09T10:13:46Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-05-09T10:13:46Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;e86f98d5-4a2d-4b4c-b185-8cb1f6e6c938&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-09T10:13:46Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:13:46Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:13:46Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T10:13:46Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T10:13:46Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJXRG4zQ2wwMVNsYVpRRnRTbUpuS2JqWC1wcXdsR21xWDhSUFNWSHgxUHgwIn0.eyJleHAiOjE2NTIwOTE1MjQsImlhdCI6MTY1MjA5MTIyNCwiYXV0aF90aW1lIjoxNjUyMDkxMjIxLCJqdGkiOiI3NjI1ZDViNy01YTI3LTRlYWUtYWU4NS0yYjJjZTlkYWZlNTciLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiM2RlYjE5ZjktYzc0Ni00YjAwLWE5MDktMmI5ODg1NWNlNGYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJjN1VnbGJWQ0xuU2lTZnNtX0ZfY1JnIiwic2Vzc2lvbl9zdGF0ZSI6IjhlZDc1YjEyLTVmNDEtNDI3Yy04NTAyLTM0N2E1NjBhODg5OSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjhlZDc1YjEyLTVmNDEtNDI3Yy04NTAyLTM0N2E1NjBhODg5OSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.OFrfC6l6yOOQOiEC8gAW-kP6S1E_znkMJ3R9Nl7y_N3d4X7qvbwRucHeBYcpc3xC0yh0jXxLwT-BfvXDJ9RLosdbSBYL22xGziRZO2JSa9UIKk7pDDc187AxFuccO-HqUUi8SNfFFvOq0G5IX0XeayiJ-HJwcBFNF0HhbCifP4siF00MGNKiIZzYi3QrbRP99D1Qlr8tzGE1zzScBDvrhYY1EkI-2pJ16WXx8HDrtsgLxrJnTUIyVMlQHyH5gVHnd8d-vvym6CtiXsEfWd_WGBt7fFMbDOjuJQWe_28sRQ7PetRRXQyn6m_07j3xjXXxW5sVIvaDNulKXbDHLHiZ9Q\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:13:46Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T10:13:46Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-09T10:13:46Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-09T10:13:46Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;e86f98d5-4a2d-4b4c-b185-8cb1f6e6c938&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-05-09T10:13:46Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:13:46Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt
[2022-05-09T10:13:46Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T10:13:46Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJXRG4zQ2wwMVNsYVpRRnRTbUpuS2JqWC1wcXdsR21xWDhSUFNWSHgxUHgwIn0.eyJleHAiOjE2NTIwOTE1MjQsImlhdCI6MTY1MjA5MTIyNCwiYXV0aF90aW1lIjoxNjUyMDkxMjIxLCJqdGkiOiI3NjI1ZDViNy01YTI3LTRlYWUtYWU4NS0yYjJjZTlkYWZlNTciLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiM2RlYjE5ZjktYzc0Ni00YjAwLWE5MDktMmI5ODg1NWNlNGYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJjN1VnbGJWQ0xuU2lTZnNtX0ZfY1JnIiwic2Vzc2lvbl9zdGF0ZSI6IjhlZDc1YjEyLTVmNDEtNDI3Yy04NTAyLTM0N2E1NjBhODg5OSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjhlZDc1YjEyLTVmNDEtNDI3Yy04NTAyLTM0N2E1NjBhODg5OSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.OFrfC6l6yOOQOiEC8gAW-kP6S1E_znkMJ3R9Nl7y_N3d4X7qvbwRucHeBYcpc3xC0yh0jXxLwT-BfvXDJ9RLosdbSBYL22xGziRZO2JSa9UIKk7pDDc187AxFuccO-HqUUi8SNfFFvOq0G5IX0XeayiJ-HJwcBFNF0HhbCifP4siF00MGNKiIZzYi3QrbRP99D1Qlr8tzGE1zzScBDvrhYY1EkI-2pJ16WXx8HDrtsgLxrJnTUIyVMlQHyH5gVHnd8d-vvym6CtiXsEfWd_WGBt7fFMbDOjuJQWe_28sRQ7PetRRXQyn6m_07j3xjXXxW5sVIvaDNulKXbDHLHiZ9Q\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:13:46Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt&quot;, client_id: &quot;147899e8-c0e8-48fe-a86c-895ee3a71a94&quot;, persistence: None, user_data: None }
[2022-05-09T10:13:46Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T10:13:46Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55efdbf3b5b0
[2022-05-09T10:13:46Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55efdbf3b5b0
[2022-05-09T10:13:46Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x55efdc198cc0, connectTimeout: 30, retryInterval: 0, ssl: 0x55efdbff2af0, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55efdc0c8b60, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJXRG4zQ2wwMVNsYVpRRnRTbUpuS2JqWC1wcXdsR21xWDhSUFNWSHgxUHgwIn0.eyJleHAiOjE2NTIwOTE1MjQsImlhdCI6MTY1MjA5MTIyNCwiYXV0aF90aW1lIjoxNjUyMDkxMjIxLCJqdGkiOiI3NjI1ZDViNy01YTI3LTRlYWUtYWU4NS0yYjJjZTlkYWZlNTciLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiM2RlYjE5ZjktYzc0Ni00YjAwLWE5MDktMmI5ODg1NWNlNGYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJjN1VnbGJWQ0xuU2lTZnNtX0ZfY1JnIiwic2Vzc2lvbl9zdGF0ZSI6IjhlZDc1YjEyLTVmNDEtNDI3Yy04NTAyLTM0N2E1NjBhODg5OSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjhlZDc1YjEyLTVmNDEtNDI3Yy04NTAyLTM0N2E1NjBhODg5OSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.OFrfC6l6yOOQOiEC8gAW-kP6S1E_znkMJ3R9Nl7y_N3d4X7qvbwRucHeBYcpc3xC0yh0jXxLwT-BfvXDJ9RLosdbSBYL22xGziRZO2JSa9UIKk7pDDc187AxFuccO-HqUUi8SNfFFvOq0G5IX0XeayiJ-HJwcBFNF0HhbCifP4siF00MGNKiIZzYi3QrbRP99D1Qlr8tzGE1zzScBDvrhYY1EkI-2pJ16WXx8HDrtsgLxrJnTUIyVMlQHyH5gVHnd8d-vvym6CtiXsEfWd_WGBt7fFMbDOjuJQWe_28sRQ7PetRRXQyn6m_07j3xjXXxW5sVIvaDNulKXbDHLHiZ9Q&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T10:13:46Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/e86f98d5-4a2d-4b4c-b185-8cb1f6e6c938&quot;&#x27; @ QOS 0
[2022-05-09T10:13:46Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-09T10:13:46Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-09T10:13:46Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:13:46Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:13:46Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:13:46Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:13:47Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:13:47Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:13:47Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:13:47Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:13:48Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:13:48Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:13:48Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:13:48Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:13:49Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:13:49Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:13:49Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:13:49Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:13:49Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 621, payload: 0x7f0ed0006720, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f0ed00069a0 } }, data: MessageData { topic: &quot;app/e86f98d5-4a2d-4b4c-b185-8cb1f6e6c938&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 52, 56, 98, 50, 51, 48, 57, 102, 45, 53, 50, 49, 100, 45, 52, 54, 50, 51, 45, 56, 100, 56, 101, 45, 102, 100, 102, 98, 50, 97, 55, 51, 99, 52, 51, 99, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 101, 56, 54, 102, 57, 56, 100, 53, 37, 50, 68, 52, 97, 50, 100, 37, 50, 68, 52, 98, 52, 99, 37, 50, 68, 98, 49, 56, 53, 37, 50, 68, 56, 99, 98, 49, 102, 54, 101, 54, 99, 57, 51, 56, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 119, 97, 114, 109, 117, 112, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 48, 58, 49, 51, 58, 52, 57, 46, 53, 48, 56, 51, 57, 55, 55, 49, 48, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 98, 97, 50, 53, 49, 48, 54, 48, 45, 52, 99, 50, 57, 45, 52, 53, 55, 48, 45, 98, 49, 52, 100, 45, 98, 100, 102, 53, 98, 48, 97, 53, 55, 99, 101, 99, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 102, 98, 99, 52, 101, 56, 97, 49, 45, 99, 53, 54, 101, 45, 52, 48, 99, 51, 45, 97, 102, 57, 98, 45, 52, 97, 57, 99, 52, 102, 99, 57, 48, 99, 98, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 101, 56, 54, 102, 57, 56, 100, 53, 45, 52, 97, 50, 100, 45, 52, 98, 52, 99, 45, 98, 49, 56, 53, 45, 56, 99, 98, 49, 102, 54, 101, 54, 99, 57, 51, 56, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 51, 100, 49, 53, 49, 51, 97, 53, 45, 56, 99, 54, 50, 45, 52, 48, 100, 98, 45, 98, 54, 97, 50, 45, 99, 53, 53, 56, 54, 50, 53, 101, 53, 51, 54, 52, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 101, 56, 54, 102, 57, 56, 100, 53, 37, 50, 68, 52, 97, 50, 100, 37, 50, 68, 52, 98, 52, 99, 37, 50, 68, 98, 49, 56, 53, 37, 50, 68, 56, 99, 98, 49, 102, 54, 101, 54, 99, 57, 51, 56, 47, 100, 101, 118, 105, 99, 101, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f0ed00069a0 } } } }
[2022-05-09T10:13:49Z DEBUG paho_mqtt::properties] Dropping string property: 0x55efdc1fa820
[2022-05-09T10:13:49Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/e86f98d5-4a2d-4b4c-b185-8cb1f6e6c938&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;48b2309f-521d-4623-8d8e-fdfb2a73c43c\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://e86f98d5%2D4a2d%2D4b4c%2Db185%2D8cb1f6e6c938/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;warmup\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T10:13:49.508397710Z\&quot;,\&quot;data\&quot;:{\&quot;index\&quot;:3},\&quot;deviceuid\&quot;:\&quot;ba251060-4c29-4570-b14d-bdf5b0a57cec\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;applicationuid\&quot;:\&quot;fbc4e8a1-c56e-40c3-af9b-4a9c4fc90cb1\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;application\&quot;:\&quot;e86f98d5-4a2d-4b4c-b185-8cb1f6e6c938\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;senderuid\&quot;:\&quot;3d1513a5-8c62-40db-b6a2-c558625e5364\&quot;,\&quot;partitionkey\&quot;:\&quot;e86f98d5%2D4a2d%2D4b4c%2Db185%2D8cb1f6e6c938/device1\&quot;}&quot; }
[2022-05-09T10:13:50Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-09T10:13:50Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-09T10:13:50Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-09T10:13:50Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry/device1
[2022-05-09T10:13:50Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005/mqtt&quot;, client_id: &quot;cb24c5fe-b31a-414d-92af-15649c6b61ee&quot;, persistence: None, user_data: None }
[2022-05-09T10:13:50Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T10:13:50Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55efdc07f770
[2022-05-09T10:13:50Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55efdc07f770
[2022-05-09T10:13:50Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x55efdbf61bf0, password: 0x55efdc193310, connectTimeout: 30, retryInterval: 0, ssl: 0x55efdc19e220, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55efdbeee650, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;gateway1@e86f98d5-4a2d-4b4c-b185-8cb1f6e6c938&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T10:13:51Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 640, payload: 0x7f0ed002be90, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f0ed002c120 } }, data: MessageData { topic: &quot;app/e86f98d5-4a2d-4b4c-b185-8cb1f6e6c938&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 52, 48, 48, 102, 55, 56, 48, 53, 45, 98, 99, 49, 49, 45, 52, 54, 48, 52, 45, 56, 98, 50, 100, 45, 54, 56, 54, 99, 49, 101, 54, 54, 101, 97, 98, 56, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 101, 56, 54, 102, 57, 56, 100, 53, 37, 50, 68, 52, 97, 50, 100, 37, 50, 68, 52, 98, 52, 99, 37, 50, 68, 98, 49, 56, 53, 37, 50, 68, 56, 99, 98, 49, 102, 54, 101, 54, 99, 57, 51, 56, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 48, 58, 49, 51, 58, 53, 48, 46, 57, 55, 55, 50, 50, 52, 51, 56, 49, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 102, 98, 99, 52, 101, 56, 97, 49, 45, 99, 53, 54, 101, 45, 52, 48, 99, 51, 45, 97, 102, 57, 98, 45, 52, 97, 57, 99, 52, 102, 99, 57, 48, 99, 98, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 51, 100, 49, 53, 49, 51, 97, 53, 45, 56, 99, 54, 50, 45, 52, 48, 100, 98, 45, 98, 54, 97, 50, 45, 99, 53, 53, 56, 54, 50, 53, 101, 53, 51, 54, 52, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 51, 100, 49, 53, 49, 51, 97, 53, 45, 56, 99, 54, 50, 45, 52, 48, 100, 98, 45, 98, 54, 97, 50, 45, 99, 53, 53, 56, 54, 50, 53, 101, 53, 51, 54, 52, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 101, 56, 54, 102, 57, 56, 100, 53, 37, 50, 68, 52, 97, 50, 100, 37, 50, 68, 52, 98, 52, 99, 37, 50, 68, 98, 49, 56, 53, 37, 50, 68, 56, 99, 98, 49, 102, 54, 101, 54, 99, 57, 51, 56, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 101, 56, 54, 102, 57, 56, 100, 53, 45, 52, 97, 50, 100, 45, 52, 98, 52, 99, 45, 98, 49, 56, 53, 45, 56, 99, 98, 49, 102, 54, 101, 54, 99, 57, 51, 56, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f0ed002c120 } } } }
[2022-05-09T10:13:51Z DEBUG paho_mqtt::properties] Dropping string property: 0x55efdc1fa820
[2022-05-09T10:13:51Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/e86f98d5-4a2d-4b4c-b185-8cb1f6e6c938&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;400f7805-bc11-4604-8b2d-686c1e66eab8\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://e86f98d5%2D4a2d%2D4b4c%2Db185%2D8cb1f6e6c938/gateway1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T10:13:50.977224381Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:true},\&quot;applicationuid\&quot;:\&quot;fbc4e8a1-c56e-40c3-af9b-4a9c4fc90cb1\&quot;,\&quot;senderuid\&quot;:\&quot;3d1513a5-8c62-40db-b6a2-c558625e5364\&quot;,\&quot;deviceuid\&quot;:\&quot;3d1513a5-8c62-40db-b6a2-c558625e5364\&quot;,\&quot;partitionkey\&quot;:\&quot;e86f98d5%2D4a2d%2D4b4c%2Db185%2D8cb1f6e6c938/gateway1\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;application\&quot;:\&quot;e86f98d5-4a2d-4b4c-b185-8cb1f6e6c938\&quot;,\&quot;device\&quot;:\&quot;gateway1\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;}&quot; }
[2022-05-09T10:13:51Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55efdc1afb40 } }, data: MessageData { topic: &quot;telemetry/device1&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55efdc1afb40 } } } }
[2022-05-09T10:13:51Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-09T10:13:52Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 630, payload: 0x7f0ed002c120, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f0ed002c3a0 } }, data: MessageData { topic: &quot;app/e86f98d5-4a2d-4b4c-b185-8cb1f6e6c938&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 55, 51, 57, 53, 48, 49, 51, 99, 45, 52, 55, 52, 49, 45, 52, 99, 49, 97, 45, 97, 56, 56, 102, 45, 98, 52, 55, 48, 53, 98, 97, 53, 97, 49, 100, 55, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 101, 56, 54, 102, 57, 56, 100, 53, 37, 50, 68, 52, 97, 50, 100, 37, 50, 68, 52, 98, 52, 99, 37, 50, 68, 98, 49, 56, 53, 37, 50, 68, 56, 99, 98, 49, 102, 54, 101, 54, 99, 57, 51, 56, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 111, 99, 116, 101, 116, 45, 115, 116, 114, 101, 97, 109, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 116, 101, 108, 101, 109, 101, 116, 114, 121, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 48, 58, 49, 51, 58, 53, 49, 46, 56, 52, 54, 57, 57, 52, 53, 55, 57, 90, 34, 44, 34, 100, 97, 116, 97, 95, 98, 97, 115, 101, 54, 52, 34, 58, 34, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 102, 98, 99, 52, 101, 56, 97, 49, 45, 99, 53, 54, 101, 45, 52, 48, 99, 51, 45, 97, 102, 57, 98, 45, 52, 97, 57, 99, 52, 102, 99, 57, 48, 99, 98, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 101, 56, 54, 102, 57, 56, 100, 53, 45, 52, 97, 50, 100, 45, 52, 98, 52, 99, 45, 98, 49, 56, 53, 45, 56, 99, 98, 49, 102, 54, 101, 54, 99, 57, 51, 56, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 101, 56, 54, 102, 57, 56, 100, 53, 37, 50, 68, 52, 97, 50, 100, 37, 50, 68, 52, 98, 52, 99, 37, 50, 68, 98, 49, 56, 53, 37, 50, 68, 56, 99, 98, 49, 102, 54, 101, 54, 99, 57, 51, 56, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 51, 100, 49, 53, 49, 51, 97, 53, 45, 56, 99, 54, 50, 45, 52, 48, 100, 98, 45, 98, 54, 97, 50, 45, 99, 53, 53, 56, 54, 50, 53, 101, 53, 51, 54, 52, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 98, 97, 50, 53, 49, 48, 54, 48, 45, 52, 99, 50, 57, 45, 52, 53, 55, 48, 45, 98, 49, 52, 100, 45, 98, 100, 102, 53, 98, 48, 97, 53, 55, 99, 101, 99, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f0ed002c3a0 } } } }
[2022-05-09T10:13:52Z DEBUG paho_mqtt::properties] Dropping string property: 0x55efdc1fa820
[2022-05-09T10:13:52Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/e86f98d5-4a2d-4b4c-b185-8cb1f6e6c938&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;7395013c-4741-4c1a-a88f-b4705ba5a1d7\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://e86f98d5%2D4a2d%2D4b4c%2Db185%2D8cb1f6e6c938/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/octet-stream\&quot;,\&quot;subject\&quot;:\&quot;telemetry\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T10:13:51.846994579Z\&quot;,\&quot;data_base64\&quot;:\&quot;\&quot;,\&quot;applicationuid\&quot;:\&quot;fbc4e8a1-c56e-40c3-af9b-4a9c4fc90cb1\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;application\&quot;:\&quot;e86f98d5-4a2d-4b4c-b185-8cb1f6e6c938\&quot;,\&quot;partitionkey\&quot;:\&quot;e86f98d5%2D4a2d%2D4b4c%2Db185%2D8cb1f6e6c938/device1\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;senderuid\&quot;:\&quot;3d1513a5-8c62-40db-b6a2-c558625e5364\&quot;,\&quot;deviceuid\&quot;:\&quot;ba251060-4c29-4570-b14d-bdf5b0a57cec\&quot;}&quot; }
[2022-05-09T10:13:52Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 641, payload: 0x7f0ed002c690, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f0ed002c920 } }, data: MessageData { topic: &quot;app/e86f98d5-4a2d-4b4c-b185-8cb1f6e6c938&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 51, 54, 51, 99, 56, 100, 49, 98, 45, 100, 99, 49, 102, 45, 52, 101, 48, 49, 45, 56, 57, 53, 98, 45, 97, 98, 52, 102, 99, 49, 97, 97, 101, 101, 54, 102, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 101, 56, 54, 102, 57, 56, 100, 53, 37, 50, 68, 52, 97, 50, 100, 37, 50, 68, 52, 98, 52, 99, 37, 50, 68, 98, 49, 56, 53, 37, 50, 68, 56, 99, 98, 49, 102, 54, 101, 54, 99, 57, 51, 56, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 48, 58, 49, 51, 58, 53, 50, 46, 53, 51, 52, 48, 57, 57, 54, 55, 57, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 102, 97, 108, 115, 101, 125, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 101, 56, 54, 102, 57, 56, 100, 53, 45, 52, 97, 50, 100, 45, 52, 98, 52, 99, 45, 98, 49, 56, 53, 45, 56, 99, 98, 49, 102, 54, 101, 54, 99, 57, 51, 56, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 51, 100, 49, 53, 49, 51, 97, 53, 45, 56, 99, 54, 50, 45, 52, 48, 100, 98, 45, 98, 54, 97, 50, 45, 99, 53, 53, 56, 54, 50, 53, 101, 53, 51, 54, 52, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 102, 98, 99, 52, 101, 56, 97, 49, 45, 99, 53, 54, 101, 45, 52, 48, 99, 51, 45, 97, 102, 57, 98, 45, 52, 97, 57, 99, 52, 102, 99, 57, 48, 99, 98, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 51, 100, 49, 53, 49, 51, 97, 53, 45, 56, 99, 54, 50, 45, 52, 48, 100, 98, 45, 98, 54, 97, 50, 45, 99, 53, 53, 56, 54, 50, 53, 101, 53, 51, 54, 52, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 101, 56, 54, 102, 57, 56, 100, 53, 37, 50, 68, 52, 97, 50, 100, 37, 50, 68, 52, 98, 52, 99, 37, 50, 68, 98, 49, 56, 53, 37, 50, 68, 56, 99, 98, 49, 102, 54, 101, 54, 99, 57, 51, 56, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f0ed002c920 } } } }
[2022-05-09T10:13:52Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f0ed0002c80
[2022-05-09T10:13:52Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/e86f98d5-4a2d-4b4c-b185-8cb1f6e6c938&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;363c8d1b-dc1f-4e01-895b-ab4fc1aaee6f\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://e86f98d5%2D4a2d%2D4b4c%2Db185%2D8cb1f6e6c938/gateway1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T10:13:52.534099679Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:false},\&quot;application\&quot;:\&quot;e86f98d5-4a2d-4b4c-b185-8cb1f6e6c938\&quot;,\&quot;deviceuid\&quot;:\&quot;3d1513a5-8c62-40db-b6a2-c558625e5364\&quot;,\&quot;applicationuid\&quot;:\&quot;fbc4e8a1-c56e-40c3-af9b-4a9c4fc90cb1\&quot;,\&quot;senderuid\&quot;:\&quot;3d1513a5-8c62-40db-b6a2-c558625e5364\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;partitionkey\&quot;:\&quot;e86f98d5%2D4a2d%2D4b4c%2Db185%2D8cb1f6e6c938/gateway1\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;device\&quot;:\&quot;gateway1\&quot;}&quot; }
[2022-05-09T10:13:52Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-09T10:13:52Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-09T10:13:52Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-09T10:13:52Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;e86f98d5-4a2d-4b4c-b185-8cb1f6e6c938&quot;, device: &quot;gateway1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`,
 right: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;e86f98d5-4a2d-4b4c-b185-8cb1f6e6c938&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`: Position #0&#x27;, src/tools/assert.rs:35:39
[2022-05-09T10:13:52Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-09T10:13:52Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;e86f98d5-4a2d-4b4c-b185-8cb1f6e6c938&quot; &quot;device1&quot;
[2022-05-09T10:13:52Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:13:52Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-05-09T10:13:52Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;e86f98d5-4a2d-4b4c-b185-8cb1f6e6c938&quot; &quot;gateway1&quot;
[2022-05-09T10:13:52Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:13:52Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;e86f98d5-4a2d-4b4c-b185-8cb1f6e6c938&#x27;
[2022-05-09T10:13:52Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;e86f98d5-4a2d-4b4c-b185-8cb1f6e6c938&quot;
[2022-05-09T10:13:52Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App e86f98d5-4a2d-4b4c-b185-8cb1f6e6c938 deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_2::integration_version_3::integration_ws_1

**Duration**: 14s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-09T10:13:54Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-09T10:13:54Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T10:13:54Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T10:13:54Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T10:13:54Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T10:13:55Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-09T10:13:57Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-09T10:13:57Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T10:13:57Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T10:13:57Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T10:13:59Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI0NDVmMTM5Zi0wNjNjLTRhZDgtODkwYi1mNTg1OTQ0NjFiZDAifQ.eyJleHAiOjE2NTIwOTMwMzksImlhdCI6MTY1MjA5MTIzOSwianRpIjoiODBjNDI4MmEtMzk2Mi00OWE4LTlkNmQtMzZlMjliNzg0MGU0IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjNkZWIxOWY5LWM3NDYtNGIwMC1hOTA5LTJiOTg4NTVjZTRmMyIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InVjR0dncURZTVlMNjBNSUdMTlh0bnciLCJzZXNzaW9uX3N0YXRlIjoiODk2ZmY2ZWMtM2Y1Yi00MDc5LTlmMTItMDgzNjNhMjIwMDc5Iiwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6Ijg5NmZmNmVjLTNmNWItNDA3OS05ZjEyLTA4MzYzYTIyMDA3OSJ9.xZNmco4UmbjcN4ORj1OMeIfuNFBBuklu4AlJ1lRZTgw
[2022-05-09T10:13:59Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-09T10:13:59Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-09T10:13:59Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI0NDVmMTM5Zi0wNjNjLTRhZDgtODkwYi1mNTg1OTQ0NjFiZDAifQ.eyJleHAiOjE2NTIwOTMwMzksImlhdCI6MTY1MjA5MTIzOSwianRpIjoiODBjNDI4MmEtMzk2Mi00OWE4LTlkNmQtMzZlMjliNzg0MGU0IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjNkZWIxOWY5LWM3NDYtNGIwMC1hOTA5LTJiOTg4NTVjZTRmMyIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InVjR0dncURZTVlMNjBNSUdMTlh0bnciLCJzZXNzaW9uX3N0YXRlIjoiODk2ZmY2ZWMtM2Y1Yi00MDc5LTlmMTItMDgzNjNhMjIwMDc5Iiwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6Ijg5NmZmNmVjLTNmNWItNDA3OS05ZjEyLTA4MzYzYTIyMDA3OSJ9.xZNmco4UmbjcN4ORj1OMeIfuNFBBuklu4AlJ1lRZTgw&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-09T10:13:59Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:13:59Z INFO  drogue_cloud_tests::resources::apps] Create application: 3201d9bc-0360-4895-a2cb-9cff2b03f7ba
[2022-05-09T10:13:59Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;3201d9bc-0360-4895-a2cb-9cff2b03f7ba&quot;
[2022-05-09T10:13:59Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 3201d9bc-0360-4895-a2cb-9cff2b03f7ba created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:13:59Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;3201d9bc-0360-4895-a2cb-9cff2b03f7ba&quot;
[2022-05-09T10:13:59Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T10:13:59.871188Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 1,\n    \&quot;name\&quot;: \&quot;3201d9bc-0360-4895-a2cb-9cff2b03f7ba\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;e36c481f-2a81-42b7-b4a1-a1db2470a00f\&quot;,\n    \&quot;uid\&quot;: \&quot;04b7ea22-8993-4438-8877-6f2faa242b25\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:13:59.884728153Z\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: HasFinalizer\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:13:59.884757849Z\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:13:59.884679754Z\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:13:59.884682469Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:13:59.884683171Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:13:59.884684142Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:13:59.884684703Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:13:59.884699981Z\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:13:59Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T10:13:59.871188Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(1), &quot;name&quot;: String(&quot;3201d9bc-0360-4895-a2cb-9cff2b03f7ba&quot;), &quot;resourceVersion&quot;: String(&quot;e36c481f-2a81-42b7-b4a1-a1db2470a00f&quot;), &quot;uid&quot;: String(&quot;04b7ea22-8993-4438-8877-6f2faa242b25&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:13:59.884728153Z&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: HasFinalizer&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:13:59.884757849Z&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:13:59.884679754Z&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:13:59.884682469Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:13:59.884683171Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:13:59.884684142Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:13:59.884684703Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:13:59.884699981Z&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(0)})})})
[2022-05-09T10:13:59Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-09T10:14:00Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;3201d9bc-0360-4895-a2cb-9cff2b03f7ba&quot;
[2022-05-09T10:14:00Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T10:13:59.871188Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 8,\n    \&quot;name\&quot;: \&quot;3201d9bc-0360-4895-a2cb-9cff2b03f7ba\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;5792843e-ebc8-4f11-8503-94447ed16676\&quot;,\n    \&quot;uid\&quot;: \&quot;04b7ea22-8993-4438-8877-6f2faa242b25\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:14:00.258353678Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:14:00.258393133Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:13:59.912093430Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:13:59.921816976Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:14:00.025444294Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:14:00.036979969Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:14:00.258309005Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:14:00.258325676Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 7,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;BF0AWTm0cUT5\&quot;,\n        \&quot;username\&quot;: \&quot;user-3201d9bc-0360-4895-a2cb-9cff2b03f7ba\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:14:00Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T10:13:59.871188Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(8), &quot;name&quot;: String(&quot;3201d9bc-0360-4895-a2cb-9cff2b03f7ba&quot;), &quot;resourceVersion&quot;: String(&quot;5792843e-ebc8-4f11-8503-94447ed16676&quot;), &quot;uid&quot;: String(&quot;04b7ea22-8993-4438-8877-6f2faa242b25&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:14:00.258353678Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:14:00.258393133Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:13:59.912093430Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:13:59.921816976Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:14:00.025444294Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:14:00.036979969Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:14:00.258309005Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:14:00.258325676Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(7), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;BF0AWTm0cUT5&quot;), &quot;username&quot;: String(&quot;user-3201d9bc-0360-4895-a2cb-9cff2b03f7ba&quot;)})})})})
[2022-05-09T10:14:00Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-09T10:14:00Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;3201d9bc-0360-4895-a2cb-9cff2b03f7ba&quot;
[2022-05-09T10:14:00Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T10:13:59.871188Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 8,\n    \&quot;name\&quot;: \&quot;3201d9bc-0360-4895-a2cb-9cff2b03f7ba\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;5792843e-ebc8-4f11-8503-94447ed16676\&quot;,\n    \&quot;uid\&quot;: \&quot;04b7ea22-8993-4438-8877-6f2faa242b25\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:14:00.258353678Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:14:00.258393133Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:13:59.912093430Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:13:59.921816976Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:14:00.025444294Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:14:00.036979969Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:14:00.258309005Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:14:00.258325676Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 7,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;BF0AWTm0cUT5\&quot;,\n        \&quot;username\&quot;: \&quot;user-3201d9bc-0360-4895-a2cb-9cff2b03f7ba\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:14:00Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T10:13:59.871188Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(8), &quot;name&quot;: String(&quot;3201d9bc-0360-4895-a2cb-9cff2b03f7ba&quot;), &quot;resourceVersion&quot;: String(&quot;5792843e-ebc8-4f11-8503-94447ed16676&quot;), &quot;uid&quot;: String(&quot;04b7ea22-8993-4438-8877-6f2faa242b25&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:14:00.258353678Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:14:00.258393133Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:13:59.912093430Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:13:59.921816976Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:14:00.025444294Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:14:00.036979969Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:14:00.258309005Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:14:00.258325676Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(7), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;BF0AWTm0cUT5&quot;), &quot;username&quot;: String(&quot;user-3201d9bc-0360-4895-a2cb-9cff2b03f7ba&quot;)})})})})
[2022-05-09T10:14:00Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-09T10:14:00Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-05-09T10:14:00Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;3201d9bc-0360-4895-a2cb-9cff2b03f7ba&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-09T10:14:00Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:14:00Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:14:00Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T10:14:00Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T10:14:00Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJXRG4zQ2wwMVNsYVpRRnRTbUpuS2JqWC1wcXdsR21xWDhSUFNWSHgxUHgwIn0.eyJleHAiOjE2NTIwOTE1MzksImlhdCI6MTY1MjA5MTIzOSwiYXV0aF90aW1lIjoxNjUyMDkxMjM2LCJqdGkiOiI0ZWYxMGQ4OC1lMjU4LTRjYWItOTFmYS1mZmFhMjcxNjk5NTIiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiM2RlYjE5ZjktYzc0Ni00YjAwLWE5MDktMmI5ODg1NWNlNGYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJ1Y0dHZ3FEWU1ZTDYwTUlHTE5YdG53Iiwic2Vzc2lvbl9zdGF0ZSI6Ijg5NmZmNmVjLTNmNWItNDA3OS05ZjEyLTA4MzYzYTIyMDA3OSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6Ijg5NmZmNmVjLTNmNWItNDA3OS05ZjEyLTA4MzYzYTIyMDA3OSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.mP9v4uPr9ye9hkEqK3D8lDI8eBtBb2-JZGIvGmsdRkz8lgxuXeoeNFg-NVDuptgvoP6A09X1hAT29ODCUMd9cxRs_WFlmn_zzfkQLQnDcYOmASmuiT2jkM4A3NA98i_xJIfzlVBcza1Kn8JOYrqVAkWn8gaeW5qYKvVKdAfGc3sl0B1uJl1z9GrqLG7r7ZsFYYHe-Rh3ucTn2sFMn4YKx1MvNuoOvCA5vOuyY7XB-AabNvAJA5weP6NYz-kq2kUwStxOqtXAnT7QGMZ2xStQ8aX4kEpA3RriUday6hx8Es1vneL9iEqL2ffcCrEM_XAdYgCE_NxreJ5y3q3lH1jilg\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:14:00Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T10:14:00Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-09T10:14:00Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-09T10:14:00Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;3201d9bc-0360-4895-a2cb-9cff2b03f7ba&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-05-09T10:14:01Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:14:01Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: ssl://mqtt-integration.172.18.0.2.nip.io:30002
[2022-05-09T10:14:01Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T10:14:01Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJXRG4zQ2wwMVNsYVpRRnRTbUpuS2JqWC1wcXdsR21xWDhSUFNWSHgxUHgwIn0.eyJleHAiOjE2NTIwOTE1MzksImlhdCI6MTY1MjA5MTIzOSwiYXV0aF90aW1lIjoxNjUyMDkxMjM2LCJqdGkiOiI0ZWYxMGQ4OC1lMjU4LTRjYWItOTFmYS1mZmFhMjcxNjk5NTIiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiM2RlYjE5ZjktYzc0Ni00YjAwLWE5MDktMmI5ODg1NWNlNGYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJ1Y0dHZ3FEWU1ZTDYwTUlHTE5YdG53Iiwic2Vzc2lvbl9zdGF0ZSI6Ijg5NmZmNmVjLTNmNWItNDA3OS05ZjEyLTA4MzYzYTIyMDA3OSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6Ijg5NmZmNmVjLTNmNWItNDA3OS05ZjEyLTA4MzYzYTIyMDA3OSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.mP9v4uPr9ye9hkEqK3D8lDI8eBtBb2-JZGIvGmsdRkz8lgxuXeoeNFg-NVDuptgvoP6A09X1hAT29ODCUMd9cxRs_WFlmn_zzfkQLQnDcYOmASmuiT2jkM4A3NA98i_xJIfzlVBcza1Kn8JOYrqVAkWn8gaeW5qYKvVKdAfGc3sl0B1uJl1z9GrqLG7r7ZsFYYHe-Rh3ucTn2sFMn4YKx1MvNuoOvCA5vOuyY7XB-AabNvAJA5weP6NYz-kq2kUwStxOqtXAnT7QGMZ2xStQ8aX4kEpA3RriUday6hx8Es1vneL9iEqL2ffcCrEM_XAdYgCE_NxreJ5y3q3lH1jilg\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:14:01Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-integration.172.18.0.2.nip.io:30002&quot;, client_id: &quot;3e17abf0-0ea2-4824-9218-a051fa18fc9e&quot;, persistence: None, user_data: None }
[2022-05-09T10:14:01Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T10:14:01Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55efdc112e50
[2022-05-09T10:14:01Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55efdc112e50
[2022-05-09T10:14:01Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x55efdc111480, connectTimeout: 30, retryInterval: 0, ssl: 0x55efdbebc880, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55efdc110f60, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJXRG4zQ2wwMVNsYVpRRnRTbUpuS2JqWC1wcXdsR21xWDhSUFNWSHgxUHgwIn0.eyJleHAiOjE2NTIwOTE1MzksImlhdCI6MTY1MjA5MTIzOSwiYXV0aF90aW1lIjoxNjUyMDkxMjM2LCJqdGkiOiI0ZWYxMGQ4OC1lMjU4LTRjYWItOTFmYS1mZmFhMjcxNjk5NTIiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiM2RlYjE5ZjktYzc0Ni00YjAwLWE5MDktMmI5ODg1NWNlNGYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJ1Y0dHZ3FEWU1ZTDYwTUlHTE5YdG53Iiwic2Vzc2lvbl9zdGF0ZSI6Ijg5NmZmNmVjLTNmNWItNDA3OS05ZjEyLTA4MzYzYTIyMDA3OSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6Ijg5NmZmNmVjLTNmNWItNDA3OS05ZjEyLTA4MzYzYTIyMDA3OSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.mP9v4uPr9ye9hkEqK3D8lDI8eBtBb2-JZGIvGmsdRkz8lgxuXeoeNFg-NVDuptgvoP6A09X1hAT29ODCUMd9cxRs_WFlmn_zzfkQLQnDcYOmASmuiT2jkM4A3NA98i_xJIfzlVBcza1Kn8JOYrqVAkWn8gaeW5qYKvVKdAfGc3sl0B1uJl1z9GrqLG7r7ZsFYYHe-Rh3ucTn2sFMn4YKx1MvNuoOvCA5vOuyY7XB-AabNvAJA5weP6NYz-kq2kUwStxOqtXAnT7QGMZ2xStQ8aX4kEpA3RriUday6hx8Es1vneL9iEqL2ffcCrEM_XAdYgCE_NxreJ5y3q3lH1jilg&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T10:14:01Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/3201d9bc-0360-4895-a2cb-9cff2b03f7ba&quot;&#x27; @ QOS 0
[2022-05-09T10:14:01Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-09T10:14:01Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-09T10:14:01Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:14:01Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:14:01Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:14:01Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:14:02Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:14:02Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:14:02Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:14:02Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:14:03Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:14:03Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:14:03Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:14:03Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:14:04Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:14:04Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:14:04Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:14:04Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:14:04Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 11, payload: 0x7f0edc029dd0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 574, array: 0x55efdbf906e0 } }, data: MessageData { topic: &quot;app/3201d9bc-0360-4895-a2cb-9cff2b03f7ba&quot;, payload: [123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 574, array: 0x55efdbf906e0 } } } }
[2022-05-09T10:14:04Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55efdbf5cb20, 0x55efdc1ffa10
[2022-05-09T10:14:04Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55efdc1ffa10, 0x7f0ed8003db0
[2022-05-09T10:14:04Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55efdc1ffa10, 0x55efdc0c4580
[2022-05-09T10:14:04Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55efdc0c4580, 0x55efdc178f10
[2022-05-09T10:14:04Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55efdc0c4580, 0x7f0ee0007050
[2022-05-09T10:14:04Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0007050, 0x7f0ed8003db0
[2022-05-09T10:14:04Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0007050, 0x7f0ed8003db0
[2022-05-09T10:14:04Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0007050, 0x7f0ee00079b0
[2022-05-09T10:14:04Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0007050, 0x7f0ee00073d0
[2022-05-09T10:14:04Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee00073d0, 0x7f0ee0007050
[2022-05-09T10:14:04Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0007050, 0x7f0ee00079b0
[2022-05-09T10:14:04Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0007050, 0x7f0ee00079b0
[2022-05-09T10:14:04Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0007050, 0x7f0ee0004390
[2022-05-09T10:14:04Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0007050, 0x7f0ee00079b0
[2022-05-09T10:14:04Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f0ee0007050
[2022-05-09T10:14:04Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/3201d9bc-0360-4895-a2cb-9cff2b03f7ba&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;application&quot;: &quot;3201d9bc-0360-4895-a2cb-9cff2b03f7ba&quot;, &quot;id&quot;: &quot;e0f4bc14-a4c7-4216-bef8-fcbe7183e0a0&quot;, &quot;source&quot;: &quot;drogue://3201d9bc%2D0360%2D4895%2Da2cb%2D9cff2b03f7ba/device1&quot;, &quot;subject&quot;: &quot;warmup&quot;, &quot;applicationuid&quot;: &quot;04b7ea22-8993-4438-8877-6f2faa242b25&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;type&quot;: &quot;io.drogue.event.v1&quot;, &quot;time&quot;: &quot;2022-05-09T10:14:04.511518825+00:00&quot;, &quot;sender&quot;: &quot;gateway1&quot;, &quot;device&quot;: &quot;device1&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;senderuid&quot;: &quot;6496bef9-7fd5-480f-b769-dbd9e2747195&quot;, &quot;deviceuid&quot;: &quot;60cbc6d9-3c46-4a6d-b292-0f14f5cd2e2d&quot;, &quot;partitionkey&quot;: &quot;3201d9bc%2D0360%2D4895%2Da2cb%2D9cff2b03f7ba/device1&quot;}, payload: &quot;{\&quot;index\&quot;:3}&quot; }
[2022-05-09T10:14:05Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-09T10:14:05Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-09T10:14:05Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-09T10:14:05Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry/device1
[2022-05-09T10:14:05Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005/mqtt&quot;, client_id: &quot;bae6dac5-7c35-4031-9476-d14a1ac86ac5&quot;, persistence: None, user_data: None }
[2022-05-09T10:14:05Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T10:14:05Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55efdbf28dd0
[2022-05-09T10:14:05Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55efdbf28dd0
[2022-05-09T10:14:05Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x55efdbfc8f50, password: 0x55efdbfed8d0, connectTimeout: 30, retryInterval: 0, ssl: 0x55efdc185e10, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55efdc1950a0, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;gateway1@3201d9bc-0360-4895-a2cb-9cff2b03f7ba&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T10:14:05Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 18, payload: 0x7f0edc024d90, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 586, array: 0x55efdc04f220 } }, data: MessageData { topic: &quot;app/3201d9bc-0360-4895-a2cb-9cff2b03f7ba&quot;, payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 586, array: 0x55efdc04f220 } } } }
[2022-05-09T10:14:05Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0001eb0, 0x7f0ee0006cc0
[2022-05-09T10:14:05Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0006cc0, 0x7f0edc02a110
[2022-05-09T10:14:05Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0006cc0, 0x7f0ee0007e20
[2022-05-09T10:14:05Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0007e20, 0x7f0edc005de0
[2022-05-09T10:14:05Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0007e20, 0x7f0ee0007050
[2022-05-09T10:14:05Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0007050, 0x7f0edc02a110
[2022-05-09T10:14:05Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0007050, 0x7f0edc005b40
[2022-05-09T10:14:05Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0007050, 0x7f0edc02a110
[2022-05-09T10:14:05Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0007050, 0x7f0edc02a110
[2022-05-09T10:14:05Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0007050, 0x7f0ee0007e00
[2022-05-09T10:14:05Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0007e00, 0x7f0ee0007050
[2022-05-09T10:14:05Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0007050, 0x7f0edc02a110
[2022-05-09T10:14:05Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0007050, 0x7f0ee000beb0
[2022-05-09T10:14:05Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee000beb0, 0x7f0edc02a110
[2022-05-09T10:14:05Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f0ee000beb0
[2022-05-09T10:14:05Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/3201d9bc-0360-4895-a2cb-9cff2b03f7ba&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;application&quot;: &quot;3201d9bc-0360-4895-a2cb-9cff2b03f7ba&quot;, &quot;senderuid&quot;: &quot;6496bef9-7fd5-480f-b769-dbd9e2747195&quot;, &quot;sender&quot;: &quot;gateway1&quot;, &quot;partitionkey&quot;: &quot;3201d9bc%2D0360%2D4895%2Da2cb%2D9cff2b03f7ba/gateway1&quot;, &quot;id&quot;: &quot;a83d90d6-fc65-468a-bd15-1f9f36165240&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;subject&quot;: &quot;connection&quot;, &quot;deviceuid&quot;: &quot;6496bef9-7fd5-480f-b769-dbd9e2747195&quot;, &quot;device&quot;: &quot;gateway1&quot;, &quot;source&quot;: &quot;drogue://3201d9bc%2D0360%2D4895%2Da2cb%2D9cff2b03f7ba/gateway1&quot;, &quot;time&quot;: &quot;2022-05-09T10:14:05.792799170+00:00&quot;, &quot;type&quot;: &quot;io.drogue.connection.v1&quot;, &quot;applicationuid&quot;: &quot;04b7ea22-8993-4438-8877-6f2faa242b25&quot;, &quot;instance&quot;: &quot;drogue&quot;}, payload: &quot;{\&quot;connected\&quot;:true}&quot; }
[2022-05-09T10:14:05Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55efdc1cee80 } }, data: MessageData { topic: &quot;telemetry/device1&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55efdc1cee80 } } } }
[2022-05-09T10:14:05Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-09T10:14:05Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 19, payload: 0x7f0edc021230, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 586, array: 0x55efdc0d1f20 } }, data: MessageData { topic: &quot;app/3201d9bc-0360-4895-a2cb-9cff2b03f7ba&quot;, payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 102, 97, 108, 115, 101, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 586, array: 0x55efdc0d1f20 } } } }
[2022-05-09T10:14:05Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0001eb0, 0x7f0ee0006c30
[2022-05-09T10:14:05Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0006c30, 0x7f0edc030e70
[2022-05-09T10:14:05Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0006c30, 0x7f0ee00073d0
[2022-05-09T10:14:05Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee00073d0, 0x7f0edc02ff00
[2022-05-09T10:14:05Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee00073d0, 0x7f0ee0006bd0
[2022-05-09T10:14:05Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0006bd0, 0x7f0edc030e70
[2022-05-09T10:14:05Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0006bd0, 0x7f0ee0004750
[2022-05-09T10:14:05Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0004750, 0x7f0edc030e70
[2022-05-09T10:14:05Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0004750, 0x7f0edc030920
[2022-05-09T10:14:05Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0004750, 0x7f0edc030e70
[2022-05-09T10:14:05Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0004750, 0x7f0ee0007d50
[2022-05-09T10:14:05Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0007d50, 0x7f0ee0004750
[2022-05-09T10:14:05Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0004750, 0x7f0edc030e70
[2022-05-09T10:14:05Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0004750, 0x7f0edc030e70
[2022-05-09T10:14:05Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f0ee0004750
[2022-05-09T10:14:05Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/3201d9bc-0360-4895-a2cb-9cff2b03f7ba&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;type&quot;: &quot;io.drogue.connection.v1&quot;, &quot;senderuid&quot;: &quot;6496bef9-7fd5-480f-b769-dbd9e2747195&quot;, &quot;id&quot;: &quot;b74c15b2-8014-4db9-bb16-b244075f2a74&quot;, &quot;partitionkey&quot;: &quot;3201d9bc%2D0360%2D4895%2Da2cb%2D9cff2b03f7ba/gateway1&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;deviceuid&quot;: &quot;6496bef9-7fd5-480f-b769-dbd9e2747195&quot;, &quot;source&quot;: &quot;drogue://3201d9bc%2D0360%2D4895%2Da2cb%2D9cff2b03f7ba/gateway1&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;time&quot;: &quot;2022-05-09T10:14:05.862730378+00:00&quot;, &quot;device&quot;: &quot;gateway1&quot;, &quot;application&quot;: &quot;3201d9bc-0360-4895-a2cb-9cff2b03f7ba&quot;, &quot;subject&quot;: &quot;connection&quot;, &quot;applicationuid&quot;: &quot;04b7ea22-8993-4438-8877-6f2faa242b25&quot;, &quot;sender&quot;: &quot;gateway1&quot;}, payload: &quot;{\&quot;connected\&quot;:false}&quot; }
[2022-05-09T10:14:06Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 585, array: 0x55efdbdff4d0 } }, data: MessageData { topic: &quot;app/3201d9bc-0360-4895-a2cb-9cff2b03f7ba&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 585, array: 0x55efdbdff4d0 } } } }
[2022-05-09T10:14:06Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee00073f0, 0x7f0ee0007e20
[2022-05-09T10:14:06Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0007e20, 0x7f0edc016240
[2022-05-09T10:14:06Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0007e20, 0x7f0edc024db0
[2022-05-09T10:14:06Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0edc024db0, 0x7f0edc005c10
[2022-05-09T10:14:06Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0edc024db0, 0x7f0ee0004340
[2022-05-09T10:14:06Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0004340, 0x7f0edc016240
[2022-05-09T10:14:06Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0004340, 0x7f0ee0008d40
[2022-05-09T10:14:06Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0008d40, 0x7f0edc016240
[2022-05-09T10:14:06Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0008d40, 0x7f0edc005cc0
[2022-05-09T10:14:06Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0008d40, 0x7f0ee0006c50
[2022-05-09T10:14:06Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0006c50, 0x7f0edc016240
[2022-05-09T10:14:06Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0006c50, 0x7f0edc016240
[2022-05-09T10:14:06Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0006c50, 0x7f0ee0006c30
[2022-05-09T10:14:06Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0006c30, 0x7f0edc016240
[2022-05-09T10:14:06Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f0ee0003900
[2022-05-09T10:14:06Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/3201d9bc-0360-4895-a2cb-9cff2b03f7ba&quot;, content_type: Some(&quot;application/octet-stream&quot;), user_properties: {&quot;device&quot;: &quot;device1&quot;, &quot;subject&quot;: &quot;telemetry&quot;, &quot;partitionkey&quot;: &quot;3201d9bc%2D0360%2D4895%2Da2cb%2D9cff2b03f7ba/device1&quot;, &quot;id&quot;: &quot;a23086b3-c5fa-4799-bb5a-337dbc991de7&quot;, &quot;applicationuid&quot;: &quot;04b7ea22-8993-4438-8877-6f2faa242b25&quot;, &quot;time&quot;: &quot;2022-05-09T10:14:05.861789669+00:00&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;deviceuid&quot;: &quot;60cbc6d9-3c46-4a6d-b292-0f14f5cd2e2d&quot;, &quot;application&quot;: &quot;3201d9bc-0360-4895-a2cb-9cff2b03f7ba&quot;, &quot;type&quot;: &quot;io.drogue.event.v1&quot;, &quot;senderuid&quot;: &quot;6496bef9-7fd5-480f-b769-dbd9e2747195&quot;, &quot;sender&quot;: &quot;gateway1&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;source&quot;: &quot;drogue://3201d9bc%2D0360%2D4895%2Da2cb%2D9cff2b03f7ba/device1&quot;}, payload: &quot;&quot; }
[2022-05-09T10:14:06Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-09T10:14:06Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-09T10:14:06Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-09T10:14:06Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;3201d9bc-0360-4895-a2cb-9cff2b03f7ba&quot;, device: &quot;gateway1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`,
 right: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;3201d9bc-0360-4895-a2cb-9cff2b03f7ba&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`: Position #0&#x27;, src/tools/assert.rs:35:39
[2022-05-09T10:14:06Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-09T10:14:06Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;3201d9bc-0360-4895-a2cb-9cff2b03f7ba&quot; &quot;device1&quot;
[2022-05-09T10:14:06Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:14:06Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-05-09T10:14:06Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;3201d9bc-0360-4895-a2cb-9cff2b03f7ba&quot; &quot;gateway1&quot;
[2022-05-09T10:14:06Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:14:06Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;3201d9bc-0360-4895-a2cb-9cff2b03f7ba&#x27;
[2022-05-09T10:14:06Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;3201d9bc-0360-4895-a2cb-9cff2b03f7ba&quot;
[2022-05-09T10:14:06Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 3201d9bc-0360-4895-a2cb-9cff2b03f7ba deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_2::integration_version_3::integration_ws_2

**Duration**: 15s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-09T10:14:08Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-09T10:14:08Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T10:14:08Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T10:14:08Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T10:14:08Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T10:14:09Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-09T10:14:11Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-09T10:14:11Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T10:14:11Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T10:14:11Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T10:14:13Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI0NDVmMTM5Zi0wNjNjLTRhZDgtODkwYi1mNTg1OTQ0NjFiZDAifQ.eyJleHAiOjE2NTIwOTMwNTMsImlhdCI6MTY1MjA5MTI1MywianRpIjoiZDc1MDdlMDktMWZiYi00YTJhLWFiMzUtZmU3ZWMzZGZiNzYxIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjNkZWIxOWY5LWM3NDYtNGIwMC1hOTA5LTJiOTg4NTVjZTRmMyIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlA2dG83bk95NGVDTWg2OGFCM196VmciLCJzZXNzaW9uX3N0YXRlIjoiM2E5ZjFjZGUtYWVmMS00MWVkLThjMzgtMGQ4ZGQ0NTdiODE4Iiwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjNhOWYxY2RlLWFlZjEtNDFlZC04YzM4LTBkOGRkNDU3YjgxOCJ9.a9Wo8z1Qa5k5dmvHSeDg7tVCt_Lt2ql1Z-lLElmVBds
[2022-05-09T10:14:13Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-09T10:14:13Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-09T10:14:13Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI0NDVmMTM5Zi0wNjNjLTRhZDgtODkwYi1mNTg1OTQ0NjFiZDAifQ.eyJleHAiOjE2NTIwOTMwNTMsImlhdCI6MTY1MjA5MTI1MywianRpIjoiZDc1MDdlMDktMWZiYi00YTJhLWFiMzUtZmU3ZWMzZGZiNzYxIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjNkZWIxOWY5LWM3NDYtNGIwMC1hOTA5LTJiOTg4NTVjZTRmMyIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlA2dG83bk95NGVDTWg2OGFCM196VmciLCJzZXNzaW9uX3N0YXRlIjoiM2E5ZjFjZGUtYWVmMS00MWVkLThjMzgtMGQ4ZGQ0NTdiODE4Iiwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjNhOWYxY2RlLWFlZjEtNDFlZC04YzM4LTBkOGRkNDU3YjgxOCJ9.a9Wo8z1Qa5k5dmvHSeDg7tVCt_Lt2ql1Z-lLElmVBds&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-09T10:14:13Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:14:13Z INFO  drogue_cloud_tests::resources::apps] Create application: 7b2ae6c6-c26f-455d-9904-e9d6037701e6
[2022-05-09T10:14:13Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;7b2ae6c6-c26f-455d-9904-e9d6037701e6&quot;
[2022-05-09T10:14:13Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 7b2ae6c6-c26f-455d-9904-e9d6037701e6 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:14:13Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;7b2ae6c6-c26f-455d-9904-e9d6037701e6&quot;
[2022-05-09T10:14:13Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T10:14:13.956013Z\&quot;,\n    \&quot;generation\&quot;: 1,\n    \&quot;name\&quot;: \&quot;7b2ae6c6-c26f-455d-9904-e9d6037701e6\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;273577a5-c557-4f5d-a47c-a61d34ff4fc6\&quot;,\n    \&quot;uid\&quot;: \&quot;627ea70e-39a3-4501-a6b5-2983cd1a5982\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:14:13.968542942Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:14:13Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T10:14:13.956013Z&quot;), &quot;generation&quot;: Number(1), &quot;name&quot;: String(&quot;7b2ae6c6-c26f-455d-9904-e9d6037701e6&quot;), &quot;resourceVersion&quot;: String(&quot;273577a5-c557-4f5d-a47c-a61d34ff4fc6&quot;), &quot;uid&quot;: String(&quot;627ea70e-39a3-4501-a6b5-2983cd1a5982&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:14:13.968542942Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})])})})
[2022-05-09T10:14:13Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-09T10:14:14Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;7b2ae6c6-c26f-455d-9904-e9d6037701e6&quot;
[2022-05-09T10:14:15Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T10:14:13.956013Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;7b2ae6c6-c26f-455d-9904-e9d6037701e6\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;1395bf3c-41c6-4ded-99e3-3980c7fef1d7\&quot;,\n    \&quot;uid\&quot;: \&quot;627ea70e-39a3-4501-a6b5-2983cd1a5982\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:14:14.263335772Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:14:14.263291680Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:14:14.002683584Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:14:14.010118973Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:14:14.061472753Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:14:14.068493097Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:14:14.263187396Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:14:14.263234794Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;WeG4T3ZuhPKz\&quot;,\n        \&quot;username\&quot;: \&quot;user-7b2ae6c6-c26f-455d-9904-e9d6037701e6\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:14:15Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T10:14:13.956013Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;7b2ae6c6-c26f-455d-9904-e9d6037701e6&quot;), &quot;resourceVersion&quot;: String(&quot;1395bf3c-41c6-4ded-99e3-3980c7fef1d7&quot;), &quot;uid&quot;: String(&quot;627ea70e-39a3-4501-a6b5-2983cd1a5982&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:14:14.263335772Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:14:14.263291680Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:14:14.002683584Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:14:14.010118973Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:14:14.061472753Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:14:14.068493097Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:14:14.263187396Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:14:14.263234794Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;WeG4T3ZuhPKz&quot;), &quot;username&quot;: String(&quot;user-7b2ae6c6-c26f-455d-9904-e9d6037701e6&quot;)})})})})
[2022-05-09T10:14:15Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-09T10:14:15Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;7b2ae6c6-c26f-455d-9904-e9d6037701e6&quot;
[2022-05-09T10:14:15Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T10:14:13.956013Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;7b2ae6c6-c26f-455d-9904-e9d6037701e6\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;1395bf3c-41c6-4ded-99e3-3980c7fef1d7\&quot;,\n    \&quot;uid\&quot;: \&quot;627ea70e-39a3-4501-a6b5-2983cd1a5982\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:14:14.263335772Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:14:14.263291680Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:14:14.002683584Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:14:14.010118973Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:14:14.061472753Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:14:14.068493097Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:14:14.263187396Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:14:14.263234794Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;WeG4T3ZuhPKz\&quot;,\n        \&quot;username\&quot;: \&quot;user-7b2ae6c6-c26f-455d-9904-e9d6037701e6\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:14:15Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T10:14:13.956013Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;7b2ae6c6-c26f-455d-9904-e9d6037701e6&quot;), &quot;resourceVersion&quot;: String(&quot;1395bf3c-41c6-4ded-99e3-3980c7fef1d7&quot;), &quot;uid&quot;: String(&quot;627ea70e-39a3-4501-a6b5-2983cd1a5982&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:14:14.263335772Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:14:14.263291680Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:14:14.002683584Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:14:14.010118973Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:14:14.061472753Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:14:14.068493097Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:14:14.263187396Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:14:14.263234794Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;WeG4T3ZuhPKz&quot;), &quot;username&quot;: String(&quot;user-7b2ae6c6-c26f-455d-9904-e9d6037701e6&quot;)})})})})
[2022-05-09T10:14:15Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-09T10:14:15Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-05-09T10:14:15Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;7b2ae6c6-c26f-455d-9904-e9d6037701e6&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-09T10:14:15Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:14:15Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:14:15Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T10:14:15Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T10:14:15Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJXRG4zQ2wwMVNsYVpRRnRTbUpuS2JqWC1wcXdsR21xWDhSUFNWSHgxUHgwIn0.eyJleHAiOjE2NTIwOTE1NTMsImlhdCI6MTY1MjA5MTI1MywiYXV0aF90aW1lIjoxNjUyMDkxMjUwLCJqdGkiOiI2YmUyODAzMC04ZmEwLTRlNmUtOTNiOC1lOGMzZTk0OTEwMGYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiM2RlYjE5ZjktYzc0Ni00YjAwLWE5MDktMmI5ODg1NWNlNGYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJQNnRvN25PeTRlQ01oNjhhQjNfelZnIiwic2Vzc2lvbl9zdGF0ZSI6IjNhOWYxY2RlLWFlZjEtNDFlZC04YzM4LTBkOGRkNDU3YjgxOCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjNhOWYxY2RlLWFlZjEtNDFlZC04YzM4LTBkOGRkNDU3YjgxOCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.Ly78LMpJQl-_giRNyK9-qWYfD1qHawA-MHi3ceuztjgSHVY811BIrWYyqxlr_vz6O8sczdFKZBtOEMTnwFAurM6Mp7-AQfjVTZfbatyOKu-uNtRnO9OwEFBe0L48fsf-K6VQYU1lQUV8YBCmIISPbAEUKsSjNxjwTzzbUyynGGUwSlYTxWpvIUtUqiCnZad363F0rcyNl6Ei09-fUgzSi1jtQcWWHWQCY5vz4fFFAMMg_VWKYInPvwDb_ntb2X-lmo6N2KYzRpW5_uH_ZXrk3DOXm3-BAl5MseS2spzTDV4mEtvpKQZffVOh5BmXrBjp2sJgrdSd7oBSI65CmuArqw\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:14:15Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T10:14:15Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-09T10:14:15Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-09T10:14:15Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;7b2ae6c6-c26f-455d-9904-e9d6037701e6&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-05-09T10:14:15Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:14:15Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt
[2022-05-09T10:14:15Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T10:14:15Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJXRG4zQ2wwMVNsYVpRRnRTbUpuS2JqWC1wcXdsR21xWDhSUFNWSHgxUHgwIn0.eyJleHAiOjE2NTIwOTE1NTMsImlhdCI6MTY1MjA5MTI1MywiYXV0aF90aW1lIjoxNjUyMDkxMjUwLCJqdGkiOiI2YmUyODAzMC04ZmEwLTRlNmUtOTNiOC1lOGMzZTk0OTEwMGYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiM2RlYjE5ZjktYzc0Ni00YjAwLWE5MDktMmI5ODg1NWNlNGYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJQNnRvN25PeTRlQ01oNjhhQjNfelZnIiwic2Vzc2lvbl9zdGF0ZSI6IjNhOWYxY2RlLWFlZjEtNDFlZC04YzM4LTBkOGRkNDU3YjgxOCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjNhOWYxY2RlLWFlZjEtNDFlZC04YzM4LTBkOGRkNDU3YjgxOCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.Ly78LMpJQl-_giRNyK9-qWYfD1qHawA-MHi3ceuztjgSHVY811BIrWYyqxlr_vz6O8sczdFKZBtOEMTnwFAurM6Mp7-AQfjVTZfbatyOKu-uNtRnO9OwEFBe0L48fsf-K6VQYU1lQUV8YBCmIISPbAEUKsSjNxjwTzzbUyynGGUwSlYTxWpvIUtUqiCnZad363F0rcyNl6Ei09-fUgzSi1jtQcWWHWQCY5vz4fFFAMMg_VWKYInPvwDb_ntb2X-lmo6N2KYzRpW5_uH_ZXrk3DOXm3-BAl5MseS2spzTDV4mEtvpKQZffVOh5BmXrBjp2sJgrdSd7oBSI65CmuArqw\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:14:15Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt&quot;, client_id: &quot;69531216-5ec5-49cc-9456-c16dd12f4a51&quot;, persistence: None, user_data: None }
[2022-05-09T10:14:15Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T10:14:15Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55efdc1ec310
[2022-05-09T10:14:15Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55efdc1ec310
[2022-05-09T10:14:15Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x55efdc1b0060, connectTimeout: 30, retryInterval: 0, ssl: 0x55efdc1b0d70, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55efdc2ca6f0, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJXRG4zQ2wwMVNsYVpRRnRTbUpuS2JqWC1wcXdsR21xWDhSUFNWSHgxUHgwIn0.eyJleHAiOjE2NTIwOTE1NTMsImlhdCI6MTY1MjA5MTI1MywiYXV0aF90aW1lIjoxNjUyMDkxMjUwLCJqdGkiOiI2YmUyODAzMC04ZmEwLTRlNmUtOTNiOC1lOGMzZTk0OTEwMGYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiM2RlYjE5ZjktYzc0Ni00YjAwLWE5MDktMmI5ODg1NWNlNGYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJQNnRvN25PeTRlQ01oNjhhQjNfelZnIiwic2Vzc2lvbl9zdGF0ZSI6IjNhOWYxY2RlLWFlZjEtNDFlZC04YzM4LTBkOGRkNDU3YjgxOCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjNhOWYxY2RlLWFlZjEtNDFlZC04YzM4LTBkOGRkNDU3YjgxOCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.Ly78LMpJQl-_giRNyK9-qWYfD1qHawA-MHi3ceuztjgSHVY811BIrWYyqxlr_vz6O8sczdFKZBtOEMTnwFAurM6Mp7-AQfjVTZfbatyOKu-uNtRnO9OwEFBe0L48fsf-K6VQYU1lQUV8YBCmIISPbAEUKsSjNxjwTzzbUyynGGUwSlYTxWpvIUtUqiCnZad363F0rcyNl6Ei09-fUgzSi1jtQcWWHWQCY5vz4fFFAMMg_VWKYInPvwDb_ntb2X-lmo6N2KYzRpW5_uH_ZXrk3DOXm3-BAl5MseS2spzTDV4mEtvpKQZffVOh5BmXrBjp2sJgrdSd7oBSI65CmuArqw&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T10:14:15Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/7b2ae6c6-c26f-455d-9904-e9d6037701e6&quot;&#x27; @ QOS 0
[2022-05-09T10:14:15Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-09T10:14:15Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-09T10:14:15Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:14:15Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:14:15Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:14:15Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:14:16Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:14:16Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:14:16Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:14:16Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:14:17Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:14:17Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:14:17Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:14:17Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:14:18Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:14:18Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:14:18Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:14:18Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:14:18Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 11, payload: 0x7f0edc007b20, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 574, array: 0x7f0ed00008d0 } }, data: MessageData { topic: &quot;app/7b2ae6c6-c26f-455d-9904-e9d6037701e6&quot;, payload: [123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 574, array: 0x7f0ed00008d0 } } } }
[2022-05-09T10:14:18Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55efdbeacd40, 0x55efdbe806c0
[2022-05-09T10:14:18Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55efdbe806c0, 0x55efdc133450
[2022-05-09T10:14:18Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55efdbe806c0, 0x55efdbe806e0
[2022-05-09T10:14:18Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55efdbe806e0, 0x55efdc201890
[2022-05-09T10:14:18Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55efdbe806e0, 0x7f0ed8004c80
[2022-05-09T10:14:18Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8004c80, 0x55efdc133450
[2022-05-09T10:14:18Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8004c80, 0x55efdc133450
[2022-05-09T10:14:18Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8004c80, 0x55efdbf29290
[2022-05-09T10:14:18Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8004c80, 0x7f0ed800b160
[2022-05-09T10:14:18Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed800b160, 0x55efdc133450
[2022-05-09T10:14:18Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed800b160, 0x7f0ed800b1f0
[2022-05-09T10:14:18Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed800b1f0, 0x55efdc133450
[2022-05-09T10:14:18Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed800b1f0, 0x7f0ed800b280
[2022-05-09T10:14:18Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed800b280, 0x55efdc133450
[2022-05-09T10:14:18Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f0ed800b280
[2022-05-09T10:14:18Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/7b2ae6c6-c26f-455d-9904-e9d6037701e6&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;source&quot;: &quot;drogue://7b2ae6c6%2Dc26f%2D455d%2D9904%2De9d6037701e6/device1&quot;, &quot;time&quot;: &quot;2022-05-09T10:14:18.519228216+00:00&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;applicationuid&quot;: &quot;627ea70e-39a3-4501-a6b5-2983cd1a5982&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;deviceuid&quot;: &quot;e893ba35-897c-41c9-b514-b1a9d91f664a&quot;, &quot;partitionkey&quot;: &quot;7b2ae6c6%2Dc26f%2D455d%2D9904%2De9d6037701e6/device1&quot;, &quot;senderuid&quot;: &quot;447fe9ea-cc9f-412b-8eea-a68efb19558d&quot;, &quot;id&quot;: &quot;fa2deeff-cb3c-4ff7-8b8b-5b344c04a0bb&quot;, &quot;sender&quot;: &quot;gateway1&quot;, &quot;subject&quot;: &quot;warmup&quot;, &quot;device&quot;: &quot;device1&quot;, &quot;type&quot;: &quot;io.drogue.event.v1&quot;, &quot;application&quot;: &quot;7b2ae6c6-c26f-455d-9904-e9d6037701e6&quot;}, payload: &quot;{\&quot;index\&quot;:3}&quot; }
[2022-05-09T10:14:19Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-09T10:14:19Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-09T10:14:19Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-09T10:14:19Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry/device1
[2022-05-09T10:14:19Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005/mqtt&quot;, client_id: &quot;8b888332-1088-45c3-9c05-79690d3e460c&quot;, persistence: None, user_data: None }
[2022-05-09T10:14:19Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T10:14:19Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55efdc346650
[2022-05-09T10:14:19Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55efdc346650
[2022-05-09T10:14:19Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x55efdbf77c20, password: 0x55efdbe4e6c0, connectTimeout: 30, retryInterval: 0, ssl: 0x55efdc1b0910, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55efdc140040, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;gateway1@7b2ae6c6-c26f-455d-9904-e9d6037701e6&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T10:14:20Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 18, payload: 0x7f0edc01a780, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 586, array: 0x7f0ed0001260 } }, data: MessageData { topic: &quot;app/7b2ae6c6-c26f-455d-9904-e9d6037701e6&quot;, payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 586, array: 0x7f0ed0001260 } } } }
[2022-05-09T10:14:20Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8004c80, 0x55efdc3879f0
[2022-05-09T10:14:20Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55efdc3879f0, 0x7f0edc02be40
[2022-05-09T10:14:20Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55efdc3879f0, 0x55efdbe806c0
[2022-05-09T10:14:20Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55efdbe806c0, 0x55efdbf8ac40
[2022-05-09T10:14:20Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55efdbe806c0, 0x7f0ed800b280
[2022-05-09T10:14:20Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed800b280, 0x7f0edc02be40
[2022-05-09T10:14:20Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed800b280, 0x7f0edc02be40
[2022-05-09T10:14:20Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed800b280, 0x7f0edc02be40
[2022-05-09T10:14:20Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed800b280, 0x7f0edc02be40
[2022-05-09T10:14:20Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed800b280, 0x7f0ed800bae0
[2022-05-09T10:14:20Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed800b210, 0x7f0ed800b230
[2022-05-09T10:14:20Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed800b230, 0x7f0edc022f20
[2022-05-09T10:14:20Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed800b230, 0x7f0ed800b1f0
[2022-05-09T10:14:20Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed800b1f0, 0x7f0edc02be40
[2022-05-09T10:14:20Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f0ed800b1f0
[2022-05-09T10:14:20Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55efdc2b1f80 } }, data: MessageData { topic: &quot;telemetry/device1&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55efdc2b1f80 } } } }
[2022-05-09T10:14:20Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/7b2ae6c6-c26f-455d-9904-e9d6037701e6&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;subject&quot;: &quot;connection&quot;, &quot;partitionkey&quot;: &quot;7b2ae6c6%2Dc26f%2D455d%2D9904%2De9d6037701e6/gateway1&quot;, &quot;application&quot;: &quot;7b2ae6c6-c26f-455d-9904-e9d6037701e6&quot;, &quot;applicationuid&quot;: &quot;627ea70e-39a3-4501-a6b5-2983cd1a5982&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;type&quot;: &quot;io.drogue.connection.v1&quot;, &quot;source&quot;: &quot;drogue://7b2ae6c6%2Dc26f%2D455d%2D9904%2De9d6037701e6/gateway1&quot;, &quot;id&quot;: &quot;73003767-750d-4197-91cf-221803c1deb2&quot;, &quot;senderuid&quot;: &quot;447fe9ea-cc9f-412b-8eea-a68efb19558d&quot;, &quot;time&quot;: &quot;2022-05-09T10:14:19.879102618+00:00&quot;, &quot;device&quot;: &quot;gateway1&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;sender&quot;: &quot;gateway1&quot;, &quot;deviceuid&quot;: &quot;447fe9ea-cc9f-412b-8eea-a68efb19558d&quot;}, payload: &quot;{\&quot;connected\&quot;:true}&quot; }
[2022-05-09T10:14:20Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-09T10:14:21Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 585, array: 0x7f0ed0001e80 } }, data: MessageData { topic: &quot;app/7b2ae6c6-c26f-455d-9904-e9d6037701e6&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 585, array: 0x7f0ed0001e80 } } } }
[2022-05-09T10:14:21Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed80011d0, 0x7f0ed800b230
[2022-05-09T10:14:21Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed800b230, 0x7f0edc01a910
[2022-05-09T10:14:21Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed800b230, 0x7f0ed80020d0
[2022-05-09T10:14:21Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed80020d0, 0x7f0edc029240
[2022-05-09T10:14:21Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed80020d0, 0x7f0ed800b2c0
[2022-05-09T10:14:21Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed800b2c0, 0x7f0edc01a910
[2022-05-09T10:14:21Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed800b2c0, 0x7f0edc01a910
[2022-05-09T10:14:21Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed800b2c0, 0x7f0edc01a910
[2022-05-09T10:14:21Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed800b2c0, 0x7f0edc01a910
[2022-05-09T10:14:21Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed800b2c0, 0x7f0edc024ca0
[2022-05-09T10:14:21Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed800b2c0, 0x7f0ed800b1a0
[2022-05-09T10:14:21Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed800b1a0, 0x7f0edc01a910
[2022-05-09T10:14:21Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed800b1a0, 0x7f0ed800b350
[2022-05-09T10:14:21Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed800b350, 0x7f0ed800b1a0
[2022-05-09T10:14:21Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f0ed800b3f0
[2022-05-09T10:14:21Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/7b2ae6c6-c26f-455d-9904-e9d6037701e6&quot;, content_type: Some(&quot;application/octet-stream&quot;), user_properties: {&quot;subject&quot;: &quot;telemetry&quot;, &quot;partitionkey&quot;: &quot;7b2ae6c6%2Dc26f%2D455d%2D9904%2De9d6037701e6/device1&quot;, &quot;senderuid&quot;: &quot;447fe9ea-cc9f-412b-8eea-a68efb19558d&quot;, &quot;application&quot;: &quot;7b2ae6c6-c26f-455d-9904-e9d6037701e6&quot;, &quot;applicationuid&quot;: &quot;627ea70e-39a3-4501-a6b5-2983cd1a5982&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;deviceuid&quot;: &quot;e893ba35-897c-41c9-b514-b1a9d91f664a&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;type&quot;: &quot;io.drogue.event.v1&quot;, &quot;time&quot;: &quot;2022-05-09T10:14:20.866855993+00:00&quot;, &quot;sender&quot;: &quot;gateway1&quot;, &quot;id&quot;: &quot;e32a43bd-1598-45da-98a5-75429a5df6f4&quot;, &quot;source&quot;: &quot;drogue://7b2ae6c6%2Dc26f%2D455d%2D9904%2De9d6037701e6/device1&quot;, &quot;device&quot;: &quot;device1&quot;}, payload: &quot;&quot; }
[2022-05-09T10:14:21Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 19, payload: 0x7f0edc031a60, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 586, array: 0x7f0ed0002810 } }, data: MessageData { topic: &quot;app/7b2ae6c6-c26f-455d-9904-e9d6037701e6&quot;, payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 102, 97, 108, 115, 101, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 586, array: 0x7f0ed0002810 } } } }
[2022-05-09T10:14:21Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55efdc135960, 0x55efdc134650
[2022-05-09T10:14:21Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55efdc134650, 0x55efdc1368e0
[2022-05-09T10:14:21Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55efdc134650, 0x7f0ee0007d70
[2022-05-09T10:14:21Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0007d70, 0x55efdbe51950
[2022-05-09T10:14:21Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0007d70, 0x7f0ee0003d20
[2022-05-09T10:14:21Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0003d20, 0x55efdc1368e0
[2022-05-09T10:14:21Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0003d20, 0x55efdc134940
[2022-05-09T10:14:21Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0003d20, 0x55efdc1368e0
[2022-05-09T10:14:21Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0003d20, 0x7f0ee0004120
[2022-05-09T10:14:21Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0003d20, 0x7f0ee0004120
[2022-05-09T10:14:21Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0003d20, 0x7f0ee0004120
[2022-05-09T10:14:21Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0003d20, 0x7f0ee00037d0
[2022-05-09T10:14:21Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee00037d0, 0x7f0ee0004120
[2022-05-09T10:14:21Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee00037d0, 0x7f0ee0006aa0
[2022-05-09T10:14:21Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f0ee0006aa0
[2022-05-09T10:14:21Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/7b2ae6c6-c26f-455d-9904-e9d6037701e6&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;partitionkey&quot;: &quot;7b2ae6c6%2Dc26f%2D455d%2D9904%2De9d6037701e6/gateway1&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;id&quot;: &quot;fca6a494-7c1b-4b08-9a03-f1c8e0f272d3&quot;, &quot;type&quot;: &quot;io.drogue.connection.v1&quot;, &quot;senderuid&quot;: &quot;447fe9ea-cc9f-412b-8eea-a68efb19558d&quot;, &quot;subject&quot;: &quot;connection&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;applicationuid&quot;: &quot;627ea70e-39a3-4501-a6b5-2983cd1a5982&quot;, &quot;source&quot;: &quot;drogue://7b2ae6c6%2Dc26f%2D455d%2D9904%2De9d6037701e6/gateway1&quot;, &quot;sender&quot;: &quot;gateway1&quot;, &quot;deviceuid&quot;: &quot;447fe9ea-cc9f-412b-8eea-a68efb19558d&quot;, &quot;device&quot;: &quot;gateway1&quot;, &quot;time&quot;: &quot;2022-05-09T10:14:21.575753599+00:00&quot;, &quot;application&quot;: &quot;7b2ae6c6-c26f-455d-9904-e9d6037701e6&quot;}, payload: &quot;{\&quot;connected\&quot;:false}&quot; }
[2022-05-09T10:14:21Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-09T10:14:21Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-09T10:14:21Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-09T10:14:21Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;7b2ae6c6-c26f-455d-9904-e9d6037701e6&quot;, device: &quot;gateway1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`,
 right: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;7b2ae6c6-c26f-455d-9904-e9d6037701e6&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`: Position #0&#x27;, src/tools/assert.rs:35:39
[2022-05-09T10:14:21Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-09T10:14:21Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;7b2ae6c6-c26f-455d-9904-e9d6037701e6&quot; &quot;device1&quot;
[2022-05-09T10:14:21Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:14:21Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-05-09T10:14:21Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;7b2ae6c6-c26f-455d-9904-e9d6037701e6&quot; &quot;gateway1&quot;
[2022-05-09T10:14:21Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:14:21Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;7b2ae6c6-c26f-455d-9904-e9d6037701e6&#x27;
[2022-05-09T10:14:21Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;7b2ae6c6-c26f-455d-9904-e9d6037701e6&quot;
[2022-05-09T10:14:21Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 7b2ae6c6-c26f-455d-9904-e9d6037701e6 deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_1::integration_version_1::integration_ws_1

**Duration**: 14s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-09T10:14:24Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-09T10:14:24Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T10:14:24Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T10:14:24Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T10:14:24Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T10:14:25Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-09T10:14:26Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-09T10:14:26Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T10:14:26Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T10:14:26Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T10:14:28Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI0NDVmMTM5Zi0wNjNjLTRhZDgtODkwYi1mNTg1OTQ0NjFiZDAifQ.eyJleHAiOjE2NTIwOTMwNjgsImlhdCI6MTY1MjA5MTI2OCwianRpIjoiMWMxMjUyYWItMjBlYy00YWU5LWExODUtMTQ3MmYxNDQ4OGRmIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjNkZWIxOWY5LWM3NDYtNGIwMC1hOTA5LTJiOTg4NTVjZTRmMyIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImJPc3U4b3RwajQwam1RSmFOeTlEZ3ciLCJzZXNzaW9uX3N0YXRlIjoiOTU2MmM4MjAtOTMxNS00MDRlLWE0MjEtZDk5MWExYjI2MTQ1Iiwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6Ijk1NjJjODIwLTkzMTUtNDA0ZS1hNDIxLWQ5OTFhMWIyNjE0NSJ9.DPUCWiuBm2Vn-Wi_kQJ_j8kJKkGGeTyimpoeWdIAYj4
[2022-05-09T10:14:28Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-09T10:14:28Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-09T10:14:28Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI0NDVmMTM5Zi0wNjNjLTRhZDgtODkwYi1mNTg1OTQ0NjFiZDAifQ.eyJleHAiOjE2NTIwOTMwNjgsImlhdCI6MTY1MjA5MTI2OCwianRpIjoiMWMxMjUyYWItMjBlYy00YWU5LWExODUtMTQ3MmYxNDQ4OGRmIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjNkZWIxOWY5LWM3NDYtNGIwMC1hOTA5LTJiOTg4NTVjZTRmMyIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImJPc3U4b3RwajQwam1RSmFOeTlEZ3ciLCJzZXNzaW9uX3N0YXRlIjoiOTU2MmM4MjAtOTMxNS00MDRlLWE0MjEtZDk5MWExYjI2MTQ1Iiwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6Ijk1NjJjODIwLTkzMTUtNDA0ZS1hNDIxLWQ5OTFhMWIyNjE0NSJ9.DPUCWiuBm2Vn-Wi_kQJ_j8kJKkGGeTyimpoeWdIAYj4&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-09T10:14:28Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:14:29Z INFO  drogue_cloud_tests::resources::apps] Create application: 7ef5d837-4467-46bf-a0f3-720171a16180
[2022-05-09T10:14:29Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;7ef5d837-4467-46bf-a0f3-720171a16180&quot;
[2022-05-09T10:14:29Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 7ef5d837-4467-46bf-a0f3-720171a16180 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:14:29Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;7ef5d837-4467-46bf-a0f3-720171a16180&quot;
[2022-05-09T10:14:29Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T10:14:29.118258Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 1,\n    \&quot;name\&quot;: \&quot;7ef5d837-4467-46bf-a0f3-720171a16180\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;fbc77c12-ecc2-4afa-ace4-66183d1ec943\&quot;,\n    \&quot;uid\&quot;: \&quot;991a6ec8-71b4-4a25-ad2f-10226d007d5d\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:14:29.132575355Z\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: HasFinalizer\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:14:29.132681724Z\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:14:29.131988769Z\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:14:29.131990391Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:14:29.131991253Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:14:29.131992255Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:14:29.131993498Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:14:29.132020698Z\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:14:29Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T10:14:29.118258Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(1), &quot;name&quot;: String(&quot;7ef5d837-4467-46bf-a0f3-720171a16180&quot;), &quot;resourceVersion&quot;: String(&quot;fbc77c12-ecc2-4afa-ace4-66183d1ec943&quot;), &quot;uid&quot;: String(&quot;991a6ec8-71b4-4a25-ad2f-10226d007d5d&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:14:29.132575355Z&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: HasFinalizer&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:14:29.132681724Z&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:14:29.131988769Z&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:14:29.131990391Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:14:29.131991253Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:14:29.131992255Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:14:29.131993498Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:14:29.132020698Z&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(0)})})})
[2022-05-09T10:14:29Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-09T10:14:30Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;7ef5d837-4467-46bf-a0f3-720171a16180&quot;
[2022-05-09T10:14:30Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T10:14:29.118258Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 8,\n    \&quot;name\&quot;: \&quot;7ef5d837-4467-46bf-a0f3-720171a16180\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;8f13556a-a016-4f76-aa62-3742e2144b25\&quot;,\n    \&quot;uid\&quot;: \&quot;991a6ec8-71b4-4a25-ad2f-10226d007d5d\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:14:29.391670025Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:14:29.391710561Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:14:29.157944510Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:14:29.162876190Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:14:29.217306140Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:14:29.225133212Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:14:29.391626343Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:14:29.391643285Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 7,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;k2eVMLjWmsNH\&quot;,\n        \&quot;username\&quot;: \&quot;user-7ef5d837-4467-46bf-a0f3-720171a16180\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:14:30Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T10:14:29.118258Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(8), &quot;name&quot;: String(&quot;7ef5d837-4467-46bf-a0f3-720171a16180&quot;), &quot;resourceVersion&quot;: String(&quot;8f13556a-a016-4f76-aa62-3742e2144b25&quot;), &quot;uid&quot;: String(&quot;991a6ec8-71b4-4a25-ad2f-10226d007d5d&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:14:29.391670025Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:14:29.391710561Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:14:29.157944510Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:14:29.162876190Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:14:29.217306140Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:14:29.225133212Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:14:29.391626343Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:14:29.391643285Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(7), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;k2eVMLjWmsNH&quot;), &quot;username&quot;: String(&quot;user-7ef5d837-4467-46bf-a0f3-720171a16180&quot;)})})})})
[2022-05-09T10:14:30Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-09T10:14:30Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;7ef5d837-4467-46bf-a0f3-720171a16180&quot;
[2022-05-09T10:14:30Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T10:14:29.118258Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 8,\n    \&quot;name\&quot;: \&quot;7ef5d837-4467-46bf-a0f3-720171a16180\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;8f13556a-a016-4f76-aa62-3742e2144b25\&quot;,\n    \&quot;uid\&quot;: \&quot;991a6ec8-71b4-4a25-ad2f-10226d007d5d\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:14:29.391670025Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:14:29.391710561Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:14:29.157944510Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:14:29.162876190Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:14:29.217306140Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:14:29.225133212Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:14:29.391626343Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:14:29.391643285Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 7,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;k2eVMLjWmsNH\&quot;,\n        \&quot;username\&quot;: \&quot;user-7ef5d837-4467-46bf-a0f3-720171a16180\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:14:30Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T10:14:29.118258Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(8), &quot;name&quot;: String(&quot;7ef5d837-4467-46bf-a0f3-720171a16180&quot;), &quot;resourceVersion&quot;: String(&quot;8f13556a-a016-4f76-aa62-3742e2144b25&quot;), &quot;uid&quot;: String(&quot;991a6ec8-71b4-4a25-ad2f-10226d007d5d&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:14:29.391670025Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:14:29.391710561Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:14:29.157944510Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:14:29.162876190Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:14:29.217306140Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:14:29.225133212Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:14:29.391626343Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:14:29.391643285Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(7), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;k2eVMLjWmsNH&quot;), &quot;username&quot;: String(&quot;user-7ef5d837-4467-46bf-a0f3-720171a16180&quot;)})})})})
[2022-05-09T10:14:30Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-09T10:14:30Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-05-09T10:14:30Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;7ef5d837-4467-46bf-a0f3-720171a16180&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-09T10:14:30Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:14:30Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:14:30Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T10:14:30Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T10:14:30Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJXRG4zQ2wwMVNsYVpRRnRTbUpuS2JqWC1wcXdsR21xWDhSUFNWSHgxUHgwIn0.eyJleHAiOjE2NTIwOTE1NjgsImlhdCI6MTY1MjA5MTI2OCwiYXV0aF90aW1lIjoxNjUyMDkxMjY1LCJqdGkiOiJkNWJlNjhlYy1hNDNiLTRhOGQtOTY0Mi1jOTE4NjkzZGU2MzEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiM2RlYjE5ZjktYzc0Ni00YjAwLWE5MDktMmI5ODg1NWNlNGYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJiT3N1OG90cGo0MGptUUphTnk5RGd3Iiwic2Vzc2lvbl9zdGF0ZSI6Ijk1NjJjODIwLTkzMTUtNDA0ZS1hNDIxLWQ5OTFhMWIyNjE0NSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6Ijk1NjJjODIwLTkzMTUtNDA0ZS1hNDIxLWQ5OTFhMWIyNjE0NSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.indblYkBEOFD7Fg6vJ-WTQ7rvpn5zW84aNGaPi13G8kX5rbVzOROpnuLDdEnk2vRLZqFWavlP3AQ55FxM4LrpMAmal8E_ZvUozRjBuY4p6KpH-jIZvh59-CIR67cim-c6kn4xpqMun9dlT9XjmGsU3BN7jtOH5ITeWZ4E7OXmiQswyeQC-OJXEZ1yXyGkE103GUaJo8q22p3gwMgzyGdhCwu51B5spywdHnJphJrwLQsnGzaFdXqL6dSH_QkeAGpKmG5E2mIGky38tClNBhKcgb9Lwx7JkHWPurKNbzA7_gD8QB6CR-ai70qwT0NwBtqDUFk_CFGeRWDWncjI6hekg\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:14:30Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T10:14:30Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-09T10:14:30Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-09T10:14:30Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;7ef5d837-4467-46bf-a0f3-720171a16180&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-05-09T10:14:30Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:14:30Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: ssl://mqtt-integration.172.18.0.2.nip.io:30002
[2022-05-09T10:14:30Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T10:14:30Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJXRG4zQ2wwMVNsYVpRRnRTbUpuS2JqWC1wcXdsR21xWDhSUFNWSHgxUHgwIn0.eyJleHAiOjE2NTIwOTE1NjgsImlhdCI6MTY1MjA5MTI2OCwiYXV0aF90aW1lIjoxNjUyMDkxMjY1LCJqdGkiOiJkNWJlNjhlYy1hNDNiLTRhOGQtOTY0Mi1jOTE4NjkzZGU2MzEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiM2RlYjE5ZjktYzc0Ni00YjAwLWE5MDktMmI5ODg1NWNlNGYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJiT3N1OG90cGo0MGptUUphTnk5RGd3Iiwic2Vzc2lvbl9zdGF0ZSI6Ijk1NjJjODIwLTkzMTUtNDA0ZS1hNDIxLWQ5OTFhMWIyNjE0NSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6Ijk1NjJjODIwLTkzMTUtNDA0ZS1hNDIxLWQ5OTFhMWIyNjE0NSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.indblYkBEOFD7Fg6vJ-WTQ7rvpn5zW84aNGaPi13G8kX5rbVzOROpnuLDdEnk2vRLZqFWavlP3AQ55FxM4LrpMAmal8E_ZvUozRjBuY4p6KpH-jIZvh59-CIR67cim-c6kn4xpqMun9dlT9XjmGsU3BN7jtOH5ITeWZ4E7OXmiQswyeQC-OJXEZ1yXyGkE103GUaJo8q22p3gwMgzyGdhCwu51B5spywdHnJphJrwLQsnGzaFdXqL6dSH_QkeAGpKmG5E2mIGky38tClNBhKcgb9Lwx7JkHWPurKNbzA7_gD8QB6CR-ai70qwT0NwBtqDUFk_CFGeRWDWncjI6hekg\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:14:30Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 4, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-integration.172.18.0.2.nip.io:30002&quot;, client_id: &quot;3bb8a067-7f05-41ea-8978-abc8afed597d&quot;, persistence: None, user_data: None }
[2022-05-09T10:14:30Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T10:14:30Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55efdc0e9470
[2022-05-09T10:14:30Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55efdc0e9470
[2022-05-09T10:14:30Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 1, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x55efdc205f00, connectTimeout: 30, retryInterval: 0, ssl: 0x55efdc205340, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 4, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 0, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55efdbf84600, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJXRG4zQ2wwMVNsYVpRRnRTbUpuS2JqWC1wcXdsR21xWDhSUFNWSHgxUHgwIn0.eyJleHAiOjE2NTIwOTE1NjgsImlhdCI6MTY1MjA5MTI2OCwiYXV0aF90aW1lIjoxNjUyMDkxMjY1LCJqdGkiOiJkNWJlNjhlYy1hNDNiLTRhOGQtOTY0Mi1jOTE4NjkzZGU2MzEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiM2RlYjE5ZjktYzc0Ni00YjAwLWE5MDktMmI5ODg1NWNlNGYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJiT3N1OG90cGo0MGptUUphTnk5RGd3Iiwic2Vzc2lvbl9zdGF0ZSI6Ijk1NjJjODIwLTkzMTUtNDA0ZS1hNDIxLWQ5OTFhMWIyNjE0NSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6Ijk1NjJjODIwLTkzMTUtNDA0ZS1hNDIxLWQ5OTFhMWIyNjE0NSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.indblYkBEOFD7Fg6vJ-WTQ7rvpn5zW84aNGaPi13G8kX5rbVzOROpnuLDdEnk2vRLZqFWavlP3AQ55FxM4LrpMAmal8E_ZvUozRjBuY4p6KpH-jIZvh59-CIR67cim-c6kn4xpqMun9dlT9XjmGsU3BN7jtOH5ITeWZ4E7OXmiQswyeQC-OJXEZ1yXyGkE103GUaJo8q22p3gwMgzyGdhCwu51B5spywdHnJphJrwLQsnGzaFdXqL6dSH_QkeAGpKmG5E2mIGky38tClNBhKcgb9Lwx7JkHWPurKNbzA7_gD8QB6CR-ai70qwT0NwBtqDUFk_CFGeRWDWncjI6hekg&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T10:14:30Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/7ef5d837-4467-46bf-a0f3-720171a16180&quot;&#x27; @ QOS 0
[2022-05-09T10:14:30Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-09T10:14:30Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-09T10:14:30Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:14:30Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:14:30Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:14:30Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:14:31Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:14:31Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:14:31Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:14:31Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:14:32Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:14:32Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:14:32Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:14:32Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:14:33Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:14:33Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:14:33Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:14:33Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:14:33Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 621, payload: 0x7f0ed0016d10, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/7ef5d837-4467-46bf-a0f3-720171a16180&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 53, 50, 52, 54, 101, 48, 101, 56, 45, 54, 48, 53, 52, 45, 52, 55, 57, 100, 45, 97, 50, 57, 102, 45, 54, 49, 50, 51, 48, 98, 99, 101, 52, 102, 102, 99, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 55, 101, 102, 53, 100, 56, 51, 55, 37, 50, 68, 52, 52, 54, 55, 37, 50, 68, 52, 54, 98, 102, 37, 50, 68, 97, 48, 102, 51, 37, 50, 68, 55, 50, 48, 49, 55, 49, 97, 49, 54, 49, 56, 48, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 119, 97, 114, 109, 117, 112, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 48, 58, 49, 52, 58, 51, 51, 46, 53, 49, 54, 57, 52, 48, 51, 54, 53, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 55, 101, 102, 53, 100, 56, 51, 55, 37, 50, 68, 52, 52, 54, 55, 37, 50, 68, 52, 54, 98, 102, 37, 50, 68, 97, 48, 102, 51, 37, 50, 68, 55, 50, 48, 49, 55, 49, 97, 49, 54, 49, 56, 48, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 54, 53, 53, 101, 56, 100, 98, 98, 45, 49, 51, 102, 101, 45, 52, 49, 56, 49, 45, 98, 49, 48, 48, 45, 101, 97, 51, 48, 54, 48, 53, 50, 48, 98, 50, 53, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 55, 101, 102, 53, 100, 56, 51, 55, 45, 52, 52, 54, 55, 45, 52, 54, 98, 102, 45, 97, 48, 102, 51, 45, 55, 50, 48, 49, 55, 49, 97, 49, 54, 49, 56, 48, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 57, 57, 49, 97, 54, 101, 99, 56, 45, 55, 49, 98, 52, 45, 52, 97, 50, 53, 45, 97, 100, 50, 102, 45, 49, 48, 50, 50, 54, 100, 48, 48, 55, 100, 53, 100, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 101, 101, 97, 97, 54, 51, 54, 100, 45, 55, 100, 56, 56, 45, 52, 48, 48, 50, 45, 56, 50, 50, 100, 45, 99, 97, 56, 97, 54, 54, 55, 98, 98, 101, 50, 55, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-09T10:14:33Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/7ef5d837-4467-46bf-a0f3-720171a16180&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;5246e0e8-6054-479d-a29f-61230bce4ffc\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://7ef5d837%2D4467%2D46bf%2Da0f3%2D720171a16180/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;warmup\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T10:14:33.516940365Z\&quot;,\&quot;data\&quot;:{\&quot;index\&quot;:3},\&quot;partitionkey\&quot;:\&quot;7ef5d837%2D4467%2D46bf%2Da0f3%2D720171a16180/device1\&quot;,\&quot;deviceuid\&quot;:\&quot;655e8dbb-13fe-4181-b100-ea3060520b25\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;application\&quot;:\&quot;7ef5d837-4467-46bf-a0f3-720171a16180\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;applicationuid\&quot;:\&quot;991a6ec8-71b4-4a25-ad2f-10226d007d5d\&quot;,\&quot;senderuid\&quot;:\&quot;eeaa636d-7d88-4002-822d-ca8a667bbe27\&quot;}&quot; }
[2022-05-09T10:14:34Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-09T10:14:34Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-09T10:14:34Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-09T10:14:34Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry/device1
[2022-05-09T10:14:34Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-endpoint.172.18.0.2.nip.io:30001&quot;, client_id: &quot;590b6bf5-c63c-44b8-8054-fc3bb8a9c6ce&quot;, persistence: None, user_data: None }
[2022-05-09T10:14:34Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T10:14:34Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55efdbebaac0
[2022-05-09T10:14:34Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55efdbebaac0
[2022-05-09T10:14:34Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x55efdc2983e0, password: 0x55efdbf79b80, connectTimeout: 30, retryInterval: 0, ssl: 0x55efdbf829b0, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55efdc297160, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;gateway1@7ef5d837-4467-46bf-a0f3-720171a16180&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T10:14:35Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 640, payload: 0x7f0ed0010210, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/7ef5d837-4467-46bf-a0f3-720171a16180&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 100, 101, 97, 48, 99, 57, 102, 100, 45, 57, 49, 53, 102, 45, 52, 54, 100, 100, 45, 97, 49, 53, 52, 45, 98, 100, 48, 54, 98, 100, 57, 52, 97, 100, 56, 48, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 55, 101, 102, 53, 100, 56, 51, 55, 37, 50, 68, 52, 52, 54, 55, 37, 50, 68, 52, 54, 98, 102, 37, 50, 68, 97, 48, 102, 51, 37, 50, 68, 55, 50, 48, 49, 55, 49, 97, 49, 54, 49, 56, 48, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 48, 58, 49, 52, 58, 51, 52, 46, 57, 51, 57, 49, 56, 55, 50, 49, 51, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 55, 101, 102, 53, 100, 56, 51, 55, 45, 52, 52, 54, 55, 45, 52, 54, 98, 102, 45, 97, 48, 102, 51, 45, 55, 50, 48, 49, 55, 49, 97, 49, 54, 49, 56, 48, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 55, 101, 102, 53, 100, 56, 51, 55, 37, 50, 68, 52, 52, 54, 55, 37, 50, 68, 52, 54, 98, 102, 37, 50, 68, 97, 48, 102, 51, 37, 50, 68, 55, 50, 48, 49, 55, 49, 97, 49, 54, 49, 56, 48, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 57, 57, 49, 97, 54, 101, 99, 56, 45, 55, 49, 98, 52, 45, 52, 97, 50, 53, 45, 97, 100, 50, 102, 45, 49, 48, 50, 50, 54, 100, 48, 48, 55, 100, 53, 100, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 101, 101, 97, 97, 54, 51, 54, 100, 45, 55, 100, 56, 56, 45, 52, 48, 48, 50, 45, 56, 50, 50, 100, 45, 99, 97, 56, 97, 54, 54, 55, 98, 98, 101, 50, 55, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 101, 101, 97, 97, 54, 51, 54, 100, 45, 55, 100, 56, 56, 45, 52, 48, 48, 50, 45, 56, 50, 50, 100, 45, 99, 97, 56, 97, 54, 54, 55, 98, 98, 101, 50, 55, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-09T10:14:35Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55efdc1a3d00 } }, data: MessageData { topic: &quot;telemetry/device1&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55efdc1a3d00 } } } }
[2022-05-09T10:14:35Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/7ef5d837-4467-46bf-a0f3-720171a16180&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;dea0c9fd-915f-46dd-a154-bd06bd94ad80\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://7ef5d837%2D4467%2D46bf%2Da0f3%2D720171a16180/gateway1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T10:14:34.939187213Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:true},\&quot;application\&quot;:\&quot;7ef5d837-4467-46bf-a0f3-720171a16180\&quot;,\&quot;partitionkey\&quot;:\&quot;7ef5d837%2D4467%2D46bf%2Da0f3%2D720171a16180/gateway1\&quot;,\&quot;applicationuid\&quot;:\&quot;991a6ec8-71b4-4a25-ad2f-10226d007d5d\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;device\&quot;:\&quot;gateway1\&quot;,\&quot;senderuid\&quot;:\&quot;eeaa636d-7d88-4002-822d-ca8a667bbe27\&quot;,\&quot;deviceuid\&quot;:\&quot;eeaa636d-7d88-4002-822d-ca8a667bbe27\&quot;}&quot; }
[2022-05-09T10:14:35Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-09T10:14:36Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 630, payload: 0x7f0ed0017660, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/7ef5d837-4467-46bf-a0f3-720171a16180&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 50, 54, 53, 52, 56, 101, 101, 50, 45, 50, 52, 99, 53, 45, 52, 48, 50, 48, 45, 98, 57, 97, 56, 45, 49, 54, 98, 100, 49, 98, 48, 50, 100, 51, 52, 102, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 55, 101, 102, 53, 100, 56, 51, 55, 37, 50, 68, 52, 52, 54, 55, 37, 50, 68, 52, 54, 98, 102, 37, 50, 68, 97, 48, 102, 51, 37, 50, 68, 55, 50, 48, 49, 55, 49, 97, 49, 54, 49, 56, 48, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 111, 99, 116, 101, 116, 45, 115, 116, 114, 101, 97, 109, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 116, 101, 108, 101, 109, 101, 116, 114, 121, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 48, 58, 49, 52, 58, 51, 53, 46, 56, 56, 57, 48, 53, 52, 57, 56, 53, 90, 34, 44, 34, 100, 97, 116, 97, 95, 98, 97, 115, 101, 54, 52, 34, 58, 34, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 55, 101, 102, 53, 100, 56, 51, 55, 37, 50, 68, 52, 52, 54, 55, 37, 50, 68, 52, 54, 98, 102, 37, 50, 68, 97, 48, 102, 51, 37, 50, 68, 55, 50, 48, 49, 55, 49, 97, 49, 54, 49, 56, 48, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 55, 101, 102, 53, 100, 56, 51, 55, 45, 52, 52, 54, 55, 45, 52, 54, 98, 102, 45, 97, 48, 102, 51, 45, 55, 50, 48, 49, 55, 49, 97, 49, 54, 49, 56, 48, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 101, 101, 97, 97, 54, 51, 54, 100, 45, 55, 100, 56, 56, 45, 52, 48, 48, 50, 45, 56, 50, 50, 100, 45, 99, 97, 56, 97, 54, 54, 55, 98, 98, 101, 50, 55, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 57, 57, 49, 97, 54, 101, 99, 56, 45, 55, 49, 98, 52, 45, 52, 97, 50, 53, 45, 97, 100, 50, 102, 45, 49, 48, 50, 50, 54, 100, 48, 48, 55, 100, 53, 100, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 54, 53, 53, 101, 56, 100, 98, 98, 45, 49, 51, 102, 101, 45, 52, 49, 56, 49, 45, 98, 49, 48, 48, 45, 101, 97, 51, 48, 54, 48, 53, 50, 48, 98, 50, 53, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-09T10:14:36Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/7ef5d837-4467-46bf-a0f3-720171a16180&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;26548ee2-24c5-4020-b9a8-16bd1b02d34f\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://7ef5d837%2D4467%2D46bf%2Da0f3%2D720171a16180/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/octet-stream\&quot;,\&quot;subject\&quot;:\&quot;telemetry\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T10:14:35.889054985Z\&quot;,\&quot;data_base64\&quot;:\&quot;\&quot;,\&quot;partitionkey\&quot;:\&quot;7ef5d837%2D4467%2D46bf%2Da0f3%2D720171a16180/device1\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;application\&quot;:\&quot;7ef5d837-4467-46bf-a0f3-720171a16180\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;senderuid\&quot;:\&quot;eeaa636d-7d88-4002-822d-ca8a667bbe27\&quot;,\&quot;applicationuid\&quot;:\&quot;991a6ec8-71b4-4a25-ad2f-10226d007d5d\&quot;,\&quot;deviceuid\&quot;:\&quot;655e8dbb-13fe-4181-b100-ea3060520b25\&quot;}&quot; }
[2022-05-09T10:14:36Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 641, payload: 0x7f0ed000ce90, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/7ef5d837-4467-46bf-a0f3-720171a16180&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 54, 102, 101, 98, 57, 99, 52, 55, 45, 100, 51, 100, 51, 45, 52, 101, 98, 51, 45, 57, 52, 52, 56, 45, 49, 48, 55, 51, 51, 53, 51, 97, 53, 100, 57, 52, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 55, 101, 102, 53, 100, 56, 51, 55, 37, 50, 68, 52, 52, 54, 55, 37, 50, 68, 52, 54, 98, 102, 37, 50, 68, 97, 48, 102, 51, 37, 50, 68, 55, 50, 48, 49, 55, 49, 97, 49, 54, 49, 56, 48, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 48, 58, 49, 52, 58, 51, 54, 46, 51, 54, 48, 52, 56, 52, 55, 54, 55, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 102, 97, 108, 115, 101, 125, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 55, 101, 102, 53, 100, 56, 51, 55, 37, 50, 68, 52, 52, 54, 55, 37, 50, 68, 52, 54, 98, 102, 37, 50, 68, 97, 48, 102, 51, 37, 50, 68, 55, 50, 48, 49, 55, 49, 97, 49, 54, 49, 56, 48, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 101, 101, 97, 97, 54, 51, 54, 100, 45, 55, 100, 56, 56, 45, 52, 48, 48, 50, 45, 56, 50, 50, 100, 45, 99, 97, 56, 97, 54, 54, 55, 98, 98, 101, 50, 55, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 55, 101, 102, 53, 100, 56, 51, 55, 45, 52, 52, 54, 55, 45, 52, 54, 98, 102, 45, 97, 48, 102, 51, 45, 55, 50, 48, 49, 55, 49, 97, 49, 54, 49, 56, 48, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 57, 57, 49, 97, 54, 101, 99, 56, 45, 55, 49, 98, 52, 45, 52, 97, 50, 53, 45, 97, 100, 50, 102, 45, 49, 48, 50, 50, 54, 100, 48, 48, 55, 100, 53, 100, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 101, 101, 97, 97, 54, 51, 54, 100, 45, 55, 100, 56, 56, 45, 52, 48, 48, 50, 45, 56, 50, 50, 100, 45, 99, 97, 56, 97, 54, 54, 55, 98, 98, 101, 50, 55, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-09T10:14:36Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/7ef5d837-4467-46bf-a0f3-720171a16180&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;6feb9c47-d3d3-4eb3-9448-1073353a5d94\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://7ef5d837%2D4467%2D46bf%2Da0f3%2D720171a16180/gateway1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T10:14:36.360484767Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:false},\&quot;partitionkey\&quot;:\&quot;7ef5d837%2D4467%2D46bf%2Da0f3%2D720171a16180/gateway1\&quot;,\&quot;device\&quot;:\&quot;gateway1\&quot;,\&quot;deviceuid\&quot;:\&quot;eeaa636d-7d88-4002-822d-ca8a667bbe27\&quot;,\&quot;application\&quot;:\&quot;7ef5d837-4467-46bf-a0f3-720171a16180\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;applicationuid\&quot;:\&quot;991a6ec8-71b4-4a25-ad2f-10226d007d5d\&quot;,\&quot;senderuid\&quot;:\&quot;eeaa636d-7d88-4002-822d-ca8a667bbe27\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;}&quot; }
[2022-05-09T10:14:36Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-09T10:14:36Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-09T10:14:36Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-09T10:14:36Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;7ef5d837-4467-46bf-a0f3-720171a16180&quot;, device: &quot;gateway1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`,
 right: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;7ef5d837-4467-46bf-a0f3-720171a16180&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`: Position #0&#x27;, src/tools/assert.rs:35:39
[2022-05-09T10:14:36Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-09T10:14:36Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;7ef5d837-4467-46bf-a0f3-720171a16180&quot; &quot;device1&quot;
[2022-05-09T10:14:36Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:14:36Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-05-09T10:14:36Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;7ef5d837-4467-46bf-a0f3-720171a16180&quot; &quot;gateway1&quot;
[2022-05-09T10:14:36Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:14:36Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;7ef5d837-4467-46bf-a0f3-720171a16180&#x27;
[2022-05-09T10:14:36Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;7ef5d837-4467-46bf-a0f3-720171a16180&quot;
[2022-05-09T10:14:36Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 7ef5d837-4467-46bf-a0f3-720171a16180 deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_1::integration_version_1::integration_ws_2

**Duration**: 14s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-09T10:14:38Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-09T10:14:38Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T10:14:38Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T10:14:38Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T10:14:38Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T10:14:39Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-09T10:14:41Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-09T10:14:41Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T10:14:41Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T10:14:41Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T10:14:42Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI0NDVmMTM5Zi0wNjNjLTRhZDgtODkwYi1mNTg1OTQ0NjFiZDAifQ.eyJleHAiOjE2NTIwOTMwODIsImlhdCI6MTY1MjA5MTI4MiwianRpIjoiYTVhYjk0NTMtNDE0MS00Mjg2LTgwOTAtYTc1MjI2ZjNiZTM1IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjNkZWIxOWY5LWM3NDYtNGIwMC1hOTA5LTJiOTg4NTVjZTRmMyIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlhEZTBXOXhXVW9wRWRvT3BPQmxVdlEiLCJzZXNzaW9uX3N0YXRlIjoiZTRjZTc1YjEtYjRiYy00ZTM2LWE1YmItMGYzNDNmMjBhMmJkIiwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImU0Y2U3NWIxLWI0YmMtNGUzNi1hNWJiLTBmMzQzZjIwYTJiZCJ9.dQu5nqYGzzZj_pV0HuLt5U7KTWS0foyBVhWH06bibJw
[2022-05-09T10:14:42Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-09T10:14:42Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-09T10:14:42Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI0NDVmMTM5Zi0wNjNjLTRhZDgtODkwYi1mNTg1OTQ0NjFiZDAifQ.eyJleHAiOjE2NTIwOTMwODIsImlhdCI6MTY1MjA5MTI4MiwianRpIjoiYTVhYjk0NTMtNDE0MS00Mjg2LTgwOTAtYTc1MjI2ZjNiZTM1IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjNkZWIxOWY5LWM3NDYtNGIwMC1hOTA5LTJiOTg4NTVjZTRmMyIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlhEZTBXOXhXVW9wRWRvT3BPQmxVdlEiLCJzZXNzaW9uX3N0YXRlIjoiZTRjZTc1YjEtYjRiYy00ZTM2LWE1YmItMGYzNDNmMjBhMmJkIiwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImU0Y2U3NWIxLWI0YmMtNGUzNi1hNWJiLTBmMzQzZjIwYTJiZCJ9.dQu5nqYGzzZj_pV0HuLt5U7KTWS0foyBVhWH06bibJw&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-09T10:14:43Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:14:43Z INFO  drogue_cloud_tests::resources::apps] Create application: 81556cae-51dd-4be9-8b09-b04798fef7ce
[2022-05-09T10:14:43Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;81556cae-51dd-4be9-8b09-b04798fef7ce&quot;
[2022-05-09T10:14:43Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 81556cae-51dd-4be9-8b09-b04798fef7ce created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:14:43Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;81556cae-51dd-4be9-8b09-b04798fef7ce&quot;
[2022-05-09T10:14:43Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T10:14:43.786093Z\&quot;,\n    \&quot;generation\&quot;: 1,\n    \&quot;name\&quot;: \&quot;81556cae-51dd-4be9-8b09-b04798fef7ce\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;81ba06be-35f8-42b7-8387-d9dd6bc7983d\&quot;,\n    \&quot;uid\&quot;: \&quot;c1859907-dfd7-4c68-ace5-f006e19a25a5\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:14:43.801588217Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:14:43Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T10:14:43.786093Z&quot;), &quot;generation&quot;: Number(1), &quot;name&quot;: String(&quot;81556cae-51dd-4be9-8b09-b04798fef7ce&quot;), &quot;resourceVersion&quot;: String(&quot;81ba06be-35f8-42b7-8387-d9dd6bc7983d&quot;), &quot;uid&quot;: String(&quot;c1859907-dfd7-4c68-ace5-f006e19a25a5&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:14:43.801588217Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})])})})
[2022-05-09T10:14:43Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-09T10:14:44Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;81556cae-51dd-4be9-8b09-b04798fef7ce&quot;
[2022-05-09T10:14:44Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T10:14:43.786093Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;81556cae-51dd-4be9-8b09-b04798fef7ce\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;fcfbc45f-d7e4-49b2-a739-f0d3817426e5\&quot;,\n    \&quot;uid\&quot;: \&quot;c1859907-dfd7-4c68-ace5-f006e19a25a5\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:14:44.090074595Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:14:44.090017297Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:14:43.856084613Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:14:43.861957290Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:14:43.931104925Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:14:43.938675128Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:14:44.089972032Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:14:44.089989545Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;rPhQJMkAG9Ha\&quot;,\n        \&quot;username\&quot;: \&quot;user-81556cae-51dd-4be9-8b09-b04798fef7ce\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:14:44Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T10:14:43.786093Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;81556cae-51dd-4be9-8b09-b04798fef7ce&quot;), &quot;resourceVersion&quot;: String(&quot;fcfbc45f-d7e4-49b2-a739-f0d3817426e5&quot;), &quot;uid&quot;: String(&quot;c1859907-dfd7-4c68-ace5-f006e19a25a5&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:14:44.090074595Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:14:44.090017297Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:14:43.856084613Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:14:43.861957290Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:14:43.931104925Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:14:43.938675128Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:14:44.089972032Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:14:44.089989545Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;rPhQJMkAG9Ha&quot;), &quot;username&quot;: String(&quot;user-81556cae-51dd-4be9-8b09-b04798fef7ce&quot;)})})})})
[2022-05-09T10:14:44Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-09T10:14:44Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;81556cae-51dd-4be9-8b09-b04798fef7ce&quot;
[2022-05-09T10:14:44Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T10:14:43.786093Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;81556cae-51dd-4be9-8b09-b04798fef7ce\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;fcfbc45f-d7e4-49b2-a739-f0d3817426e5\&quot;,\n    \&quot;uid\&quot;: \&quot;c1859907-dfd7-4c68-ace5-f006e19a25a5\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:14:44.090074595Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:14:44.090017297Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:14:43.856084613Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:14:43.861957290Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:14:43.931104925Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:14:43.938675128Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:14:44.089972032Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:14:44.089989545Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;rPhQJMkAG9Ha\&quot;,\n        \&quot;username\&quot;: \&quot;user-81556cae-51dd-4be9-8b09-b04798fef7ce\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:14:44Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T10:14:43.786093Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;81556cae-51dd-4be9-8b09-b04798fef7ce&quot;), &quot;resourceVersion&quot;: String(&quot;fcfbc45f-d7e4-49b2-a739-f0d3817426e5&quot;), &quot;uid&quot;: String(&quot;c1859907-dfd7-4c68-ace5-f006e19a25a5&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:14:44.090074595Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:14:44.090017297Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:14:43.856084613Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:14:43.861957290Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:14:43.931104925Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:14:43.938675128Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:14:44.089972032Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:14:44.089989545Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;rPhQJMkAG9Ha&quot;), &quot;username&quot;: String(&quot;user-81556cae-51dd-4be9-8b09-b04798fef7ce&quot;)})})})})
[2022-05-09T10:14:44Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-09T10:14:44Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-05-09T10:14:44Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;81556cae-51dd-4be9-8b09-b04798fef7ce&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-09T10:14:44Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:14:44Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:14:44Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T10:14:44Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T10:14:44Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJXRG4zQ2wwMVNsYVpRRnRTbUpuS2JqWC1wcXdsR21xWDhSUFNWSHgxUHgwIn0.eyJleHAiOjE2NTIwOTE1ODMsImlhdCI6MTY1MjA5MTI4MywiYXV0aF90aW1lIjoxNjUyMDkxMjgwLCJqdGkiOiIyMjczN2Y3OS1jYzFiLTRkN2EtYmI1MS0yZjMwODUxYjhiMWEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiM2RlYjE5ZjktYzc0Ni00YjAwLWE5MDktMmI5ODg1NWNlNGYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJYRGUwVzl4V1VvcEVkb09wT0JsVXZRIiwic2Vzc2lvbl9zdGF0ZSI6ImU0Y2U3NWIxLWI0YmMtNGUzNi1hNWJiLTBmMzQzZjIwYTJiZCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImU0Y2U3NWIxLWI0YmMtNGUzNi1hNWJiLTBmMzQzZjIwYTJiZCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.fflmvgUYm79tLw4arxnx9bPSNmCbbN8G4JKZcDiWT99CwPuLuUthh8PjA0WvoU4VlpTGv-2r9jJypDpUGNoHNLElnfdO4Bac6bJwkDE7hk4syYcj4x70Ltz1seR6NTQDWajlaNS143lAyFT8B6MKpM6hnKuLwOTqVsTBexOo6hxG85GbZm3LsAfbHBZWAQp2rdLMvQxR4l4joDViQ8j97SKR8fa6ejfeLsEfMjyXz7cxxcDW4VMzi6Qk00KlJK7U1kq6yv0aCfBM4imF_NPjOO7JwZE_5x8_Kk8oNuWU78DevnpA4OMwAJefSaf7XFzLEQ8vXfFGMPsN4ePNN0nlIQ\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:14:44Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T10:14:44Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-09T10:14:44Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-09T10:14:44Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;81556cae-51dd-4be9-8b09-b04798fef7ce&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-05-09T10:14:44Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:14:44Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt
[2022-05-09T10:14:44Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T10:14:44Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJXRG4zQ2wwMVNsYVpRRnRTbUpuS2JqWC1wcXdsR21xWDhSUFNWSHgxUHgwIn0.eyJleHAiOjE2NTIwOTE1ODMsImlhdCI6MTY1MjA5MTI4MywiYXV0aF90aW1lIjoxNjUyMDkxMjgwLCJqdGkiOiIyMjczN2Y3OS1jYzFiLTRkN2EtYmI1MS0yZjMwODUxYjhiMWEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiM2RlYjE5ZjktYzc0Ni00YjAwLWE5MDktMmI5ODg1NWNlNGYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJYRGUwVzl4V1VvcEVkb09wT0JsVXZRIiwic2Vzc2lvbl9zdGF0ZSI6ImU0Y2U3NWIxLWI0YmMtNGUzNi1hNWJiLTBmMzQzZjIwYTJiZCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImU0Y2U3NWIxLWI0YmMtNGUzNi1hNWJiLTBmMzQzZjIwYTJiZCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.fflmvgUYm79tLw4arxnx9bPSNmCbbN8G4JKZcDiWT99CwPuLuUthh8PjA0WvoU4VlpTGv-2r9jJypDpUGNoHNLElnfdO4Bac6bJwkDE7hk4syYcj4x70Ltz1seR6NTQDWajlaNS143lAyFT8B6MKpM6hnKuLwOTqVsTBexOo6hxG85GbZm3LsAfbHBZWAQp2rdLMvQxR4l4joDViQ8j97SKR8fa6ejfeLsEfMjyXz7cxxcDW4VMzi6Qk00KlJK7U1kq6yv0aCfBM4imF_NPjOO7JwZE_5x8_Kk8oNuWU78DevnpA4OMwAJefSaf7XFzLEQ8vXfFGMPsN4ePNN0nlIQ\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:14:44Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 4, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt&quot;, client_id: &quot;4fe9341c-501a-4406-822d-69d759d7c81a&quot;, persistence: None, user_data: None }
[2022-05-09T10:14:44Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T10:14:44Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55efdc2043b0
[2022-05-09T10:14:44Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55efdc2043b0
[2022-05-09T10:14:44Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 1, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x55efdbe2a110, connectTimeout: 30, retryInterval: 0, ssl: 0x55efdc205610, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 4, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 0, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55efdc111c60, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJXRG4zQ2wwMVNsYVpRRnRTbUpuS2JqWC1wcXdsR21xWDhSUFNWSHgxUHgwIn0.eyJleHAiOjE2NTIwOTE1ODMsImlhdCI6MTY1MjA5MTI4MywiYXV0aF90aW1lIjoxNjUyMDkxMjgwLCJqdGkiOiIyMjczN2Y3OS1jYzFiLTRkN2EtYmI1MS0yZjMwODUxYjhiMWEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiM2RlYjE5ZjktYzc0Ni00YjAwLWE5MDktMmI5ODg1NWNlNGYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJYRGUwVzl4V1VvcEVkb09wT0JsVXZRIiwic2Vzc2lvbl9zdGF0ZSI6ImU0Y2U3NWIxLWI0YmMtNGUzNi1hNWJiLTBmMzQzZjIwYTJiZCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImU0Y2U3NWIxLWI0YmMtNGUzNi1hNWJiLTBmMzQzZjIwYTJiZCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.fflmvgUYm79tLw4arxnx9bPSNmCbbN8G4JKZcDiWT99CwPuLuUthh8PjA0WvoU4VlpTGv-2r9jJypDpUGNoHNLElnfdO4Bac6bJwkDE7hk4syYcj4x70Ltz1seR6NTQDWajlaNS143lAyFT8B6MKpM6hnKuLwOTqVsTBexOo6hxG85GbZm3LsAfbHBZWAQp2rdLMvQxR4l4joDViQ8j97SKR8fa6ejfeLsEfMjyXz7cxxcDW4VMzi6Qk00KlJK7U1kq6yv0aCfBM4imF_NPjOO7JwZE_5x8_Kk8oNuWU78DevnpA4OMwAJefSaf7XFzLEQ8vXfFGMPsN4ePNN0nlIQ&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T10:14:45Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/81556cae-51dd-4be9-8b09-b04798fef7ce&quot;&#x27; @ QOS 0
[2022-05-09T10:14:45Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-09T10:14:45Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:14:45Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-09T10:14:45Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:14:45Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:14:45Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:14:46Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:14:46Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:14:46Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:14:46Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:14:47Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:14:47Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:14:47Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:14:47Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:14:48Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:14:48Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:14:48Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:14:48Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:14:48Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 621, payload: 0x7f0edc01cdc0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/81556cae-51dd-4be9-8b09-b04798fef7ce&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 51, 97, 102, 54, 57, 99, 52, 97, 45, 102, 100, 55, 100, 45, 52, 54, 49, 100, 45, 56, 50, 53, 48, 45, 98, 102, 101, 56, 100, 99, 101, 48, 98, 55, 57, 97, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 56, 49, 53, 53, 54, 99, 97, 101, 37, 50, 68, 53, 49, 100, 100, 37, 50, 68, 52, 98, 101, 57, 37, 50, 68, 56, 98, 48, 57, 37, 50, 68, 98, 48, 52, 55, 57, 56, 102, 101, 102, 55, 99, 101, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 119, 97, 114, 109, 117, 112, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 48, 58, 49, 52, 58, 52, 56, 46, 53, 51, 53, 54, 54, 51, 52, 56, 56, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 49, 50, 54, 51, 100, 54, 99, 57, 45, 101, 52, 100, 97, 45, 52, 55, 57, 100, 45, 56, 53, 54, 53, 45, 53, 53, 51, 55, 57, 53, 50, 49, 98, 55, 48, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 56, 49, 53, 53, 54, 99, 97, 101, 45, 53, 49, 100, 100, 45, 52, 98, 101, 57, 45, 56, 98, 48, 57, 45, 98, 48, 52, 55, 57, 56, 102, 101, 102, 55, 99, 101, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 98, 54, 50, 54, 97, 55, 53, 52, 45, 99, 54, 100, 99, 45, 52, 52, 101, 97, 45, 56, 56, 101, 54, 45, 101, 55, 55, 52, 57, 56, 54, 50, 100, 56, 55, 50, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 56, 49, 53, 53, 54, 99, 97, 101, 37, 50, 68, 53, 49, 100, 100, 37, 50, 68, 52, 98, 101, 57, 37, 50, 68, 56, 98, 48, 57, 37, 50, 68, 98, 48, 52, 55, 57, 56, 102, 101, 102, 55, 99, 101, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 99, 49, 56, 53, 57, 57, 48, 55, 45, 100, 102, 100, 55, 45, 52, 99, 54, 56, 45, 97, 99, 101, 53, 45, 102, 48, 48, 54, 101, 49, 57, 97, 50, 53, 97, 53, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-09T10:14:48Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/81556cae-51dd-4be9-8b09-b04798fef7ce&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;3af69c4a-fd7d-461d-8250-bfe8dce0b79a\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://81556cae%2D51dd%2D4be9%2D8b09%2Db04798fef7ce/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;warmup\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T10:14:48.535663488Z\&quot;,\&quot;data\&quot;:{\&quot;index\&quot;:3},\&quot;senderuid\&quot;:\&quot;1263d6c9-e4da-479d-8565-55379521b701\&quot;,\&quot;application\&quot;:\&quot;81556cae-51dd-4be9-8b09-b04798fef7ce\&quot;,\&quot;deviceuid\&quot;:\&quot;b626a754-c6dc-44ea-88e6-e7749862d872\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;partitionkey\&quot;:\&quot;81556cae%2D51dd%2D4be9%2D8b09%2Db04798fef7ce/device1\&quot;,\&quot;applicationuid\&quot;:\&quot;c1859907-dfd7-4c68-ace5-f006e19a25a5\&quot;}&quot; }
[2022-05-09T10:14:49Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-09T10:14:49Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-09T10:14:49Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-09T10:14:49Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry/device1
[2022-05-09T10:14:49Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-endpoint.172.18.0.2.nip.io:30001&quot;, client_id: &quot;9e4344e4-b4f1-4bb4-ad41-537b03ad5d1b&quot;, persistence: None, user_data: None }
[2022-05-09T10:14:49Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T10:14:49Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55efdc05c420
[2022-05-09T10:14:49Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55efdc05c420
[2022-05-09T10:14:49Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x55efdc139560, password: 0x55efdc07ce60, connectTimeout: 30, retryInterval: 0, ssl: 0x55efdc056290, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55efdc1394a0, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;gateway1@81556cae-51dd-4be9-8b09-b04798fef7ce&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T10:14:49Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55efdc09adf0 } }, data: MessageData { topic: &quot;telemetry/device1&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55efdc09adf0 } } } }
[2022-05-09T10:14:49Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 640, payload: 0x7f0edc02b230, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/81556cae-51dd-4be9-8b09-b04798fef7ce&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 55, 50, 51, 55, 57, 51, 52, 49, 45, 56, 55, 100, 100, 45, 52, 100, 55, 57, 45, 56, 53, 50, 49, 45, 55, 57, 48, 97, 99, 56, 49, 56, 54, 51, 102, 97, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 56, 49, 53, 53, 54, 99, 97, 101, 37, 50, 68, 53, 49, 100, 100, 37, 50, 68, 52, 98, 101, 57, 37, 50, 68, 56, 98, 48, 57, 37, 50, 68, 98, 48, 52, 55, 57, 56, 102, 101, 102, 55, 99, 101, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 48, 58, 49, 52, 58, 52, 57, 46, 54, 57, 55, 55, 54, 48, 52, 49, 53, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 56, 49, 53, 53, 54, 99, 97, 101, 45, 53, 49, 100, 100, 45, 52, 98, 101, 57, 45, 56, 98, 48, 57, 45, 98, 48, 52, 55, 57, 56, 102, 101, 102, 55, 99, 101, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 49, 50, 54, 51, 100, 54, 99, 57, 45, 101, 52, 100, 97, 45, 52, 55, 57, 100, 45, 56, 53, 54, 53, 45, 53, 53, 51, 55, 57, 53, 50, 49, 98, 55, 48, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 56, 49, 53, 53, 54, 99, 97, 101, 37, 50, 68, 53, 49, 100, 100, 37, 50, 68, 52, 98, 101, 57, 37, 50, 68, 56, 98, 48, 57, 37, 50, 68, 98, 48, 52, 55, 57, 56, 102, 101, 102, 55, 99, 101, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 49, 50, 54, 51, 100, 54, 99, 57, 45, 101, 52, 100, 97, 45, 52, 55, 57, 100, 45, 56, 53, 54, 53, 45, 53, 53, 51, 55, 57, 53, 50, 49, 98, 55, 48, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 99, 49, 56, 53, 57, 57, 48, 55, 45, 100, 102, 100, 55, 45, 52, 99, 54, 56, 45, 97, 99, 101, 53, 45, 102, 48, 48, 54, 101, 49, 57, 97, 50, 53, 97, 53, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-09T10:14:49Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/81556cae-51dd-4be9-8b09-b04798fef7ce&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;72379341-87dd-4d79-8521-790ac81863fa\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://81556cae%2D51dd%2D4be9%2D8b09%2Db04798fef7ce/gateway1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T10:14:49.697760415Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:true},\&quot;application\&quot;:\&quot;81556cae-51dd-4be9-8b09-b04798fef7ce\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;senderuid\&quot;:\&quot;1263d6c9-e4da-479d-8565-55379521b701\&quot;,\&quot;device\&quot;:\&quot;gateway1\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;partitionkey\&quot;:\&quot;81556cae%2D51dd%2D4be9%2D8b09%2Db04798fef7ce/gateway1\&quot;,\&quot;deviceuid\&quot;:\&quot;1263d6c9-e4da-479d-8565-55379521b701\&quot;,\&quot;applicationuid\&quot;:\&quot;c1859907-dfd7-4c68-ace5-f006e19a25a5\&quot;}&quot; }
[2022-05-09T10:14:49Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-09T10:14:50Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 630, payload: 0x7f0edc02b4c0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/81556cae-51dd-4be9-8b09-b04798fef7ce&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 53, 97, 101, 52, 55, 53, 56, 52, 45, 55, 48, 55, 102, 45, 52, 52, 56, 100, 45, 98, 55, 53, 99, 45, 52, 51, 100, 53, 56, 52, 48, 97, 101, 57, 52, 57, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 56, 49, 53, 53, 54, 99, 97, 101, 37, 50, 68, 53, 49, 100, 100, 37, 50, 68, 52, 98, 101, 57, 37, 50, 68, 56, 98, 48, 57, 37, 50, 68, 98, 48, 52, 55, 57, 56, 102, 101, 102, 55, 99, 101, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 111, 99, 116, 101, 116, 45, 115, 116, 114, 101, 97, 109, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 116, 101, 108, 101, 109, 101, 116, 114, 121, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 48, 58, 49, 52, 58, 52, 57, 46, 56, 57, 53, 48, 48, 57, 54, 57, 52, 90, 34, 44, 34, 100, 97, 116, 97, 95, 98, 97, 115, 101, 54, 52, 34, 58, 34, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 56, 49, 53, 53, 54, 99, 97, 101, 45, 53, 49, 100, 100, 45, 52, 98, 101, 57, 45, 56, 98, 48, 57, 45, 98, 48, 52, 55, 57, 56, 102, 101, 102, 55, 99, 101, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 99, 49, 56, 53, 57, 57, 48, 55, 45, 100, 102, 100, 55, 45, 52, 99, 54, 56, 45, 97, 99, 101, 53, 45, 102, 48, 48, 54, 101, 49, 57, 97, 50, 53, 97, 53, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 49, 50, 54, 51, 100, 54, 99, 57, 45, 101, 52, 100, 97, 45, 52, 55, 57, 100, 45, 56, 53, 54, 53, 45, 53, 53, 51, 55, 57, 53, 50, 49, 98, 55, 48, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 56, 49, 53, 53, 54, 99, 97, 101, 37, 50, 68, 53, 49, 100, 100, 37, 50, 68, 52, 98, 101, 57, 37, 50, 68, 56, 98, 48, 57, 37, 50, 68, 98, 48, 52, 55, 57, 56, 102, 101, 102, 55, 99, 101, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 98, 54, 50, 54, 97, 55, 53, 52, 45, 99, 54, 100, 99, 45, 52, 52, 101, 97, 45, 56, 56, 101, 54, 45, 101, 55, 55, 52, 57, 56, 54, 50, 100, 56, 55, 50, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-09T10:14:50Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/81556cae-51dd-4be9-8b09-b04798fef7ce&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;5ae47584-707f-448d-b75c-43d5840ae949\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://81556cae%2D51dd%2D4be9%2D8b09%2Db04798fef7ce/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/octet-stream\&quot;,\&quot;subject\&quot;:\&quot;telemetry\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T10:14:49.895009694Z\&quot;,\&quot;data_base64\&quot;:\&quot;\&quot;,\&quot;application\&quot;:\&quot;81556cae-51dd-4be9-8b09-b04798fef7ce\&quot;,\&quot;applicationuid\&quot;:\&quot;c1859907-dfd7-4c68-ace5-f006e19a25a5\&quot;,\&quot;senderuid\&quot;:\&quot;1263d6c9-e4da-479d-8565-55379521b701\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;partitionkey\&quot;:\&quot;81556cae%2D51dd%2D4be9%2D8b09%2Db04798fef7ce/device1\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;deviceuid\&quot;:\&quot;b626a754-c6dc-44ea-88e6-e7749862d872\&quot;}&quot; }
[2022-05-09T10:14:50Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 641, payload: 0x7f0edc0292f0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/81556cae-51dd-4be9-8b09-b04798fef7ce&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 49, 56, 101, 49, 50, 52, 99, 52, 45, 98, 97, 50, 52, 45, 52, 57, 54, 54, 45, 97, 51, 57, 53, 45, 57, 53, 102, 56, 49, 51, 52, 51, 49, 50, 98, 54, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 56, 49, 53, 53, 54, 99, 97, 101, 37, 50, 68, 53, 49, 100, 100, 37, 50, 68, 52, 98, 101, 57, 37, 50, 68, 56, 98, 48, 57, 37, 50, 68, 98, 48, 52, 55, 57, 56, 102, 101, 102, 55, 99, 101, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 48, 58, 49, 52, 58, 53, 48, 46, 51, 55, 55, 53, 48, 53, 51, 49, 55, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 102, 97, 108, 115, 101, 125, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 99, 49, 56, 53, 57, 57, 48, 55, 45, 100, 102, 100, 55, 45, 52, 99, 54, 56, 45, 97, 99, 101, 53, 45, 102, 48, 48, 54, 101, 49, 57, 97, 50, 53, 97, 53, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 49, 50, 54, 51, 100, 54, 99, 57, 45, 101, 52, 100, 97, 45, 52, 55, 57, 100, 45, 56, 53, 54, 53, 45, 53, 53, 51, 55, 57, 53, 50, 49, 98, 55, 48, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 49, 50, 54, 51, 100, 54, 99, 57, 45, 101, 52, 100, 97, 45, 52, 55, 57, 100, 45, 56, 53, 54, 53, 45, 53, 53, 51, 55, 57, 53, 50, 49, 98, 55, 48, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 56, 49, 53, 53, 54, 99, 97, 101, 45, 53, 49, 100, 100, 45, 52, 98, 101, 57, 45, 56, 98, 48, 57, 45, 98, 48, 52, 55, 57, 56, 102, 101, 102, 55, 99, 101, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 56, 49, 53, 53, 54, 99, 97, 101, 37, 50, 68, 53, 49, 100, 100, 37, 50, 68, 52, 98, 101, 57, 37, 50, 68, 56, 98, 48, 57, 37, 50, 68, 98, 48, 52, 55, 57, 56, 102, 101, 102, 55, 99, 101, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-09T10:14:50Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/81556cae-51dd-4be9-8b09-b04798fef7ce&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;18e124c4-ba24-4966-a395-95f8134312b6\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://81556cae%2D51dd%2D4be9%2D8b09%2Db04798fef7ce/gateway1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T10:14:50.377505317Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:false},\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;device\&quot;:\&quot;gateway1\&quot;,\&quot;applicationuid\&quot;:\&quot;c1859907-dfd7-4c68-ace5-f006e19a25a5\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;deviceuid\&quot;:\&quot;1263d6c9-e4da-479d-8565-55379521b701\&quot;,\&quot;senderuid\&quot;:\&quot;1263d6c9-e4da-479d-8565-55379521b701\&quot;,\&quot;application\&quot;:\&quot;81556cae-51dd-4be9-8b09-b04798fef7ce\&quot;,\&quot;partitionkey\&quot;:\&quot;81556cae%2D51dd%2D4be9%2D8b09%2Db04798fef7ce/gateway1\&quot;}&quot; }
[2022-05-09T10:14:50Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-09T10:14:50Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-09T10:14:50Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-09T10:14:50Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;81556cae-51dd-4be9-8b09-b04798fef7ce&quot;, device: &quot;gateway1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`,
 right: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;81556cae-51dd-4be9-8b09-b04798fef7ce&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`: Position #0&#x27;, src/tools/assert.rs:35:39
[2022-05-09T10:14:50Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-09T10:14:50Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;81556cae-51dd-4be9-8b09-b04798fef7ce&quot; &quot;device1&quot;
[2022-05-09T10:14:50Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:14:50Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-05-09T10:14:50Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;81556cae-51dd-4be9-8b09-b04798fef7ce&quot; &quot;gateway1&quot;
[2022-05-09T10:14:50Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:14:50Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;81556cae-51dd-4be9-8b09-b04798fef7ce&#x27;
[2022-05-09T10:14:50Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;81556cae-51dd-4be9-8b09-b04798fef7ce&quot;
[2022-05-09T10:14:50Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 81556cae-51dd-4be9-8b09-b04798fef7ce deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_1::integration_version_2::integration_ws_1

**Duration**: 14s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-09T10:14:52Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-09T10:14:52Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T10:14:52Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T10:14:52Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T10:14:52Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T10:14:53Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-09T10:14:54Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-09T10:14:54Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T10:14:54Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T10:14:54Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T10:14:56Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI0NDVmMTM5Zi0wNjNjLTRhZDgtODkwYi1mNTg1OTQ0NjFiZDAifQ.eyJleHAiOjE2NTIwOTMwOTYsImlhdCI6MTY1MjA5MTI5NiwianRpIjoiMTE3MWVjODktZWRjNi00NjFhLThiNjMtNTYxMWQ3ODEzOWE4IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjNkZWIxOWY5LWM3NDYtNGIwMC1hOTA5LTJiOTg4NTVjZTRmMyIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IkRRcE5GUElxUElIbjBLQVhBemt3V2ciLCJzZXNzaW9uX3N0YXRlIjoiMDRhYzk0OTItMWNlNS00MDVkLTk0ZGYtMTQyNmFiOGYzZmM1Iiwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjA0YWM5NDkyLTFjZTUtNDA1ZC05NGRmLTE0MjZhYjhmM2ZjNSJ9.rHOyOwvOG9PDin-Sd_-9VsXUbaIREras2BR97zBvp10
[2022-05-09T10:14:56Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-09T10:14:56Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-09T10:14:56Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI0NDVmMTM5Zi0wNjNjLTRhZDgtODkwYi1mNTg1OTQ0NjFiZDAifQ.eyJleHAiOjE2NTIwOTMwOTYsImlhdCI6MTY1MjA5MTI5NiwianRpIjoiMTE3MWVjODktZWRjNi00NjFhLThiNjMtNTYxMWQ3ODEzOWE4IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjNkZWIxOWY5LWM3NDYtNGIwMC1hOTA5LTJiOTg4NTVjZTRmMyIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IkRRcE5GUElxUElIbjBLQVhBemt3V2ciLCJzZXNzaW9uX3N0YXRlIjoiMDRhYzk0OTItMWNlNS00MDVkLTk0ZGYtMTQyNmFiOGYzZmM1Iiwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjA0YWM5NDkyLTFjZTUtNDA1ZC05NGRmLTE0MjZhYjhmM2ZjNSJ9.rHOyOwvOG9PDin-Sd_-9VsXUbaIREras2BR97zBvp10&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-09T10:14:56Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:14:57Z INFO  drogue_cloud_tests::resources::apps] Create application: 2fd72cea-437c-405a-bc4f-dde5e62b72b8
[2022-05-09T10:14:57Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;2fd72cea-437c-405a-bc4f-dde5e62b72b8&quot;
[2022-05-09T10:14:57Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 2fd72cea-437c-405a-bc4f-dde5e62b72b8 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:14:57Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;2fd72cea-437c-405a-bc4f-dde5e62b72b8&quot;
[2022-05-09T10:14:57Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T10:14:57.376963Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 1,\n    \&quot;name\&quot;: \&quot;2fd72cea-437c-405a-bc4f-dde5e62b72b8\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;fab7793f-3299-495b-8daa-c5390bccbe3d\&quot;,\n    \&quot;uid\&quot;: \&quot;a067e2fa-84db-46b2-861e-44dc989ce480\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:14:57.390398922Z\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: HasFinalizer\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:14:57.390479073Z\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:14:57.390026226Z\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:14:57.390027799Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:14:57.390028691Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:14:57.390030644Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:14:57.390031236Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:14:57.390039522Z\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:14:57Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T10:14:57.376963Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(1), &quot;name&quot;: String(&quot;2fd72cea-437c-405a-bc4f-dde5e62b72b8&quot;), &quot;resourceVersion&quot;: String(&quot;fab7793f-3299-495b-8daa-c5390bccbe3d&quot;), &quot;uid&quot;: String(&quot;a067e2fa-84db-46b2-861e-44dc989ce480&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:14:57.390398922Z&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: HasFinalizer&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:14:57.390479073Z&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:14:57.390026226Z&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:14:57.390027799Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:14:57.390028691Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:14:57.390030644Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:14:57.390031236Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:14:57.390039522Z&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(0)})})})
[2022-05-09T10:14:57Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-09T10:14:58Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;2fd72cea-437c-405a-bc4f-dde5e62b72b8&quot;
[2022-05-09T10:14:58Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T10:14:57.376963Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 8,\n    \&quot;name\&quot;: \&quot;2fd72cea-437c-405a-bc4f-dde5e62b72b8\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;dac5160d-3d4a-468a-ad0a-ff268ca9a50b\&quot;,\n    \&quot;uid\&quot;: \&quot;a067e2fa-84db-46b2-861e-44dc989ce480\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:14:57.725718946Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:14:57.725771474Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:14:57.415875419Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:14:57.420923666Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:14:57.498040841Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:14:57.507820954Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:14:57.725485850Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:14:57.725682999Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 7,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;Parj1zJpGbRi\&quot;,\n        \&quot;username\&quot;: \&quot;user-2fd72cea-437c-405a-bc4f-dde5e62b72b8\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:14:58Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T10:14:57.376963Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(8), &quot;name&quot;: String(&quot;2fd72cea-437c-405a-bc4f-dde5e62b72b8&quot;), &quot;resourceVersion&quot;: String(&quot;dac5160d-3d4a-468a-ad0a-ff268ca9a50b&quot;), &quot;uid&quot;: String(&quot;a067e2fa-84db-46b2-861e-44dc989ce480&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:14:57.725718946Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:14:57.725771474Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:14:57.415875419Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:14:57.420923666Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:14:57.498040841Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:14:57.507820954Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:14:57.725485850Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:14:57.725682999Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(7), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;Parj1zJpGbRi&quot;), &quot;username&quot;: String(&quot;user-2fd72cea-437c-405a-bc4f-dde5e62b72b8&quot;)})})})})
[2022-05-09T10:14:58Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-09T10:14:58Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;2fd72cea-437c-405a-bc4f-dde5e62b72b8&quot;
[2022-05-09T10:14:58Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T10:14:57.376963Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 8,\n    \&quot;name\&quot;: \&quot;2fd72cea-437c-405a-bc4f-dde5e62b72b8\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;dac5160d-3d4a-468a-ad0a-ff268ca9a50b\&quot;,\n    \&quot;uid\&quot;: \&quot;a067e2fa-84db-46b2-861e-44dc989ce480\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:14:57.725718946Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:14:57.725771474Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:14:57.415875419Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:14:57.420923666Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:14:57.498040841Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:14:57.507820954Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:14:57.725485850Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:14:57.725682999Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 7,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;Parj1zJpGbRi\&quot;,\n        \&quot;username\&quot;: \&quot;user-2fd72cea-437c-405a-bc4f-dde5e62b72b8\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:14:58Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T10:14:57.376963Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(8), &quot;name&quot;: String(&quot;2fd72cea-437c-405a-bc4f-dde5e62b72b8&quot;), &quot;resourceVersion&quot;: String(&quot;dac5160d-3d4a-468a-ad0a-ff268ca9a50b&quot;), &quot;uid&quot;: String(&quot;a067e2fa-84db-46b2-861e-44dc989ce480&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:14:57.725718946Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:14:57.725771474Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:14:57.415875419Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:14:57.420923666Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:14:57.498040841Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:14:57.507820954Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:14:57.725485850Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:14:57.725682999Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(7), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;Parj1zJpGbRi&quot;), &quot;username&quot;: String(&quot;user-2fd72cea-437c-405a-bc4f-dde5e62b72b8&quot;)})})})})
[2022-05-09T10:14:58Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-09T10:14:58Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-05-09T10:14:58Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;2fd72cea-437c-405a-bc4f-dde5e62b72b8&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-09T10:14:58Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:14:58Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:14:58Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T10:14:58Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T10:14:58Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJXRG4zQ2wwMVNsYVpRRnRTbUpuS2JqWC1wcXdsR21xWDhSUFNWSHgxUHgwIn0.eyJleHAiOjE2NTIwOTE1OTYsImlhdCI6MTY1MjA5MTI5NiwiYXV0aF90aW1lIjoxNjUyMDkxMjkzLCJqdGkiOiJjNTA3N2EyYS1jM2JkLTQ1Y2EtYjhmOS0xZjAwMDgxY2FiZWIiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiM2RlYjE5ZjktYzc0Ni00YjAwLWE5MDktMmI5ODg1NWNlNGYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJEUXBORlBJcVBJSG4wS0FYQXprd1dnIiwic2Vzc2lvbl9zdGF0ZSI6IjA0YWM5NDkyLTFjZTUtNDA1ZC05NGRmLTE0MjZhYjhmM2ZjNSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjA0YWM5NDkyLTFjZTUtNDA1ZC05NGRmLTE0MjZhYjhmM2ZjNSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.Q61dGaS5_vtgKHZ2pWrGfC_ZRd3gURxybYWRccnATuXBmM-gTgWSF6-BR6geBWf05DRv9Un1THoB9z5LpEh4bUJO3EXPv3qkGC-Z6QHt0mk8jZq6AcDAZcWgkTBC-h9jAV0Py56dbhFXERmTZpb1ThdweajyKv5rNeeUzpVVpoh--gEELXRebFNYrEjuBryrRX_QyUJU_5n8GtYzRNUZQTN0qTXCjKBeh3Cx1G56GyZn4guosiYCkEcBUk0b2dpywPcTUdpvfKuSACE77Wxgvvxx1WmLm3zXStrpH1fyj1ZL-Xz2XHKtqQisdC6B1CbRW5IwFZIvr9ACK2-bIbsgPA\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:14:58Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T10:14:58Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-09T10:14:58Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-09T10:14:58Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;2fd72cea-437c-405a-bc4f-dde5e62b72b8&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-05-09T10:14:58Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:14:58Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: ssl://mqtt-integration.172.18.0.2.nip.io:30002
[2022-05-09T10:14:58Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T10:14:58Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJXRG4zQ2wwMVNsYVpRRnRTbUpuS2JqWC1wcXdsR21xWDhSUFNWSHgxUHgwIn0.eyJleHAiOjE2NTIwOTE1OTYsImlhdCI6MTY1MjA5MTI5NiwiYXV0aF90aW1lIjoxNjUyMDkxMjkzLCJqdGkiOiJjNTA3N2EyYS1jM2JkLTQ1Y2EtYjhmOS0xZjAwMDgxY2FiZWIiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiM2RlYjE5ZjktYzc0Ni00YjAwLWE5MDktMmI5ODg1NWNlNGYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJEUXBORlBJcVBJSG4wS0FYQXprd1dnIiwic2Vzc2lvbl9zdGF0ZSI6IjA0YWM5NDkyLTFjZTUtNDA1ZC05NGRmLTE0MjZhYjhmM2ZjNSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjA0YWM5NDkyLTFjZTUtNDA1ZC05NGRmLTE0MjZhYjhmM2ZjNSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.Q61dGaS5_vtgKHZ2pWrGfC_ZRd3gURxybYWRccnATuXBmM-gTgWSF6-BR6geBWf05DRv9Un1THoB9z5LpEh4bUJO3EXPv3qkGC-Z6QHt0mk8jZq6AcDAZcWgkTBC-h9jAV0Py56dbhFXERmTZpb1ThdweajyKv5rNeeUzpVVpoh--gEELXRebFNYrEjuBryrRX_QyUJU_5n8GtYzRNUZQTN0qTXCjKBeh3Cx1G56GyZn4guosiYCkEcBUk0b2dpywPcTUdpvfKuSACE77Wxgvvxx1WmLm3zXStrpH1fyj1ZL-Xz2XHKtqQisdC6B1CbRW5IwFZIvr9ACK2-bIbsgPA\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:14:58Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-integration.172.18.0.2.nip.io:30002&quot;, client_id: &quot;889f257b-acdd-45e6-b5f9-02a591008184&quot;, persistence: None, user_data: None }
[2022-05-09T10:14:58Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T10:14:58Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55efdc320090
[2022-05-09T10:14:58Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55efdc320090
[2022-05-09T10:14:58Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x55efdc1a22c0, connectTimeout: 30, retryInterval: 0, ssl: 0x55efdbdfd900, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55efdbe6fe70, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJXRG4zQ2wwMVNsYVpRRnRTbUpuS2JqWC1wcXdsR21xWDhSUFNWSHgxUHgwIn0.eyJleHAiOjE2NTIwOTE1OTYsImlhdCI6MTY1MjA5MTI5NiwiYXV0aF90aW1lIjoxNjUyMDkxMjkzLCJqdGkiOiJjNTA3N2EyYS1jM2JkLTQ1Y2EtYjhmOS0xZjAwMDgxY2FiZWIiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiM2RlYjE5ZjktYzc0Ni00YjAwLWE5MDktMmI5ODg1NWNlNGYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJEUXBORlBJcVBJSG4wS0FYQXprd1dnIiwic2Vzc2lvbl9zdGF0ZSI6IjA0YWM5NDkyLTFjZTUtNDA1ZC05NGRmLTE0MjZhYjhmM2ZjNSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjA0YWM5NDkyLTFjZTUtNDA1ZC05NGRmLTE0MjZhYjhmM2ZjNSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.Q61dGaS5_vtgKHZ2pWrGfC_ZRd3gURxybYWRccnATuXBmM-gTgWSF6-BR6geBWf05DRv9Un1THoB9z5LpEh4bUJO3EXPv3qkGC-Z6QHt0mk8jZq6AcDAZcWgkTBC-h9jAV0Py56dbhFXERmTZpb1ThdweajyKv5rNeeUzpVVpoh--gEELXRebFNYrEjuBryrRX_QyUJU_5n8GtYzRNUZQTN0qTXCjKBeh3Cx1G56GyZn4guosiYCkEcBUk0b2dpywPcTUdpvfKuSACE77Wxgvvxx1WmLm3zXStrpH1fyj1ZL-Xz2XHKtqQisdC6B1CbRW5IwFZIvr9ACK2-bIbsgPA&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T10:14:58Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/2fd72cea-437c-405a-bc4f-dde5e62b72b8&quot;&#x27; @ QOS 0
[2022-05-09T10:14:58Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-09T10:14:58Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-09T10:14:58Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:14:58Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:14:58Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:14:59Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:15:00Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:15:00Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:15:00Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:15:00Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:15:01Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:15:01Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:15:01Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:15:01Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:15:02Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:15:02Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:15:02Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:15:02Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:15:02Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 621, payload: 0x7f0ed0017650, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f0ed00178d0 } }, data: MessageData { topic: &quot;app/2fd72cea-437c-405a-bc4f-dde5e62b72b8&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 53, 57, 98, 48, 54, 57, 55, 101, 45, 53, 97, 102, 99, 45, 52, 49, 50, 51, 45, 57, 100, 57, 53, 45, 101, 54, 50, 48, 101, 51, 53, 102, 57, 99, 49, 56, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 50, 102, 100, 55, 50, 99, 101, 97, 37, 50, 68, 52, 51, 55, 99, 37, 50, 68, 52, 48, 53, 97, 37, 50, 68, 98, 99, 52, 102, 37, 50, 68, 100, 100, 101, 53, 101, 54, 50, 98, 55, 50, 98, 56, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 119, 97, 114, 109, 117, 112, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 48, 58, 49, 53, 58, 48, 50, 46, 53, 51, 49, 55, 56, 54, 54, 50, 49, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 101, 52, 57, 100, 97, 57, 55, 49, 45, 55, 56, 99, 102, 45, 52, 49, 97, 100, 45, 97, 56, 50, 101, 45, 52, 98, 100, 97, 56, 48, 49, 55, 52, 57, 51, 57, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 48, 57, 102, 101, 50, 51, 101, 97, 45, 97, 48, 51, 54, 45, 52, 56, 54, 51, 45, 98, 49, 48, 51, 45, 50, 98, 54, 53, 57, 102, 99, 56, 57, 51, 97, 53, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 50, 102, 100, 55, 50, 99, 101, 97, 45, 52, 51, 55, 99, 45, 52, 48, 53, 97, 45, 98, 99, 52, 102, 45, 100, 100, 101, 53, 101, 54, 50, 98, 55, 50, 98, 56, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 97, 48, 54, 55, 101, 50, 102, 97, 45, 56, 52, 100, 98, 45, 52, 54, 98, 50, 45, 56, 54, 49, 101, 45, 52, 52, 100, 99, 57, 56, 57, 99, 101, 52, 56, 48, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 50, 102, 100, 55, 50, 99, 101, 97, 37, 50, 68, 52, 51, 55, 99, 37, 50, 68, 52, 48, 53, 97, 37, 50, 68, 98, 99, 52, 102, 37, 50, 68, 100, 100, 101, 53, 101, 54, 50, 98, 55, 50, 98, 56, 47, 100, 101, 118, 105, 99, 101, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f0ed00178d0 } } } }
[2022-05-09T10:15:02Z DEBUG paho_mqtt::properties] Dropping string property: 0x55efdbe82c40
[2022-05-09T10:15:02Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/2fd72cea-437c-405a-bc4f-dde5e62b72b8&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;59b0697e-5afc-4123-9d95-e620e35f9c18\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://2fd72cea%2D437c%2D405a%2Dbc4f%2Ddde5e62b72b8/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;warmup\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T10:15:02.531786621Z\&quot;,\&quot;data\&quot;:{\&quot;index\&quot;:3},\&quot;senderuid\&quot;:\&quot;e49da971-78cf-41ad-a82e-4bda80174939\&quot;,\&quot;deviceuid\&quot;:\&quot;09fe23ea-a036-4863-b103-2b659fc893a5\&quot;,\&quot;application\&quot;:\&quot;2fd72cea-437c-405a-bc4f-dde5e62b72b8\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;applicationuid\&quot;:\&quot;a067e2fa-84db-46b2-861e-44dc989ce480\&quot;,\&quot;partitionkey\&quot;:\&quot;2fd72cea%2D437c%2D405a%2Dbc4f%2Ddde5e62b72b8/device1\&quot;}&quot; }
[2022-05-09T10:15:03Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-09T10:15:03Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-09T10:15:03Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-09T10:15:03Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry/device1
[2022-05-09T10:15:03Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-endpoint.172.18.0.2.nip.io:30001&quot;, client_id: &quot;7559451a-4ca3-41bd-97c3-797c32c28e37&quot;, persistence: None, user_data: None }
[2022-05-09T10:15:03Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T10:15:03Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55efdbe33700
[2022-05-09T10:15:03Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55efdbe33700
[2022-05-09T10:15:03Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x55efdc13c760, password: 0x55efdbe63a60, connectTimeout: 30, retryInterval: 0, ssl: 0x55efdc09c680, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55efdc299430, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;gateway1@2fd72cea-437c-405a-bc4f-dde5e62b72b8&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T10:15:03Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55efdbf3fee0 } }, data: MessageData { topic: &quot;telemetry/device1&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55efdbf3fee0 } } } }
[2022-05-09T10:15:03Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-09T10:15:03Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 640, payload: 0x7f0ed000b050, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f0ed000b2e0 } }, data: MessageData { topic: &quot;app/2fd72cea-437c-405a-bc4f-dde5e62b72b8&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 48, 54, 97, 97, 57, 102, 52, 50, 45, 51, 57, 102, 48, 45, 52, 49, 97, 97, 45, 56, 50, 99, 99, 45, 52, 98, 49, 57, 101, 55, 101, 48, 101, 101, 54, 99, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 50, 102, 100, 55, 50, 99, 101, 97, 37, 50, 68, 52, 51, 55, 99, 37, 50, 68, 52, 48, 53, 97, 37, 50, 68, 98, 99, 52, 102, 37, 50, 68, 100, 100, 101, 53, 101, 54, 50, 98, 55, 50, 98, 56, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 48, 58, 49, 53, 58, 48, 51, 46, 54, 52, 57, 52, 48, 53, 57, 53, 51, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 50, 102, 100, 55, 50, 99, 101, 97, 37, 50, 68, 52, 51, 55, 99, 37, 50, 68, 52, 48, 53, 97, 37, 50, 68, 98, 99, 52, 102, 37, 50, 68, 100, 100, 101, 53, 101, 54, 50, 98, 55, 50, 98, 56, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 101, 52, 57, 100, 97, 57, 55, 49, 45, 55, 56, 99, 102, 45, 52, 49, 97, 100, 45, 97, 56, 50, 101, 45, 52, 98, 100, 97, 56, 48, 49, 55, 52, 57, 51, 57, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 97, 48, 54, 55, 101, 50, 102, 97, 45, 56, 52, 100, 98, 45, 52, 54, 98, 50, 45, 56, 54, 49, 101, 45, 52, 52, 100, 99, 57, 56, 57, 99, 101, 52, 56, 48, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 50, 102, 100, 55, 50, 99, 101, 97, 45, 52, 51, 55, 99, 45, 52, 48, 53, 97, 45, 98, 99, 52, 102, 45, 100, 100, 101, 53, 101, 54, 50, 98, 55, 50, 98, 56, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 101, 52, 57, 100, 97, 57, 55, 49, 45, 55, 56, 99, 102, 45, 52, 49, 97, 100, 45, 97, 56, 50, 101, 45, 52, 98, 100, 97, 56, 48, 49, 55, 52, 57, 51, 57, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f0ed000b2e0 } } } }
[2022-05-09T10:15:03Z DEBUG paho_mqtt::properties] Dropping string property: 0x55efdbef33c0
[2022-05-09T10:15:03Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/2fd72cea-437c-405a-bc4f-dde5e62b72b8&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;06aa9f42-39f0-41aa-82cc-4b19e7e0ee6c\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://2fd72cea%2D437c%2D405a%2Dbc4f%2Ddde5e62b72b8/gateway1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T10:15:03.649405953Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:true},\&quot;partitionkey\&quot;:\&quot;2fd72cea%2D437c%2D405a%2Dbc4f%2Ddde5e62b72b8/gateway1\&quot;,\&quot;deviceuid\&quot;:\&quot;e49da971-78cf-41ad-a82e-4bda80174939\&quot;,\&quot;applicationuid\&quot;:\&quot;a067e2fa-84db-46b2-861e-44dc989ce480\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;device\&quot;:\&quot;gateway1\&quot;,\&quot;application\&quot;:\&quot;2fd72cea-437c-405a-bc4f-dde5e62b72b8\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;senderuid\&quot;:\&quot;e49da971-78cf-41ad-a82e-4bda80174939\&quot;}&quot; }
[2022-05-09T10:15:04Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 641, payload: 0x7f0ed0017fa0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f0ed0007c20 } }, data: MessageData { topic: &quot;app/2fd72cea-437c-405a-bc4f-dde5e62b72b8&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 53, 98, 52, 54, 50, 55, 55, 50, 45, 56, 57, 99, 99, 45, 52, 52, 102, 97, 45, 56, 52, 53, 48, 45, 57, 99, 98, 53, 57, 100, 54, 57, 54, 49, 98, 102, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 50, 102, 100, 55, 50, 99, 101, 97, 37, 50, 68, 52, 51, 55, 99, 37, 50, 68, 52, 48, 53, 97, 37, 50, 68, 98, 99, 52, 102, 37, 50, 68, 100, 100, 101, 53, 101, 54, 50, 98, 55, 50, 98, 56, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 48, 58, 49, 53, 58, 48, 51, 46, 57, 49, 48, 52, 49, 51, 54, 57, 55, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 102, 97, 108, 115, 101, 125, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 50, 102, 100, 55, 50, 99, 101, 97, 37, 50, 68, 52, 51, 55, 99, 37, 50, 68, 52, 48, 53, 97, 37, 50, 68, 98, 99, 52, 102, 37, 50, 68, 100, 100, 101, 53, 101, 54, 50, 98, 55, 50, 98, 56, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 97, 48, 54, 55, 101, 50, 102, 97, 45, 56, 52, 100, 98, 45, 52, 54, 98, 50, 45, 56, 54, 49, 101, 45, 52, 52, 100, 99, 57, 56, 57, 99, 101, 52, 56, 48, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 50, 102, 100, 55, 50, 99, 101, 97, 45, 52, 51, 55, 99, 45, 52, 48, 53, 97, 45, 98, 99, 52, 102, 45, 100, 100, 101, 53, 101, 54, 50, 98, 55, 50, 98, 56, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 101, 52, 57, 100, 97, 57, 55, 49, 45, 55, 56, 99, 102, 45, 52, 49, 97, 100, 45, 97, 56, 50, 101, 45, 52, 98, 100, 97, 56, 48, 49, 55, 52, 57, 51, 57, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 101, 52, 57, 100, 97, 57, 55, 49, 45, 55, 56, 99, 102, 45, 52, 49, 97, 100, 45, 97, 56, 50, 101, 45, 52, 98, 100, 97, 56, 48, 49, 55, 52, 57, 51, 57, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f0ed0007c20 } } } }
[2022-05-09T10:15:04Z DEBUG paho_mqtt::properties] Dropping string property: 0x55efdbef33c0
[2022-05-09T10:15:04Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/2fd72cea-437c-405a-bc4f-dde5e62b72b8&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;5b462772-89cc-44fa-8450-9cb59d6961bf\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://2fd72cea%2D437c%2D405a%2Dbc4f%2Ddde5e62b72b8/gateway1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T10:15:03.910413697Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:false},\&quot;partitionkey\&quot;:\&quot;2fd72cea%2D437c%2D405a%2Dbc4f%2Ddde5e62b72b8/gateway1\&quot;,\&quot;device\&quot;:\&quot;gateway1\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;applicationuid\&quot;:\&quot;a067e2fa-84db-46b2-861e-44dc989ce480\&quot;,\&quot;application\&quot;:\&quot;2fd72cea-437c-405a-bc4f-dde5e62b72b8\&quot;,\&quot;deviceuid\&quot;:\&quot;e49da971-78cf-41ad-a82e-4bda80174939\&quot;,\&quot;senderuid\&quot;:\&quot;e49da971-78cf-41ad-a82e-4bda80174939\&quot;}&quot; }
[2022-05-09T10:15:04Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 630, payload: 0x7f0ed0007dc0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f0ed0008040 } }, data: MessageData { topic: &quot;app/2fd72cea-437c-405a-bc4f-dde5e62b72b8&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 98, 51, 57, 101, 50, 98, 49, 98, 45, 101, 99, 51, 55, 45, 52, 52, 57, 99, 45, 97, 102, 57, 98, 45, 98, 97, 50, 99, 99, 51, 50, 51, 98, 50, 53, 57, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 50, 102, 100, 55, 50, 99, 101, 97, 37, 50, 68, 52, 51, 55, 99, 37, 50, 68, 52, 48, 53, 97, 37, 50, 68, 98, 99, 52, 102, 37, 50, 68, 100, 100, 101, 53, 101, 54, 50, 98, 55, 50, 98, 56, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 111, 99, 116, 101, 116, 45, 115, 116, 114, 101, 97, 109, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 116, 101, 108, 101, 109, 101, 116, 114, 121, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 48, 58, 49, 53, 58, 48, 51, 46, 57, 48, 56, 57, 56, 55, 52, 56, 49, 90, 34, 44, 34, 100, 97, 116, 97, 95, 98, 97, 115, 101, 54, 52, 34, 58, 34, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 50, 102, 100, 55, 50, 99, 101, 97, 37, 50, 68, 52, 51, 55, 99, 37, 50, 68, 52, 48, 53, 97, 37, 50, 68, 98, 99, 52, 102, 37, 50, 68, 100, 100, 101, 53, 101, 54, 50, 98, 55, 50, 98, 56, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 50, 102, 100, 55, 50, 99, 101, 97, 45, 52, 51, 55, 99, 45, 52, 48, 53, 97, 45, 98, 99, 52, 102, 45, 100, 100, 101, 53, 101, 54, 50, 98, 55, 50, 98, 56, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 48, 57, 102, 101, 50, 51, 101, 97, 45, 97, 48, 51, 54, 45, 52, 56, 54, 51, 45, 98, 49, 48, 51, 45, 50, 98, 54, 53, 57, 102, 99, 56, 57, 51, 97, 53, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 97, 48, 54, 55, 101, 50, 102, 97, 45, 56, 52, 100, 98, 45, 52, 54, 98, 50, 45, 56, 54, 49, 101, 45, 52, 52, 100, 99, 57, 56, 57, 99, 101, 52, 56, 48, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 101, 52, 57, 100, 97, 57, 55, 49, 45, 55, 56, 99, 102, 45, 52, 49, 97, 100, 45, 97, 56, 50, 101, 45, 52, 98, 100, 97, 56, 48, 49, 55, 52, 57, 51, 57, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f0ed0008040 } } } }
[2022-05-09T10:15:04Z DEBUG paho_mqtt::properties] Dropping string property: 0x55efdbef33c0
[2022-05-09T10:15:04Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/2fd72cea-437c-405a-bc4f-dde5e62b72b8&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;b39e2b1b-ec37-449c-af9b-ba2cc323b259\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://2fd72cea%2D437c%2D405a%2Dbc4f%2Ddde5e62b72b8/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/octet-stream\&quot;,\&quot;subject\&quot;:\&quot;telemetry\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T10:15:03.908987481Z\&quot;,\&quot;data_base64\&quot;:\&quot;\&quot;,\&quot;partitionkey\&quot;:\&quot;2fd72cea%2D437c%2D405a%2Dbc4f%2Ddde5e62b72b8/device1\&quot;,\&quot;application\&quot;:\&quot;2fd72cea-437c-405a-bc4f-dde5e62b72b8\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;deviceuid\&quot;:\&quot;09fe23ea-a036-4863-b103-2b659fc893a5\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;applicationuid\&quot;:\&quot;a067e2fa-84db-46b2-861e-44dc989ce480\&quot;,\&quot;senderuid\&quot;:\&quot;e49da971-78cf-41ad-a82e-4bda80174939\&quot;}&quot; }
[2022-05-09T10:15:04Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-09T10:15:04Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-09T10:15:04Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-09T10:15:04Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;2fd72cea-437c-405a-bc4f-dde5e62b72b8&quot;, device: &quot;gateway1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`,
 right: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;2fd72cea-437c-405a-bc4f-dde5e62b72b8&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`: Position #0&#x27;, src/tools/assert.rs:35:39
[2022-05-09T10:15:04Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-09T10:15:04Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;2fd72cea-437c-405a-bc4f-dde5e62b72b8&quot; &quot;device1&quot;
[2022-05-09T10:15:04Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:15:04Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-05-09T10:15:04Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;2fd72cea-437c-405a-bc4f-dde5e62b72b8&quot; &quot;gateway1&quot;
[2022-05-09T10:15:04Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:15:04Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;2fd72cea-437c-405a-bc4f-dde5e62b72b8&#x27;
[2022-05-09T10:15:04Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;2fd72cea-437c-405a-bc4f-dde5e62b72b8&quot;
[2022-05-09T10:15:04Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 2fd72cea-437c-405a-bc4f-dde5e62b72b8 deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_1::integration_version_2::integration_ws_2

**Duration**: 14s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-09T10:15:06Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-09T10:15:06Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T10:15:06Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T10:15:06Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T10:15:06Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T10:15:07Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-09T10:15:09Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-09T10:15:09Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T10:15:09Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T10:15:09Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T10:15:11Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI0NDVmMTM5Zi0wNjNjLTRhZDgtODkwYi1mNTg1OTQ0NjFiZDAifQ.eyJleHAiOjE2NTIwOTMxMTEsImlhdCI6MTY1MjA5MTMxMSwianRpIjoiNjUwNzhhNTAtODc3NC00Y2Q4LWI1MDQtOTMzYmM5OTNlMmY4IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjNkZWIxOWY5LWM3NDYtNGIwMC1hOTA5LTJiOTg4NTVjZTRmMyIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IjhHb3dqRExaaGpWUi0zamhxdVExZXciLCJzZXNzaW9uX3N0YXRlIjoiNzUxNTc2NWEtNzJkYy00ZTYwLThjMDYtMzYzOWNhZDJmMDU5Iiwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6Ijc1MTU3NjVhLTcyZGMtNGU2MC04YzA2LTM2MzljYWQyZjA1OSJ9.CpsAOcn-9i4synyXsnQTiO6orbe1N_6Wq1WSeXIqUGM
[2022-05-09T10:15:11Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-09T10:15:11Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-09T10:15:11Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI0NDVmMTM5Zi0wNjNjLTRhZDgtODkwYi1mNTg1OTQ0NjFiZDAifQ.eyJleHAiOjE2NTIwOTMxMTEsImlhdCI6MTY1MjA5MTMxMSwianRpIjoiNjUwNzhhNTAtODc3NC00Y2Q4LWI1MDQtOTMzYmM5OTNlMmY4IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjNkZWIxOWY5LWM3NDYtNGIwMC1hOTA5LTJiOTg4NTVjZTRmMyIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IjhHb3dqRExaaGpWUi0zamhxdVExZXciLCJzZXNzaW9uX3N0YXRlIjoiNzUxNTc2NWEtNzJkYy00ZTYwLThjMDYtMzYzOWNhZDJmMDU5Iiwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6Ijc1MTU3NjVhLTcyZGMtNGU2MC04YzA2LTM2MzljYWQyZjA1OSJ9.CpsAOcn-9i4synyXsnQTiO6orbe1N_6Wq1WSeXIqUGM&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-09T10:15:11Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:15:11Z INFO  drogue_cloud_tests::resources::apps] Create application: 05178285-ba13-41f7-a73e-14abfaf40986
[2022-05-09T10:15:11Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;05178285-ba13-41f7-a73e-14abfaf40986&quot;
[2022-05-09T10:15:11Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 05178285-ba13-41f7-a73e-14abfaf40986 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:15:11Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;05178285-ba13-41f7-a73e-14abfaf40986&quot;
[2022-05-09T10:15:11Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T10:15:11.884511Z\&quot;,\n    \&quot;generation\&quot;: 1,\n    \&quot;name\&quot;: \&quot;05178285-ba13-41f7-a73e-14abfaf40986\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;7bd36c5a-4d5f-4192-b50f-e220f00b3c2d\&quot;,\n    \&quot;uid\&quot;: \&quot;0cdf6b2b-8078-4bd5-a709-162b324de88a\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:15:11.898600263Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:15:11Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T10:15:11.884511Z&quot;), &quot;generation&quot;: Number(1), &quot;name&quot;: String(&quot;05178285-ba13-41f7-a73e-14abfaf40986&quot;), &quot;resourceVersion&quot;: String(&quot;7bd36c5a-4d5f-4192-b50f-e220f00b3c2d&quot;), &quot;uid&quot;: String(&quot;0cdf6b2b-8078-4bd5-a709-162b324de88a&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:15:11.898600263Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})])})})
[2022-05-09T10:15:11Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-09T10:15:12Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;05178285-ba13-41f7-a73e-14abfaf40986&quot;
[2022-05-09T10:15:12Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T10:15:11.884511Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;05178285-ba13-41f7-a73e-14abfaf40986\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;76ca5afc-3712-4c1c-8de1-69ea17c7fd6c\&quot;,\n    \&quot;uid\&quot;: \&quot;0cdf6b2b-8078-4bd5-a709-162b324de88a\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:15:12.206186754Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:15:12.206149123Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:15:11.930386305Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:15:11.938062074Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:15:12.034524232Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:15:12.040738279Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:15:12.206099801Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:15:12.206120800Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;qGJfzrMq3sp3\&quot;,\n        \&quot;username\&quot;: \&quot;user-05178285-ba13-41f7-a73e-14abfaf40986\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:15:12Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T10:15:11.884511Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;05178285-ba13-41f7-a73e-14abfaf40986&quot;), &quot;resourceVersion&quot;: String(&quot;76ca5afc-3712-4c1c-8de1-69ea17c7fd6c&quot;), &quot;uid&quot;: String(&quot;0cdf6b2b-8078-4bd5-a709-162b324de88a&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:15:12.206186754Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:15:12.206149123Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:15:11.930386305Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:15:11.938062074Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:15:12.034524232Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:15:12.040738279Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:15:12.206099801Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:15:12.206120800Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;qGJfzrMq3sp3&quot;), &quot;username&quot;: String(&quot;user-05178285-ba13-41f7-a73e-14abfaf40986&quot;)})})})})
[2022-05-09T10:15:12Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-09T10:15:12Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;05178285-ba13-41f7-a73e-14abfaf40986&quot;
[2022-05-09T10:15:12Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T10:15:11.884511Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;05178285-ba13-41f7-a73e-14abfaf40986\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;76ca5afc-3712-4c1c-8de1-69ea17c7fd6c\&quot;,\n    \&quot;uid\&quot;: \&quot;0cdf6b2b-8078-4bd5-a709-162b324de88a\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:15:12.206186754Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:15:12.206149123Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:15:11.930386305Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:15:11.938062074Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:15:12.034524232Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:15:12.040738279Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:15:12.206099801Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:15:12.206120800Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;qGJfzrMq3sp3\&quot;,\n        \&quot;username\&quot;: \&quot;user-05178285-ba13-41f7-a73e-14abfaf40986\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:15:12Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T10:15:11.884511Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;05178285-ba13-41f7-a73e-14abfaf40986&quot;), &quot;resourceVersion&quot;: String(&quot;76ca5afc-3712-4c1c-8de1-69ea17c7fd6c&quot;), &quot;uid&quot;: String(&quot;0cdf6b2b-8078-4bd5-a709-162b324de88a&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:15:12.206186754Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:15:12.206149123Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:15:11.930386305Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:15:11.938062074Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:15:12.034524232Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:15:12.040738279Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:15:12.206099801Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:15:12.206120800Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;qGJfzrMq3sp3&quot;), &quot;username&quot;: String(&quot;user-05178285-ba13-41f7-a73e-14abfaf40986&quot;)})})})})
[2022-05-09T10:15:12Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-09T10:15:12Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-05-09T10:15:12Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;05178285-ba13-41f7-a73e-14abfaf40986&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-09T10:15:12Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:15:12Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:15:12Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T10:15:12Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T10:15:12Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJXRG4zQ2wwMVNsYVpRRnRTbUpuS2JqWC1wcXdsR21xWDhSUFNWSHgxUHgwIn0.eyJleHAiOjE2NTIwOTE2MTEsImlhdCI6MTY1MjA5MTMxMSwiYXV0aF90aW1lIjoxNjUyMDkxMzA4LCJqdGkiOiJkNzU4NDdhOS0wZTM1LTQwYmMtODE3Ny05MGE3MzkwYTgwYWEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiM2RlYjE5ZjktYzc0Ni00YjAwLWE5MDktMmI5ODg1NWNlNGYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiI4R293akRMWmhqVlItM2pocXVRMWV3Iiwic2Vzc2lvbl9zdGF0ZSI6Ijc1MTU3NjVhLTcyZGMtNGU2MC04YzA2LTM2MzljYWQyZjA1OSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6Ijc1MTU3NjVhLTcyZGMtNGU2MC04YzA2LTM2MzljYWQyZjA1OSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.uR1bjgSk0srl3S5vaUiUNHsR5XfsPsGR15NArT4f_M2d-xAUVRLUENEKSPtDQm0sC_3bl6Kaq_-26HHWRjJgaZrX3h0pK1okTkt3PjdvKbwBxkifpQh88WakDsI5uuz1epqvuPIPzIPBh5Z4ju7PIrq4UJ4sJf8_X8lIuHd4pSC1fWtCwWroTH5RKBJVCTRTOu-hy9YxMkMt8OVbLo3aELhs8vsEC-7TZ_4IMkP3kULSpgin1UaW4fQdkMK-p0kdtXR2-WWotrV9zk8i8a5-DU0obT_fw-zlR2smal_tIbOrmlDwlB7g0i4VjYCZublJuo1w6zKQ3pRwGIsDygsZ3g\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:15:12Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T10:15:12Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-09T10:15:12Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-09T10:15:12Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;05178285-ba13-41f7-a73e-14abfaf40986&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-05-09T10:15:13Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:15:13Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt
[2022-05-09T10:15:13Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T10:15:13Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJXRG4zQ2wwMVNsYVpRRnRTbUpuS2JqWC1wcXdsR21xWDhSUFNWSHgxUHgwIn0.eyJleHAiOjE2NTIwOTE2MTEsImlhdCI6MTY1MjA5MTMxMSwiYXV0aF90aW1lIjoxNjUyMDkxMzA4LCJqdGkiOiJkNzU4NDdhOS0wZTM1LTQwYmMtODE3Ny05MGE3MzkwYTgwYWEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiM2RlYjE5ZjktYzc0Ni00YjAwLWE5MDktMmI5ODg1NWNlNGYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiI4R293akRMWmhqVlItM2pocXVRMWV3Iiwic2Vzc2lvbl9zdGF0ZSI6Ijc1MTU3NjVhLTcyZGMtNGU2MC04YzA2LTM2MzljYWQyZjA1OSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6Ijc1MTU3NjVhLTcyZGMtNGU2MC04YzA2LTM2MzljYWQyZjA1OSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.uR1bjgSk0srl3S5vaUiUNHsR5XfsPsGR15NArT4f_M2d-xAUVRLUENEKSPtDQm0sC_3bl6Kaq_-26HHWRjJgaZrX3h0pK1okTkt3PjdvKbwBxkifpQh88WakDsI5uuz1epqvuPIPzIPBh5Z4ju7PIrq4UJ4sJf8_X8lIuHd4pSC1fWtCwWroTH5RKBJVCTRTOu-hy9YxMkMt8OVbLo3aELhs8vsEC-7TZ_4IMkP3kULSpgin1UaW4fQdkMK-p0kdtXR2-WWotrV9zk8i8a5-DU0obT_fw-zlR2smal_tIbOrmlDwlB7g0i4VjYCZublJuo1w6zKQ3pRwGIsDygsZ3g\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:15:13Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt&quot;, client_id: &quot;a8c994a5-605d-4319-b856-d30c5081324a&quot;, persistence: None, user_data: None }
[2022-05-09T10:15:13Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T10:15:13Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55efdbfbd150
[2022-05-09T10:15:13Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55efdbfbd150
[2022-05-09T10:15:13Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x55efdc1114a0, connectTimeout: 30, retryInterval: 0, ssl: 0x55efdc111b70, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55efdc051330, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJXRG4zQ2wwMVNsYVpRRnRTbUpuS2JqWC1wcXdsR21xWDhSUFNWSHgxUHgwIn0.eyJleHAiOjE2NTIwOTE2MTEsImlhdCI6MTY1MjA5MTMxMSwiYXV0aF90aW1lIjoxNjUyMDkxMzA4LCJqdGkiOiJkNzU4NDdhOS0wZTM1LTQwYmMtODE3Ny05MGE3MzkwYTgwYWEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiM2RlYjE5ZjktYzc0Ni00YjAwLWE5MDktMmI5ODg1NWNlNGYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiI4R293akRMWmhqVlItM2pocXVRMWV3Iiwic2Vzc2lvbl9zdGF0ZSI6Ijc1MTU3NjVhLTcyZGMtNGU2MC04YzA2LTM2MzljYWQyZjA1OSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6Ijc1MTU3NjVhLTcyZGMtNGU2MC04YzA2LTM2MzljYWQyZjA1OSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.uR1bjgSk0srl3S5vaUiUNHsR5XfsPsGR15NArT4f_M2d-xAUVRLUENEKSPtDQm0sC_3bl6Kaq_-26HHWRjJgaZrX3h0pK1okTkt3PjdvKbwBxkifpQh88WakDsI5uuz1epqvuPIPzIPBh5Z4ju7PIrq4UJ4sJf8_X8lIuHd4pSC1fWtCwWroTH5RKBJVCTRTOu-hy9YxMkMt8OVbLo3aELhs8vsEC-7TZ_4IMkP3kULSpgin1UaW4fQdkMK-p0kdtXR2-WWotrV9zk8i8a5-DU0obT_fw-zlR2smal_tIbOrmlDwlB7g0i4VjYCZublJuo1w6zKQ3pRwGIsDygsZ3g&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T10:15:13Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/05178285-ba13-41f7-a73e-14abfaf40986&quot;&#x27; @ QOS 0
[2022-05-09T10:15:13Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-09T10:15:13Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-09T10:15:13Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:15:13Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:15:13Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:15:13Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:15:14Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:15:14Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:15:14Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:15:14Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:15:15Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:15:15Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:15:15Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:15:15Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:15:16Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:15:16Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:15:16Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:15:16Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:15:16Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 621, payload: 0x7f0ed0017b90, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f0ed0017e10 } }, data: MessageData { topic: &quot;app/05178285-ba13-41f7-a73e-14abfaf40986&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 49, 56, 101, 56, 48, 50, 57, 52, 45, 100, 99, 98, 102, 45, 52, 56, 98, 102, 45, 57, 100, 100, 48, 45, 49, 53, 101, 54, 55, 102, 102, 97, 50, 49, 55, 97, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 48, 53, 49, 55, 56, 50, 56, 53, 37, 50, 68, 98, 97, 49, 51, 37, 50, 68, 52, 49, 102, 55, 37, 50, 68, 97, 55, 51, 101, 37, 50, 68, 49, 52, 97, 98, 102, 97, 102, 52, 48, 57, 56, 54, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 119, 97, 114, 109, 117, 112, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 48, 58, 49, 53, 58, 49, 54, 46, 53, 52, 54, 55, 48, 50, 56, 51, 51, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 48, 53, 49, 55, 56, 50, 56, 53, 45, 98, 97, 49, 51, 45, 52, 49, 102, 55, 45, 97, 55, 51, 101, 45, 49, 52, 97, 98, 102, 97, 102, 52, 48, 57, 56, 54, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 99, 100, 102, 98, 99, 98, 57, 57, 45, 101, 49, 48, 54, 45, 52, 52, 57, 49, 45, 97, 51, 53, 49, 45, 50, 102, 56, 52, 101, 54, 97, 53, 98, 51, 99, 55, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 48, 53, 49, 55, 56, 50, 56, 53, 37, 50, 68, 98, 97, 49, 51, 37, 50, 68, 52, 49, 102, 55, 37, 50, 68, 97, 55, 51, 101, 37, 50, 68, 49, 52, 97, 98, 102, 97, 102, 52, 48, 57, 56, 54, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 48, 99, 100, 102, 54, 98, 50, 98, 45, 56, 48, 55, 56, 45, 52, 98, 100, 53, 45, 97, 55, 48, 57, 45, 49, 54, 50, 98, 51, 50, 52, 100, 101, 56, 56, 97, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 55, 48, 50, 53, 56, 51, 57, 97, 45, 99, 49, 48, 56, 45, 52, 55, 102, 55, 45, 56, 101, 50, 49, 45, 54, 99, 57, 97, 54, 53, 53, 98, 100, 53, 101, 55, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f0ed0017e10 } } } }
[2022-05-09T10:15:16Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f0ee0001e90
[2022-05-09T10:15:16Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/05178285-ba13-41f7-a73e-14abfaf40986&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;18e80294-dcbf-48bf-9dd0-15e67ffa217a\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://05178285%2Dba13%2D41f7%2Da73e%2D14abfaf40986/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;warmup\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T10:15:16.546702833Z\&quot;,\&quot;data\&quot;:{\&quot;index\&quot;:3},\&quot;application\&quot;:\&quot;05178285-ba13-41f7-a73e-14abfaf40986\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;senderuid\&quot;:\&quot;cdfbcb99-e106-4491-a351-2f84e6a5b3c7\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;partitionkey\&quot;:\&quot;05178285%2Dba13%2D41f7%2Da73e%2D14abfaf40986/device1\&quot;,\&quot;applicationuid\&quot;:\&quot;0cdf6b2b-8078-4bd5-a709-162b324de88a\&quot;,\&quot;deviceuid\&quot;:\&quot;7025839a-c108-47f7-8e21-6c9a655bd5e7\&quot;}&quot; }
[2022-05-09T10:15:17Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-09T10:15:17Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-09T10:15:17Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-09T10:15:17Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry/device1
[2022-05-09T10:15:17Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-endpoint.172.18.0.2.nip.io:30001&quot;, client_id: &quot;ead72443-c200-4873-9eff-e8f49a000481&quot;, persistence: None, user_data: None }
[2022-05-09T10:15:17Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T10:15:17Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55efdc19a6a0
[2022-05-09T10:15:17Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55efdc19a6a0
[2022-05-09T10:15:17Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x55efdc1d1690, password: 0x55efdbf7be90, connectTimeout: 30, retryInterval: 0, ssl: 0x55efdc19ee20, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55efdc29b410, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;gateway1@05178285-ba13-41f7-a73e-14abfaf40986&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T10:15:17Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 640, payload: 0x7f0ed002b610, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f0ed002b8a0 } }, data: MessageData { topic: &quot;app/05178285-ba13-41f7-a73e-14abfaf40986&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 57, 53, 55, 101, 101, 56, 101, 99, 45, 48, 51, 48, 49, 45, 52, 97, 101, 51, 45, 98, 101, 98, 54, 45, 99, 51, 49, 100, 54, 53, 51, 98, 100, 55, 97, 56, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 48, 53, 49, 55, 56, 50, 56, 53, 37, 50, 68, 98, 97, 49, 51, 37, 50, 68, 52, 49, 102, 55, 37, 50, 68, 97, 55, 51, 101, 37, 50, 68, 49, 52, 97, 98, 102, 97, 102, 52, 48, 57, 56, 54, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 48, 58, 49, 53, 58, 49, 55, 46, 56, 48, 51, 51, 54, 50, 49, 54, 50, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 48, 53, 49, 55, 56, 50, 56, 53, 37, 50, 68, 98, 97, 49, 51, 37, 50, 68, 52, 49, 102, 55, 37, 50, 68, 97, 55, 51, 101, 37, 50, 68, 49, 52, 97, 98, 102, 97, 102, 52, 48, 57, 56, 54, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 48, 99, 100, 102, 54, 98, 50, 98, 45, 56, 48, 55, 56, 45, 52, 98, 100, 53, 45, 97, 55, 48, 57, 45, 49, 54, 50, 98, 51, 50, 52, 100, 101, 56, 56, 97, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 99, 100, 102, 98, 99, 98, 57, 57, 45, 101, 49, 48, 54, 45, 52, 52, 57, 49, 45, 97, 51, 53, 49, 45, 50, 102, 56, 52, 101, 54, 97, 53, 98, 51, 99, 55, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 99, 100, 102, 98, 99, 98, 57, 57, 45, 101, 49, 48, 54, 45, 52, 52, 57, 49, 45, 97, 51, 53, 49, 45, 50, 102, 56, 52, 101, 54, 97, 53, 98, 51, 99, 55, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 48, 53, 49, 55, 56, 50, 56, 53, 45, 98, 97, 49, 51, 45, 52, 49, 102, 55, 45, 97, 55, 51, 101, 45, 49, 52, 97, 98, 102, 97, 102, 52, 48, 57, 56, 54, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f0ed002b8a0 } } } }
[2022-05-09T10:15:17Z DEBUG paho_mqtt::properties] Dropping string property: 0x55efdc134c80
[2022-05-09T10:15:17Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/05178285-ba13-41f7-a73e-14abfaf40986&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;957ee8ec-0301-4ae3-beb6-c31d653bd7a8\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://05178285%2Dba13%2D41f7%2Da73e%2D14abfaf40986/gateway1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T10:15:17.803362162Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:true},\&quot;device\&quot;:\&quot;gateway1\&quot;,\&quot;partitionkey\&quot;:\&quot;05178285%2Dba13%2D41f7%2Da73e%2D14abfaf40986/gateway1\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;applicationuid\&quot;:\&quot;0cdf6b2b-8078-4bd5-a709-162b324de88a\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;senderuid\&quot;:\&quot;cdfbcb99-e106-4491-a351-2f84e6a5b3c7\&quot;,\&quot;deviceuid\&quot;:\&quot;cdfbcb99-e106-4491-a351-2f84e6a5b3c7\&quot;,\&quot;application\&quot;:\&quot;05178285-ba13-41f7-a73e-14abfaf40986\&quot;}&quot; }
[2022-05-09T10:15:17Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55efdbe4d170 } }, data: MessageData { topic: &quot;telemetry/device1&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55efdbe4d170 } } } }
[2022-05-09T10:15:17Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-09T10:15:18Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 641, payload: 0x7f0ed001b480, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f0ed001b710 } }, data: MessageData { topic: &quot;app/05178285-ba13-41f7-a73e-14abfaf40986&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 98, 53, 53, 57, 101, 55, 55, 57, 45, 99, 101, 52, 97, 45, 52, 57, 54, 102, 45, 57, 98, 99, 48, 45, 55, 52, 57, 97, 98, 52, 100, 55, 56, 97, 57, 55, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 48, 53, 49, 55, 56, 50, 56, 53, 37, 50, 68, 98, 97, 49, 51, 37, 50, 68, 52, 49, 102, 55, 37, 50, 68, 97, 55, 51, 101, 37, 50, 68, 49, 52, 97, 98, 102, 97, 102, 52, 48, 57, 56, 54, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 48, 58, 49, 53, 58, 49, 55, 46, 57, 49, 50, 50, 54, 55, 53, 51, 51, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 102, 97, 108, 115, 101, 125, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 99, 100, 102, 98, 99, 98, 57, 57, 45, 101, 49, 48, 54, 45, 52, 52, 57, 49, 45, 97, 51, 53, 49, 45, 50, 102, 56, 52, 101, 54, 97, 53, 98, 51, 99, 55, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 48, 53, 49, 55, 56, 50, 56, 53, 45, 98, 97, 49, 51, 45, 52, 49, 102, 55, 45, 97, 55, 51, 101, 45, 49, 52, 97, 98, 102, 97, 102, 52, 48, 57, 56, 54, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 48, 99, 100, 102, 54, 98, 50, 98, 45, 56, 48, 55, 56, 45, 52, 98, 100, 53, 45, 97, 55, 48, 57, 45, 49, 54, 50, 98, 51, 50, 52, 100, 101, 56, 56, 97, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 99, 100, 102, 98, 99, 98, 57, 57, 45, 101, 49, 48, 54, 45, 52, 52, 57, 49, 45, 97, 51, 53, 49, 45, 50, 102, 56, 52, 101, 54, 97, 53, 98, 51, 99, 55, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 48, 53, 49, 55, 56, 50, 56, 53, 37, 50, 68, 98, 97, 49, 51, 37, 50, 68, 52, 49, 102, 55, 37, 50, 68, 97, 55, 51, 101, 37, 50, 68, 49, 52, 97, 98, 102, 97, 102, 52, 48, 57, 56, 54, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f0ed001b710 } } } }
[2022-05-09T10:15:18Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f0ee0001e90
[2022-05-09T10:15:18Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/05178285-ba13-41f7-a73e-14abfaf40986&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;b559e779-ce4a-496f-9bc0-749ab4d78a97\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://05178285%2Dba13%2D41f7%2Da73e%2D14abfaf40986/gateway1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T10:15:17.912267533Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:false},\&quot;senderuid\&quot;:\&quot;cdfbcb99-e106-4491-a351-2f84e6a5b3c7\&quot;,\&quot;application\&quot;:\&quot;05178285-ba13-41f7-a73e-14abfaf40986\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;applicationuid\&quot;:\&quot;0cdf6b2b-8078-4bd5-a709-162b324de88a\&quot;,\&quot;deviceuid\&quot;:\&quot;cdfbcb99-e106-4491-a351-2f84e6a5b3c7\&quot;,\&quot;partitionkey\&quot;:\&quot;05178285%2Dba13%2D41f7%2Da73e%2D14abfaf40986/gateway1\&quot;,\&quot;device\&quot;:\&quot;gateway1\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;}&quot; }
[2022-05-09T10:15:18Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 630, payload: 0x7f0ed001b9f0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f0ed001bc70 } }, data: MessageData { topic: &quot;app/05178285-ba13-41f7-a73e-14abfaf40986&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 98, 53, 98, 57, 98, 55, 50, 97, 45, 51, 99, 52, 56, 45, 52, 100, 57, 49, 45, 97, 57, 52, 50, 45, 98, 48, 98, 97, 52, 52, 102, 52, 53, 54, 102, 50, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 48, 53, 49, 55, 56, 50, 56, 53, 37, 50, 68, 98, 97, 49, 51, 37, 50, 68, 52, 49, 102, 55, 37, 50, 68, 97, 55, 51, 101, 37, 50, 68, 49, 52, 97, 98, 102, 97, 102, 52, 48, 57, 56, 54, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 111, 99, 116, 101, 116, 45, 115, 116, 114, 101, 97, 109, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 116, 101, 108, 101, 109, 101, 116, 114, 121, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 48, 58, 49, 53, 58, 49, 55, 46, 57, 49, 49, 54, 48, 49, 57, 56, 57, 90, 34, 44, 34, 100, 97, 116, 97, 95, 98, 97, 115, 101, 54, 52, 34, 58, 34, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 48, 53, 49, 55, 56, 50, 56, 53, 45, 98, 97, 49, 51, 45, 52, 49, 102, 55, 45, 97, 55, 51, 101, 45, 49, 52, 97, 98, 102, 97, 102, 52, 48, 57, 56, 54, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 55, 48, 50, 53, 56, 51, 57, 97, 45, 99, 49, 48, 56, 45, 52, 55, 102, 55, 45, 56, 101, 50, 49, 45, 54, 99, 57, 97, 54, 53, 53, 98, 100, 53, 101, 55, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 48, 53, 49, 55, 56, 50, 56, 53, 37, 50, 68, 98, 97, 49, 51, 37, 50, 68, 52, 49, 102, 55, 37, 50, 68, 97, 55, 51, 101, 37, 50, 68, 49, 52, 97, 98, 102, 97, 102, 52, 48, 57, 56, 54, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 48, 99, 100, 102, 54, 98, 50, 98, 45, 56, 48, 55, 56, 45, 52, 98, 100, 53, 45, 97, 55, 48, 57, 45, 49, 54, 50, 98, 51, 50, 52, 100, 101, 56, 56, 97, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 99, 100, 102, 98, 99, 98, 57, 57, 45, 101, 49, 48, 54, 45, 52, 52, 57, 49, 45, 97, 51, 53, 49, 45, 50, 102, 56, 52, 101, 54, 97, 53, 98, 51, 99, 55, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f0ed001bc70 } } } }
[2022-05-09T10:15:18Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f0ee0001e90
[2022-05-09T10:15:18Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/05178285-ba13-41f7-a73e-14abfaf40986&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;b5b9b72a-3c48-4d91-a942-b0ba44f456f2\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://05178285%2Dba13%2D41f7%2Da73e%2D14abfaf40986/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/octet-stream\&quot;,\&quot;subject\&quot;:\&quot;telemetry\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T10:15:17.911601989Z\&quot;,\&quot;data_base64\&quot;:\&quot;\&quot;,\&quot;application\&quot;:\&quot;05178285-ba13-41f7-a73e-14abfaf40986\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;deviceuid\&quot;:\&quot;7025839a-c108-47f7-8e21-6c9a655bd5e7\&quot;,\&quot;partitionkey\&quot;:\&quot;05178285%2Dba13%2D41f7%2Da73e%2D14abfaf40986/device1\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;applicationuid\&quot;:\&quot;0cdf6b2b-8078-4bd5-a709-162b324de88a\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;senderuid\&quot;:\&quot;cdfbcb99-e106-4491-a351-2f84e6a5b3c7\&quot;}&quot; }
[2022-05-09T10:15:18Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-09T10:15:18Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-09T10:15:18Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-09T10:15:18Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;05178285-ba13-41f7-a73e-14abfaf40986&quot;, device: &quot;gateway1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`,
 right: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;05178285-ba13-41f7-a73e-14abfaf40986&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`: Position #0&#x27;, src/tools/assert.rs:35:39
[2022-05-09T10:15:18Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-09T10:15:18Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;05178285-ba13-41f7-a73e-14abfaf40986&quot; &quot;device1&quot;
[2022-05-09T10:15:18Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:15:18Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-05-09T10:15:18Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;05178285-ba13-41f7-a73e-14abfaf40986&quot; &quot;gateway1&quot;
[2022-05-09T10:15:18Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:15:18Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;05178285-ba13-41f7-a73e-14abfaf40986&#x27;
[2022-05-09T10:15:18Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;05178285-ba13-41f7-a73e-14abfaf40986&quot;
[2022-05-09T10:15:18Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 05178285-ba13-41f7-a73e-14abfaf40986 deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_1::integration_version_3::integration_ws_1

**Duration**: 14s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-09T10:15:20Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-09T10:15:20Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T10:15:20Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T10:15:20Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T10:15:20Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T10:15:21Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-09T10:15:23Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-09T10:15:23Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T10:15:23Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T10:15:23Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T10:15:25Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI0NDVmMTM5Zi0wNjNjLTRhZDgtODkwYi1mNTg1OTQ0NjFiZDAifQ.eyJleHAiOjE2NTIwOTMxMjQsImlhdCI6MTY1MjA5MTMyNCwianRpIjoiNjc3OWE4YmMtZDljYy00MjZjLWE0OGMtMjVlZWQxNGJlYjhjIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjNkZWIxOWY5LWM3NDYtNGIwMC1hOTA5LTJiOTg4NTVjZTRmMyIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImNpOUZMWlFrUm5EOGRJSEFfcEg5Y2ciLCJzZXNzaW9uX3N0YXRlIjoiM2I4MTk2ZDItYmEwYi00NjliLWFiMjItYTMyMmY3ZDAwZTBhIiwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjNiODE5NmQyLWJhMGItNDY5Yi1hYjIyLWEzMjJmN2QwMGUwYSJ9.cD0T9QZ7FLPXiQyVt_v7fSAmtl_-JEuSkfUtAisvx9c
[2022-05-09T10:15:25Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-09T10:15:25Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-09T10:15:25Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI0NDVmMTM5Zi0wNjNjLTRhZDgtODkwYi1mNTg1OTQ0NjFiZDAifQ.eyJleHAiOjE2NTIwOTMxMjQsImlhdCI6MTY1MjA5MTMyNCwianRpIjoiNjc3OWE4YmMtZDljYy00MjZjLWE0OGMtMjVlZWQxNGJlYjhjIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjNkZWIxOWY5LWM3NDYtNGIwMC1hOTA5LTJiOTg4NTVjZTRmMyIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImNpOUZMWlFrUm5EOGRJSEFfcEg5Y2ciLCJzZXNzaW9uX3N0YXRlIjoiM2I4MTk2ZDItYmEwYi00NjliLWFiMjItYTMyMmY3ZDAwZTBhIiwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjNiODE5NmQyLWJhMGItNDY5Yi1hYjIyLWEzMjJmN2QwMGUwYSJ9.cD0T9QZ7FLPXiQyVt_v7fSAmtl_-JEuSkfUtAisvx9c&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-09T10:15:25Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:15:25Z INFO  drogue_cloud_tests::resources::apps] Create application: 01d2f001-dc80-4c79-bbb9-7a9cb884796d
[2022-05-09T10:15:25Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;01d2f001-dc80-4c79-bbb9-7a9cb884796d&quot;
[2022-05-09T10:15:25Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 01d2f001-dc80-4c79-bbb9-7a9cb884796d created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:15:25Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;01d2f001-dc80-4c79-bbb9-7a9cb884796d&quot;
[2022-05-09T10:15:25Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T10:15:25.817340Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 1,\n    \&quot;name\&quot;: \&quot;01d2f001-dc80-4c79-bbb9-7a9cb884796d\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;eb784974-4569-4e08-865e-b4ee6af0a5b4\&quot;,\n    \&quot;uid\&quot;: \&quot;2613d019-6093-4317-b87d-016cf4d27a6e\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:15:25.827904192Z\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: HasFinalizer\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:15:25.827929460Z\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:15:25.827868876Z\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:15:25.827871351Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:15:25.827872172Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:15:25.827872984Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:15:25.827873435Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:15:25.827880177Z\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:15:25Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T10:15:25.817340Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(1), &quot;name&quot;: String(&quot;01d2f001-dc80-4c79-bbb9-7a9cb884796d&quot;), &quot;resourceVersion&quot;: String(&quot;eb784974-4569-4e08-865e-b4ee6af0a5b4&quot;), &quot;uid&quot;: String(&quot;2613d019-6093-4317-b87d-016cf4d27a6e&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:15:25.827904192Z&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: HasFinalizer&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:15:25.827929460Z&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:15:25.827868876Z&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:15:25.827871351Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:15:25.827872172Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:15:25.827872984Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:15:25.827873435Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:15:25.827880177Z&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(0)})})})
[2022-05-09T10:15:25Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-09T10:15:26Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;01d2f001-dc80-4c79-bbb9-7a9cb884796d&quot;
[2022-05-09T10:15:26Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T10:15:25.817340Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 8,\n    \&quot;name\&quot;: \&quot;01d2f001-dc80-4c79-bbb9-7a9cb884796d\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;3c556ad9-aff4-4e85-9295-bc48002896b1\&quot;,\n    \&quot;uid\&quot;: \&quot;2613d019-6093-4317-b87d-016cf4d27a6e\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:15:26.096425667Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:15:26.096533038Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:15:25.850960535Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:15:25.859054206Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:15:25.909903585Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:15:25.915485229Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:15:26.096272811Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:15:26.096375312Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 7,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;H7R32mUvka7z\&quot;,\n        \&quot;username\&quot;: \&quot;user-01d2f001-dc80-4c79-bbb9-7a9cb884796d\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:15:26Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T10:15:25.817340Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(8), &quot;name&quot;: String(&quot;01d2f001-dc80-4c79-bbb9-7a9cb884796d&quot;), &quot;resourceVersion&quot;: String(&quot;3c556ad9-aff4-4e85-9295-bc48002896b1&quot;), &quot;uid&quot;: String(&quot;2613d019-6093-4317-b87d-016cf4d27a6e&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:15:26.096425667Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:15:26.096533038Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:15:25.850960535Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:15:25.859054206Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:15:25.909903585Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:15:25.915485229Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:15:26.096272811Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:15:26.096375312Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(7), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;H7R32mUvka7z&quot;), &quot;username&quot;: String(&quot;user-01d2f001-dc80-4c79-bbb9-7a9cb884796d&quot;)})})})})
[2022-05-09T10:15:26Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-09T10:15:26Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;01d2f001-dc80-4c79-bbb9-7a9cb884796d&quot;
[2022-05-09T10:15:26Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T10:15:25.817340Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 8,\n    \&quot;name\&quot;: \&quot;01d2f001-dc80-4c79-bbb9-7a9cb884796d\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;3c556ad9-aff4-4e85-9295-bc48002896b1\&quot;,\n    \&quot;uid\&quot;: \&quot;2613d019-6093-4317-b87d-016cf4d27a6e\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:15:26.096425667Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:15:26.096533038Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:15:25.850960535Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:15:25.859054206Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:15:25.909903585Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:15:25.915485229Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:15:26.096272811Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:15:26.096375312Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 7,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;H7R32mUvka7z\&quot;,\n        \&quot;username\&quot;: \&quot;user-01d2f001-dc80-4c79-bbb9-7a9cb884796d\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:15:26Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T10:15:25.817340Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(8), &quot;name&quot;: String(&quot;01d2f001-dc80-4c79-bbb9-7a9cb884796d&quot;), &quot;resourceVersion&quot;: String(&quot;3c556ad9-aff4-4e85-9295-bc48002896b1&quot;), &quot;uid&quot;: String(&quot;2613d019-6093-4317-b87d-016cf4d27a6e&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:15:26.096425667Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:15:26.096533038Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:15:25.850960535Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:15:25.859054206Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:15:25.909903585Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:15:25.915485229Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:15:26.096272811Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:15:26.096375312Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(7), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;H7R32mUvka7z&quot;), &quot;username&quot;: String(&quot;user-01d2f001-dc80-4c79-bbb9-7a9cb884796d&quot;)})})})})
[2022-05-09T10:15:26Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-09T10:15:26Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-05-09T10:15:26Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;01d2f001-dc80-4c79-bbb9-7a9cb884796d&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-09T10:15:26Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:15:26Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:15:26Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T10:15:26Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T10:15:26Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJXRG4zQ2wwMVNsYVpRRnRTbUpuS2JqWC1wcXdsR21xWDhSUFNWSHgxUHgwIn0.eyJleHAiOjE2NTIwOTE2MjUsImlhdCI6MTY1MjA5MTMyNSwiYXV0aF90aW1lIjoxNjUyMDkxMzIyLCJqdGkiOiJiNTIyYmEyZS1mMzk0LTQzYWItOTQ1MS1mMTRhYmMyNDJmZDMiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiM2RlYjE5ZjktYzc0Ni00YjAwLWE5MDktMmI5ODg1NWNlNGYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJjaTlGTFpRa1JuRDhkSUhBX3BIOWNnIiwic2Vzc2lvbl9zdGF0ZSI6IjNiODE5NmQyLWJhMGItNDY5Yi1hYjIyLWEzMjJmN2QwMGUwYSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjNiODE5NmQyLWJhMGItNDY5Yi1hYjIyLWEzMjJmN2QwMGUwYSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.sv7SSZQfLHDnKT5W6CoKIUtr_fMIeunuju_rFrPrs74G0EiUwHxG80mdxueAw9cKekrfSxWYx6a3azj3oSeWRZdOX_FK5f9-a35am75wFcV2Ltkdf0A0GLxHc_2cI5uZowQ_yOlOlFjkuDyvv53rIXCZ-lwNKn2MeLt8LYGdbqfxf1daS1cYQWZIgaiaHoTeC34qk1oiYznqjoEpRwA9sox9C1RUxO87qV3VvueX8UcxDhJEdzfBhuno9QpSffmbDAUw0_9cz_VcfAlF75qYOWHRwbPmTiFRttJDX24-GZRXbVxHcDQ-KOIUIMeHw-YilA067JWdlsLqOwVHODoLgA\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:15:26Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T10:15:26Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-09T10:15:26Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-09T10:15:26Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;01d2f001-dc80-4c79-bbb9-7a9cb884796d&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-05-09T10:15:26Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:15:26Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: ssl://mqtt-integration.172.18.0.2.nip.io:30002
[2022-05-09T10:15:26Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T10:15:26Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJXRG4zQ2wwMVNsYVpRRnRTbUpuS2JqWC1wcXdsR21xWDhSUFNWSHgxUHgwIn0.eyJleHAiOjE2NTIwOTE2MjUsImlhdCI6MTY1MjA5MTMyNSwiYXV0aF90aW1lIjoxNjUyMDkxMzIyLCJqdGkiOiJiNTIyYmEyZS1mMzk0LTQzYWItOTQ1MS1mMTRhYmMyNDJmZDMiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiM2RlYjE5ZjktYzc0Ni00YjAwLWE5MDktMmI5ODg1NWNlNGYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJjaTlGTFpRa1JuRDhkSUhBX3BIOWNnIiwic2Vzc2lvbl9zdGF0ZSI6IjNiODE5NmQyLWJhMGItNDY5Yi1hYjIyLWEzMjJmN2QwMGUwYSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjNiODE5NmQyLWJhMGItNDY5Yi1hYjIyLWEzMjJmN2QwMGUwYSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.sv7SSZQfLHDnKT5W6CoKIUtr_fMIeunuju_rFrPrs74G0EiUwHxG80mdxueAw9cKekrfSxWYx6a3azj3oSeWRZdOX_FK5f9-a35am75wFcV2Ltkdf0A0GLxHc_2cI5uZowQ_yOlOlFjkuDyvv53rIXCZ-lwNKn2MeLt8LYGdbqfxf1daS1cYQWZIgaiaHoTeC34qk1oiYznqjoEpRwA9sox9C1RUxO87qV3VvueX8UcxDhJEdzfBhuno9QpSffmbDAUw0_9cz_VcfAlF75qYOWHRwbPmTiFRttJDX24-GZRXbVxHcDQ-KOIUIMeHw-YilA067JWdlsLqOwVHODoLgA\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:15:26Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-integration.172.18.0.2.nip.io:30002&quot;, client_id: &quot;39d08043-3461-4459-a555-fbdda8332997&quot;, persistence: None, user_data: None }
[2022-05-09T10:15:26Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T10:15:26Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55efdc07d580
[2022-05-09T10:15:26Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55efdc07d580
[2022-05-09T10:15:26Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x55efdbf3a860, connectTimeout: 30, retryInterval: 0, ssl: 0x55efdc1d0460, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55efdc0eae70, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJXRG4zQ2wwMVNsYVpRRnRTbUpuS2JqWC1wcXdsR21xWDhSUFNWSHgxUHgwIn0.eyJleHAiOjE2NTIwOTE2MjUsImlhdCI6MTY1MjA5MTMyNSwiYXV0aF90aW1lIjoxNjUyMDkxMzIyLCJqdGkiOiJiNTIyYmEyZS1mMzk0LTQzYWItOTQ1MS1mMTRhYmMyNDJmZDMiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiM2RlYjE5ZjktYzc0Ni00YjAwLWE5MDktMmI5ODg1NWNlNGYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJjaTlGTFpRa1JuRDhkSUhBX3BIOWNnIiwic2Vzc2lvbl9zdGF0ZSI6IjNiODE5NmQyLWJhMGItNDY5Yi1hYjIyLWEzMjJmN2QwMGUwYSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjNiODE5NmQyLWJhMGItNDY5Yi1hYjIyLWEzMjJmN2QwMGUwYSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.sv7SSZQfLHDnKT5W6CoKIUtr_fMIeunuju_rFrPrs74G0EiUwHxG80mdxueAw9cKekrfSxWYx6a3azj3oSeWRZdOX_FK5f9-a35am75wFcV2Ltkdf0A0GLxHc_2cI5uZowQ_yOlOlFjkuDyvv53rIXCZ-lwNKn2MeLt8LYGdbqfxf1daS1cYQWZIgaiaHoTeC34qk1oiYznqjoEpRwA9sox9C1RUxO87qV3VvueX8UcxDhJEdzfBhuno9QpSffmbDAUw0_9cz_VcfAlF75qYOWHRwbPmTiFRttJDX24-GZRXbVxHcDQ-KOIUIMeHw-YilA067JWdlsLqOwVHODoLgA&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T10:15:27Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/01d2f001-dc80-4c79-bbb9-7a9cb884796d&quot;&#x27; @ QOS 0
[2022-05-09T10:15:27Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-09T10:15:27Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-09T10:15:27Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:15:27Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:15:27Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:15:27Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:15:28Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:15:28Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:15:28Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:15:28Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:15:29Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:15:29Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:15:29Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:15:29Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:15:30Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:15:30Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:15:30Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:15:30Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:15:30Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 11, payload: 0x7f0ed00151f0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 574, array: 0x7f0edc02a6a0 } }, data: MessageData { topic: &quot;app/01d2f001-dc80-4c79-bbb9-7a9cb884796d&quot;, payload: [123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 574, array: 0x7f0edc02a6a0 } } } }
[2022-05-09T10:15:30Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55efdbff0cb0, 0x7f0ee0000e00
[2022-05-09T10:15:30Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0000e00, 0x55efdbf39050
[2022-05-09T10:15:30Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0000e00, 0x7f0ed8003f10
[2022-05-09T10:15:30Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8003f10, 0x55efdbf274c0
[2022-05-09T10:15:30Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8003f10, 0x7f0ee0000d90
[2022-05-09T10:15:30Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0000d90, 0x55efdbf39050
[2022-05-09T10:15:30Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0000d90, 0x55efdbf10390
[2022-05-09T10:15:30Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0000d90, 0x7f0ee0003fa0
[2022-05-09T10:15:30Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0003fa0, 0x55efdbf39050
[2022-05-09T10:15:30Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0003fa0, 0x55efdbf39050
[2022-05-09T10:15:30Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0003fa0, 0x7f0ee0005e50
[2022-05-09T10:15:30Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0005e50, 0x55efdbf39050
[2022-05-09T10:15:30Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0005e50, 0x7f0ee0009a30
[2022-05-09T10:15:30Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0009a30, 0x55efdbf39050
[2022-05-09T10:15:30Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f0ee0009a30
[2022-05-09T10:15:30Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/01d2f001-dc80-4c79-bbb9-7a9cb884796d&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;partitionkey&quot;: &quot;01d2f001%2Ddc80%2D4c79%2Dbbb9%2D7a9cb884796d/device1&quot;, &quot;device&quot;: &quot;device1&quot;, &quot;senderuid&quot;: &quot;6e2f1abe-8ed0-4078-a0c9-4d0dfcff492b&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;sender&quot;: &quot;gateway1&quot;, &quot;applicationuid&quot;: &quot;2613d019-6093-4317-b87d-016cf4d27a6e&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;application&quot;: &quot;01d2f001-dc80-4c79-bbb9-7a9cb884796d&quot;, &quot;deviceuid&quot;: &quot;1777702e-7143-4a63-86e5-88fbf9b6e96d&quot;, &quot;time&quot;: &quot;2022-05-09T10:15:30.546921049+00:00&quot;, &quot;id&quot;: &quot;e47e9515-6766-4258-a9eb-117639811e1e&quot;, &quot;subject&quot;: &quot;warmup&quot;, &quot;type&quot;: &quot;io.drogue.event.v1&quot;, &quot;source&quot;: &quot;drogue://01d2f001%2Ddc80%2D4c79%2Dbbb9%2D7a9cb884796d/device1&quot;}, payload: &quot;{\&quot;index\&quot;:3}&quot; }
[2022-05-09T10:15:31Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-09T10:15:31Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-09T10:15:31Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-09T10:15:31Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry/device1
[2022-05-09T10:15:31Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-endpoint.172.18.0.2.nip.io:30001&quot;, client_id: &quot;1fe28bdf-76de-4a76-9793-6dbb31784719&quot;, persistence: None, user_data: None }
[2022-05-09T10:15:31Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T10:15:31Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55efdbf5ea00
[2022-05-09T10:15:31Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55efdbf5ea00
[2022-05-09T10:15:31Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x55efdc2b9880, password: 0x55efdc2af1b0, connectTimeout: 30, retryInterval: 0, ssl: 0x55efdc115ad0, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55efdc0c5ba0, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;gateway1@01d2f001-dc80-4c79-bbb9-7a9cb884796d&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T10:15:31Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 18, payload: 0x7f0ed00061f0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 586, array: 0x7f0edc01ca50 } }, data: MessageData { topic: &quot;app/01d2f001-dc80-4c79-bbb9-7a9cb884796d&quot;, payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 586, array: 0x7f0edc01ca50 } } } }
[2022-05-09T10:15:31Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55efdbfcff10, 0x55efdbe288f0
[2022-05-09T10:15:31Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55efdbe288f0, 0x55efdc176aa0
[2022-05-09T10:15:31Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55efdbe288f0, 0x7f0ed8004650
[2022-05-09T10:15:31Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8004650, 0x55efdc1791f0
[2022-05-09T10:15:31Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8004650, 0x7f0ed8004e00
[2022-05-09T10:15:31Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8004e00, 0x55efdc176aa0
[2022-05-09T10:15:31Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8004e00, 0x55efdc176aa0
[2022-05-09T10:15:31Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8004e00, 0x7f0ed80011a0
[2022-05-09T10:15:31Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed80011a0, 0x55efdbfca7e0
[2022-05-09T10:15:31Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed80011a0, 0x55efdc176aa0
[2022-05-09T10:15:31Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed80011a0, 0x7f0ed8004670
[2022-05-09T10:15:31Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8004670, 0x55efdc176aa0
[2022-05-09T10:15:31Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8004670, 0x55efdc176aa0
[2022-05-09T10:15:31Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8004670, 0x7f0ed8004000
[2022-05-09T10:15:31Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f0ed8004000
[2022-05-09T10:15:31Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/01d2f001-dc80-4c79-bbb9-7a9cb884796d&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;time&quot;: &quot;2022-05-09T10:15:31.669010300+00:00&quot;, &quot;deviceuid&quot;: &quot;6e2f1abe-8ed0-4078-a0c9-4d0dfcff492b&quot;, &quot;device&quot;: &quot;gateway1&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;sender&quot;: &quot;gateway1&quot;, &quot;source&quot;: &quot;drogue://01d2f001%2Ddc80%2D4c79%2Dbbb9%2D7a9cb884796d/gateway1&quot;, &quot;subject&quot;: &quot;connection&quot;, &quot;type&quot;: &quot;io.drogue.connection.v1&quot;, &quot;partitionkey&quot;: &quot;01d2f001%2Ddc80%2D4c79%2Dbbb9%2D7a9cb884796d/gateway1&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;senderuid&quot;: &quot;6e2f1abe-8ed0-4078-a0c9-4d0dfcff492b&quot;, &quot;id&quot;: &quot;0ce93167-6601-45b4-931c-dcc2c8083fbb&quot;, &quot;applicationuid&quot;: &quot;2613d019-6093-4317-b87d-016cf4d27a6e&quot;, &quot;application&quot;: &quot;01d2f001-dc80-4c79-bbb9-7a9cb884796d&quot;}, payload: &quot;{\&quot;connected\&quot;:true}&quot; }
[2022-05-09T10:15:31Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55efdc081510 } }, data: MessageData { topic: &quot;telemetry/device1&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55efdc081510 } } } }
[2022-05-09T10:15:31Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-09T10:15:32Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 585, array: 0x7f0edc01d620 } }, data: MessageData { topic: &quot;app/01d2f001-dc80-4c79-bbb9-7a9cb884796d&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 585, array: 0x7f0edc01d620 } } } }
[2022-05-09T10:15:32Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8004690, 0x7f0ed8003f30
[2022-05-09T10:15:32Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8003f30, 0x7f0ed0006510
[2022-05-09T10:15:32Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8003f30, 0x7f0ed8004650
[2022-05-09T10:15:32Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8004650, 0x7f0ed00065d0
[2022-05-09T10:15:32Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8004650, 0x7f0ed8000dd0
[2022-05-09T10:15:32Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8000dd0, 0x7f0ed0006510
[2022-05-09T10:15:32Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8000dd0, 0x7f0ed8003ef0
[2022-05-09T10:15:32Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8003ef0, 0x7f0ed0006510
[2022-05-09T10:15:32Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8003ef0, 0x7f0ed0032b10
[2022-05-09T10:15:32Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8003ef0, 0x7f0ed80011a0
[2022-05-09T10:15:32Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed80011a0, 0x7f0ed0006510
[2022-05-09T10:15:32Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed80011a0, 0x7f0ed0006510
[2022-05-09T10:15:32Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed80011a0, 0x7f0ed80092b0
[2022-05-09T10:15:32Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed80011a0, 0x7f0ed80092b0
[2022-05-09T10:15:32Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f0ed8004020
[2022-05-09T10:15:32Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/01d2f001-dc80-4c79-bbb9-7a9cb884796d&quot;, content_type: Some(&quot;application/octet-stream&quot;), user_properties: {&quot;sender&quot;: &quot;gateway1&quot;, &quot;senderuid&quot;: &quot;6e2f1abe-8ed0-4078-a0c9-4d0dfcff492b&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;device&quot;: &quot;device1&quot;, &quot;subject&quot;: &quot;telemetry&quot;, &quot;applicationuid&quot;: &quot;2613d019-6093-4317-b87d-016cf4d27a6e&quot;, &quot;partitionkey&quot;: &quot;01d2f001%2Ddc80%2D4c79%2Dbbb9%2D7a9cb884796d/device1&quot;, &quot;source&quot;: &quot;drogue://01d2f001%2Ddc80%2D4c79%2Dbbb9%2D7a9cb884796d/device1&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;type&quot;: &quot;io.drogue.event.v1&quot;, &quot;id&quot;: &quot;f326d0f5-6aa4-44ee-ab0a-29dc7031d6e6&quot;, &quot;time&quot;: &quot;2022-05-09T10:15:31.931762450+00:00&quot;, &quot;deviceuid&quot;: &quot;1777702e-7143-4a63-86e5-88fbf9b6e96d&quot;, &quot;application&quot;: &quot;01d2f001-dc80-4c79-bbb9-7a9cb884796d&quot;}, payload: &quot;&quot; }
[2022-05-09T10:15:32Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 19, payload: 0x7f0ed0016620, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 586, array: 0x7f0edc01e250 } }, data: MessageData { topic: &quot;app/01d2f001-dc80-4c79-bbb9-7a9cb884796d&quot;, payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 102, 97, 108, 115, 101, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 586, array: 0x7f0edc01e250 } } } }
[2022-05-09T10:15:32Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0009a70, 0x7f0ee0009a50
[2022-05-09T10:15:32Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0009a50, 0x7f0ed0015510
[2022-05-09T10:15:32Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0009a50, 0x7f0ee0003fc0
[2022-05-09T10:15:32Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0003fc0, 0x7f0ed0001790
[2022-05-09T10:15:32Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0003fc0, 0x7f0ee0009a30
[2022-05-09T10:15:32Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0009a30, 0x7f0ed0015510
[2022-05-09T10:15:32Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0009a30, 0x7f0ed0015510
[2022-05-09T10:15:32Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0009a30, 0x7f0ed0015510
[2022-05-09T10:15:32Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0009a30, 0x7f0ed00014f0
[2022-05-09T10:15:32Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0009a30, 0x7f0ed0015510
[2022-05-09T10:15:32Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0009a30, 0x7f0ee0009ac0
[2022-05-09T10:15:32Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0009ac0, 0x7f0ed0015510
[2022-05-09T10:15:32Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0009ac0, 0x7f0ee0009b00
[2022-05-09T10:15:32Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0009b00, 0x7f0ee0009ac0
[2022-05-09T10:15:32Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f0ee0009ac0
[2022-05-09T10:15:32Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/01d2f001-dc80-4c79-bbb9-7a9cb884796d&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;deviceuid&quot;: &quot;6e2f1abe-8ed0-4078-a0c9-4d0dfcff492b&quot;, &quot;partitionkey&quot;: &quot;01d2f001%2Ddc80%2D4c79%2Dbbb9%2D7a9cb884796d/gateway1&quot;, &quot;sender&quot;: &quot;gateway1&quot;, &quot;id&quot;: &quot;b592c759-ef78-4d79-a798-410cb878ac55&quot;, &quot;type&quot;: &quot;io.drogue.connection.v1&quot;, &quot;application&quot;: &quot;01d2f001-dc80-4c79-bbb9-7a9cb884796d&quot;, &quot;applicationuid&quot;: &quot;2613d019-6093-4317-b87d-016cf4d27a6e&quot;, &quot;subject&quot;: &quot;connection&quot;, &quot;source&quot;: &quot;drogue://01d2f001%2Ddc80%2D4c79%2Dbbb9%2D7a9cb884796d/gateway1&quot;, &quot;device&quot;: &quot;gateway1&quot;, &quot;time&quot;: &quot;2022-05-09T10:15:32.448480435+00:00&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;senderuid&quot;: &quot;6e2f1abe-8ed0-4078-a0c9-4d0dfcff492b&quot;, &quot;specversion&quot;: &quot;1.0&quot;}, payload: &quot;{\&quot;connected\&quot;:false}&quot; }
[2022-05-09T10:15:32Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-09T10:15:32Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-09T10:15:32Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-09T10:15:32Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;01d2f001-dc80-4c79-bbb9-7a9cb884796d&quot;, device: &quot;gateway1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`,
 right: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;01d2f001-dc80-4c79-bbb9-7a9cb884796d&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`: Position #0&#x27;, src/tools/assert.rs:35:39
[2022-05-09T10:15:32Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-09T10:15:32Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;01d2f001-dc80-4c79-bbb9-7a9cb884796d&quot; &quot;device1&quot;
[2022-05-09T10:15:32Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:15:32Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-05-09T10:15:32Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;01d2f001-dc80-4c79-bbb9-7a9cb884796d&quot; &quot;gateway1&quot;
[2022-05-09T10:15:32Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:15:32Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;01d2f001-dc80-4c79-bbb9-7a9cb884796d&#x27;
[2022-05-09T10:15:32Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;01d2f001-dc80-4c79-bbb9-7a9cb884796d&quot;
[2022-05-09T10:15:32Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 01d2f001-dc80-4c79-bbb9-7a9cb884796d deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_1::integration_version_3::integration_ws_2

**Duration**: 14s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-09T10:15:34Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-09T10:15:34Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T10:15:34Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T10:15:34Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T10:15:34Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T10:15:35Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-09T10:15:37Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-09T10:15:37Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T10:15:37Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T10:15:37Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T10:15:38Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI0NDVmMTM5Zi0wNjNjLTRhZDgtODkwYi1mNTg1OTQ0NjFiZDAifQ.eyJleHAiOjE2NTIwOTMxMzgsImlhdCI6MTY1MjA5MTMzOCwianRpIjoiZDc5NjkxZjktYzZjYS00YWRhLWE5MjctZTE4YWNhMjBkNTg5IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjNkZWIxOWY5LWM3NDYtNGIwMC1hOTA5LTJiOTg4NTVjZTRmMyIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Illta3UtOUZ5dkhOaVdQRnJwaWFueWciLCJzZXNzaW9uX3N0YXRlIjoiYjA1YjYwMjQtNDkzOC00M2UxLWI5Y2UtMzFmMzcyZjBhNDY4Iiwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImIwNWI2MDI0LTQ5MzgtNDNlMS1iOWNlLTMxZjM3MmYwYTQ2OCJ9.RtFw60Ei15KzyuRSd4pa0Um6ijyAip4yhO-vIeRdI6Y
[2022-05-09T10:15:38Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-09T10:15:38Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-09T10:15:38Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI0NDVmMTM5Zi0wNjNjLTRhZDgtODkwYi1mNTg1OTQ0NjFiZDAifQ.eyJleHAiOjE2NTIwOTMxMzgsImlhdCI6MTY1MjA5MTMzOCwianRpIjoiZDc5NjkxZjktYzZjYS00YWRhLWE5MjctZTE4YWNhMjBkNTg5IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjNkZWIxOWY5LWM3NDYtNGIwMC1hOTA5LTJiOTg4NTVjZTRmMyIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Illta3UtOUZ5dkhOaVdQRnJwaWFueWciLCJzZXNzaW9uX3N0YXRlIjoiYjA1YjYwMjQtNDkzOC00M2UxLWI5Y2UtMzFmMzcyZjBhNDY4Iiwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImIwNWI2MDI0LTQ5MzgtNDNlMS1iOWNlLTMxZjM3MmYwYTQ2OCJ9.RtFw60Ei15KzyuRSd4pa0Um6ijyAip4yhO-vIeRdI6Y&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-09T10:15:39Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:15:39Z INFO  drogue_cloud_tests::resources::apps] Create application: 35253102-57d8-4cf0-8767-e2380d5cb7f0
[2022-05-09T10:15:39Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;35253102-57d8-4cf0-8767-e2380d5cb7f0&quot;
[2022-05-09T10:15:39Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 35253102-57d8-4cf0-8767-e2380d5cb7f0 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:15:39Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;35253102-57d8-4cf0-8767-e2380d5cb7f0&quot;
[2022-05-09T10:15:39Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T10:15:39.662753Z\&quot;,\n    \&quot;generation\&quot;: 1,\n    \&quot;name\&quot;: \&quot;35253102-57d8-4cf0-8767-e2380d5cb7f0\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;fe130130-0a4b-4039-8893-2d539725190e\&quot;,\n    \&quot;uid\&quot;: \&quot;4c41745f-1381-472f-8943-06d33d2ad616\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:15:39.680843771Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:15:39Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T10:15:39.662753Z&quot;), &quot;generation&quot;: Number(1), &quot;name&quot;: String(&quot;35253102-57d8-4cf0-8767-e2380d5cb7f0&quot;), &quot;resourceVersion&quot;: String(&quot;fe130130-0a4b-4039-8893-2d539725190e&quot;), &quot;uid&quot;: String(&quot;4c41745f-1381-472f-8943-06d33d2ad616&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:15:39.680843771Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})])})})
[2022-05-09T10:15:39Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-09T10:15:40Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;35253102-57d8-4cf0-8767-e2380d5cb7f0&quot;
[2022-05-09T10:15:40Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T10:15:39.662753Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;35253102-57d8-4cf0-8767-e2380d5cb7f0\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;f30b40a7-6249-4064-a8e7-e509b0579768\&quot;,\n    \&quot;uid\&quot;: \&quot;4c41745f-1381-472f-8943-06d33d2ad616\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:15:40.034225840Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:15:40.034081290Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:15:39.720305402Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:15:39.727180885Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:15:39.783130560Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:15:39.791397384Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:15:40.033933203Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:15:40.034050472Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;CThs82XXl7Dr\&quot;,\n        \&quot;username\&quot;: \&quot;user-35253102-57d8-4cf0-8767-e2380d5cb7f0\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:15:40Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T10:15:39.662753Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;35253102-57d8-4cf0-8767-e2380d5cb7f0&quot;), &quot;resourceVersion&quot;: String(&quot;f30b40a7-6249-4064-a8e7-e509b0579768&quot;), &quot;uid&quot;: String(&quot;4c41745f-1381-472f-8943-06d33d2ad616&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:15:40.034225840Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:15:40.034081290Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:15:39.720305402Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:15:39.727180885Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:15:39.783130560Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:15:39.791397384Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:15:40.033933203Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:15:40.034050472Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;CThs82XXl7Dr&quot;), &quot;username&quot;: String(&quot;user-35253102-57d8-4cf0-8767-e2380d5cb7f0&quot;)})})})})
[2022-05-09T10:15:40Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-09T10:15:40Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;35253102-57d8-4cf0-8767-e2380d5cb7f0&quot;
[2022-05-09T10:15:40Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T10:15:39.662753Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;35253102-57d8-4cf0-8767-e2380d5cb7f0\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;f30b40a7-6249-4064-a8e7-e509b0579768\&quot;,\n    \&quot;uid\&quot;: \&quot;4c41745f-1381-472f-8943-06d33d2ad616\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:15:40.034225840Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:15:40.034081290Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:15:39.720305402Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:15:39.727180885Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:15:39.783130560Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:15:39.791397384Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:15:40.033933203Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:15:40.034050472Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;CThs82XXl7Dr\&quot;,\n        \&quot;username\&quot;: \&quot;user-35253102-57d8-4cf0-8767-e2380d5cb7f0\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:15:40Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T10:15:39.662753Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;35253102-57d8-4cf0-8767-e2380d5cb7f0&quot;), &quot;resourceVersion&quot;: String(&quot;f30b40a7-6249-4064-a8e7-e509b0579768&quot;), &quot;uid&quot;: String(&quot;4c41745f-1381-472f-8943-06d33d2ad616&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:15:40.034225840Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:15:40.034081290Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:15:39.720305402Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:15:39.727180885Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:15:39.783130560Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:15:39.791397384Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:15:40.033933203Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:15:40.034050472Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;CThs82XXl7Dr&quot;), &quot;username&quot;: String(&quot;user-35253102-57d8-4cf0-8767-e2380d5cb7f0&quot;)})})})})
[2022-05-09T10:15:40Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-09T10:15:40Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-05-09T10:15:40Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;35253102-57d8-4cf0-8767-e2380d5cb7f0&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-09T10:15:40Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:15:40Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:15:40Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T10:15:40Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T10:15:40Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJXRG4zQ2wwMVNsYVpRRnRTbUpuS2JqWC1wcXdsR21xWDhSUFNWSHgxUHgwIn0.eyJleHAiOjE2NTIwOTE2MzgsImlhdCI6MTY1MjA5MTMzOCwiYXV0aF90aW1lIjoxNjUyMDkxMzM2LCJqdGkiOiI0NjY0MWRiNi03MjQyLTQ4MjEtYTFjMC1mZWQ2MjE2YjA1ZDYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiM2RlYjE5ZjktYzc0Ni00YjAwLWE5MDktMmI5ODg1NWNlNGYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJZbWt1LTlGeXZITmlXUEZycGlhbnlnIiwic2Vzc2lvbl9zdGF0ZSI6ImIwNWI2MDI0LTQ5MzgtNDNlMS1iOWNlLTMxZjM3MmYwYTQ2OCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImIwNWI2MDI0LTQ5MzgtNDNlMS1iOWNlLTMxZjM3MmYwYTQ2OCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.lBpYtsnBUW2eyleu4D7XmOR6l4m9uf6NywYhUgpMOs2aL82GsKtsYExm1vPS2bK3p8N_YTwEml1fQBRaydsArwQSzY33odAQM0lCySZbVz7Z_v2JrMOIcjNEVMU1cOoLG6Z9hSjvHUvIJ8Dd9D1r2oBdKvfU3sx9DTLklVHyBPZN4lYuU4vElwLyYv11zGucVyXduVTBTeorT_YiqvDibA7Lc7LTBJUP7Zp0k-rDWXJHJP4szE8WBaeZzc89eZ6ZLLzcigK1GVmoTkOn17-GDNgziZmNtRC5thJM9-KFzdzlAc_E8oIkAG4EVdZsoKLl77T2ZYGVGrUu9pfz_g3ArQ\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:15:40Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T10:15:40Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-09T10:15:40Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-09T10:15:40Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;35253102-57d8-4cf0-8767-e2380d5cb7f0&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-05-09T10:15:40Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:15:40Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt
[2022-05-09T10:15:40Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T10:15:40Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJXRG4zQ2wwMVNsYVpRRnRTbUpuS2JqWC1wcXdsR21xWDhSUFNWSHgxUHgwIn0.eyJleHAiOjE2NTIwOTE2MzgsImlhdCI6MTY1MjA5MTMzOCwiYXV0aF90aW1lIjoxNjUyMDkxMzM2LCJqdGkiOiI0NjY0MWRiNi03MjQyLTQ4MjEtYTFjMC1mZWQ2MjE2YjA1ZDYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiM2RlYjE5ZjktYzc0Ni00YjAwLWE5MDktMmI5ODg1NWNlNGYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJZbWt1LTlGeXZITmlXUEZycGlhbnlnIiwic2Vzc2lvbl9zdGF0ZSI6ImIwNWI2MDI0LTQ5MzgtNDNlMS1iOWNlLTMxZjM3MmYwYTQ2OCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImIwNWI2MDI0LTQ5MzgtNDNlMS1iOWNlLTMxZjM3MmYwYTQ2OCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.lBpYtsnBUW2eyleu4D7XmOR6l4m9uf6NywYhUgpMOs2aL82GsKtsYExm1vPS2bK3p8N_YTwEml1fQBRaydsArwQSzY33odAQM0lCySZbVz7Z_v2JrMOIcjNEVMU1cOoLG6Z9hSjvHUvIJ8Dd9D1r2oBdKvfU3sx9DTLklVHyBPZN4lYuU4vElwLyYv11zGucVyXduVTBTeorT_YiqvDibA7Lc7LTBJUP7Zp0k-rDWXJHJP4szE8WBaeZzc89eZ6ZLLzcigK1GVmoTkOn17-GDNgziZmNtRC5thJM9-KFzdzlAc_E8oIkAG4EVdZsoKLl77T2ZYGVGrUu9pfz_g3ArQ\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:15:40Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt&quot;, client_id: &quot;1aeba406-f010-4c9f-8a71-efaa8ea2d036&quot;, persistence: None, user_data: None }
[2022-05-09T10:15:40Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T10:15:40Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55efdbeabbb0
[2022-05-09T10:15:40Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55efdbeabbb0
[2022-05-09T10:15:40Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x55efdc1d05d0, connectTimeout: 30, retryInterval: 0, ssl: 0x55efdbeb3150, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55efdc186250, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJXRG4zQ2wwMVNsYVpRRnRTbUpuS2JqWC1wcXdsR21xWDhSUFNWSHgxUHgwIn0.eyJleHAiOjE2NTIwOTE2MzgsImlhdCI6MTY1MjA5MTMzOCwiYXV0aF90aW1lIjoxNjUyMDkxMzM2LCJqdGkiOiI0NjY0MWRiNi03MjQyLTQ4MjEtYTFjMC1mZWQ2MjE2YjA1ZDYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiM2RlYjE5ZjktYzc0Ni00YjAwLWE5MDktMmI5ODg1NWNlNGYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJZbWt1LTlGeXZITmlXUEZycGlhbnlnIiwic2Vzc2lvbl9zdGF0ZSI6ImIwNWI2MDI0LTQ5MzgtNDNlMS1iOWNlLTMxZjM3MmYwYTQ2OCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImIwNWI2MDI0LTQ5MzgtNDNlMS1iOWNlLTMxZjM3MmYwYTQ2OCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.lBpYtsnBUW2eyleu4D7XmOR6l4m9uf6NywYhUgpMOs2aL82GsKtsYExm1vPS2bK3p8N_YTwEml1fQBRaydsArwQSzY33odAQM0lCySZbVz7Z_v2JrMOIcjNEVMU1cOoLG6Z9hSjvHUvIJ8Dd9D1r2oBdKvfU3sx9DTLklVHyBPZN4lYuU4vElwLyYv11zGucVyXduVTBTeorT_YiqvDibA7Lc7LTBJUP7Zp0k-rDWXJHJP4szE8WBaeZzc89eZ6ZLLzcigK1GVmoTkOn17-GDNgziZmNtRC5thJM9-KFzdzlAc_E8oIkAG4EVdZsoKLl77T2ZYGVGrUu9pfz_g3ArQ&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T10:15:40Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/35253102-57d8-4cf0-8767-e2380d5cb7f0&quot;&#x27; @ QOS 0
[2022-05-09T10:15:40Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-09T10:15:40Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:15:40Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-09T10:15:40Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:15:40Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:15:41Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:15:42Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:15:42Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:15:42Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:15:42Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:15:43Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:15:43Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:15:43Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:15:43Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:15:44Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:15:44Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:15:44Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:15:44Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:15:44Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 11, payload: 0x7f0edc0097e0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 574, array: 0x7f0edc022f60 } }, data: MessageData { topic: &quot;app/35253102-57d8-4cf0-8767-e2380d5cb7f0&quot;, payload: [123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 574, array: 0x7f0edc022f60 } } } }
[2022-05-09T10:15:44Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55efdbebafc0, 0x55efdbf3d140
[2022-05-09T10:15:44Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55efdbf3d140, 0x55efdc29c150
[2022-05-09T10:15:44Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55efdbf3d140, 0x7f0ed8003ef0
[2022-05-09T10:15:44Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8003ef0, 0x55efdc110d20
[2022-05-09T10:15:44Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8003ef0, 0x7f0ee0001eb0
[2022-05-09T10:15:44Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0001eb0, 0x55efdc29c150
[2022-05-09T10:15:44Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0001eb0, 0x7f0ee00065d0
[2022-05-09T10:15:44Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee00065d0, 0x55efdc29c150
[2022-05-09T10:15:44Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee00065d0, 0x55efdc29c150
[2022-05-09T10:15:44Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee00065d0, 0x7f0ee0001790
[2022-05-09T10:15:44Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0001790, 0x7f0ee00065d0
[2022-05-09T10:15:44Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee00065d0, 0x55efdbebb2b0
[2022-05-09T10:15:44Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee00065d0, 0x55efdc29c150
[2022-05-09T10:15:44Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee00065d0, 0x55efdc29c150
[2022-05-09T10:15:44Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f0ee00065d0
[2022-05-09T10:15:44Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/35253102-57d8-4cf0-8767-e2380d5cb7f0&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;device&quot;: &quot;device1&quot;, &quot;senderuid&quot;: &quot;f78d9073-7d7c-4976-81d0-eb64673c3995&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;source&quot;: &quot;drogue://35253102%2D57d8%2D4cf0%2D8767%2De2380d5cb7f0/device1&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;sender&quot;: &quot;gateway1&quot;, &quot;applicationuid&quot;: &quot;4c41745f-1381-472f-8943-06d33d2ad616&quot;, &quot;partitionkey&quot;: &quot;35253102%2D57d8%2D4cf0%2D8767%2De2380d5cb7f0/device1&quot;, &quot;subject&quot;: &quot;warmup&quot;, &quot;time&quot;: &quot;2022-05-09T10:15:44.596109571+00:00&quot;, &quot;id&quot;: &quot;1ac62d9a-7175-4466-9033-6fd931a42428&quot;, &quot;deviceuid&quot;: &quot;c6634a69-5c38-4a03-9329-4e8776ebe233&quot;, &quot;type&quot;: &quot;io.drogue.event.v1&quot;, &quot;application&quot;: &quot;35253102-57d8-4cf0-8767-e2380d5cb7f0&quot;}, payload: &quot;{\&quot;index\&quot;:3}&quot; }
[2022-05-09T10:15:45Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-09T10:15:45Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-09T10:15:45Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-09T10:15:45Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry/device1
[2022-05-09T10:15:45Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-endpoint.172.18.0.2.nip.io:30001&quot;, client_id: &quot;1b802357-a768-4f5c-932b-31404497a2e1&quot;, persistence: None, user_data: None }
[2022-05-09T10:15:45Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T10:15:45Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55efdbef74a0
[2022-05-09T10:15:45Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55efdbef74a0
[2022-05-09T10:15:45Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x55efdc19fdd0, password: 0x55efdbecf300, connectTimeout: 30, retryInterval: 0, ssl: 0x55efdc055ed0, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55efdc2c2880, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;gateway1@35253102-57d8-4cf0-8767-e2380d5cb7f0&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T10:15:45Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 18, payload: 0x7f0edc019b30, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 586, array: 0x7f0edc019dd0 } }, data: MessageData { topic: &quot;app/35253102-57d8-4cf0-8767-e2380d5cb7f0&quot;, payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 586, array: 0x7f0edc019dd0 } } } }
[2022-05-09T10:15:45Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8003f50, 0x55efdbf3d140
[2022-05-09T10:15:45Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55efdbf3d140, 0x7f0edc023350
[2022-05-09T10:15:45Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55efdbf3d140, 0x7f0ee0006890
[2022-05-09T10:15:45Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0006890, 0x7f0edc0233d0
[2022-05-09T10:15:45Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0006890, 0x7f0ee00065d0
[2022-05-09T10:15:45Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee00065d0, 0x7f0edc023350
[2022-05-09T10:15:45Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee00065d0, 0x7f0ee0000dc0
[2022-05-09T10:15:45Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0000dc0, 0x7f0edc023350
[2022-05-09T10:15:45Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0000dc0, 0x7f0edc023350
[2022-05-09T10:15:45Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0000dc0, 0x7f0edc00e130
[2022-05-09T10:15:45Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0000dc0, 0x7f0edc023350
[2022-05-09T10:15:45Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0000dc0, 0x7f0ee00068b0
[2022-05-09T10:15:45Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee00068b0, 0x7f0edc023350
[2022-05-09T10:15:45Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee00068b0, 0x7f0ee0005e20
[2022-05-09T10:15:45Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f0ee0005e20
[2022-05-09T10:15:45Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/35253102-57d8-4cf0-8767-e2380d5cb7f0&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;subject&quot;: &quot;connection&quot;, &quot;application&quot;: &quot;35253102-57d8-4cf0-8767-e2380d5cb7f0&quot;, &quot;type&quot;: &quot;io.drogue.connection.v1&quot;, &quot;source&quot;: &quot;drogue://35253102%2D57d8%2D4cf0%2D8767%2De2380d5cb7f0/gateway1&quot;, &quot;time&quot;: &quot;2022-05-09T10:15:45.714818222+00:00&quot;, &quot;applicationuid&quot;: &quot;4c41745f-1381-472f-8943-06d33d2ad616&quot;, &quot;partitionkey&quot;: &quot;35253102%2D57d8%2D4cf0%2D8767%2De2380d5cb7f0/gateway1&quot;, &quot;sender&quot;: &quot;gateway1&quot;, &quot;id&quot;: &quot;8b13be0d-5ebc-4f26-84a2-3579e0cd05fa&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;deviceuid&quot;: &quot;f78d9073-7d7c-4976-81d0-eb64673c3995&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;senderuid&quot;: &quot;f78d9073-7d7c-4976-81d0-eb64673c3995&quot;, &quot;device&quot;: &quot;gateway1&quot;}, payload: &quot;{\&quot;connected\&quot;:true}&quot; }
[2022-05-09T10:15:45Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55efdbef8540 } }, data: MessageData { topic: &quot;telemetry/device1&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55efdbef8540 } } } }
[2022-05-09T10:15:45Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-09T10:15:46Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 19, payload: 0x7f0edc025090, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 586, array: 0x7f0edc026070 } }, data: MessageData { topic: &quot;app/35253102-57d8-4cf0-8767-e2380d5cb7f0&quot;, payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 102, 97, 108, 115, 101, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 586, array: 0x7f0edc026070 } } } }
[2022-05-09T10:15:46Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0edc0097e0, 0x7f0edc009800
[2022-05-09T10:15:46Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0edc009800, 0x7f0edc019cc0
[2022-05-09T10:15:46Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0edc009800, 0x7f0ee0001790
[2022-05-09T10:15:46Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0001790, 0x7f0edc02ff10
[2022-05-09T10:15:46Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0001790, 0x7f0ee0005e00
[2022-05-09T10:15:46Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0005e00, 0x7f0edc019cc0
[2022-05-09T10:15:46Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0005e00, 0x7f0edc019cc0
[2022-05-09T10:15:46Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0005e00, 0x7f0edc030230
[2022-05-09T10:15:46Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0005e00, 0x7f0ee00068f0
[2022-05-09T10:15:46Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee00068f0, 0x7f0ee0005e00
[2022-05-09T10:15:46Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0005e00, 0x7f0edc019cc0
[2022-05-09T10:15:46Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0005e00, 0x7f0edc019cc0
[2022-05-09T10:15:46Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0005e00, 0x7f0ee0005de0
[2022-05-09T10:15:46Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0005de0, 0x7f0edc019cc0
[2022-05-09T10:15:46Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f0ee0005de0
[2022-05-09T10:15:46Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/35253102-57d8-4cf0-8767-e2380d5cb7f0&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;partitionkey&quot;: &quot;35253102%2D57d8%2D4cf0%2D8767%2De2380d5cb7f0/gateway1&quot;, &quot;deviceuid&quot;: &quot;f78d9073-7d7c-4976-81d0-eb64673c3995&quot;, &quot;id&quot;: &quot;6ae15f12-fb7e-4675-a7aa-9245af0f3ca2&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;subject&quot;: &quot;connection&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;type&quot;: &quot;io.drogue.connection.v1&quot;, &quot;applicationuid&quot;: &quot;4c41745f-1381-472f-8943-06d33d2ad616&quot;, &quot;sender&quot;: &quot;gateway1&quot;, &quot;application&quot;: &quot;35253102-57d8-4cf0-8767-e2380d5cb7f0&quot;, &quot;device&quot;: &quot;gateway1&quot;, &quot;source&quot;: &quot;drogue://35253102%2D57d8%2D4cf0%2D8767%2De2380d5cb7f0/gateway1&quot;, &quot;time&quot;: &quot;2022-05-09T10:15:45.946251635+00:00&quot;, &quot;senderuid&quot;: &quot;f78d9073-7d7c-4976-81d0-eb64673c3995&quot;}, payload: &quot;{\&quot;connected\&quot;:false}&quot; }
[2022-05-09T10:15:46Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 585, array: 0x7f0edc026a00 } }, data: MessageData { topic: &quot;app/35253102-57d8-4cf0-8767-e2380d5cb7f0&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 585, array: 0x7f0edc026a00 } } } }
[2022-05-09T10:15:46Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0005e80, 0x7f0ee0005e40
[2022-05-09T10:15:46Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0005e40, 0x7f0edc00f1f0
[2022-05-09T10:15:46Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0005e40, 0x7f0ee00065f0
[2022-05-09T10:15:46Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee00065f0, 0x7f0edc023380
[2022-05-09T10:15:46Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee00065f0, 0x7f0ee0000dc0
[2022-05-09T10:15:46Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0000dc0, 0x7f0edc00f1f0
[2022-05-09T10:15:46Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0000dc0, 0x7f0edc00f1f0
[2022-05-09T10:15:46Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0000dc0, 0x7f0ee0005e00
[2022-05-09T10:15:46Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0005e00, 0x7f0edc00f1f0
[2022-05-09T10:15:46Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0005e00, 0x7f0ee0001790
[2022-05-09T10:15:46Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0001790, 0x7f0ee0005e00
[2022-05-09T10:15:46Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0005e00, 0x7f0edc025620
[2022-05-09T10:15:46Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0005e00, 0x7f0edc00f1f0
[2022-05-09T10:15:46Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0005e00, 0x7f0edc00f1f0
[2022-05-09T10:15:46Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f0ee0005f00
[2022-05-09T10:15:46Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/35253102-57d8-4cf0-8767-e2380d5cb7f0&quot;, content_type: Some(&quot;application/octet-stream&quot;), user_properties: {&quot;id&quot;: &quot;dbf5f2f8-22c0-4276-b60f-5b22803d5472&quot;, &quot;source&quot;: &quot;drogue://35253102%2D57d8%2D4cf0%2D8767%2De2380d5cb7f0/device1&quot;, &quot;subject&quot;: &quot;telemetry&quot;, &quot;partitionkey&quot;: &quot;35253102%2D57d8%2D4cf0%2D8767%2De2380d5cb7f0/device1&quot;, &quot;applicationuid&quot;: &quot;4c41745f-1381-472f-8943-06d33d2ad616&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;deviceuid&quot;: &quot;c6634a69-5c38-4a03-9329-4e8776ebe233&quot;, &quot;senderuid&quot;: &quot;f78d9073-7d7c-4976-81d0-eb64673c3995&quot;, &quot;application&quot;: &quot;35253102-57d8-4cf0-8767-e2380d5cb7f0&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;sender&quot;: &quot;gateway1&quot;, &quot;device&quot;: &quot;device1&quot;, &quot;time&quot;: &quot;2022-05-09T10:15:45.944883358+00:00&quot;, &quot;type&quot;: &quot;io.drogue.event.v1&quot;}, payload: &quot;&quot; }
[2022-05-09T10:15:46Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-09T10:15:46Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-09T10:15:46Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-09T10:15:46Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;35253102-57d8-4cf0-8767-e2380d5cb7f0&quot;, device: &quot;gateway1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`,
 right: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;35253102-57d8-4cf0-8767-e2380d5cb7f0&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`: Position #0&#x27;, src/tools/assert.rs:35:39
[2022-05-09T10:15:46Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-09T10:15:46Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;35253102-57d8-4cf0-8767-e2380d5cb7f0&quot; &quot;device1&quot;
[2022-05-09T10:15:46Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:15:46Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-05-09T10:15:46Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;35253102-57d8-4cf0-8767-e2380d5cb7f0&quot; &quot;gateway1&quot;
[2022-05-09T10:15:46Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:15:46Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;35253102-57d8-4cf0-8767-e2380d5cb7f0&#x27;
[2022-05-09T10:15:46Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;35253102-57d8-4cf0-8767-e2380d5cb7f0&quot;
[2022-05-09T10:15:46Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 35253102-57d8-4cf0-8767-e2380d5cb7f0 deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_2::integration_version_1::integration_ws_1

**Duration**: 15s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-09T10:15:48Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-09T10:15:48Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T10:15:48Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T10:15:48Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T10:15:48Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T10:15:49Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-09T10:15:51Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-09T10:15:51Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T10:15:51Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T10:15:51Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T10:15:53Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI0NDVmMTM5Zi0wNjNjLTRhZDgtODkwYi1mNTg1OTQ0NjFiZDAifQ.eyJleHAiOjE2NTIwOTMxNTMsImlhdCI6MTY1MjA5MTM1MywianRpIjoiZTJmNDM5ZDItYTkyMC00MjE2LWEzMzMtMzU5N2ZkNmI5MmQ5IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjNkZWIxOWY5LWM3NDYtNGIwMC1hOTA5LTJiOTg4NTVjZTRmMyIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Ii0wQ05Ibm14NlRnaFhBLXlKbThVN1EiLCJzZXNzaW9uX3N0YXRlIjoiODExNTYzZWUtMjI1OC00Y2EwLWE5NWYtZDFiODIyZTc3YTQxIiwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjgxMTU2M2VlLTIyNTgtNGNhMC1hOTVmLWQxYjgyMmU3N2E0MSJ9.dEs1kk036HNEw7FSgYii_mNlUIrQbEDtpYbN5IOJfEg
[2022-05-09T10:15:53Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-09T10:15:53Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-09T10:15:53Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI0NDVmMTM5Zi0wNjNjLTRhZDgtODkwYi1mNTg1OTQ0NjFiZDAifQ.eyJleHAiOjE2NTIwOTMxNTMsImlhdCI6MTY1MjA5MTM1MywianRpIjoiZTJmNDM5ZDItYTkyMC00MjE2LWEzMzMtMzU5N2ZkNmI5MmQ5IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjNkZWIxOWY5LWM3NDYtNGIwMC1hOTA5LTJiOTg4NTVjZTRmMyIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Ii0wQ05Ibm14NlRnaFhBLXlKbThVN1EiLCJzZXNzaW9uX3N0YXRlIjoiODExNTYzZWUtMjI1OC00Y2EwLWE5NWYtZDFiODIyZTc3YTQxIiwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjgxMTU2M2VlLTIyNTgtNGNhMC1hOTVmLWQxYjgyMmU3N2E0MSJ9.dEs1kk036HNEw7FSgYii_mNlUIrQbEDtpYbN5IOJfEg&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-09T10:15:53Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:15:54Z INFO  drogue_cloud_tests::resources::apps] Create application: cb7b3b78-f520-4443-9ebe-f51a4892ac70
[2022-05-09T10:15:54Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;cb7b3b78-f520-4443-9ebe-f51a4892ac70&quot;
[2022-05-09T10:15:54Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App cb7b3b78-f520-4443-9ebe-f51a4892ac70 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:15:54Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;cb7b3b78-f520-4443-9ebe-f51a4892ac70&quot;
[2022-05-09T10:15:54Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T10:15:54.084235Z\&quot;,\n    \&quot;generation\&quot;: 1,\n    \&quot;name\&quot;: \&quot;cb7b3b78-f520-4443-9ebe-f51a4892ac70\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;0ef2b472-f554-49b7-8803-ff5dd4e4d5d5\&quot;,\n    \&quot;uid\&quot;: \&quot;01c190e4-8ae9-4c54-ab61-21c929c241fd\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:15:54.099767263Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:15:54Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T10:15:54.084235Z&quot;), &quot;generation&quot;: Number(1), &quot;name&quot;: String(&quot;cb7b3b78-f520-4443-9ebe-f51a4892ac70&quot;), &quot;resourceVersion&quot;: String(&quot;0ef2b472-f554-49b7-8803-ff5dd4e4d5d5&quot;), &quot;uid&quot;: String(&quot;01c190e4-8ae9-4c54-ab61-21c929c241fd&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:15:54.099767263Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})])})})
[2022-05-09T10:15:54Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-09T10:15:55Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;cb7b3b78-f520-4443-9ebe-f51a4892ac70&quot;
[2022-05-09T10:15:55Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T10:15:54.084235Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;cb7b3b78-f520-4443-9ebe-f51a4892ac70\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;b7da9481-06ea-4888-b801-c480970ed148\&quot;,\n    \&quot;uid\&quot;: \&quot;01c190e4-8ae9-4c54-ab61-21c929c241fd\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:15:54.368695012Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:15:54.368652222Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:15:54.137115373Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:15:54.143228743Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:15:54.205039394Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:15:54.210733279Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:15:54.368602951Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:15:54.368622237Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;DK6KZxAeOXZd\&quot;,\n        \&quot;username\&quot;: \&quot;user-cb7b3b78-f520-4443-9ebe-f51a4892ac70\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:15:55Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T10:15:54.084235Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;cb7b3b78-f520-4443-9ebe-f51a4892ac70&quot;), &quot;resourceVersion&quot;: String(&quot;b7da9481-06ea-4888-b801-c480970ed148&quot;), &quot;uid&quot;: String(&quot;01c190e4-8ae9-4c54-ab61-21c929c241fd&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:15:54.368695012Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:15:54.368652222Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:15:54.137115373Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:15:54.143228743Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:15:54.205039394Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:15:54.210733279Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:15:54.368602951Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:15:54.368622237Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;DK6KZxAeOXZd&quot;), &quot;username&quot;: String(&quot;user-cb7b3b78-f520-4443-9ebe-f51a4892ac70&quot;)})})})})
[2022-05-09T10:15:55Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-09T10:15:55Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;cb7b3b78-f520-4443-9ebe-f51a4892ac70&quot;
[2022-05-09T10:15:55Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T10:15:54.084235Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;cb7b3b78-f520-4443-9ebe-f51a4892ac70\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;b7da9481-06ea-4888-b801-c480970ed148\&quot;,\n    \&quot;uid\&quot;: \&quot;01c190e4-8ae9-4c54-ab61-21c929c241fd\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:15:54.368695012Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:15:54.368652222Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:15:54.137115373Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:15:54.143228743Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:15:54.205039394Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:15:54.210733279Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:15:54.368602951Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:15:54.368622237Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;DK6KZxAeOXZd\&quot;,\n        \&quot;username\&quot;: \&quot;user-cb7b3b78-f520-4443-9ebe-f51a4892ac70\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:15:55Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T10:15:54.084235Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;cb7b3b78-f520-4443-9ebe-f51a4892ac70&quot;), &quot;resourceVersion&quot;: String(&quot;b7da9481-06ea-4888-b801-c480970ed148&quot;), &quot;uid&quot;: String(&quot;01c190e4-8ae9-4c54-ab61-21c929c241fd&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:15:54.368695012Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:15:54.368652222Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:15:54.137115373Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:15:54.143228743Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:15:54.205039394Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:15:54.210733279Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:15:54.368602951Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:15:54.368622237Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;DK6KZxAeOXZd&quot;), &quot;username&quot;: String(&quot;user-cb7b3b78-f520-4443-9ebe-f51a4892ac70&quot;)})})})})
[2022-05-09T10:15:55Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-09T10:15:55Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-05-09T10:15:55Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;cb7b3b78-f520-4443-9ebe-f51a4892ac70&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-09T10:15:55Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:15:55Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:15:55Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T10:15:55Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T10:15:55Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJXRG4zQ2wwMVNsYVpRRnRTbUpuS2JqWC1wcXdsR21xWDhSUFNWSHgxUHgwIn0.eyJleHAiOjE2NTIwOTE2NTMsImlhdCI6MTY1MjA5MTM1MywiYXV0aF90aW1lIjoxNjUyMDkxMzUwLCJqdGkiOiJiODA5NGU2ZS0yOTE4LTQ2MDEtYmQ0MC04MzVkMzhkM2E2ZmQiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiM2RlYjE5ZjktYzc0Ni00YjAwLWE5MDktMmI5ODg1NWNlNGYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiItMENOSG5teDZUZ2hYQS15Sm04VTdRIiwic2Vzc2lvbl9zdGF0ZSI6IjgxMTU2M2VlLTIyNTgtNGNhMC1hOTVmLWQxYjgyMmU3N2E0MSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjgxMTU2M2VlLTIyNTgtNGNhMC1hOTVmLWQxYjgyMmU3N2E0MSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.IjEKlYK3RpmI4MC3D-jyqm52NF8mYuz0GKON8MXlaiYAPl1LG7K25jUO-eHn6EeNEM3HbMwKPL_J5IxNTa4JZOmgoF7ooKWVBO-VeMq5wnoXtbPwuQZrFJsFqw2JrbhAiBw8vhxFGqjaJ87LayMMGaFIUFeCoWrXNJpfzq__bTvWJx1oFR7oGgQgM1QnaatXUh0_0BiCmrltQebD-yNQIjCtWXmsugKz-3QZ-t9IiWtuRm4ptd2AEAeN_qvyf91QxOslbyi0njNXftdeHnhAGjSJTFsFdX36a4Bq2h2dLwVAsbNz1u4t1dA1h-waJY1RjXYnKal6-P_TYSzzPaNy4Q\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:15:55Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T10:15:55Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-09T10:15:55Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-09T10:15:55Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;cb7b3b78-f520-4443-9ebe-f51a4892ac70&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-05-09T10:15:55Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:15:55Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: ssl://mqtt-integration.172.18.0.2.nip.io:30002
[2022-05-09T10:15:55Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T10:15:55Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJXRG4zQ2wwMVNsYVpRRnRTbUpuS2JqWC1wcXdsR21xWDhSUFNWSHgxUHgwIn0.eyJleHAiOjE2NTIwOTE2NTMsImlhdCI6MTY1MjA5MTM1MywiYXV0aF90aW1lIjoxNjUyMDkxMzUwLCJqdGkiOiJiODA5NGU2ZS0yOTE4LTQ2MDEtYmQ0MC04MzVkMzhkM2E2ZmQiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiM2RlYjE5ZjktYzc0Ni00YjAwLWE5MDktMmI5ODg1NWNlNGYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiItMENOSG5teDZUZ2hYQS15Sm04VTdRIiwic2Vzc2lvbl9zdGF0ZSI6IjgxMTU2M2VlLTIyNTgtNGNhMC1hOTVmLWQxYjgyMmU3N2E0MSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjgxMTU2M2VlLTIyNTgtNGNhMC1hOTVmLWQxYjgyMmU3N2E0MSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.IjEKlYK3RpmI4MC3D-jyqm52NF8mYuz0GKON8MXlaiYAPl1LG7K25jUO-eHn6EeNEM3HbMwKPL_J5IxNTa4JZOmgoF7ooKWVBO-VeMq5wnoXtbPwuQZrFJsFqw2JrbhAiBw8vhxFGqjaJ87LayMMGaFIUFeCoWrXNJpfzq__bTvWJx1oFR7oGgQgM1QnaatXUh0_0BiCmrltQebD-yNQIjCtWXmsugKz-3QZ-t9IiWtuRm4ptd2AEAeN_qvyf91QxOslbyi0njNXftdeHnhAGjSJTFsFdX36a4Bq2h2dLwVAsbNz1u4t1dA1h-waJY1RjXYnKal6-P_TYSzzPaNy4Q\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:15:55Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 4, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-integration.172.18.0.2.nip.io:30002&quot;, client_id: &quot;28f1d4f0-d297-4d4e-bdfc-7b35699562e5&quot;, persistence: None, user_data: None }
[2022-05-09T10:15:55Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T10:15:55Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55efdc1069f0
[2022-05-09T10:15:55Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55efdc1069f0
[2022-05-09T10:15:55Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 1, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x55efdc1b2170, connectTimeout: 30, retryInterval: 0, ssl: 0x55efdc168230, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 4, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 0, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55efdc1b29d0, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJXRG4zQ2wwMVNsYVpRRnRTbUpuS2JqWC1wcXdsR21xWDhSUFNWSHgxUHgwIn0.eyJleHAiOjE2NTIwOTE2NTMsImlhdCI6MTY1MjA5MTM1MywiYXV0aF90aW1lIjoxNjUyMDkxMzUwLCJqdGkiOiJiODA5NGU2ZS0yOTE4LTQ2MDEtYmQ0MC04MzVkMzhkM2E2ZmQiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiM2RlYjE5ZjktYzc0Ni00YjAwLWE5MDktMmI5ODg1NWNlNGYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiItMENOSG5teDZUZ2hYQS15Sm04VTdRIiwic2Vzc2lvbl9zdGF0ZSI6IjgxMTU2M2VlLTIyNTgtNGNhMC1hOTVmLWQxYjgyMmU3N2E0MSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjgxMTU2M2VlLTIyNTgtNGNhMC1hOTVmLWQxYjgyMmU3N2E0MSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.IjEKlYK3RpmI4MC3D-jyqm52NF8mYuz0GKON8MXlaiYAPl1LG7K25jUO-eHn6EeNEM3HbMwKPL_J5IxNTa4JZOmgoF7ooKWVBO-VeMq5wnoXtbPwuQZrFJsFqw2JrbhAiBw8vhxFGqjaJ87LayMMGaFIUFeCoWrXNJpfzq__bTvWJx1oFR7oGgQgM1QnaatXUh0_0BiCmrltQebD-yNQIjCtWXmsugKz-3QZ-t9IiWtuRm4ptd2AEAeN_qvyf91QxOslbyi0njNXftdeHnhAGjSJTFsFdX36a4Bq2h2dLwVAsbNz1u4t1dA1h-waJY1RjXYnKal6-P_TYSzzPaNy4Q&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T10:15:55Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/cb7b3b78-f520-4443-9ebe-f51a4892ac70&quot;&#x27; @ QOS 0
[2022-05-09T10:15:55Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-09T10:15:55Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-09T10:15:55Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:15:55Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:15:55Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:15:55Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:15:56Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:15:56Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:15:56Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:15:56Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:15:57Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:15:57Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:15:57Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:15:57Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:15:58Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:15:58Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:15:58Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:15:58Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:15:58Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 621, payload: 0x7f0edc0247e0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/cb7b3b78-f520-4443-9ebe-f51a4892ac70&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 52, 100, 100, 52, 100, 50, 99, 57, 45, 50, 48, 101, 52, 45, 52, 54, 102, 57, 45, 97, 102, 50, 50, 45, 101, 53, 48, 49, 53, 54, 54, 48, 99, 98, 100, 97, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 99, 98, 55, 98, 51, 98, 55, 56, 37, 50, 68, 102, 53, 50, 48, 37, 50, 68, 52, 52, 52, 51, 37, 50, 68, 57, 101, 98, 101, 37, 50, 68, 102, 53, 49, 97, 52, 56, 57, 50, 97, 99, 55, 48, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 119, 97, 114, 109, 117, 112, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 48, 58, 49, 53, 58, 53, 56, 46, 53, 57, 54, 49, 56, 55, 50, 57, 54, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 97, 48, 98, 97, 50, 101, 51, 102, 45, 97, 52, 100, 97, 45, 52, 99, 53, 101, 45, 98, 50, 101, 102, 45, 55, 55, 51, 51, 98, 54, 99, 50, 100, 49, 55, 98, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 99, 98, 55, 98, 51, 98, 55, 56, 45, 102, 53, 50, 48, 45, 52, 52, 52, 51, 45, 57, 101, 98, 101, 45, 102, 53, 49, 97, 52, 56, 57, 50, 97, 99, 55, 48, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 52, 55, 49, 48, 102, 97, 55, 101, 45, 52, 48, 101, 55, 45, 52, 100, 51, 101, 45, 56, 53, 53, 100, 45, 100, 54, 97, 53, 52, 55, 53, 100, 99, 55, 50, 55, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 99, 98, 55, 98, 51, 98, 55, 56, 37, 50, 68, 102, 53, 50, 48, 37, 50, 68, 52, 52, 52, 51, 37, 50, 68, 57, 101, 98, 101, 37, 50, 68, 102, 53, 49, 97, 52, 56, 57, 50, 97, 99, 55, 48, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 48, 49, 99, 49, 57, 48, 101, 52, 45, 56, 97, 101, 57, 45, 52, 99, 53, 52, 45, 97, 98, 54, 49, 45, 50, 49, 99, 57, 50, 57, 99, 50, 52, 49, 102, 100, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-09T10:15:58Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/cb7b3b78-f520-4443-9ebe-f51a4892ac70&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;4dd4d2c9-20e4-46f9-af22-e5015660cbda\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://cb7b3b78%2Df520%2D4443%2D9ebe%2Df51a4892ac70/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;warmup\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T10:15:58.596187296Z\&quot;,\&quot;data\&quot;:{\&quot;index\&quot;:3},\&quot;deviceuid\&quot;:\&quot;a0ba2e3f-a4da-4c5e-b2ef-7733b6c2d17b\&quot;,\&quot;application\&quot;:\&quot;cb7b3b78-f520-4443-9ebe-f51a4892ac70\&quot;,\&quot;senderuid\&quot;:\&quot;4710fa7e-40e7-4d3e-855d-d6a5475dc727\&quot;,\&quot;partitionkey\&quot;:\&quot;cb7b3b78%2Df520%2D4443%2D9ebe%2Df51a4892ac70/device1\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;applicationuid\&quot;:\&quot;01c190e4-8ae9-4c54-ab61-21c929c241fd\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;}&quot; }
[2022-05-09T10:15:59Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-09T10:15:59Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-09T10:15:59Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-09T10:15:59Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry/device1
[2022-05-09T10:15:59Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005/mqtt&quot;, client_id: &quot;2e68b850-da5b-481a-80d4-9820da0f3c49&quot;, persistence: None, user_data: None }
[2022-05-09T10:15:59Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T10:15:59Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55efdc347be0
[2022-05-09T10:15:59Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55efdc347be0
[2022-05-09T10:15:59Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x55efdc2b91b0, password: 0x55efdc1997f0, connectTimeout: 30, retryInterval: 0, ssl: 0x55efdc1cc9f0, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55efdc29da50, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;gateway1@cb7b3b78-f520-4443-9ebe-f51a4892ac70&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T10:16:00Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 640, payload: 0x7f0edc02d880, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/cb7b3b78-f520-4443-9ebe-f51a4892ac70&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 50, 101, 50, 52, 53, 57, 101, 99, 45, 56, 99, 55, 49, 45, 52, 57, 51, 51, 45, 98, 57, 56, 55, 45, 99, 100, 101, 51, 55, 52, 99, 48, 52, 55, 48, 54, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 99, 98, 55, 98, 51, 98, 55, 56, 37, 50, 68, 102, 53, 50, 48, 37, 50, 68, 52, 52, 52, 51, 37, 50, 68, 57, 101, 98, 101, 37, 50, 68, 102, 53, 49, 97, 52, 56, 57, 50, 97, 99, 55, 48, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 48, 58, 49, 54, 58, 48, 48, 46, 48, 48, 52, 55, 54, 48, 54, 51, 57, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 52, 55, 49, 48, 102, 97, 55, 101, 45, 52, 48, 101, 55, 45, 52, 100, 51, 101, 45, 56, 53, 53, 100, 45, 100, 54, 97, 53, 52, 55, 53, 100, 99, 55, 50, 55, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 52, 55, 49, 48, 102, 97, 55, 101, 45, 52, 48, 101, 55, 45, 52, 100, 51, 101, 45, 56, 53, 53, 100, 45, 100, 54, 97, 53, 52, 55, 53, 100, 99, 55, 50, 55, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 99, 98, 55, 98, 51, 98, 55, 56, 45, 102, 53, 50, 48, 45, 52, 52, 52, 51, 45, 57, 101, 98, 101, 45, 102, 53, 49, 97, 52, 56, 57, 50, 97, 99, 55, 48, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 48, 49, 99, 49, 57, 48, 101, 52, 45, 56, 97, 101, 57, 45, 52, 99, 53, 52, 45, 97, 98, 54, 49, 45, 50, 49, 99, 57, 50, 57, 99, 50, 52, 49, 102, 100, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 99, 98, 55, 98, 51, 98, 55, 56, 37, 50, 68, 102, 53, 50, 48, 37, 50, 68, 52, 52, 52, 51, 37, 50, 68, 57, 101, 98, 101, 37, 50, 68, 102, 53, 49, 97, 52, 56, 57, 50, 97, 99, 55, 48, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-09T10:16:00Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55efdbef4260 } }, data: MessageData { topic: &quot;telemetry/device1&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55efdbef4260 } } } }
[2022-05-09T10:16:00Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/cb7b3b78-f520-4443-9ebe-f51a4892ac70&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;2e2459ec-8c71-4933-b987-cde374c04706\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://cb7b3b78%2Df520%2D4443%2D9ebe%2Df51a4892ac70/gateway1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T10:16:00.004760639Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:true},\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;senderuid\&quot;:\&quot;4710fa7e-40e7-4d3e-855d-d6a5475dc727\&quot;,\&quot;deviceuid\&quot;:\&quot;4710fa7e-40e7-4d3e-855d-d6a5475dc727\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;device\&quot;:\&quot;gateway1\&quot;,\&quot;application\&quot;:\&quot;cb7b3b78-f520-4443-9ebe-f51a4892ac70\&quot;,\&quot;applicationuid\&quot;:\&quot;01c190e4-8ae9-4c54-ab61-21c929c241fd\&quot;,\&quot;partitionkey\&quot;:\&quot;cb7b3b78%2Df520%2D4443%2D9ebe%2Df51a4892ac70/gateway1\&quot;}&quot; }
[2022-05-09T10:16:00Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-09T10:16:01Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 641, payload: 0x7f0edc027690, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/cb7b3b78-f520-4443-9ebe-f51a4892ac70&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 98, 56, 101, 48, 57, 49, 48, 49, 45, 57, 53, 55, 56, 45, 52, 102, 100, 50, 45, 98, 97, 98, 51, 45, 57, 50, 102, 55, 98, 100, 54, 48, 55, 101, 97, 99, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 99, 98, 55, 98, 51, 98, 55, 56, 37, 50, 68, 102, 53, 50, 48, 37, 50, 68, 52, 52, 52, 51, 37, 50, 68, 57, 101, 98, 101, 37, 50, 68, 102, 53, 49, 97, 52, 56, 57, 50, 97, 99, 55, 48, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 48, 58, 49, 54, 58, 48, 48, 46, 57, 52, 55, 54, 54, 52, 49, 49, 48, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 102, 97, 108, 115, 101, 125, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 52, 55, 49, 48, 102, 97, 55, 101, 45, 52, 48, 101, 55, 45, 52, 100, 51, 101, 45, 56, 53, 53, 100, 45, 100, 54, 97, 53, 52, 55, 53, 100, 99, 55, 50, 55, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 99, 98, 55, 98, 51, 98, 55, 56, 45, 102, 53, 50, 48, 45, 52, 52, 52, 51, 45, 57, 101, 98, 101, 45, 102, 53, 49, 97, 52, 56, 57, 50, 97, 99, 55, 48, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 48, 49, 99, 49, 57, 48, 101, 52, 45, 56, 97, 101, 57, 45, 52, 99, 53, 52, 45, 97, 98, 54, 49, 45, 50, 49, 99, 57, 50, 57, 99, 50, 52, 49, 102, 100, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 52, 55, 49, 48, 102, 97, 55, 101, 45, 52, 48, 101, 55, 45, 52, 100, 51, 101, 45, 56, 53, 53, 100, 45, 100, 54, 97, 53, 52, 55, 53, 100, 99, 55, 50, 55, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 99, 98, 55, 98, 51, 98, 55, 56, 37, 50, 68, 102, 53, 50, 48, 37, 50, 68, 52, 52, 52, 51, 37, 50, 68, 57, 101, 98, 101, 37, 50, 68, 102, 53, 49, 97, 52, 56, 57, 50, 97, 99, 55, 48, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-09T10:16:01Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/cb7b3b78-f520-4443-9ebe-f51a4892ac70&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;b8e09101-9578-4fd2-bab3-92f7bd607eac\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://cb7b3b78%2Df520%2D4443%2D9ebe%2Df51a4892ac70/gateway1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T10:16:00.947664110Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:false},\&quot;deviceuid\&quot;:\&quot;4710fa7e-40e7-4d3e-855d-d6a5475dc727\&quot;,\&quot;application\&quot;:\&quot;cb7b3b78-f520-4443-9ebe-f51a4892ac70\&quot;,\&quot;device\&quot;:\&quot;gateway1\&quot;,\&quot;applicationuid\&quot;:\&quot;01c190e4-8ae9-4c54-ab61-21c929c241fd\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;senderuid\&quot;:\&quot;4710fa7e-40e7-4d3e-855d-d6a5475dc727\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;partitionkey\&quot;:\&quot;cb7b3b78%2Df520%2D4443%2D9ebe%2Df51a4892ac70/gateway1\&quot;}&quot; }
[2022-05-09T10:16:01Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 630, payload: 0x7f0edc02d880, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/cb7b3b78-f520-4443-9ebe-f51a4892ac70&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 55, 53, 51, 52, 48, 101, 97, 52, 45, 100, 54, 50, 56, 45, 52, 101, 98, 51, 45, 56, 56, 52, 97, 45, 100, 52, 54, 53, 101, 100, 99, 55, 99, 100, 98, 57, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 99, 98, 55, 98, 51, 98, 55, 56, 37, 50, 68, 102, 53, 50, 48, 37, 50, 68, 52, 52, 52, 51, 37, 50, 68, 57, 101, 98, 101, 37, 50, 68, 102, 53, 49, 97, 52, 56, 57, 50, 97, 99, 55, 48, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 111, 99, 116, 101, 116, 45, 115, 116, 114, 101, 97, 109, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 116, 101, 108, 101, 109, 101, 116, 114, 121, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 48, 58, 49, 54, 58, 48, 48, 46, 57, 52, 53, 51, 48, 56, 49, 52, 53, 90, 34, 44, 34, 100, 97, 116, 97, 95, 98, 97, 115, 101, 54, 52, 34, 58, 34, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 99, 98, 55, 98, 51, 98, 55, 56, 45, 102, 53, 50, 48, 45, 52, 52, 52, 51, 45, 57, 101, 98, 101, 45, 102, 53, 49, 97, 52, 56, 57, 50, 97, 99, 55, 48, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 99, 98, 55, 98, 51, 98, 55, 56, 37, 50, 68, 102, 53, 50, 48, 37, 50, 68, 52, 52, 52, 51, 37, 50, 68, 57, 101, 98, 101, 37, 50, 68, 102, 53, 49, 97, 52, 56, 57, 50, 97, 99, 55, 48, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 52, 55, 49, 48, 102, 97, 55, 101, 45, 52, 48, 101, 55, 45, 52, 100, 51, 101, 45, 56, 53, 53, 100, 45, 100, 54, 97, 53, 52, 55, 53, 100, 99, 55, 50, 55, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 97, 48, 98, 97, 50, 101, 51, 102, 45, 97, 52, 100, 97, 45, 52, 99, 53, 101, 45, 98, 50, 101, 102, 45, 55, 55, 51, 51, 98, 54, 99, 50, 100, 49, 55, 98, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 48, 49, 99, 49, 57, 48, 101, 52, 45, 56, 97, 101, 57, 45, 52, 99, 53, 52, 45, 97, 98, 54, 49, 45, 50, 49, 99, 57, 50, 57, 99, 50, 52, 49, 102, 100, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-09T10:16:01Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/cb7b3b78-f520-4443-9ebe-f51a4892ac70&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;75340ea4-d628-4eb3-884a-d465edc7cdb9\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://cb7b3b78%2Df520%2D4443%2D9ebe%2Df51a4892ac70/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/octet-stream\&quot;,\&quot;subject\&quot;:\&quot;telemetry\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T10:16:00.945308145Z\&quot;,\&quot;data_base64\&quot;:\&quot;\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;application\&quot;:\&quot;cb7b3b78-f520-4443-9ebe-f51a4892ac70\&quot;,\&quot;partitionkey\&quot;:\&quot;cb7b3b78%2Df520%2D4443%2D9ebe%2Df51a4892ac70/device1\&quot;,\&quot;senderuid\&quot;:\&quot;4710fa7e-40e7-4d3e-855d-d6a5475dc727\&quot;,\&quot;deviceuid\&quot;:\&quot;a0ba2e3f-a4da-4c5e-b2ef-7733b6c2d17b\&quot;,\&quot;applicationuid\&quot;:\&quot;01c190e4-8ae9-4c54-ab61-21c929c241fd\&quot;}&quot; }
[2022-05-09T10:16:01Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-09T10:16:01Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-09T10:16:01Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-09T10:16:01Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;cb7b3b78-f520-4443-9ebe-f51a4892ac70&quot;, device: &quot;gateway1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`,
 right: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;cb7b3b78-f520-4443-9ebe-f51a4892ac70&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`: Position #0&#x27;, src/tools/assert.rs:35:39
[2022-05-09T10:16:02Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-09T10:16:02Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;cb7b3b78-f520-4443-9ebe-f51a4892ac70&quot; &quot;device1&quot;
[2022-05-09T10:16:02Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:16:02Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-05-09T10:16:02Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;cb7b3b78-f520-4443-9ebe-f51a4892ac70&quot; &quot;gateway1&quot;
[2022-05-09T10:16:02Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:16:02Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;cb7b3b78-f520-4443-9ebe-f51a4892ac70&#x27;
[2022-05-09T10:16:02Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;cb7b3b78-f520-4443-9ebe-f51a4892ac70&quot;
[2022-05-09T10:16:02Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App cb7b3b78-f520-4443-9ebe-f51a4892ac70 deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_2::integration_version_1::integration_ws_2

**Duration**: 14s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-09T10:16:03Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-09T10:16:03Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T10:16:03Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T10:16:03Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T10:16:03Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T10:16:05Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-09T10:16:06Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-09T10:16:06Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T10:16:06Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T10:16:06Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T10:16:08Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI0NDVmMTM5Zi0wNjNjLTRhZDgtODkwYi1mNTg1OTQ0NjFiZDAifQ.eyJleHAiOjE2NTIwOTMxNjgsImlhdCI6MTY1MjA5MTM2OCwianRpIjoiMzVmZTA5NjktMDU5MS00YzBhLWIxYzAtZDVmNzhiZjQ4ODllIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjNkZWIxOWY5LWM3NDYtNGIwMC1hOTA5LTJiOTg4NTVjZTRmMyIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlNGTU0wcUJvWXk1QWcyZ3hUM3BnX3ciLCJzZXNzaW9uX3N0YXRlIjoiZGQwY2Y1YzAtMmI5Ny00YjljLWE2MTItMzA5Mzg3ZjBlYWQ4Iiwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImRkMGNmNWMwLTJiOTctNGI5Yy1hNjEyLTMwOTM4N2YwZWFkOCJ9._VzkoooFrfHINxdzV_66vwdvrB-KOvqqrecrH3pNmRY
[2022-05-09T10:16:08Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-09T10:16:08Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-09T10:16:08Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI0NDVmMTM5Zi0wNjNjLTRhZDgtODkwYi1mNTg1OTQ0NjFiZDAifQ.eyJleHAiOjE2NTIwOTMxNjgsImlhdCI6MTY1MjA5MTM2OCwianRpIjoiMzVmZTA5NjktMDU5MS00YzBhLWIxYzAtZDVmNzhiZjQ4ODllIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjNkZWIxOWY5LWM3NDYtNGIwMC1hOTA5LTJiOTg4NTVjZTRmMyIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlNGTU0wcUJvWXk1QWcyZ3hUM3BnX3ciLCJzZXNzaW9uX3N0YXRlIjoiZGQwY2Y1YzAtMmI5Ny00YjljLWE2MTItMzA5Mzg3ZjBlYWQ4Iiwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImRkMGNmNWMwLTJiOTctNGI5Yy1hNjEyLTMwOTM4N2YwZWFkOCJ9._VzkoooFrfHINxdzV_66vwdvrB-KOvqqrecrH3pNmRY&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-09T10:16:08Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:16:08Z INFO  drogue_cloud_tests::resources::apps] Create application: e52a4084-fbe4-4195-ba9b-59267989af7a
[2022-05-09T10:16:08Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;e52a4084-fbe4-4195-ba9b-59267989af7a&quot;
[2022-05-09T10:16:09Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App e52a4084-fbe4-4195-ba9b-59267989af7a created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:16:09Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;e52a4084-fbe4-4195-ba9b-59267989af7a&quot;
[2022-05-09T10:16:09Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T10:16:09.007611Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 2,\n    \&quot;name\&quot;: \&quot;e52a4084-fbe4-4195-ba9b-59267989af7a\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;b8a53bec-8885-4309-9b00-3aecdeae2a76\&quot;,\n    \&quot;uid\&quot;: \&quot;52b91ed9-ea88-41c4-8066-3f5bcc56935c\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:16:09.024550102Z\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:16:09.024487976Z\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: HasFinalizer\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:16:09.024140627Z\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:16:09.024142290Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:16:09.024143111Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:16:09.024144434Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:16:09.024331113Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:16:09.024350610Z\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 1\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:16:09Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T10:16:09.007611Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(2), &quot;name&quot;: String(&quot;e52a4084-fbe4-4195-ba9b-59267989af7a&quot;), &quot;resourceVersion&quot;: String(&quot;b8a53bec-8885-4309-9b00-3aecdeae2a76&quot;), &quot;uid&quot;: String(&quot;52b91ed9-ea88-41c4-8066-3f5bcc56935c&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:16:09.024550102Z&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:16:09.024487976Z&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: HasFinalizer&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:16:09.024140627Z&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:16:09.024142290Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:16:09.024143111Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:16:09.024144434Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:16:09.024331113Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:16:09.024350610Z&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(1)})})})
[2022-05-09T10:16:09Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-09T10:16:10Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;e52a4084-fbe4-4195-ba9b-59267989af7a&quot;
[2022-05-09T10:16:10Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T10:16:09.007611Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;e52a4084-fbe4-4195-ba9b-59267989af7a\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;acb4e212-af4b-4614-9270-9e35d6784736\&quot;,\n    \&quot;uid\&quot;: \&quot;52b91ed9-ea88-41c4-8066-3f5bcc56935c\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:16:09.316172451Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:16:09.316061973Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:16:09.043718567Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:16:09.053180095Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:16:09.111706509Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:16:09.117928580Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:16:09.315951417Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:16:09.316029544Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;GZhNeSn7578A\&quot;,\n        \&quot;username\&quot;: \&quot;user-e52a4084-fbe4-4195-ba9b-59267989af7a\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:16:10Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T10:16:09.007611Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;e52a4084-fbe4-4195-ba9b-59267989af7a&quot;), &quot;resourceVersion&quot;: String(&quot;acb4e212-af4b-4614-9270-9e35d6784736&quot;), &quot;uid&quot;: String(&quot;52b91ed9-ea88-41c4-8066-3f5bcc56935c&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:16:09.316172451Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:16:09.316061973Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:16:09.043718567Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:16:09.053180095Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:16:09.111706509Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:16:09.117928580Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:16:09.315951417Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:16:09.316029544Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;GZhNeSn7578A&quot;), &quot;username&quot;: String(&quot;user-e52a4084-fbe4-4195-ba9b-59267989af7a&quot;)})})})})
[2022-05-09T10:16:10Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-09T10:16:10Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;e52a4084-fbe4-4195-ba9b-59267989af7a&quot;
[2022-05-09T10:16:10Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T10:16:09.007611Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;e52a4084-fbe4-4195-ba9b-59267989af7a\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;acb4e212-af4b-4614-9270-9e35d6784736\&quot;,\n    \&quot;uid\&quot;: \&quot;52b91ed9-ea88-41c4-8066-3f5bcc56935c\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:16:09.316172451Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:16:09.316061973Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:16:09.043718567Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:16:09.053180095Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:16:09.111706509Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:16:09.117928580Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:16:09.315951417Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:16:09.316029544Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;GZhNeSn7578A\&quot;,\n        \&quot;username\&quot;: \&quot;user-e52a4084-fbe4-4195-ba9b-59267989af7a\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:16:10Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T10:16:09.007611Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;e52a4084-fbe4-4195-ba9b-59267989af7a&quot;), &quot;resourceVersion&quot;: String(&quot;acb4e212-af4b-4614-9270-9e35d6784736&quot;), &quot;uid&quot;: String(&quot;52b91ed9-ea88-41c4-8066-3f5bcc56935c&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:16:09.316172451Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:16:09.316061973Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:16:09.043718567Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:16:09.053180095Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:16:09.111706509Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:16:09.117928580Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:16:09.315951417Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:16:09.316029544Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;GZhNeSn7578A&quot;), &quot;username&quot;: String(&quot;user-e52a4084-fbe4-4195-ba9b-59267989af7a&quot;)})})})})
[2022-05-09T10:16:10Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-09T10:16:10Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-05-09T10:16:10Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;e52a4084-fbe4-4195-ba9b-59267989af7a&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-09T10:16:10Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:16:10Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:16:10Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T10:16:10Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T10:16:10Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJXRG4zQ2wwMVNsYVpRRnRTbUpuS2JqWC1wcXdsR21xWDhSUFNWSHgxUHgwIn0.eyJleHAiOjE2NTIwOTE2NjgsImlhdCI6MTY1MjA5MTM2OCwiYXV0aF90aW1lIjoxNjUyMDkxMzY1LCJqdGkiOiIzNzY0MTk0MC1hYmU0LTQ4YTgtOGY1YS04NWRkZTJiMWQ1NWEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiM2RlYjE5ZjktYzc0Ni00YjAwLWE5MDktMmI5ODg1NWNlNGYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJTRk1NMHFCb1l5NUFnMmd4VDNwZ193Iiwic2Vzc2lvbl9zdGF0ZSI6ImRkMGNmNWMwLTJiOTctNGI5Yy1hNjEyLTMwOTM4N2YwZWFkOCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImRkMGNmNWMwLTJiOTctNGI5Yy1hNjEyLTMwOTM4N2YwZWFkOCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.D5dLuLN52OdQqaLIczpG8It3OYj00CY6ZM1nAI1uB-yvRuUFORnDYSrPkKVsSVf8WeHOuJ9u77d1LRw1AAmCot7Ge1eQoOuZUcIJZnJ2_NPo3-GDJPDd6NQNJ6-wAqoKrWjqTPdFXvyMZuqg474VVmKB-E-i8g4u-OLeQRtrh0aCUEQz9om6jeiEbiwf_AsgiAmu6sN9ZVuGaYrSJ0NGzrFSfq9mIF7WzoM45sggKj1xBxu8e5GLsrGFlv4rBlcbI-YAMANTZJ1xLEjsMqacQ5xRaQJTXjgbTqkJtCBkO9aDbU6YSuv6kWsP1DjK3BNgJ_8XwoQv3x7H5hIH-685UA\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:16:10Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T10:16:10Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-09T10:16:10Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-09T10:16:10Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;e52a4084-fbe4-4195-ba9b-59267989af7a&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-05-09T10:16:10Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:16:10Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt
[2022-05-09T10:16:10Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T10:16:10Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJXRG4zQ2wwMVNsYVpRRnRTbUpuS2JqWC1wcXdsR21xWDhSUFNWSHgxUHgwIn0.eyJleHAiOjE2NTIwOTE2NjgsImlhdCI6MTY1MjA5MTM2OCwiYXV0aF90aW1lIjoxNjUyMDkxMzY1LCJqdGkiOiIzNzY0MTk0MC1hYmU0LTQ4YTgtOGY1YS04NWRkZTJiMWQ1NWEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiM2RlYjE5ZjktYzc0Ni00YjAwLWE5MDktMmI5ODg1NWNlNGYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJTRk1NMHFCb1l5NUFnMmd4VDNwZ193Iiwic2Vzc2lvbl9zdGF0ZSI6ImRkMGNmNWMwLTJiOTctNGI5Yy1hNjEyLTMwOTM4N2YwZWFkOCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImRkMGNmNWMwLTJiOTctNGI5Yy1hNjEyLTMwOTM4N2YwZWFkOCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.D5dLuLN52OdQqaLIczpG8It3OYj00CY6ZM1nAI1uB-yvRuUFORnDYSrPkKVsSVf8WeHOuJ9u77d1LRw1AAmCot7Ge1eQoOuZUcIJZnJ2_NPo3-GDJPDd6NQNJ6-wAqoKrWjqTPdFXvyMZuqg474VVmKB-E-i8g4u-OLeQRtrh0aCUEQz9om6jeiEbiwf_AsgiAmu6sN9ZVuGaYrSJ0NGzrFSfq9mIF7WzoM45sggKj1xBxu8e5GLsrGFlv4rBlcbI-YAMANTZJ1xLEjsMqacQ5xRaQJTXjgbTqkJtCBkO9aDbU6YSuv6kWsP1DjK3BNgJ_8XwoQv3x7H5hIH-685UA\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:16:10Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 4, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt&quot;, client_id: &quot;74510781-7e94-4269-8476-3a5588226657&quot;, persistence: None, user_data: None }
[2022-05-09T10:16:10Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T10:16:10Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55efdbfe9350
[2022-05-09T10:16:10Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55efdbfe9350
[2022-05-09T10:16:10Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 1, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x55efdbf7acc0, connectTimeout: 30, retryInterval: 0, ssl: 0x55efdc1e4ab0, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 4, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 0, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55efdc381830, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJXRG4zQ2wwMVNsYVpRRnRTbUpuS2JqWC1wcXdsR21xWDhSUFNWSHgxUHgwIn0.eyJleHAiOjE2NTIwOTE2NjgsImlhdCI6MTY1MjA5MTM2OCwiYXV0aF90aW1lIjoxNjUyMDkxMzY1LCJqdGkiOiIzNzY0MTk0MC1hYmU0LTQ4YTgtOGY1YS04NWRkZTJiMWQ1NWEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiM2RlYjE5ZjktYzc0Ni00YjAwLWE5MDktMmI5ODg1NWNlNGYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJTRk1NMHFCb1l5NUFnMmd4VDNwZ193Iiwic2Vzc2lvbl9zdGF0ZSI6ImRkMGNmNWMwLTJiOTctNGI5Yy1hNjEyLTMwOTM4N2YwZWFkOCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImRkMGNmNWMwLTJiOTctNGI5Yy1hNjEyLTMwOTM4N2YwZWFkOCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.D5dLuLN52OdQqaLIczpG8It3OYj00CY6ZM1nAI1uB-yvRuUFORnDYSrPkKVsSVf8WeHOuJ9u77d1LRw1AAmCot7Ge1eQoOuZUcIJZnJ2_NPo3-GDJPDd6NQNJ6-wAqoKrWjqTPdFXvyMZuqg474VVmKB-E-i8g4u-OLeQRtrh0aCUEQz9om6jeiEbiwf_AsgiAmu6sN9ZVuGaYrSJ0NGzrFSfq9mIF7WzoM45sggKj1xBxu8e5GLsrGFlv4rBlcbI-YAMANTZJ1xLEjsMqacQ5xRaQJTXjgbTqkJtCBkO9aDbU6YSuv6kWsP1DjK3BNgJ_8XwoQv3x7H5hIH-685UA&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T10:16:10Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/e52a4084-fbe4-4195-ba9b-59267989af7a&quot;&#x27; @ QOS 0
[2022-05-09T10:16:10Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-09T10:16:10Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-09T10:16:10Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:16:10Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:16:10Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:16:10Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:16:11Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:16:11Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:16:11Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:16:11Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:16:12Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:16:12Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:16:12Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:16:12Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:16:13Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:16:13Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:16:13Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:16:13Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:16:13Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 621, payload: 0x7f0ed0015eb0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/e52a4084-fbe4-4195-ba9b-59267989af7a&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 54, 48, 100, 102, 100, 54, 98, 57, 45, 101, 99, 102, 51, 45, 52, 56, 53, 97, 45, 56, 51, 53, 55, 45, 99, 48, 57, 101, 101, 101, 48, 52, 52, 57, 97, 54, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 101, 53, 50, 97, 52, 48, 56, 52, 37, 50, 68, 102, 98, 101, 52, 37, 50, 68, 52, 49, 57, 53, 37, 50, 68, 98, 97, 57, 98, 37, 50, 68, 53, 57, 50, 54, 55, 57, 56, 57, 97, 102, 55, 97, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 119, 97, 114, 109, 117, 112, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 48, 58, 49, 54, 58, 49, 51, 46, 53, 57, 55, 52, 49, 50, 57, 48, 54, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 52, 48, 99, 102, 52, 100, 57, 55, 45, 98, 52, 56, 49, 45, 52, 48, 99, 53, 45, 98, 100, 101, 101, 45, 102, 53, 50, 50, 50, 54, 49, 57, 53, 54, 52, 54, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 53, 50, 98, 57, 49, 101, 100, 57, 45, 101, 97, 56, 56, 45, 52, 49, 99, 52, 45, 56, 48, 54, 54, 45, 51, 102, 53, 98, 99, 99, 53, 54, 57, 51, 53, 99, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 101, 53, 50, 97, 52, 48, 56, 52, 37, 50, 68, 102, 98, 101, 52, 37, 50, 68, 52, 49, 57, 53, 37, 50, 68, 98, 97, 57, 98, 37, 50, 68, 53, 57, 50, 54, 55, 57, 56, 57, 97, 102, 55, 97, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 56, 52, 52, 97, 49, 49, 54, 53, 45, 57, 55, 101, 54, 45, 52, 97, 99, 100, 45, 98, 99, 52, 100, 45, 99, 102, 49, 50, 53, 50, 98, 97, 53, 97, 56, 56, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 101, 53, 50, 97, 52, 48, 56, 52, 45, 102, 98, 101, 52, 45, 52, 49, 57, 53, 45, 98, 97, 57, 98, 45, 53, 57, 50, 54, 55, 57, 56, 57, 97, 102, 55, 97, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-09T10:16:13Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/e52a4084-fbe4-4195-ba9b-59267989af7a&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;60dfd6b9-ecf3-485a-8357-c09eee0449a6\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://e52a4084%2Dfbe4%2D4195%2Dba9b%2D59267989af7a/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;warmup\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T10:16:13.597412906Z\&quot;,\&quot;data\&quot;:{\&quot;index\&quot;:3},\&quot;deviceuid\&quot;:\&quot;40cf4d97-b481-40c5-bdee-f52226195646\&quot;,\&quot;applicationuid\&quot;:\&quot;52b91ed9-ea88-41c4-8066-3f5bcc56935c\&quot;,\&quot;partitionkey\&quot;:\&quot;e52a4084%2Dfbe4%2D4195%2Dba9b%2D59267989af7a/device1\&quot;,\&quot;senderuid\&quot;:\&quot;844a1165-97e6-4acd-bc4d-cf1252ba5a88\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;application\&quot;:\&quot;e52a4084-fbe4-4195-ba9b-59267989af7a\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;}&quot; }
[2022-05-09T10:16:14Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-09T10:16:14Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-09T10:16:14Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-09T10:16:14Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry/device1
[2022-05-09T10:16:14Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005/mqtt&quot;, client_id: &quot;5458d45f-6998-4916-bbb4-553f1f827e3d&quot;, persistence: None, user_data: None }
[2022-05-09T10:16:14Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T10:16:14Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55efdc29ecb0
[2022-05-09T10:16:14Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55efdc29ecb0
[2022-05-09T10:16:14Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x55efdbff3570, password: 0x55efdbf3baf0, connectTimeout: 30, retryInterval: 0, ssl: 0x55efdc1332e0, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55efdbf27ce0, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;gateway1@e52a4084-fbe4-4195-ba9b-59267989af7a&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T10:16:16Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55efdc0c4850 } }, data: MessageData { topic: &quot;telemetry/device1&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55efdc0c4850 } } } }
[2022-05-09T10:16:16Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-09T10:16:16Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 640, payload: 0x7f0ed002b490, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/e52a4084-fbe4-4195-ba9b-59267989af7a&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 51, 98, 56, 100, 49, 51, 56, 55, 45, 50, 55, 99, 53, 45, 52, 51, 57, 57, 45, 98, 52, 52, 49, 45, 50, 56, 51, 101, 52, 48, 101, 56, 102, 101, 101, 99, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 101, 53, 50, 97, 52, 48, 56, 52, 37, 50, 68, 102, 98, 101, 52, 37, 50, 68, 52, 49, 57, 53, 37, 50, 68, 98, 97, 57, 98, 37, 50, 68, 53, 57, 50, 54, 55, 57, 56, 57, 97, 102, 55, 97, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 48, 58, 49, 54, 58, 49, 52, 46, 57, 52, 51, 53, 57, 56, 52, 53, 48, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 56, 52, 52, 97, 49, 49, 54, 53, 45, 57, 55, 101, 54, 45, 52, 97, 99, 100, 45, 98, 99, 52, 100, 45, 99, 102, 49, 50, 53, 50, 98, 97, 53, 97, 56, 56, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 101, 53, 50, 97, 52, 48, 56, 52, 45, 102, 98, 101, 52, 45, 52, 49, 57, 53, 45, 98, 97, 57, 98, 45, 53, 57, 50, 54, 55, 57, 56, 57, 97, 102, 55, 97, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 101, 53, 50, 97, 52, 48, 56, 52, 37, 50, 68, 102, 98, 101, 52, 37, 50, 68, 52, 49, 57, 53, 37, 50, 68, 98, 97, 57, 98, 37, 50, 68, 53, 57, 50, 54, 55, 57, 56, 57, 97, 102, 55, 97, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 53, 50, 98, 57, 49, 101, 100, 57, 45, 101, 97, 56, 56, 45, 52, 49, 99, 52, 45, 56, 48, 54, 54, 45, 51, 102, 53, 98, 99, 99, 53, 54, 57, 51, 53, 99, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 56, 52, 52, 97, 49, 49, 54, 53, 45, 57, 55, 101, 54, 45, 52, 97, 99, 100, 45, 98, 99, 52, 100, 45, 99, 102, 49, 50, 53, 50, 98, 97, 53, 97, 56, 56, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-09T10:16:16Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/e52a4084-fbe4-4195-ba9b-59267989af7a&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;3b8d1387-27c5-4399-b441-283e40e8feec\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://e52a4084%2Dfbe4%2D4195%2Dba9b%2D59267989af7a/gateway1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T10:16:14.943598450Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:true},\&quot;deviceuid\&quot;:\&quot;844a1165-97e6-4acd-bc4d-cf1252ba5a88\&quot;,\&quot;application\&quot;:\&quot;e52a4084-fbe4-4195-ba9b-59267989af7a\&quot;,\&quot;partitionkey\&quot;:\&quot;e52a4084%2Dfbe4%2D4195%2Dba9b%2D59267989af7a/gateway1\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;applicationuid\&quot;:\&quot;52b91ed9-ea88-41c4-8066-3f5bcc56935c\&quot;,\&quot;device\&quot;:\&quot;gateway1\&quot;,\&quot;senderuid\&quot;:\&quot;844a1165-97e6-4acd-bc4d-cf1252ba5a88\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;}&quot; }
[2022-05-09T10:16:16Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 641, payload: 0x7f0ed0008720, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/e52a4084-fbe4-4195-ba9b-59267989af7a&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 57, 99, 102, 50, 50, 49, 52, 99, 45, 53, 98, 56, 51, 45, 52, 55, 49, 48, 45, 56, 51, 49, 101, 45, 100, 99, 57, 48, 48, 52, 97, 49, 55, 101, 98, 99, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 101, 53, 50, 97, 52, 48, 56, 52, 37, 50, 68, 102, 98, 101, 52, 37, 50, 68, 52, 49, 57, 53, 37, 50, 68, 98, 97, 57, 98, 37, 50, 68, 53, 57, 50, 54, 55, 57, 56, 57, 97, 102, 55, 97, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 48, 58, 49, 54, 58, 49, 54, 46, 48, 52, 52, 57, 48, 52, 55, 52, 48, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 102, 97, 108, 115, 101, 125, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 56, 52, 52, 97, 49, 49, 54, 53, 45, 57, 55, 101, 54, 45, 52, 97, 99, 100, 45, 98, 99, 52, 100, 45, 99, 102, 49, 50, 53, 50, 98, 97, 53, 97, 56, 56, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 101, 53, 50, 97, 52, 48, 56, 52, 37, 50, 68, 102, 98, 101, 52, 37, 50, 68, 52, 49, 57, 53, 37, 50, 68, 98, 97, 57, 98, 37, 50, 68, 53, 57, 50, 54, 55, 57, 56, 57, 97, 102, 55, 97, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 53, 50, 98, 57, 49, 101, 100, 57, 45, 101, 97, 56, 56, 45, 52, 49, 99, 52, 45, 56, 48, 54, 54, 45, 51, 102, 53, 98, 99, 99, 53, 54, 57, 51, 53, 99, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 56, 52, 52, 97, 49, 49, 54, 53, 45, 57, 55, 101, 54, 45, 52, 97, 99, 100, 45, 98, 99, 52, 100, 45, 99, 102, 49, 50, 53, 50, 98, 97, 53, 97, 56, 56, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 101, 53, 50, 97, 52, 48, 56, 52, 45, 102, 98, 101, 52, 45, 52, 49, 57, 53, 45, 98, 97, 57, 98, 45, 53, 57, 50, 54, 55, 57, 56, 57, 97, 102, 55, 97, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-09T10:16:16Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/e52a4084-fbe4-4195-ba9b-59267989af7a&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;9cf2214c-5b83-4710-831e-dc9004a17ebc\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://e52a4084%2Dfbe4%2D4195%2Dba9b%2D59267989af7a/gateway1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T10:16:16.044904740Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:false},\&quot;senderuid\&quot;:\&quot;844a1165-97e6-4acd-bc4d-cf1252ba5a88\&quot;,\&quot;partitionkey\&quot;:\&quot;e52a4084%2Dfbe4%2D4195%2Dba9b%2D59267989af7a/gateway1\&quot;,\&quot;device\&quot;:\&quot;gateway1\&quot;,\&quot;applicationuid\&quot;:\&quot;52b91ed9-ea88-41c4-8066-3f5bcc56935c\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;deviceuid\&quot;:\&quot;844a1165-97e6-4acd-bc4d-cf1252ba5a88\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;application\&quot;:\&quot;e52a4084-fbe4-4195-ba9b-59267989af7a\&quot;}&quot; }
[2022-05-09T10:16:16Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 630, payload: 0x7f0ed000aa70, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/e52a4084-fbe4-4195-ba9b-59267989af7a&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 98, 102, 97, 99, 50, 98, 57, 50, 45, 49, 99, 102, 98, 45, 52, 55, 52, 54, 45, 97, 49, 99, 100, 45, 99, 99, 57, 57, 56, 52, 57, 97, 52, 98, 98, 50, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 101, 53, 50, 97, 52, 48, 56, 52, 37, 50, 68, 102, 98, 101, 52, 37, 50, 68, 52, 49, 57, 53, 37, 50, 68, 98, 97, 57, 98, 37, 50, 68, 53, 57, 50, 54, 55, 57, 56, 57, 97, 102, 55, 97, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 111, 99, 116, 101, 116, 45, 115, 116, 114, 101, 97, 109, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 116, 101, 108, 101, 109, 101, 116, 114, 121, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 48, 58, 49, 54, 58, 49, 54, 46, 48, 52, 51, 55, 54, 54, 51, 52, 51, 90, 34, 44, 34, 100, 97, 116, 97, 95, 98, 97, 115, 101, 54, 52, 34, 58, 34, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 56, 52, 52, 97, 49, 49, 54, 53, 45, 57, 55, 101, 54, 45, 52, 97, 99, 100, 45, 98, 99, 52, 100, 45, 99, 102, 49, 50, 53, 50, 98, 97, 53, 97, 56, 56, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 53, 50, 98, 57, 49, 101, 100, 57, 45, 101, 97, 56, 56, 45, 52, 49, 99, 52, 45, 56, 48, 54, 54, 45, 51, 102, 53, 98, 99, 99, 53, 54, 57, 51, 53, 99, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 101, 53, 50, 97, 52, 48, 56, 52, 45, 102, 98, 101, 52, 45, 52, 49, 57, 53, 45, 98, 97, 57, 98, 45, 53, 57, 50, 54, 55, 57, 56, 57, 97, 102, 55, 97, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 101, 53, 50, 97, 52, 48, 56, 52, 37, 50, 68, 102, 98, 101, 52, 37, 50, 68, 52, 49, 57, 53, 37, 50, 68, 98, 97, 57, 98, 37, 50, 68, 53, 57, 50, 54, 55, 57, 56, 57, 97, 102, 55, 97, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 52, 48, 99, 102, 52, 100, 57, 55, 45, 98, 52, 56, 49, 45, 52, 48, 99, 53, 45, 98, 100, 101, 101, 45, 102, 53, 50, 50, 50, 54, 49, 57, 53, 54, 52, 54, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-09T10:16:16Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/e52a4084-fbe4-4195-ba9b-59267989af7a&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;bfac2b92-1cfb-4746-a1cd-cc99849a4bb2\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://e52a4084%2Dfbe4%2D4195%2Dba9b%2D59267989af7a/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/octet-stream\&quot;,\&quot;subject\&quot;:\&quot;telemetry\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T10:16:16.043766343Z\&quot;,\&quot;data_base64\&quot;:\&quot;\&quot;,\&quot;senderuid\&quot;:\&quot;844a1165-97e6-4acd-bc4d-cf1252ba5a88\&quot;,\&quot;applicationuid\&quot;:\&quot;52b91ed9-ea88-41c4-8066-3f5bcc56935c\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;application\&quot;:\&quot;e52a4084-fbe4-4195-ba9b-59267989af7a\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;partitionkey\&quot;:\&quot;e52a4084%2Dfbe4%2D4195%2Dba9b%2D59267989af7a/device1\&quot;,\&quot;deviceuid\&quot;:\&quot;40cf4d97-b481-40c5-bdee-f52226195646\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;}&quot; }
[2022-05-09T10:16:16Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-09T10:16:16Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-09T10:16:16Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-09T10:16:16Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;e52a4084-fbe4-4195-ba9b-59267989af7a&quot;, device: &quot;gateway1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`,
 right: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;e52a4084-fbe4-4195-ba9b-59267989af7a&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`: Position #0&#x27;, src/tools/assert.rs:35:39
[2022-05-09T10:16:16Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-09T10:16:16Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;e52a4084-fbe4-4195-ba9b-59267989af7a&quot; &quot;device1&quot;
[2022-05-09T10:16:16Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:16:16Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-05-09T10:16:16Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;e52a4084-fbe4-4195-ba9b-59267989af7a&quot; &quot;gateway1&quot;
[2022-05-09T10:16:16Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:16:16Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;e52a4084-fbe4-4195-ba9b-59267989af7a&#x27;
[2022-05-09T10:16:16Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;e52a4084-fbe4-4195-ba9b-59267989af7a&quot;
[2022-05-09T10:16:16Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App e52a4084-fbe4-4195-ba9b-59267989af7a deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_2::integration_version_2::integration_ws_1

**Duration**: 15s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-09T10:16:18Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-09T10:16:18Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T10:16:18Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T10:16:18Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T10:16:18Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T10:16:20Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-09T10:16:21Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-09T10:16:21Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T10:16:21Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T10:16:21Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T10:16:23Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI0NDVmMTM5Zi0wNjNjLTRhZDgtODkwYi1mNTg1OTQ0NjFiZDAifQ.eyJleHAiOjE2NTIwOTMxODMsImlhdCI6MTY1MjA5MTM4MywianRpIjoiODBmMGUyMWItMmIzMi00YWViLWJjYTQtMGFkZDRmMzNjZTA3IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjNkZWIxOWY5LWM3NDYtNGIwMC1hOTA5LTJiOTg4NTVjZTRmMyIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Ii11RGRYbjVMdHNteDhaS2syaG96TGciLCJzZXNzaW9uX3N0YXRlIjoiNzY2OGZiYjgtMDYxNi00NGQyLTkzNDItOWRlOGUwYTA4ZGM2Iiwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6Ijc2NjhmYmI4LTA2MTYtNDRkMi05MzQyLTlkZThlMGEwOGRjNiJ9.s_PnX6Q1WbsGuWJF1fvxmiRvWwSqmwAsPffIRQQuVUg
[2022-05-09T10:16:23Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-09T10:16:23Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-09T10:16:23Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI0NDVmMTM5Zi0wNjNjLTRhZDgtODkwYi1mNTg1OTQ0NjFiZDAifQ.eyJleHAiOjE2NTIwOTMxODMsImlhdCI6MTY1MjA5MTM4MywianRpIjoiODBmMGUyMWItMmIzMi00YWViLWJjYTQtMGFkZDRmMzNjZTA3IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjNkZWIxOWY5LWM3NDYtNGIwMC1hOTA5LTJiOTg4NTVjZTRmMyIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Ii11RGRYbjVMdHNteDhaS2syaG96TGciLCJzZXNzaW9uX3N0YXRlIjoiNzY2OGZiYjgtMDYxNi00NGQyLTkzNDItOWRlOGUwYTA4ZGM2Iiwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6Ijc2NjhmYmI4LTA2MTYtNDRkMi05MzQyLTlkZThlMGEwOGRjNiJ9.s_PnX6Q1WbsGuWJF1fvxmiRvWwSqmwAsPffIRQQuVUg&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-09T10:16:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:16:24Z INFO  drogue_cloud_tests::resources::apps] Create application: d2dcbf0f-461b-4a69-add0-f19b6548fdc7
[2022-05-09T10:16:24Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;d2dcbf0f-461b-4a69-add0-f19b6548fdc7&quot;
[2022-05-09T10:16:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App d2dcbf0f-461b-4a69-add0-f19b6548fdc7 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:16:24Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;d2dcbf0f-461b-4a69-add0-f19b6548fdc7&quot;
[2022-05-09T10:16:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T10:16:24.686936Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 2,\n    \&quot;name\&quot;: \&quot;d2dcbf0f-461b-4a69-add0-f19b6548fdc7\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;797c70b6-c8e1-4b9d-b34a-1e0aad0a5e2d\&quot;,\n    \&quot;uid\&quot;: \&quot;ec6cdc91-d70d-4dcc-841d-3c72289aa1e5\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:16:24.707712278Z\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:16:24.707692681Z\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: HasFinalizer\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:16:24.707663647Z\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:16:24.707664569Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:16:24.707665050Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:16:24.707665751Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:16:24.707666292Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:16:24.707670911Z\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 1\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:16:24Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T10:16:24.686936Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(2), &quot;name&quot;: String(&quot;d2dcbf0f-461b-4a69-add0-f19b6548fdc7&quot;), &quot;resourceVersion&quot;: String(&quot;797c70b6-c8e1-4b9d-b34a-1e0aad0a5e2d&quot;), &quot;uid&quot;: String(&quot;ec6cdc91-d70d-4dcc-841d-3c72289aa1e5&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:16:24.707712278Z&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:16:24.707692681Z&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: HasFinalizer&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:16:24.707663647Z&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:16:24.707664569Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:16:24.707665050Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:16:24.707665751Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:16:24.707666292Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:16:24.707670911Z&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(1)})})})
[2022-05-09T10:16:24Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-09T10:16:25Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;d2dcbf0f-461b-4a69-add0-f19b6548fdc7&quot;
[2022-05-09T10:16:25Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T10:16:24.686936Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;d2dcbf0f-461b-4a69-add0-f19b6548fdc7\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;2084532c-bf2e-4790-aef6-cdf842708cbb\&quot;,\n    \&quot;uid\&quot;: \&quot;ec6cdc91-d70d-4dcc-841d-3c72289aa1e5\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:16:25.019027345Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:16:25.018856296Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:16:24.726279199Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:16:24.736366116Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:16:24.791363934Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:16:24.800092842Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:16:25.018759494Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:16:25.018824516Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;XzONiGagIl74\&quot;,\n        \&quot;username\&quot;: \&quot;user-d2dcbf0f-461b-4a69-add0-f19b6548fdc7\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:16:25Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T10:16:24.686936Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;d2dcbf0f-461b-4a69-add0-f19b6548fdc7&quot;), &quot;resourceVersion&quot;: String(&quot;2084532c-bf2e-4790-aef6-cdf842708cbb&quot;), &quot;uid&quot;: String(&quot;ec6cdc91-d70d-4dcc-841d-3c72289aa1e5&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:16:25.019027345Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:16:25.018856296Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:16:24.726279199Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:16:24.736366116Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:16:24.791363934Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:16:24.800092842Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:16:25.018759494Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:16:25.018824516Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;XzONiGagIl74&quot;), &quot;username&quot;: String(&quot;user-d2dcbf0f-461b-4a69-add0-f19b6548fdc7&quot;)})})})})
[2022-05-09T10:16:25Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-09T10:16:25Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;d2dcbf0f-461b-4a69-add0-f19b6548fdc7&quot;
[2022-05-09T10:16:25Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T10:16:24.686936Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;d2dcbf0f-461b-4a69-add0-f19b6548fdc7\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;2084532c-bf2e-4790-aef6-cdf842708cbb\&quot;,\n    \&quot;uid\&quot;: \&quot;ec6cdc91-d70d-4dcc-841d-3c72289aa1e5\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:16:25.019027345Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:16:25.018856296Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:16:24.726279199Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:16:24.736366116Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:16:24.791363934Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:16:24.800092842Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:16:25.018759494Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:16:25.018824516Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;XzONiGagIl74\&quot;,\n        \&quot;username\&quot;: \&quot;user-d2dcbf0f-461b-4a69-add0-f19b6548fdc7\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:16:25Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T10:16:24.686936Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;d2dcbf0f-461b-4a69-add0-f19b6548fdc7&quot;), &quot;resourceVersion&quot;: String(&quot;2084532c-bf2e-4790-aef6-cdf842708cbb&quot;), &quot;uid&quot;: String(&quot;ec6cdc91-d70d-4dcc-841d-3c72289aa1e5&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:16:25.019027345Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:16:25.018856296Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:16:24.726279199Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:16:24.736366116Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:16:24.791363934Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:16:24.800092842Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:16:25.018759494Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:16:25.018824516Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;XzONiGagIl74&quot;), &quot;username&quot;: String(&quot;user-d2dcbf0f-461b-4a69-add0-f19b6548fdc7&quot;)})})})})
[2022-05-09T10:16:25Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-09T10:16:25Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-05-09T10:16:25Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;d2dcbf0f-461b-4a69-add0-f19b6548fdc7&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-09T10:16:25Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:16:25Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:16:25Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T10:16:25Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T10:16:25Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJXRG4zQ2wwMVNsYVpRRnRTbUpuS2JqWC1wcXdsR21xWDhSUFNWSHgxUHgwIn0.eyJleHAiOjE2NTIwOTE2ODQsImlhdCI6MTY1MjA5MTM4NCwiYXV0aF90aW1lIjoxNjUyMDkxMzgwLCJqdGkiOiI5MDFiODRkNC1mNTVmLTRkNDQtYmRjZC1jZDNjMTY3Mzc1Y2UiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiM2RlYjE5ZjktYzc0Ni00YjAwLWE5MDktMmI5ODg1NWNlNGYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiItdURkWG41THRzbXg4WktrMmhvekxnIiwic2Vzc2lvbl9zdGF0ZSI6Ijc2NjhmYmI4LTA2MTYtNDRkMi05MzQyLTlkZThlMGEwOGRjNiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6Ijc2NjhmYmI4LTA2MTYtNDRkMi05MzQyLTlkZThlMGEwOGRjNiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.XN-hWpsnCRelVPpGP5dXGg6zO7dhkHlpU6xhDR4f-lSh0G_e_6R-Qvt4lTGPrKHZCtQrE5W0PHeH13WuWmTETkKAHnMUcnnheFqSNyQJcAUHy87EfUggJ4qJSWeHX_v8CuqAiT6a7-sixIyfJOEdJea5SQQUV_tjirE8K4gbdEgMiHBGU6H5YYx0r6tPka1_ywCCG7LX-0CHuCmV8HB6L6ziHaFhfWlcldQhHv9M8IKy2WlDuwffYY3875STWLnpjtZpa-AuRpsqGUtUUQmUJzYv06nNy41ZgnIMqQUOT4FLDNTenC9pVEOIiI2t-Uj8sjfK3d03zQprIPn6xZ0OKw\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:16:25Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T10:16:25Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-09T10:16:25Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-09T10:16:25Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;d2dcbf0f-461b-4a69-add0-f19b6548fdc7&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-05-09T10:16:25Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:16:25Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: ssl://mqtt-integration.172.18.0.2.nip.io:30002
[2022-05-09T10:16:25Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T10:16:25Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJXRG4zQ2wwMVNsYVpRRnRTbUpuS2JqWC1wcXdsR21xWDhSUFNWSHgxUHgwIn0.eyJleHAiOjE2NTIwOTE2ODQsImlhdCI6MTY1MjA5MTM4NCwiYXV0aF90aW1lIjoxNjUyMDkxMzgwLCJqdGkiOiI5MDFiODRkNC1mNTVmLTRkNDQtYmRjZC1jZDNjMTY3Mzc1Y2UiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiM2RlYjE5ZjktYzc0Ni00YjAwLWE5MDktMmI5ODg1NWNlNGYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiItdURkWG41THRzbXg4WktrMmhvekxnIiwic2Vzc2lvbl9zdGF0ZSI6Ijc2NjhmYmI4LTA2MTYtNDRkMi05MzQyLTlkZThlMGEwOGRjNiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6Ijc2NjhmYmI4LTA2MTYtNDRkMi05MzQyLTlkZThlMGEwOGRjNiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.XN-hWpsnCRelVPpGP5dXGg6zO7dhkHlpU6xhDR4f-lSh0G_e_6R-Qvt4lTGPrKHZCtQrE5W0PHeH13WuWmTETkKAHnMUcnnheFqSNyQJcAUHy87EfUggJ4qJSWeHX_v8CuqAiT6a7-sixIyfJOEdJea5SQQUV_tjirE8K4gbdEgMiHBGU6H5YYx0r6tPka1_ywCCG7LX-0CHuCmV8HB6L6ziHaFhfWlcldQhHv9M8IKy2WlDuwffYY3875STWLnpjtZpa-AuRpsqGUtUUQmUJzYv06nNy41ZgnIMqQUOT4FLDNTenC9pVEOIiI2t-Uj8sjfK3d03zQprIPn6xZ0OKw\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:16:25Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-integration.172.18.0.2.nip.io:30002&quot;, client_id: &quot;15be7075-fa0d-476a-8486-ebf1431ebfad&quot;, persistence: None, user_data: None }
[2022-05-09T10:16:25Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T10:16:25Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55efdc0c67b0
[2022-05-09T10:16:25Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55efdc0c67b0
[2022-05-09T10:16:25Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x55efdbf081f0, connectTimeout: 30, retryInterval: 0, ssl: 0x55efdbeca180, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55efdc0c5d70, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJXRG4zQ2wwMVNsYVpRRnRTbUpuS2JqWC1wcXdsR21xWDhSUFNWSHgxUHgwIn0.eyJleHAiOjE2NTIwOTE2ODQsImlhdCI6MTY1MjA5MTM4NCwiYXV0aF90aW1lIjoxNjUyMDkxMzgwLCJqdGkiOiI5MDFiODRkNC1mNTVmLTRkNDQtYmRjZC1jZDNjMTY3Mzc1Y2UiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiM2RlYjE5ZjktYzc0Ni00YjAwLWE5MDktMmI5ODg1NWNlNGYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiItdURkWG41THRzbXg4WktrMmhvekxnIiwic2Vzc2lvbl9zdGF0ZSI6Ijc2NjhmYmI4LTA2MTYtNDRkMi05MzQyLTlkZThlMGEwOGRjNiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6Ijc2NjhmYmI4LTA2MTYtNDRkMi05MzQyLTlkZThlMGEwOGRjNiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.XN-hWpsnCRelVPpGP5dXGg6zO7dhkHlpU6xhDR4f-lSh0G_e_6R-Qvt4lTGPrKHZCtQrE5W0PHeH13WuWmTETkKAHnMUcnnheFqSNyQJcAUHy87EfUggJ4qJSWeHX_v8CuqAiT6a7-sixIyfJOEdJea5SQQUV_tjirE8K4gbdEgMiHBGU6H5YYx0r6tPka1_ywCCG7LX-0CHuCmV8HB6L6ziHaFhfWlcldQhHv9M8IKy2WlDuwffYY3875STWLnpjtZpa-AuRpsqGUtUUQmUJzYv06nNy41ZgnIMqQUOT4FLDNTenC9pVEOIiI2t-Uj8sjfK3d03zQprIPn6xZ0OKw&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T10:16:25Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/d2dcbf0f-461b-4a69-add0-f19b6548fdc7&quot;&#x27; @ QOS 0
[2022-05-09T10:16:25Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-09T10:16:25Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-09T10:16:25Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:16:25Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:16:25Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:16:26Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:16:27Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:16:27Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:16:27Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:16:27Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:16:28Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:16:28Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:16:28Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:16:28Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:16:29Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:16:29Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:16:29Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:16:29Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:16:29Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 621, payload: 0x7f0ed0009d70, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f0ed0001980 } }, data: MessageData { topic: &quot;app/d2dcbf0f-461b-4a69-add0-f19b6548fdc7&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 49, 57, 56, 56, 98, 99, 98, 48, 45, 57, 50, 52, 100, 45, 52, 102, 99, 54, 45, 97, 53, 57, 48, 45, 51, 51, 55, 101, 53, 97, 50, 50, 97, 55, 99, 100, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 100, 50, 100, 99, 98, 102, 48, 102, 37, 50, 68, 52, 54, 49, 98, 37, 50, 68, 52, 97, 54, 57, 37, 50, 68, 97, 100, 100, 48, 37, 50, 68, 102, 49, 57, 98, 54, 53, 52, 56, 102, 100, 99, 55, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 119, 97, 114, 109, 117, 112, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 48, 58, 49, 54, 58, 50, 57, 46, 54, 50, 51, 57, 54, 48, 51, 53, 49, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 100, 50, 100, 99, 98, 102, 48, 102, 37, 50, 68, 52, 54, 49, 98, 37, 50, 68, 52, 97, 54, 57, 37, 50, 68, 97, 100, 100, 48, 37, 50, 68, 102, 49, 57, 98, 54, 53, 52, 56, 102, 100, 99, 55, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 100, 50, 100, 99, 98, 102, 48, 102, 45, 52, 54, 49, 98, 45, 52, 97, 54, 57, 45, 97, 100, 100, 48, 45, 102, 49, 57, 98, 54, 53, 52, 56, 102, 100, 99, 55, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 54, 57, 55, 98, 52, 54, 102, 100, 45, 57, 48, 57, 100, 45, 52, 101, 100, 55, 45, 56, 54, 98, 101, 45, 51, 102, 49, 100, 98, 49, 50, 98, 54, 54, 98, 51, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 101, 99, 54, 99, 100, 99, 57, 49, 45, 100, 55, 48, 100, 45, 52, 100, 99, 99, 45, 56, 52, 49, 100, 45, 51, 99, 55, 50, 50, 56, 57, 97, 97, 49, 101, 53, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 102, 56, 100, 48, 51, 99, 101, 99, 45, 102, 49, 97, 50, 45, 52, 98, 55, 102, 45, 56, 99, 99, 98, 45, 56, 51, 52, 52, 48, 55, 55, 48, 49, 48, 50, 56, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f0ed0001980 } } } }
[2022-05-09T10:16:29Z DEBUG paho_mqtt::properties] Dropping string property: 0x55efdbf8a8f0
[2022-05-09T10:16:29Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/d2dcbf0f-461b-4a69-add0-f19b6548fdc7&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;1988bcb0-924d-4fc6-a590-337e5a22a7cd\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://d2dcbf0f%2D461b%2D4a69%2Dadd0%2Df19b6548fdc7/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;warmup\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T10:16:29.623960351Z\&quot;,\&quot;data\&quot;:{\&quot;index\&quot;:3},\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;partitionkey\&quot;:\&quot;d2dcbf0f%2D461b%2D4a69%2Dadd0%2Df19b6548fdc7/device1\&quot;,\&quot;application\&quot;:\&quot;d2dcbf0f-461b-4a69-add0-f19b6548fdc7\&quot;,\&quot;senderuid\&quot;:\&quot;697b46fd-909d-4ed7-86be-3f1db12b66b3\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;applicationuid\&quot;:\&quot;ec6cdc91-d70d-4dcc-841d-3c72289aa1e5\&quot;,\&quot;deviceuid\&quot;:\&quot;f8d03cec-f1a2-4b7f-8ccb-834407701028\&quot;}&quot; }
[2022-05-09T10:16:30Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-09T10:16:30Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-09T10:16:30Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-09T10:16:30Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry/device1
[2022-05-09T10:16:30Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005/mqtt&quot;, client_id: &quot;7469891b-4d16-4ab1-b458-0ffad5399296&quot;, persistence: None, user_data: None }
[2022-05-09T10:16:30Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T10:16:30Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55efdc2203b0
[2022-05-09T10:16:30Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55efdc2203b0
[2022-05-09T10:16:30Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x55efdc0d1a60, password: 0x55efdbf5bf70, connectTimeout: 30, retryInterval: 0, ssl: 0x55efdbdfd9a0, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55efdbfcee20, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;gateway1@d2dcbf0f-461b-4a69-add0-f19b6548fdc7&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T10:16:30Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 640, payload: 0x7f0ed002b960, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f0ed0014ff0 } }, data: MessageData { topic: &quot;app/d2dcbf0f-461b-4a69-add0-f19b6548fdc7&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 97, 55, 51, 100, 51, 56, 48, 51, 45, 97, 50, 51, 97, 45, 52, 57, 51, 53, 45, 57, 98, 99, 52, 45, 53, 54, 97, 49, 97, 57, 53, 99, 53, 98, 97, 100, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 100, 50, 100, 99, 98, 102, 48, 102, 37, 50, 68, 52, 54, 49, 98, 37, 50, 68, 52, 97, 54, 57, 37, 50, 68, 97, 100, 100, 48, 37, 50, 68, 102, 49, 57, 98, 54, 53, 52, 56, 102, 100, 99, 55, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 48, 58, 49, 54, 58, 51, 48, 46, 55, 52, 51, 48, 52, 49, 51, 49, 57, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 101, 99, 54, 99, 100, 99, 57, 49, 45, 100, 55, 48, 100, 45, 52, 100, 99, 99, 45, 56, 52, 49, 100, 45, 51, 99, 55, 50, 50, 56, 57, 97, 97, 49, 101, 53, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 100, 50, 100, 99, 98, 102, 48, 102, 37, 50, 68, 52, 54, 49, 98, 37, 50, 68, 52, 97, 54, 57, 37, 50, 68, 97, 100, 100, 48, 37, 50, 68, 102, 49, 57, 98, 54, 53, 52, 56, 102, 100, 99, 55, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 100, 50, 100, 99, 98, 102, 48, 102, 45, 52, 54, 49, 98, 45, 52, 97, 54, 57, 45, 97, 100, 100, 48, 45, 102, 49, 57, 98, 54, 53, 52, 56, 102, 100, 99, 55, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 54, 57, 55, 98, 52, 54, 102, 100, 45, 57, 48, 57, 100, 45, 52, 101, 100, 55, 45, 56, 54, 98, 101, 45, 51, 102, 49, 100, 98, 49, 50, 98, 54, 54, 98, 51, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 54, 57, 55, 98, 52, 54, 102, 100, 45, 57, 48, 57, 100, 45, 52, 101, 100, 55, 45, 56, 54, 98, 101, 45, 51, 102, 49, 100, 98, 49, 50, 98, 54, 54, 98, 51, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f0ed0014ff0 } } } }
[2022-05-09T10:16:30Z DEBUG paho_mqtt::properties] Dropping string property: 0x55efdbf8a8f0
[2022-05-09T10:16:30Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/d2dcbf0f-461b-4a69-add0-f19b6548fdc7&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;a73d3803-a23a-4935-9bc4-56a1a95c5bad\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://d2dcbf0f%2D461b%2D4a69%2Dadd0%2Df19b6548fdc7/gateway1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T10:16:30.743041319Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:true},\&quot;applicationuid\&quot;:\&quot;ec6cdc91-d70d-4dcc-841d-3c72289aa1e5\&quot;,\&quot;partitionkey\&quot;:\&quot;d2dcbf0f%2D461b%2D4a69%2Dadd0%2Df19b6548fdc7/gateway1\&quot;,\&quot;application\&quot;:\&quot;d2dcbf0f-461b-4a69-add0-f19b6548fdc7\&quot;,\&quot;deviceuid\&quot;:\&quot;697b46fd-909d-4ed7-86be-3f1db12b66b3\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;device\&quot;:\&quot;gateway1\&quot;,\&quot;senderuid\&quot;:\&quot;697b46fd-909d-4ed7-86be-3f1db12b66b3\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;}&quot; }
[2022-05-09T10:16:31Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55efdbdfe3c0 } }, data: MessageData { topic: &quot;telemetry/device1&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55efdbdfe3c0 } } } }
[2022-05-09T10:16:31Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-09T10:16:31Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 641, payload: 0x7f0ed0013350, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f0ed0002150 } }, data: MessageData { topic: &quot;app/d2dcbf0f-461b-4a69-add0-f19b6548fdc7&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 50, 49, 49, 54, 97, 99, 99, 102, 45, 101, 100, 97, 48, 45, 52, 53, 102, 99, 45, 56, 49, 55, 55, 45, 50, 56, 98, 101, 55, 55, 55, 100, 48, 97, 98, 56, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 100, 50, 100, 99, 98, 102, 48, 102, 37, 50, 68, 52, 54, 49, 98, 37, 50, 68, 52, 97, 54, 57, 37, 50, 68, 97, 100, 100, 48, 37, 50, 68, 102, 49, 57, 98, 54, 53, 52, 56, 102, 100, 99, 55, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 48, 58, 49, 54, 58, 51, 49, 46, 48, 48, 53, 52, 54, 57, 50, 57, 52, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 102, 97, 108, 115, 101, 125, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 100, 50, 100, 99, 98, 102, 48, 102, 45, 52, 54, 49, 98, 45, 52, 97, 54, 57, 45, 97, 100, 100, 48, 45, 102, 49, 57, 98, 54, 53, 52, 56, 102, 100, 99, 55, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 100, 50, 100, 99, 98, 102, 48, 102, 37, 50, 68, 52, 54, 49, 98, 37, 50, 68, 52, 97, 54, 57, 37, 50, 68, 97, 100, 100, 48, 37, 50, 68, 102, 49, 57, 98, 54, 53, 52, 56, 102, 100, 99, 55, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 54, 57, 55, 98, 52, 54, 102, 100, 45, 57, 48, 57, 100, 45, 52, 101, 100, 55, 45, 56, 54, 98, 101, 45, 51, 102, 49, 100, 98, 49, 50, 98, 54, 54, 98, 51, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 101, 99, 54, 99, 100, 99, 57, 49, 45, 100, 55, 48, 100, 45, 52, 100, 99, 99, 45, 56, 52, 49, 100, 45, 51, 99, 55, 50, 50, 56, 57, 97, 97, 49, 101, 53, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 54, 57, 55, 98, 52, 54, 102, 100, 45, 57, 48, 57, 100, 45, 52, 101, 100, 55, 45, 56, 54, 98, 101, 45, 51, 102, 49, 100, 98, 49, 50, 98, 54, 54, 98, 51, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f0ed0002150 } } } }
[2022-05-09T10:16:31Z DEBUG paho_mqtt::properties] Dropping string property: 0x55efdc2afa30
[2022-05-09T10:16:31Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/d2dcbf0f-461b-4a69-add0-f19b6548fdc7&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;2116accf-eda0-45fc-8177-28be777d0ab8\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://d2dcbf0f%2D461b%2D4a69%2Dadd0%2Df19b6548fdc7/gateway1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T10:16:31.005469294Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:false},\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;application\&quot;:\&quot;d2dcbf0f-461b-4a69-add0-f19b6548fdc7\&quot;,\&quot;partitionkey\&quot;:\&quot;d2dcbf0f%2D461b%2D4a69%2Dadd0%2Df19b6548fdc7/gateway1\&quot;,\&quot;device\&quot;:\&quot;gateway1\&quot;,\&quot;senderuid\&quot;:\&quot;697b46fd-909d-4ed7-86be-3f1db12b66b3\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;applicationuid\&quot;:\&quot;ec6cdc91-d70d-4dcc-841d-3c72289aa1e5\&quot;,\&quot;deviceuid\&quot;:\&quot;697b46fd-909d-4ed7-86be-3f1db12b66b3\&quot;}&quot; }
[2022-05-09T10:16:31Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 630, payload: 0x7f0ed00153e0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f0ed0015660 } }, data: MessageData { topic: &quot;app/d2dcbf0f-461b-4a69-add0-f19b6548fdc7&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 48, 97, 48, 49, 56, 48, 54, 101, 45, 52, 48, 98, 49, 45, 52, 102, 98, 100, 45, 98, 49, 55, 48, 45, 51, 56, 100, 54, 48, 55, 57, 101, 54, 51, 53, 55, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 100, 50, 100, 99, 98, 102, 48, 102, 37, 50, 68, 52, 54, 49, 98, 37, 50, 68, 52, 97, 54, 57, 37, 50, 68, 97, 100, 100, 48, 37, 50, 68, 102, 49, 57, 98, 54, 53, 52, 56, 102, 100, 99, 55, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 111, 99, 116, 101, 116, 45, 115, 116, 114, 101, 97, 109, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 116, 101, 108, 101, 109, 101, 116, 114, 121, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 48, 58, 49, 54, 58, 51, 49, 46, 48, 48, 52, 52, 51, 53, 54, 53, 50, 90, 34, 44, 34, 100, 97, 116, 97, 95, 98, 97, 115, 101, 54, 52, 34, 58, 34, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 100, 50, 100, 99, 98, 102, 48, 102, 37, 50, 68, 52, 54, 49, 98, 37, 50, 68, 52, 97, 54, 57, 37, 50, 68, 97, 100, 100, 48, 37, 50, 68, 102, 49, 57, 98, 54, 53, 52, 56, 102, 100, 99, 55, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 101, 99, 54, 99, 100, 99, 57, 49, 45, 100, 55, 48, 100, 45, 52, 100, 99, 99, 45, 56, 52, 49, 100, 45, 51, 99, 55, 50, 50, 56, 57, 97, 97, 49, 101, 53, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 100, 50, 100, 99, 98, 102, 48, 102, 45, 52, 54, 49, 98, 45, 52, 97, 54, 57, 45, 97, 100, 100, 48, 45, 102, 49, 57, 98, 54, 53, 52, 56, 102, 100, 99, 55, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 54, 57, 55, 98, 52, 54, 102, 100, 45, 57, 48, 57, 100, 45, 52, 101, 100, 55, 45, 56, 54, 98, 101, 45, 51, 102, 49, 100, 98, 49, 50, 98, 54, 54, 98, 51, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 102, 56, 100, 48, 51, 99, 101, 99, 45, 102, 49, 97, 50, 45, 52, 98, 55, 102, 45, 56, 99, 99, 98, 45, 56, 51, 52, 52, 48, 55, 55, 48, 49, 48, 50, 56, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f0ed0015660 } } } }
[2022-05-09T10:16:31Z DEBUG paho_mqtt::properties] Dropping string property: 0x55efdc2afa30
[2022-05-09T10:16:31Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/d2dcbf0f-461b-4a69-add0-f19b6548fdc7&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;0a01806e-40b1-4fbd-b170-38d6079e6357\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://d2dcbf0f%2D461b%2D4a69%2Dadd0%2Df19b6548fdc7/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/octet-stream\&quot;,\&quot;subject\&quot;:\&quot;telemetry\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T10:16:31.004435652Z\&quot;,\&quot;data_base64\&quot;:\&quot;\&quot;,\&quot;partitionkey\&quot;:\&quot;d2dcbf0f%2D461b%2D4a69%2Dadd0%2Df19b6548fdc7/device1\&quot;,\&quot;applicationuid\&quot;:\&quot;ec6cdc91-d70d-4dcc-841d-3c72289aa1e5\&quot;,\&quot;application\&quot;:\&quot;d2dcbf0f-461b-4a69-add0-f19b6548fdc7\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;senderuid\&quot;:\&quot;697b46fd-909d-4ed7-86be-3f1db12b66b3\&quot;,\&quot;deviceuid\&quot;:\&quot;f8d03cec-f1a2-4b7f-8ccb-834407701028\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;}&quot; }
[2022-05-09T10:16:32Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-09T10:16:32Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-09T10:16:32Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-09T10:16:32Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;d2dcbf0f-461b-4a69-add0-f19b6548fdc7&quot;, device: &quot;gateway1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`,
 right: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;d2dcbf0f-461b-4a69-add0-f19b6548fdc7&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`: Position #0&#x27;, src/tools/assert.rs:35:39
[2022-05-09T10:16:32Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-09T10:16:32Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;d2dcbf0f-461b-4a69-add0-f19b6548fdc7&quot; &quot;device1&quot;
[2022-05-09T10:16:32Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:16:32Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-05-09T10:16:32Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;d2dcbf0f-461b-4a69-add0-f19b6548fdc7&quot; &quot;gateway1&quot;
[2022-05-09T10:16:32Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:16:32Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;d2dcbf0f-461b-4a69-add0-f19b6548fdc7&#x27;
[2022-05-09T10:16:32Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;d2dcbf0f-461b-4a69-add0-f19b6548fdc7&quot;
[2022-05-09T10:16:32Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App d2dcbf0f-461b-4a69-add0-f19b6548fdc7 deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_2::integration_version_2::integration_ws_2

**Duration**: 14s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-09T10:16:34Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-09T10:16:34Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T10:16:34Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T10:16:34Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T10:16:34Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T10:16:35Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-09T10:16:36Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-09T10:16:36Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T10:16:36Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T10:16:36Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T10:16:38Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI0NDVmMTM5Zi0wNjNjLTRhZDgtODkwYi1mNTg1OTQ0NjFiZDAifQ.eyJleHAiOjE2NTIwOTMxOTgsImlhdCI6MTY1MjA5MTM5OCwianRpIjoiN2Q3MWE5NDgtZWJlMi00MjU3LTlhMzQtOGUzZDkzNDVlZDhlIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjNkZWIxOWY5LWM3NDYtNGIwMC1hOTA5LTJiOTg4NTVjZTRmMyIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Imc0anZWcFdaQU1wWW1kV01uLWxkVVEiLCJzZXNzaW9uX3N0YXRlIjoiNDljYTA0MjctYjQ5My00YzhkLWFmY2ItY2MyOWE3Nzk4MzJiIiwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjQ5Y2EwNDI3LWI0OTMtNGM4ZC1hZmNiLWNjMjlhNzc5ODMyYiJ9.CDC-Jq7UT4KMlxyjDAKIOqC9OAsRWhNJQKVMObFb5cI
[2022-05-09T10:16:38Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-09T10:16:38Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-09T10:16:38Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI0NDVmMTM5Zi0wNjNjLTRhZDgtODkwYi1mNTg1OTQ0NjFiZDAifQ.eyJleHAiOjE2NTIwOTMxOTgsImlhdCI6MTY1MjA5MTM5OCwianRpIjoiN2Q3MWE5NDgtZWJlMi00MjU3LTlhMzQtOGUzZDkzNDVlZDhlIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjNkZWIxOWY5LWM3NDYtNGIwMC1hOTA5LTJiOTg4NTVjZTRmMyIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Imc0anZWcFdaQU1wWW1kV01uLWxkVVEiLCJzZXNzaW9uX3N0YXRlIjoiNDljYTA0MjctYjQ5My00YzhkLWFmY2ItY2MyOWE3Nzk4MzJiIiwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjQ5Y2EwNDI3LWI0OTMtNGM4ZC1hZmNiLWNjMjlhNzc5ODMyYiJ9.CDC-Jq7UT4KMlxyjDAKIOqC9OAsRWhNJQKVMObFb5cI&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-09T10:16:38Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:16:39Z INFO  drogue_cloud_tests::resources::apps] Create application: b6cefee8-eeb3-4a6c-b1e2-a1b3df8acfe2
[2022-05-09T10:16:39Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;b6cefee8-eeb3-4a6c-b1e2-a1b3df8acfe2&quot;
[2022-05-09T10:16:39Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App b6cefee8-eeb3-4a6c-b1e2-a1b3df8acfe2 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:16:39Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;b6cefee8-eeb3-4a6c-b1e2-a1b3df8acfe2&quot;
[2022-05-09T10:16:39Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T10:16:39.020374Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 2,\n    \&quot;name\&quot;: \&quot;b6cefee8-eeb3-4a6c-b1e2-a1b3df8acfe2\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;99fcde30-1467-4afa-a3a7-1d057bc888ec\&quot;,\n    \&quot;uid\&quot;: \&quot;028208cd-88fb-4c32-a131-98c4e028dfb6\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:16:39.040245347Z\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:16:39.040202717Z\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: HasFinalizer\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:16:39.040096158Z\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:16:39.040097651Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:16:39.040098513Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:16:39.040099785Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:16:39.040100186Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:16:39.040109052Z\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 1\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:16:39Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T10:16:39.020374Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(2), &quot;name&quot;: String(&quot;b6cefee8-eeb3-4a6c-b1e2-a1b3df8acfe2&quot;), &quot;resourceVersion&quot;: String(&quot;99fcde30-1467-4afa-a3a7-1d057bc888ec&quot;), &quot;uid&quot;: String(&quot;028208cd-88fb-4c32-a131-98c4e028dfb6&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:16:39.040245347Z&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:16:39.040202717Z&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: HasFinalizer&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:16:39.040096158Z&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:16:39.040097651Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:16:39.040098513Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:16:39.040099785Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:16:39.040100186Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:16:39.040109052Z&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(1)})})})
[2022-05-09T10:16:39Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-09T10:16:40Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;b6cefee8-eeb3-4a6c-b1e2-a1b3df8acfe2&quot;
[2022-05-09T10:16:40Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T10:16:39.020374Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;b6cefee8-eeb3-4a6c-b1e2-a1b3df8acfe2\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;4513ddcb-a729-4567-938c-cfdad435777f\&quot;,\n    \&quot;uid\&quot;: \&quot;028208cd-88fb-4c32-a131-98c4e028dfb6\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:16:39.339291319Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:16:39.339165895Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:16:39.063636527Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:16:39.073469859Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:16:39.135201526Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:16:39.141075718Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:16:39.339054736Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:16:39.339132332Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;uiMGbA2Ea1tq\&quot;,\n        \&quot;username\&quot;: \&quot;user-b6cefee8-eeb3-4a6c-b1e2-a1b3df8acfe2\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:16:40Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T10:16:39.020374Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;b6cefee8-eeb3-4a6c-b1e2-a1b3df8acfe2&quot;), &quot;resourceVersion&quot;: String(&quot;4513ddcb-a729-4567-938c-cfdad435777f&quot;), &quot;uid&quot;: String(&quot;028208cd-88fb-4c32-a131-98c4e028dfb6&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:16:39.339291319Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:16:39.339165895Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:16:39.063636527Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:16:39.073469859Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:16:39.135201526Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:16:39.141075718Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:16:39.339054736Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:16:39.339132332Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;uiMGbA2Ea1tq&quot;), &quot;username&quot;: String(&quot;user-b6cefee8-eeb3-4a6c-b1e2-a1b3df8acfe2&quot;)})})})})
[2022-05-09T10:16:40Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-09T10:16:40Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;b6cefee8-eeb3-4a6c-b1e2-a1b3df8acfe2&quot;
[2022-05-09T10:16:40Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T10:16:39.020374Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;b6cefee8-eeb3-4a6c-b1e2-a1b3df8acfe2\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;4513ddcb-a729-4567-938c-cfdad435777f\&quot;,\n    \&quot;uid\&quot;: \&quot;028208cd-88fb-4c32-a131-98c4e028dfb6\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:16:39.339291319Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:16:39.339165895Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:16:39.063636527Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:16:39.073469859Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:16:39.135201526Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:16:39.141075718Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:16:39.339054736Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:16:39.339132332Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;uiMGbA2Ea1tq\&quot;,\n        \&quot;username\&quot;: \&quot;user-b6cefee8-eeb3-4a6c-b1e2-a1b3df8acfe2\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:16:40Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T10:16:39.020374Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;b6cefee8-eeb3-4a6c-b1e2-a1b3df8acfe2&quot;), &quot;resourceVersion&quot;: String(&quot;4513ddcb-a729-4567-938c-cfdad435777f&quot;), &quot;uid&quot;: String(&quot;028208cd-88fb-4c32-a131-98c4e028dfb6&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:16:39.339291319Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:16:39.339165895Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:16:39.063636527Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:16:39.073469859Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:16:39.135201526Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:16:39.141075718Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:16:39.339054736Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:16:39.339132332Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;uiMGbA2Ea1tq&quot;), &quot;username&quot;: String(&quot;user-b6cefee8-eeb3-4a6c-b1e2-a1b3df8acfe2&quot;)})})})})
[2022-05-09T10:16:40Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-09T10:16:40Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-05-09T10:16:40Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;b6cefee8-eeb3-4a6c-b1e2-a1b3df8acfe2&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-09T10:16:40Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:16:40Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:16:40Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T10:16:40Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T10:16:40Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJXRG4zQ2wwMVNsYVpRRnRTbUpuS2JqWC1wcXdsR21xWDhSUFNWSHgxUHgwIn0.eyJleHAiOjE2NTIwOTE2OTgsImlhdCI6MTY1MjA5MTM5OCwiYXV0aF90aW1lIjoxNjUyMDkxMzk1LCJqdGkiOiIxYjdhMTY3MS04MWVmLTRiOTMtOGI1MS05YTNiMDgwZjhiMGQiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiM2RlYjE5ZjktYzc0Ni00YjAwLWE5MDktMmI5ODg1NWNlNGYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJnNGp2VnBXWkFNcFltZFdNbi1sZFVRIiwic2Vzc2lvbl9zdGF0ZSI6IjQ5Y2EwNDI3LWI0OTMtNGM4ZC1hZmNiLWNjMjlhNzc5ODMyYiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjQ5Y2EwNDI3LWI0OTMtNGM4ZC1hZmNiLWNjMjlhNzc5ODMyYiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.y5WV773G0Om8Xy3Cjbfu3wPfNZOJfi-2ov0vPH1rwdLp5LEa6vnhdFcSc0oqpjFPqUGv08-zXtNc-vlseM5uW-3_NWA_LY9XUY29UGnwJG4DUoTvsZZ7THPHTwYeFq-hdwY6wlkuSCyPRbGz0lbDUT2vgOp7b1SI5BGo4W6CZZQmZJ60T3ydxQdmJdrr9zp2RfZOeVktmDDTRxpdhE8QPb3xi8WJOK9SjF-bRgLgrXs906aI9Hf0UPrbvXBDGh7bAfurtjLj-kkOo5exTunMljSEuylF4pLgBY6Yjfehp8fRSYWlC15kZfBfFdO4__PO8uCh9PjaeyOw78dBlTgEYQ\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:16:40Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T10:16:40Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-09T10:16:40Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-09T10:16:40Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;b6cefee8-eeb3-4a6c-b1e2-a1b3df8acfe2&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-05-09T10:16:40Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:16:40Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt
[2022-05-09T10:16:40Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T10:16:40Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJXRG4zQ2wwMVNsYVpRRnRTbUpuS2JqWC1wcXdsR21xWDhSUFNWSHgxUHgwIn0.eyJleHAiOjE2NTIwOTE2OTgsImlhdCI6MTY1MjA5MTM5OCwiYXV0aF90aW1lIjoxNjUyMDkxMzk1LCJqdGkiOiIxYjdhMTY3MS04MWVmLTRiOTMtOGI1MS05YTNiMDgwZjhiMGQiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiM2RlYjE5ZjktYzc0Ni00YjAwLWE5MDktMmI5ODg1NWNlNGYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJnNGp2VnBXWkFNcFltZFdNbi1sZFVRIiwic2Vzc2lvbl9zdGF0ZSI6IjQ5Y2EwNDI3LWI0OTMtNGM4ZC1hZmNiLWNjMjlhNzc5ODMyYiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjQ5Y2EwNDI3LWI0OTMtNGM4ZC1hZmNiLWNjMjlhNzc5ODMyYiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.y5WV773G0Om8Xy3Cjbfu3wPfNZOJfi-2ov0vPH1rwdLp5LEa6vnhdFcSc0oqpjFPqUGv08-zXtNc-vlseM5uW-3_NWA_LY9XUY29UGnwJG4DUoTvsZZ7THPHTwYeFq-hdwY6wlkuSCyPRbGz0lbDUT2vgOp7b1SI5BGo4W6CZZQmZJ60T3ydxQdmJdrr9zp2RfZOeVktmDDTRxpdhE8QPb3xi8WJOK9SjF-bRgLgrXs906aI9Hf0UPrbvXBDGh7bAfurtjLj-kkOo5exTunMljSEuylF4pLgBY6Yjfehp8fRSYWlC15kZfBfFdO4__PO8uCh9PjaeyOw78dBlTgEYQ\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:16:40Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt&quot;, client_id: &quot;0e976987-2afd-450a-b38c-1db119c0538f&quot;, persistence: None, user_data: None }
[2022-05-09T10:16:40Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T10:16:40Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55efdbf95960
[2022-05-09T10:16:40Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55efdbf95960
[2022-05-09T10:16:40Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x55efdbf95ca0, connectTimeout: 30, retryInterval: 0, ssl: 0x55efdbdfd9a0, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55efdbfcc590, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJXRG4zQ2wwMVNsYVpRRnRTbUpuS2JqWC1wcXdsR21xWDhSUFNWSHgxUHgwIn0.eyJleHAiOjE2NTIwOTE2OTgsImlhdCI6MTY1MjA5MTM5OCwiYXV0aF90aW1lIjoxNjUyMDkxMzk1LCJqdGkiOiIxYjdhMTY3MS04MWVmLTRiOTMtOGI1MS05YTNiMDgwZjhiMGQiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiM2RlYjE5ZjktYzc0Ni00YjAwLWE5MDktMmI5ODg1NWNlNGYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJnNGp2VnBXWkFNcFltZFdNbi1sZFVRIiwic2Vzc2lvbl9zdGF0ZSI6IjQ5Y2EwNDI3LWI0OTMtNGM4ZC1hZmNiLWNjMjlhNzc5ODMyYiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjQ5Y2EwNDI3LWI0OTMtNGM4ZC1hZmNiLWNjMjlhNzc5ODMyYiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.y5WV773G0Om8Xy3Cjbfu3wPfNZOJfi-2ov0vPH1rwdLp5LEa6vnhdFcSc0oqpjFPqUGv08-zXtNc-vlseM5uW-3_NWA_LY9XUY29UGnwJG4DUoTvsZZ7THPHTwYeFq-hdwY6wlkuSCyPRbGz0lbDUT2vgOp7b1SI5BGo4W6CZZQmZJ60T3ydxQdmJdrr9zp2RfZOeVktmDDTRxpdhE8QPb3xi8WJOK9SjF-bRgLgrXs906aI9Hf0UPrbvXBDGh7bAfurtjLj-kkOo5exTunMljSEuylF4pLgBY6Yjfehp8fRSYWlC15kZfBfFdO4__PO8uCh9PjaeyOw78dBlTgEYQ&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T10:16:40Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/b6cefee8-eeb3-4a6c-b1e2-a1b3df8acfe2&quot;&#x27; @ QOS 0
[2022-05-09T10:16:40Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-09T10:16:40Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-09T10:16:40Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:16:40Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:16:40Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:16:40Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:16:41Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:16:41Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:16:41Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:16:41Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:16:42Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:16:42Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:16:42Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:16:42Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:16:43Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:16:43Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:16:43Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:16:43Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:16:43Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 621, payload: 0x7f0ed0015ca0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f0ed0015f20 } }, data: MessageData { topic: &quot;app/b6cefee8-eeb3-4a6c-b1e2-a1b3df8acfe2&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 51, 56, 51, 55, 100, 102, 102, 97, 45, 99, 52, 53, 51, 45, 52, 98, 100, 98, 45, 57, 49, 50, 49, 45, 48, 98, 55, 53, 99, 53, 98, 49, 56, 99, 100, 57, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 98, 54, 99, 101, 102, 101, 101, 56, 37, 50, 68, 101, 101, 98, 51, 37, 50, 68, 52, 97, 54, 99, 37, 50, 68, 98, 49, 101, 50, 37, 50, 68, 97, 49, 98, 51, 100, 102, 56, 97, 99, 102, 101, 50, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 119, 97, 114, 109, 117, 112, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 48, 58, 49, 54, 58, 52, 51, 46, 54, 51, 51, 52, 56, 57, 49, 49, 57, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 48, 50, 56, 50, 48, 56, 99, 100, 45, 56, 56, 102, 98, 45, 52, 99, 51, 50, 45, 97, 49, 51, 49, 45, 57, 56, 99, 52, 101, 48, 50, 56, 100, 102, 98, 54, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 98, 54, 99, 101, 102, 101, 101, 56, 45, 101, 101, 98, 51, 45, 52, 97, 54, 99, 45, 98, 49, 101, 50, 45, 97, 49, 98, 51, 100, 102, 56, 97, 99, 102, 101, 50, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 56, 102, 98, 52, 102, 57, 97, 101, 45, 49, 51, 101, 54, 45, 52, 55, 54, 57, 45, 56, 98, 49, 99, 45, 53, 102, 54, 53, 54, 99, 56, 53, 53, 54, 98, 49, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 98, 54, 99, 101, 102, 101, 101, 56, 37, 50, 68, 101, 101, 98, 51, 37, 50, 68, 52, 97, 54, 99, 37, 50, 68, 98, 49, 101, 50, 37, 50, 68, 97, 49, 98, 51, 100, 102, 56, 97, 99, 102, 101, 50, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 57, 98, 98, 57, 48, 53, 48, 100, 45, 54, 51, 52, 100, 45, 52, 48, 53, 56, 45, 98, 55, 100, 101, 45, 52, 56, 101, 51, 52, 56, 49, 54, 49, 55, 51, 51, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f0ed0015f20 } } } }
[2022-05-09T10:16:43Z DEBUG paho_mqtt::properties] Dropping string property: 0x55efdc2b8b20
[2022-05-09T10:16:43Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/b6cefee8-eeb3-4a6c-b1e2-a1b3df8acfe2&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;3837dffa-c453-4bdb-9121-0b75c5b18cd9\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://b6cefee8%2Deeb3%2D4a6c%2Db1e2%2Da1b3df8acfe2/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;warmup\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T10:16:43.633489119Z\&quot;,\&quot;data\&quot;:{\&quot;index\&quot;:3},\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;applicationuid\&quot;:\&quot;028208cd-88fb-4c32-a131-98c4e028dfb6\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;application\&quot;:\&quot;b6cefee8-eeb3-4a6c-b1e2-a1b3df8acfe2\&quot;,\&quot;deviceuid\&quot;:\&quot;8fb4f9ae-13e6-4769-8b1c-5f656c8556b1\&quot;,\&quot;partitionkey\&quot;:\&quot;b6cefee8%2Deeb3%2D4a6c%2Db1e2%2Da1b3df8acfe2/device1\&quot;,\&quot;senderuid\&quot;:\&quot;9bb9050d-634d-4058-b7de-48e348161733\&quot;}&quot; }
[2022-05-09T10:16:44Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-09T10:16:44Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-09T10:16:44Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-09T10:16:44Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry/device1
[2022-05-09T10:16:44Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005/mqtt&quot;, client_id: &quot;d03f6824-97f8-4692-8278-3510313a94ba&quot;, persistence: None, user_data: None }
[2022-05-09T10:16:44Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T10:16:44Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55efdc0ebdf0
[2022-05-09T10:16:44Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55efdc0ebdf0
[2022-05-09T10:16:44Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x55efdc2bd050, password: 0x55efdbed4a30, connectTimeout: 30, retryInterval: 0, ssl: 0x55efdc1df210, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55efdc2bca80, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;gateway1@b6cefee8-eeb3-4a6c-b1e2-a1b3df8acfe2&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T10:16:45Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 640, payload: 0x7f0ed000b1c0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f0ed000b450 } }, data: MessageData { topic: &quot;app/b6cefee8-eeb3-4a6c-b1e2-a1b3df8acfe2&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 98, 102, 49, 97, 48, 49, 99, 57, 45, 100, 99, 49, 101, 45, 52, 102, 97, 99, 45, 97, 50, 57, 99, 45, 55, 54, 54, 49, 57, 98, 48, 50, 97, 49, 49, 51, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 98, 54, 99, 101, 102, 101, 101, 56, 37, 50, 68, 101, 101, 98, 51, 37, 50, 68, 52, 97, 54, 99, 37, 50, 68, 98, 49, 101, 50, 37, 50, 68, 97, 49, 98, 51, 100, 102, 56, 97, 99, 102, 101, 50, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 48, 58, 49, 54, 58, 52, 52, 46, 57, 52, 56, 54, 49, 51, 52, 57, 57, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 98, 54, 99, 101, 102, 101, 101, 56, 37, 50, 68, 101, 101, 98, 51, 37, 50, 68, 52, 97, 54, 99, 37, 50, 68, 98, 49, 101, 50, 37, 50, 68, 97, 49, 98, 51, 100, 102, 56, 97, 99, 102, 101, 50, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 57, 98, 98, 57, 48, 53, 48, 100, 45, 54, 51, 52, 100, 45, 52, 48, 53, 56, 45, 98, 55, 100, 101, 45, 52, 56, 101, 51, 52, 56, 49, 54, 49, 55, 51, 51, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 48, 50, 56, 50, 48, 56, 99, 100, 45, 56, 56, 102, 98, 45, 52, 99, 51, 50, 45, 97, 49, 51, 49, 45, 57, 56, 99, 52, 101, 48, 50, 56, 100, 102, 98, 54, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 57, 98, 98, 57, 48, 53, 48, 100, 45, 54, 51, 52, 100, 45, 52, 48, 53, 56, 45, 98, 55, 100, 101, 45, 52, 56, 101, 51, 52, 56, 49, 54, 49, 55, 51, 51, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 98, 54, 99, 101, 102, 101, 101, 56, 45, 101, 101, 98, 51, 45, 52, 97, 54, 99, 45, 98, 49, 101, 50, 45, 97, 49, 98, 51, 100, 102, 56, 97, 99, 102, 101, 50, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f0ed000b450 } } } }
[2022-05-09T10:16:45Z DEBUG paho_mqtt::properties] Dropping string property: 0x55efdc2b8b20
[2022-05-09T10:16:45Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/b6cefee8-eeb3-4a6c-b1e2-a1b3df8acfe2&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;bf1a01c9-dc1e-4fac-a29c-76619b02a113\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://b6cefee8%2Deeb3%2D4a6c%2Db1e2%2Da1b3df8acfe2/gateway1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T10:16:44.948613499Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:true},\&quot;partitionkey\&quot;:\&quot;b6cefee8%2Deeb3%2D4a6c%2Db1e2%2Da1b3df8acfe2/gateway1\&quot;,\&quot;deviceuid\&quot;:\&quot;9bb9050d-634d-4058-b7de-48e348161733\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;device\&quot;:\&quot;gateway1\&quot;,\&quot;applicationuid\&quot;:\&quot;028208cd-88fb-4c32-a131-98c4e028dfb6\&quot;,\&quot;senderuid\&quot;:\&quot;9bb9050d-634d-4058-b7de-48e348161733\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;application\&quot;:\&quot;b6cefee8-eeb3-4a6c-b1e2-a1b3df8acfe2\&quot;}&quot; }
[2022-05-09T10:16:45Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55efdbeb2230 } }, data: MessageData { topic: &quot;telemetry/device1&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55efdbeb2230 } } } }
[2022-05-09T10:16:45Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-09T10:16:45Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 641, payload: 0x7f0ed001bdd0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f0ed001ca30 } }, data: MessageData { topic: &quot;app/b6cefee8-eeb3-4a6c-b1e2-a1b3df8acfe2&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 99, 97, 102, 48, 100, 99, 50, 52, 45, 99, 97, 98, 49, 45, 52, 50, 97, 49, 45, 98, 48, 51, 97, 45, 52, 48, 100, 50, 102, 48, 98, 52, 49, 101, 97, 97, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 98, 54, 99, 101, 102, 101, 101, 56, 37, 50, 68, 101, 101, 98, 51, 37, 50, 68, 52, 97, 54, 99, 37, 50, 68, 98, 49, 101, 50, 37, 50, 68, 97, 49, 98, 51, 100, 102, 56, 97, 99, 102, 101, 50, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 48, 58, 49, 54, 58, 52, 53, 46, 48, 49, 51, 51, 50, 48, 54, 54, 57, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 102, 97, 108, 115, 101, 125, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 98, 54, 99, 101, 102, 101, 101, 56, 45, 101, 101, 98, 51, 45, 52, 97, 54, 99, 45, 98, 49, 101, 50, 45, 97, 49, 98, 51, 100, 102, 56, 97, 99, 102, 101, 50, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 57, 98, 98, 57, 48, 53, 48, 100, 45, 54, 51, 52, 100, 45, 52, 48, 53, 56, 45, 98, 55, 100, 101, 45, 52, 56, 101, 51, 52, 56, 49, 54, 49, 55, 51, 51, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 57, 98, 98, 57, 48, 53, 48, 100, 45, 54, 51, 52, 100, 45, 52, 48, 53, 56, 45, 98, 55, 100, 101, 45, 52, 56, 101, 51, 52, 56, 49, 54, 49, 55, 51, 51, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 98, 54, 99, 101, 102, 101, 101, 56, 37, 50, 68, 101, 101, 98, 51, 37, 50, 68, 52, 97, 54, 99, 37, 50, 68, 98, 49, 101, 50, 37, 50, 68, 97, 49, 98, 51, 100, 102, 56, 97, 99, 102, 101, 50, 47, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 48, 50, 56, 50, 48, 56, 99, 100, 45, 56, 56, 102, 98, 45, 52, 99, 51, 50, 45, 97, 49, 51, 49, 45, 57, 56, 99, 52, 101, 48, 50, 56, 100, 102, 98, 54, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f0ed001ca30 } } } }
[2022-05-09T10:16:45Z DEBUG paho_mqtt::properties] Dropping string property: 0x55efdc2b8b20
[2022-05-09T10:16:45Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/b6cefee8-eeb3-4a6c-b1e2-a1b3df8acfe2&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;caf0dc24-cab1-42a1-b03a-40d2f0b41eaa\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://b6cefee8%2Deeb3%2D4a6c%2Db1e2%2Da1b3df8acfe2/gateway1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T10:16:45.013320669Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:false},\&quot;application\&quot;:\&quot;b6cefee8-eeb3-4a6c-b1e2-a1b3df8acfe2\&quot;,\&quot;senderuid\&quot;:\&quot;9bb9050d-634d-4058-b7de-48e348161733\&quot;,\&quot;deviceuid\&quot;:\&quot;9bb9050d-634d-4058-b7de-48e348161733\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;partitionkey\&quot;:\&quot;b6cefee8%2Deeb3%2D4a6c%2Db1e2%2Da1b3df8acfe2/gateway1\&quot;,\&quot;applicationuid\&quot;:\&quot;028208cd-88fb-4c32-a131-98c4e028dfb6\&quot;,\&quot;device\&quot;:\&quot;gateway1\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;}&quot; }
[2022-05-09T10:16:45Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 630, payload: 0x7f0ed000d620, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f0ed000d8a0 } }, data: MessageData { topic: &quot;app/b6cefee8-eeb3-4a6c-b1e2-a1b3df8acfe2&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 50, 49, 48, 99, 49, 99, 56, 101, 45, 97, 102, 54, 100, 45, 52, 56, 49, 54, 45, 57, 97, 101, 100, 45, 100, 48, 102, 57, 52, 53, 52, 56, 56, 102, 56, 54, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 98, 54, 99, 101, 102, 101, 101, 56, 37, 50, 68, 101, 101, 98, 51, 37, 50, 68, 52, 97, 54, 99, 37, 50, 68, 98, 49, 101, 50, 37, 50, 68, 97, 49, 98, 51, 100, 102, 56, 97, 99, 102, 101, 50, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 111, 99, 116, 101, 116, 45, 115, 116, 114, 101, 97, 109, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 116, 101, 108, 101, 109, 101, 116, 114, 121, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 48, 58, 49, 54, 58, 52, 53, 46, 48, 49, 50, 56, 55, 56, 48, 55, 50, 90, 34, 44, 34, 100, 97, 116, 97, 95, 98, 97, 115, 101, 54, 52, 34, 58, 34, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 48, 50, 56, 50, 48, 56, 99, 100, 45, 56, 56, 102, 98, 45, 52, 99, 51, 50, 45, 97, 49, 51, 49, 45, 57, 56, 99, 52, 101, 48, 50, 56, 100, 102, 98, 54, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 57, 98, 98, 57, 48, 53, 48, 100, 45, 54, 51, 52, 100, 45, 52, 48, 53, 56, 45, 98, 55, 100, 101, 45, 52, 56, 101, 51, 52, 56, 49, 54, 49, 55, 51, 51, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 98, 54, 99, 101, 102, 101, 101, 56, 37, 50, 68, 101, 101, 98, 51, 37, 50, 68, 52, 97, 54, 99, 37, 50, 68, 98, 49, 101, 50, 37, 50, 68, 97, 49, 98, 51, 100, 102, 56, 97, 99, 102, 101, 50, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 98, 54, 99, 101, 102, 101, 101, 56, 45, 101, 101, 98, 51, 45, 52, 97, 54, 99, 45, 98, 49, 101, 50, 45, 97, 49, 98, 51, 100, 102, 56, 97, 99, 102, 101, 50, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 56, 102, 98, 52, 102, 57, 97, 101, 45, 49, 51, 101, 54, 45, 52, 55, 54, 57, 45, 56, 98, 49, 99, 45, 53, 102, 54, 53, 54, 99, 56, 53, 53, 54, 98, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 103, 97, 116, 101, 119, 97, 121, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f0ed000d8a0 } } } }
[2022-05-09T10:16:45Z DEBUG paho_mqtt::properties] Dropping string property: 0x55efdc2b8b20
[2022-05-09T10:16:45Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/b6cefee8-eeb3-4a6c-b1e2-a1b3df8acfe2&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;210c1c8e-af6d-4816-9aed-d0f945488f86\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://b6cefee8%2Deeb3%2D4a6c%2Db1e2%2Da1b3df8acfe2/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/octet-stream\&quot;,\&quot;subject\&quot;:\&quot;telemetry\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T10:16:45.012878072Z\&quot;,\&quot;data_base64\&quot;:\&quot;\&quot;,\&quot;applicationuid\&quot;:\&quot;028208cd-88fb-4c32-a131-98c4e028dfb6\&quot;,\&quot;senderuid\&quot;:\&quot;9bb9050d-634d-4058-b7de-48e348161733\&quot;,\&quot;partitionkey\&quot;:\&quot;b6cefee8%2Deeb3%2D4a6c%2Db1e2%2Da1b3df8acfe2/device1\&quot;,\&quot;application\&quot;:\&quot;b6cefee8-eeb3-4a6c-b1e2-a1b3df8acfe2\&quot;,\&quot;deviceuid\&quot;:\&quot;8fb4f9ae-13e6-4769-8b1c-5f656c8556b1\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;sender\&quot;:\&quot;gateway1\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;}&quot; }
[2022-05-09T10:16:46Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-09T10:16:46Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-09T10:16:46Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-09T10:16:46Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;b6cefee8-eeb3-4a6c-b1e2-a1b3df8acfe2&quot;, device: &quot;gateway1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`,
 right: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;b6cefee8-eeb3-4a6c-b1e2-a1b3df8acfe2&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`: Position #0&#x27;, src/tools/assert.rs:35:39
[2022-05-09T10:16:46Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-09T10:16:46Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;b6cefee8-eeb3-4a6c-b1e2-a1b3df8acfe2&quot; &quot;device1&quot;
[2022-05-09T10:16:46Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:16:46Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-05-09T10:16:46Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;b6cefee8-eeb3-4a6c-b1e2-a1b3df8acfe2&quot; &quot;gateway1&quot;
[2022-05-09T10:16:46Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:16:46Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;b6cefee8-eeb3-4a6c-b1e2-a1b3df8acfe2&#x27;
[2022-05-09T10:16:46Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;b6cefee8-eeb3-4a6c-b1e2-a1b3df8acfe2&quot;
[2022-05-09T10:16:46Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App b6cefee8-eeb3-4a6c-b1e2-a1b3df8acfe2 deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_2::integration_version_3::integration_ws_1

**Duration**: 14s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-09T10:16:48Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-09T10:16:48Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T10:16:48Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T10:16:48Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T10:16:48Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T10:16:49Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-09T10:16:50Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-09T10:16:50Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T10:16:50Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T10:16:50Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T10:16:52Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI0NDVmMTM5Zi0wNjNjLTRhZDgtODkwYi1mNTg1OTQ0NjFiZDAifQ.eyJleHAiOjE2NTIwOTMyMTIsImlhdCI6MTY1MjA5MTQxMiwianRpIjoiNTc3ZTVlYjgtYWQzNS00NzExLTk1NjUtZGE2NDhmYjkxMGFjIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjNkZWIxOWY5LWM3NDYtNGIwMC1hOTA5LTJiOTg4NTVjZTRmMyIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IjJqOG9abk5nblhtVVlJYk03VGY3U2ciLCJzZXNzaW9uX3N0YXRlIjoiYzRhMGQ2MGYtMGE0MS00OGY3LTljNDAtNGRhZDZiODYwMGY1Iiwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImM0YTBkNjBmLTBhNDEtNDhmNy05YzQwLTRkYWQ2Yjg2MDBmNSJ9.K3357N0YK-fC06pl1vGxqeLlo7qv7YOO89-b5YYN40M
[2022-05-09T10:16:52Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-09T10:16:52Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-09T10:16:52Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI0NDVmMTM5Zi0wNjNjLTRhZDgtODkwYi1mNTg1OTQ0NjFiZDAifQ.eyJleHAiOjE2NTIwOTMyMTIsImlhdCI6MTY1MjA5MTQxMiwianRpIjoiNTc3ZTVlYjgtYWQzNS00NzExLTk1NjUtZGE2NDhmYjkxMGFjIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjNkZWIxOWY5LWM3NDYtNGIwMC1hOTA5LTJiOTg4NTVjZTRmMyIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IjJqOG9abk5nblhtVVlJYk03VGY3U2ciLCJzZXNzaW9uX3N0YXRlIjoiYzRhMGQ2MGYtMGE0MS00OGY3LTljNDAtNGRhZDZiODYwMGY1Iiwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImM0YTBkNjBmLTBhNDEtNDhmNy05YzQwLTRkYWQ2Yjg2MDBmNSJ9.K3357N0YK-fC06pl1vGxqeLlo7qv7YOO89-b5YYN40M&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-09T10:16:52Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:16:53Z INFO  drogue_cloud_tests::resources::apps] Create application: e95ee6b2-c256-42f8-b657-62a1d05d606f
[2022-05-09T10:16:53Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;e95ee6b2-c256-42f8-b657-62a1d05d606f&quot;
[2022-05-09T10:16:53Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App e95ee6b2-c256-42f8-b657-62a1d05d606f created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:16:53Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;e95ee6b2-c256-42f8-b657-62a1d05d606f&quot;
[2022-05-09T10:16:53Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T10:16:53.309227Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 2,\n    \&quot;name\&quot;: \&quot;e95ee6b2-c256-42f8-b657-62a1d05d606f\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;dcec9080-30c0-47d0-9ed9-2111f6f0a174\&quot;,\n    \&quot;uid\&quot;: \&quot;c256697f-6676-426d-9a61-0474204e7527\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:16:53.331683254Z\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:16:53.331664248Z\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: HasFinalizer\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:16:53.331614436Z\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:16:53.331633892Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:16:53.331634302Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:16:53.331634944Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:16:53.331635545Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:16:53.331641336Z\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 1\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:16:53Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T10:16:53.309227Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(2), &quot;name&quot;: String(&quot;e95ee6b2-c256-42f8-b657-62a1d05d606f&quot;), &quot;resourceVersion&quot;: String(&quot;dcec9080-30c0-47d0-9ed9-2111f6f0a174&quot;), &quot;uid&quot;: String(&quot;c256697f-6676-426d-9a61-0474204e7527&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:16:53.331683254Z&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:16:53.331664248Z&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: HasFinalizer&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:16:53.331614436Z&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:16:53.331633892Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:16:53.331634302Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:16:53.331634944Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:16:53.331635545Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:16:53.331641336Z&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(1)})})})
[2022-05-09T10:16:53Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-09T10:16:54Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;e95ee6b2-c256-42f8-b657-62a1d05d606f&quot;
[2022-05-09T10:16:54Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T10:16:53.309227Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;e95ee6b2-c256-42f8-b657-62a1d05d606f\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;a3898f4a-542e-4dbd-8fd4-233146657212\&quot;,\n    \&quot;uid\&quot;: \&quot;c256697f-6676-426d-9a61-0474204e7527\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:16:53.624060291Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:16:53.623934576Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:16:53.352956674Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:16:53.359992027Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:16:53.414777148Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:16:53.420677588Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:16:53.623888419Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:16:53.623906102Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;YJ17BMaeTB5U\&quot;,\n        \&quot;username\&quot;: \&quot;user-e95ee6b2-c256-42f8-b657-62a1d05d606f\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:16:54Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T10:16:53.309227Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;e95ee6b2-c256-42f8-b657-62a1d05d606f&quot;), &quot;resourceVersion&quot;: String(&quot;a3898f4a-542e-4dbd-8fd4-233146657212&quot;), &quot;uid&quot;: String(&quot;c256697f-6676-426d-9a61-0474204e7527&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:16:53.624060291Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:16:53.623934576Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:16:53.352956674Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:16:53.359992027Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:16:53.414777148Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:16:53.420677588Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:16:53.623888419Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:16:53.623906102Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;YJ17BMaeTB5U&quot;), &quot;username&quot;: String(&quot;user-e95ee6b2-c256-42f8-b657-62a1d05d606f&quot;)})})})})
[2022-05-09T10:16:54Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-09T10:16:54Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;e95ee6b2-c256-42f8-b657-62a1d05d606f&quot;
[2022-05-09T10:16:54Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T10:16:53.309227Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;e95ee6b2-c256-42f8-b657-62a1d05d606f\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;a3898f4a-542e-4dbd-8fd4-233146657212\&quot;,\n    \&quot;uid\&quot;: \&quot;c256697f-6676-426d-9a61-0474204e7527\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:16:53.624060291Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:16:53.623934576Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:16:53.352956674Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:16:53.359992027Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:16:53.414777148Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:16:53.420677588Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:16:53.623888419Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:16:53.623906102Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;YJ17BMaeTB5U\&quot;,\n        \&quot;username\&quot;: \&quot;user-e95ee6b2-c256-42f8-b657-62a1d05d606f\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:16:54Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T10:16:53.309227Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;e95ee6b2-c256-42f8-b657-62a1d05d606f&quot;), &quot;resourceVersion&quot;: String(&quot;a3898f4a-542e-4dbd-8fd4-233146657212&quot;), &quot;uid&quot;: String(&quot;c256697f-6676-426d-9a61-0474204e7527&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:16:53.624060291Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:16:53.623934576Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:16:53.352956674Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:16:53.359992027Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:16:53.414777148Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:16:53.420677588Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:16:53.623888419Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:16:53.623906102Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;YJ17BMaeTB5U&quot;), &quot;username&quot;: String(&quot;user-e95ee6b2-c256-42f8-b657-62a1d05d606f&quot;)})})})})
[2022-05-09T10:16:54Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-09T10:16:54Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-05-09T10:16:54Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;e95ee6b2-c256-42f8-b657-62a1d05d606f&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-09T10:16:54Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:16:54Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:16:54Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T10:16:54Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T10:16:54Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJXRG4zQ2wwMVNsYVpRRnRTbUpuS2JqWC1wcXdsR21xWDhSUFNWSHgxUHgwIn0.eyJleHAiOjE2NTIwOTE3MTIsImlhdCI6MTY1MjA5MTQxMiwiYXV0aF90aW1lIjoxNjUyMDkxNDA5LCJqdGkiOiI4ZWFhNzdhOC05MDI0LTRhYWQtYjEwNy1kNGZhYzBlNDE5NjEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiM2RlYjE5ZjktYzc0Ni00YjAwLWE5MDktMmI5ODg1NWNlNGYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiIyajhvWm5OZ25YbVVZSWJNN1RmN1NnIiwic2Vzc2lvbl9zdGF0ZSI6ImM0YTBkNjBmLTBhNDEtNDhmNy05YzQwLTRkYWQ2Yjg2MDBmNSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImM0YTBkNjBmLTBhNDEtNDhmNy05YzQwLTRkYWQ2Yjg2MDBmNSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.Q-nmp6A4T8hrKGH6sNS-sPAPcT6Sf_cIcDEgditx4z4J-rmB8IAqe8oElkoZcCOmd0J0XjXhR6OfXj5WQDUNJJU4pJRL7Rj5lHKgT-o7cVN8I1rafzdkw538ERIZl9yGUa6Ep2Uj7cP3hdukFGWSWSlNXBAO5fyiw6F_Idp5YWP9iVdEDB2DjPWC0XmN3jkWPn9ZCuxbz0zkJp40Y90cZy-vug6pNI3OizNTTQ5RgMFwVJIgLbFEjkzCx39cMcXr6JG6wQ4pPBey8OfoMgeHG4_c_0UT0Ia5wlJnM7lO4vndMYUiQhxAX2M8c74yuk5w1KsdIfo7qZZ7KZpVLEHSoA\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:16:54Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T10:16:54Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-09T10:16:54Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-09T10:16:54Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;e95ee6b2-c256-42f8-b657-62a1d05d606f&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-05-09T10:16:54Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:16:54Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: ssl://mqtt-integration.172.18.0.2.nip.io:30002
[2022-05-09T10:16:54Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T10:16:54Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJXRG4zQ2wwMVNsYVpRRnRTbUpuS2JqWC1wcXdsR21xWDhSUFNWSHgxUHgwIn0.eyJleHAiOjE2NTIwOTE3MTIsImlhdCI6MTY1MjA5MTQxMiwiYXV0aF90aW1lIjoxNjUyMDkxNDA5LCJqdGkiOiI4ZWFhNzdhOC05MDI0LTRhYWQtYjEwNy1kNGZhYzBlNDE5NjEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiM2RlYjE5ZjktYzc0Ni00YjAwLWE5MDktMmI5ODg1NWNlNGYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiIyajhvWm5OZ25YbVVZSWJNN1RmN1NnIiwic2Vzc2lvbl9zdGF0ZSI6ImM0YTBkNjBmLTBhNDEtNDhmNy05YzQwLTRkYWQ2Yjg2MDBmNSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImM0YTBkNjBmLTBhNDEtNDhmNy05YzQwLTRkYWQ2Yjg2MDBmNSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.Q-nmp6A4T8hrKGH6sNS-sPAPcT6Sf_cIcDEgditx4z4J-rmB8IAqe8oElkoZcCOmd0J0XjXhR6OfXj5WQDUNJJU4pJRL7Rj5lHKgT-o7cVN8I1rafzdkw538ERIZl9yGUa6Ep2Uj7cP3hdukFGWSWSlNXBAO5fyiw6F_Idp5YWP9iVdEDB2DjPWC0XmN3jkWPn9ZCuxbz0zkJp40Y90cZy-vug6pNI3OizNTTQ5RgMFwVJIgLbFEjkzCx39cMcXr6JG6wQ4pPBey8OfoMgeHG4_c_0UT0Ia5wlJnM7lO4vndMYUiQhxAX2M8c74yuk5w1KsdIfo7qZZ7KZpVLEHSoA\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:16:54Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-integration.172.18.0.2.nip.io:30002&quot;, client_id: &quot;49e3ecb4-1547-4aab-82f8-1360265e39d7&quot;, persistence: None, user_data: None }
[2022-05-09T10:16:54Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T10:16:54Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55efdc27a940
[2022-05-09T10:16:54Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55efdc27a940
[2022-05-09T10:16:54Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x55efdc2dd550, connectTimeout: 30, retryInterval: 0, ssl: 0x55efdbe4e170, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55efdc27ac00, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJXRG4zQ2wwMVNsYVpRRnRTbUpuS2JqWC1wcXdsR21xWDhSUFNWSHgxUHgwIn0.eyJleHAiOjE2NTIwOTE3MTIsImlhdCI6MTY1MjA5MTQxMiwiYXV0aF90aW1lIjoxNjUyMDkxNDA5LCJqdGkiOiI4ZWFhNzdhOC05MDI0LTRhYWQtYjEwNy1kNGZhYzBlNDE5NjEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiM2RlYjE5ZjktYzc0Ni00YjAwLWE5MDktMmI5ODg1NWNlNGYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiIyajhvWm5OZ25YbVVZSWJNN1RmN1NnIiwic2Vzc2lvbl9zdGF0ZSI6ImM0YTBkNjBmLTBhNDEtNDhmNy05YzQwLTRkYWQ2Yjg2MDBmNSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImM0YTBkNjBmLTBhNDEtNDhmNy05YzQwLTRkYWQ2Yjg2MDBmNSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.Q-nmp6A4T8hrKGH6sNS-sPAPcT6Sf_cIcDEgditx4z4J-rmB8IAqe8oElkoZcCOmd0J0XjXhR6OfXj5WQDUNJJU4pJRL7Rj5lHKgT-o7cVN8I1rafzdkw538ERIZl9yGUa6Ep2Uj7cP3hdukFGWSWSlNXBAO5fyiw6F_Idp5YWP9iVdEDB2DjPWC0XmN3jkWPn9ZCuxbz0zkJp40Y90cZy-vug6pNI3OizNTTQ5RgMFwVJIgLbFEjkzCx39cMcXr6JG6wQ4pPBey8OfoMgeHG4_c_0UT0Ia5wlJnM7lO4vndMYUiQhxAX2M8c74yuk5w1KsdIfo7qZZ7KZpVLEHSoA&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T10:16:54Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/e95ee6b2-c256-42f8-b657-62a1d05d606f&quot;&#x27; @ QOS 0
[2022-05-09T10:16:54Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-09T10:16:54Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:16:54Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-09T10:16:54Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:16:54Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:16:55Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:16:56Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:16:56Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:16:56Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:16:56Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:16:57Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:16:57Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:16:57Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:16:57Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:16:58Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:16:58Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:16:58Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:16:58Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:16:58Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 11, payload: 0x7f0edc0093a0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 574, array: 0x55efdc271dd0 } }, data: MessageData { topic: &quot;app/e95ee6b2-c256-42f8-b657-62a1d05d606f&quot;, payload: [123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 574, array: 0x55efdc271dd0 } } } }
[2022-05-09T10:16:58Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55efdbfeb8b0, 0x7f0ee0006da0
[2022-05-09T10:16:58Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0006da0, 0x55efdc2b0880
[2022-05-09T10:16:58Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0006da0, 0x55efdbe28750
[2022-05-09T10:16:58Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55efdbe28750, 0x7f0ed8003240
[2022-05-09T10:16:58Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55efdbe28750, 0x7f0ed80040f0
[2022-05-09T10:16:58Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed80040f0, 0x55efdc2b0880
[2022-05-09T10:16:58Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed80040f0, 0x55efdc2b0880
[2022-05-09T10:16:58Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed80040f0, 0x55efdc2b0880
[2022-05-09T10:16:58Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed80040f0, 0x55efdc2b0880
[2022-05-09T10:16:58Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed80040f0, 0x7f0ed8004b80
[2022-05-09T10:16:58Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8004b80, 0x7f0ed80040f0
[2022-05-09T10:16:58Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed80040f0, 0x7f0ed8004b80
[2022-05-09T10:16:58Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8004b80, 0x55efdc2b0880
[2022-05-09T10:16:58Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8004b80, 0x55efdc0f26d0
[2022-05-09T10:16:58Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f0ed8004b80
[2022-05-09T10:16:58Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/e95ee6b2-c256-42f8-b657-62a1d05d606f&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;instance&quot;: &quot;drogue&quot;, &quot;device&quot;: &quot;device1&quot;, &quot;partitionkey&quot;: &quot;e95ee6b2%2Dc256%2D42f8%2Db657%2D62a1d05d606f/device1&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;subject&quot;: &quot;warmup&quot;, &quot;application&quot;: &quot;e95ee6b2-c256-42f8-b657-62a1d05d606f&quot;, &quot;type&quot;: &quot;io.drogue.event.v1&quot;, &quot;senderuid&quot;: &quot;d31a7cad-d2c8-4e62-b329-548bb76fd8ad&quot;, &quot;id&quot;: &quot;69af68b3-9e50-43cb-9a3e-7e2e5ed16844&quot;, &quot;sender&quot;: &quot;gateway1&quot;, &quot;source&quot;: &quot;drogue://e95ee6b2%2Dc256%2D42f8%2Db657%2D62a1d05d606f/device1&quot;, &quot;time&quot;: &quot;2022-05-09T10:16:58.659762177+00:00&quot;, &quot;deviceuid&quot;: &quot;ea85cc93-dc5e-4217-aae0-54cff20de6c7&quot;, &quot;applicationuid&quot;: &quot;c256697f-6676-426d-9a61-0474204e7527&quot;}, payload: &quot;{\&quot;index\&quot;:3}&quot; }
[2022-05-09T10:16:59Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-09T10:16:59Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-09T10:16:59Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-09T10:16:59Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry/device1
[2022-05-09T10:16:59Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005/mqtt&quot;, client_id: &quot;cdb944db-47ff-4bab-885f-d0b56a3b6338&quot;, persistence: None, user_data: None }
[2022-05-09T10:16:59Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T10:16:59Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55efdbfee1d0
[2022-05-09T10:16:59Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55efdbfee1d0
[2022-05-09T10:16:59Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x55efdc37cdd0, password: 0x55efdc09d960, connectTimeout: 30, retryInterval: 0, ssl: 0x55efdbff5ec0, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55efdc1cbd30, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;gateway1@e95ee6b2-c256-42f8-b657-62a1d05d606f&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T10:17:00Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 18, payload: 0x7f0edc028b10, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 586, array: 0x55efdbfe8810 } }, data: MessageData { topic: &quot;app/e95ee6b2-c256-42f8-b657-62a1d05d606f&quot;, payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 586, array: 0x55efdbfe8810 } } } }
[2022-05-09T10:17:00Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55efdbe28730, 0x7f0ed8007a60
[2022-05-09T10:17:00Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8007a60, 0x7f0edc009620
[2022-05-09T10:17:00Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8007a60, 0x7f0ed80079d0
[2022-05-09T10:17:00Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed80079d0, 0x7f0edc009780
[2022-05-09T10:17:00Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed80079d0, 0x7f0ed8004b80
[2022-05-09T10:17:00Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8004b80, 0x7f0edc009620
[2022-05-09T10:17:00Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8004b80, 0x7f0ed8004ba0
[2022-05-09T10:17:00Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8004ba0, 0x7f0edc009620
[2022-05-09T10:17:00Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8004ba0, 0x7f0ed80040f0
[2022-05-09T10:17:00Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed80040f0, 0x7f0edc009620
[2022-05-09T10:17:00Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed80040f0, 0x7f0ed8009150
[2022-05-09T10:17:00Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8009150, 0x7f0edc00e170
[2022-05-09T10:17:00Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8009150, 0x7f0edc009620
[2022-05-09T10:17:00Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8009150, 0x7f0edc009620
[2022-05-09T10:17:00Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f0ed8009150
[2022-05-09T10:17:00Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/e95ee6b2-c256-42f8-b657-62a1d05d606f&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;instance&quot;: &quot;drogue&quot;, &quot;application&quot;: &quot;e95ee6b2-c256-42f8-b657-62a1d05d606f&quot;, &quot;sender&quot;: &quot;gateway1&quot;, &quot;id&quot;: &quot;9f0a30a9-a320-4f6c-8f4f-8e0af3fcf4f3&quot;, &quot;device&quot;: &quot;gateway1&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;partitionkey&quot;: &quot;e95ee6b2%2Dc256%2D42f8%2Db657%2D62a1d05d606f/gateway1&quot;, &quot;senderuid&quot;: &quot;d31a7cad-d2c8-4e62-b329-548bb76fd8ad&quot;, &quot;deviceuid&quot;: &quot;d31a7cad-d2c8-4e62-b329-548bb76fd8ad&quot;, &quot;time&quot;: &quot;2022-05-09T10:16:59.776249198+00:00&quot;, &quot;applicationuid&quot;: &quot;c256697f-6676-426d-9a61-0474204e7527&quot;, &quot;subject&quot;: &quot;connection&quot;, &quot;type&quot;: &quot;io.drogue.connection.v1&quot;, &quot;source&quot;: &quot;drogue://e95ee6b2%2Dc256%2D42f8%2Db657%2D62a1d05d606f/gateway1&quot;}, payload: &quot;{\&quot;connected\&quot;:true}&quot; }
[2022-05-09T10:17:00Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55efdc178840 } }, data: MessageData { topic: &quot;telemetry/device1&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55efdc178840 } } } }
[2022-05-09T10:17:00Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-09T10:17:00Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 585, array: 0x55efdbe2e8c0 } }, data: MessageData { topic: &quot;app/e95ee6b2-c256-42f8-b657-62a1d05d606f&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 585, array: 0x55efdbe2e8c0 } } } }
[2022-05-09T10:17:00Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed80045a0, 0x7f0ed8007a80
[2022-05-09T10:17:00Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8007a80, 0x7f0ed8008880
[2022-05-09T10:17:00Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8007a80, 0x7f0ed8004bc0
[2022-05-09T10:17:00Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8004bc0, 0x7f0edc02eca0
[2022-05-09T10:17:00Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8004bc0, 0x7f0ed8007a60
[2022-05-09T10:17:00Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8007a60, 0x7f0ed8008880
[2022-05-09T10:17:00Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8007a60, 0x7f0ed8009280
[2022-05-09T10:17:00Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8009280, 0x7f0ed8007a60
[2022-05-09T10:17:00Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8007a60, 0x7f0ed8008880
[2022-05-09T10:17:00Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8007a60, 0x7f0ed80079f0
[2022-05-09T10:17:00Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed80079f0, 0x7f0ed8008880
[2022-05-09T10:17:00Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed80079f0, 0x7f0ed8008880
[2022-05-09T10:17:00Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed80079f0, 0x7f0edc02f6c0
[2022-05-09T10:17:00Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed80079f0, 0x7f0ed8008880
[2022-05-09T10:17:00Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f0ed8009300
[2022-05-09T10:17:00Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/e95ee6b2-c256-42f8-b657-62a1d05d606f&quot;, content_type: Some(&quot;application/octet-stream&quot;), user_properties: {&quot;applicationuid&quot;: &quot;c256697f-6676-426d-9a61-0474204e7527&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;application&quot;: &quot;e95ee6b2-c256-42f8-b657-62a1d05d606f&quot;, &quot;partitionkey&quot;: &quot;e95ee6b2%2Dc256%2D42f8%2Db657%2D62a1d05d606f/device1&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;deviceuid&quot;: &quot;ea85cc93-dc5e-4217-aae0-54cff20de6c7&quot;, &quot;subject&quot;: &quot;telemetry&quot;, &quot;type&quot;: &quot;io.drogue.event.v1&quot;, &quot;source&quot;: &quot;drogue://e95ee6b2%2Dc256%2D42f8%2Db657%2D62a1d05d606f/device1&quot;, &quot;time&quot;: &quot;2022-05-09T10:17:00.083196537+00:00&quot;, &quot;id&quot;: &quot;5d116eb4-e88b-4dc1-8d13-61f193d4419f&quot;, &quot;device&quot;: &quot;device1&quot;, &quot;sender&quot;: &quot;gateway1&quot;, &quot;senderuid&quot;: &quot;d31a7cad-d2c8-4e62-b329-548bb76fd8ad&quot;}, payload: &quot;&quot; }
[2022-05-09T10:17:00Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 19, payload: 0x7f0edc028860, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 586, array: 0x55efdbf61870 } }, data: MessageData { topic: &quot;app/e95ee6b2-c256-42f8-b657-62a1d05d606f&quot;, payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 102, 97, 108, 115, 101, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 586, array: 0x55efdbf61870 } } } }
[2022-05-09T10:17:00Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed80092c0, 0x7f0ed8007a10
[2022-05-09T10:17:00Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8007a10, 0x7f0edc021a80
[2022-05-09T10:17:00Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8007a10, 0x7f0ed8007a60
[2022-05-09T10:17:00Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8007a60, 0x7f0edc00e240
[2022-05-09T10:17:00Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8007a60, 0x7f0ed8009280
[2022-05-09T10:17:00Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8009280, 0x7f0edc021a80
[2022-05-09T10:17:00Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8009280, 0x7f0ed80045a0
[2022-05-09T10:17:00Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed80045a0, 0x7f0ed8009280
[2022-05-09T10:17:00Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8009280, 0x7f0edc00e2f0
[2022-05-09T10:17:00Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8009280, 0x7f0edc021a80
[2022-05-09T10:17:00Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8009280, 0x7f0edc021a80
[2022-05-09T10:17:00Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8009280, 0x7f0edc021a80
[2022-05-09T10:17:00Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8009280, 0x7f0ed80092e0
[2022-05-09T10:17:00Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed80092e0, 0x7f0edc021a80
[2022-05-09T10:17:00Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f0ed80092e0
[2022-05-09T10:17:00Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/e95ee6b2-c256-42f8-b657-62a1d05d606f&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;application&quot;: &quot;e95ee6b2-c256-42f8-b657-62a1d05d606f&quot;, &quot;senderuid&quot;: &quot;d31a7cad-d2c8-4e62-b329-548bb76fd8ad&quot;, &quot;subject&quot;: &quot;connection&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;sender&quot;: &quot;gateway1&quot;, &quot;applicationuid&quot;: &quot;c256697f-6676-426d-9a61-0474204e7527&quot;, &quot;deviceuid&quot;: &quot;d31a7cad-d2c8-4e62-b329-548bb76fd8ad&quot;, &quot;device&quot;: &quot;gateway1&quot;, &quot;source&quot;: &quot;drogue://e95ee6b2%2Dc256%2D42f8%2Db657%2D62a1d05d606f/gateway1&quot;, &quot;time&quot;: &quot;2022-05-09T10:17:00.774505648+00:00&quot;, &quot;type&quot;: &quot;io.drogue.connection.v1&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;partitionkey&quot;: &quot;e95ee6b2%2Dc256%2D42f8%2Db657%2D62a1d05d606f/gateway1&quot;, &quot;id&quot;: &quot;7706cd9c-7de7-4809-8f0e-08d0d5d98df6&quot;}, payload: &quot;{\&quot;connected\&quot;:false}&quot; }
[2022-05-09T10:17:00Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-09T10:17:00Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-09T10:17:00Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-09T10:17:00Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;e95ee6b2-c256-42f8-b657-62a1d05d606f&quot;, device: &quot;gateway1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`,
 right: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;e95ee6b2-c256-42f8-b657-62a1d05d606f&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`: Position #0&#x27;, src/tools/assert.rs:35:39
[2022-05-09T10:17:00Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-09T10:17:00Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;e95ee6b2-c256-42f8-b657-62a1d05d606f&quot; &quot;device1&quot;
[2022-05-09T10:17:00Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:17:00Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-05-09T10:17:00Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;e95ee6b2-c256-42f8-b657-62a1d05d606f&quot; &quot;gateway1&quot;
[2022-05-09T10:17:00Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:17:00Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;e95ee6b2-c256-42f8-b657-62a1d05d606f&#x27;
[2022-05-09T10:17:00Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;e95ee6b2-c256-42f8-b657-62a1d05d606f&quot;
[2022-05-09T10:17:01Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App e95ee6b2-c256-42f8-b657-62a1d05d606f deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_2::integration_version_3::integration_ws_2

**Duration**: 15s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-09T10:17:02Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-09T10:17:02Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T10:17:02Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T10:17:02Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T10:17:02Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T10:17:04Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-09T10:17:05Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-09T10:17:05Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T10:17:05Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T10:17:05Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T10:17:07Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI0NDVmMTM5Zi0wNjNjLTRhZDgtODkwYi1mNTg1OTQ0NjFiZDAifQ.eyJleHAiOjE2NTIwOTMyMjcsImlhdCI6MTY1MjA5MTQyNywianRpIjoiODY4MjI5OTQtYjMzZC00NGRiLTg0NTMtZDEwOWU1MTgyZDM0IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjNkZWIxOWY5LWM3NDYtNGIwMC1hOTA5LTJiOTg4NTVjZTRmMyIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlhNX3lDSlBJTURTaFJqVF9YMjM3QkEiLCJzZXNzaW9uX3N0YXRlIjoiYmU4ZDFiYjktMGNhMS00YzA5LTg5ZjgtZDZjMjg3NjViNDRmIiwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImJlOGQxYmI5LTBjYTEtNGMwOS04OWY4LWQ2YzI4NzY1YjQ0ZiJ9.LSEfQoTbI0RV8_vlUYEpcwIZEwbzil6ECLzusVPbJF8
[2022-05-09T10:17:07Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-09T10:17:07Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-09T10:17:07Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI0NDVmMTM5Zi0wNjNjLTRhZDgtODkwYi1mNTg1OTQ0NjFiZDAifQ.eyJleHAiOjE2NTIwOTMyMjcsImlhdCI6MTY1MjA5MTQyNywianRpIjoiODY4MjI5OTQtYjMzZC00NGRiLTg0NTMtZDEwOWU1MTgyZDM0IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjNkZWIxOWY5LWM3NDYtNGIwMC1hOTA5LTJiOTg4NTVjZTRmMyIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlhNX3lDSlBJTURTaFJqVF9YMjM3QkEiLCJzZXNzaW9uX3N0YXRlIjoiYmU4ZDFiYjktMGNhMS00YzA5LTg5ZjgtZDZjMjg3NjViNDRmIiwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImJlOGQxYmI5LTBjYTEtNGMwOS04OWY4LWQ2YzI4NzY1YjQ0ZiJ9.LSEfQoTbI0RV8_vlUYEpcwIZEwbzil6ECLzusVPbJF8&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-09T10:17:07Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:17:08Z INFO  drogue_cloud_tests::resources::apps] Create application: 2ec830d4-b899-4c01-9e5f-ae1e5f3a119f
[2022-05-09T10:17:08Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;2ec830d4-b899-4c01-9e5f-ae1e5f3a119f&quot;
[2022-05-09T10:17:08Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 2ec830d4-b899-4c01-9e5f-ae1e5f3a119f created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:17:08Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;2ec830d4-b899-4c01-9e5f-ae1e5f3a119f&quot;
[2022-05-09T10:17:08Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T10:17:08.194003Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 1,\n    \&quot;name\&quot;: \&quot;2ec830d4-b899-4c01-9e5f-ae1e5f3a119f\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;27a92b27-30e4-4b91-8b40-c9cb646256cd\&quot;,\n    \&quot;uid\&quot;: \&quot;33bc480d-4157-4f15-98c1-e5c5b20f5cc2\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:17:08.210813355Z\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: HasFinalizer\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:17:08.210927298Z\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:17:08.209899907Z\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:17:08.209901199Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:17:08.210019932Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:17:08.210020864Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:17:08.210022266Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:17:08.210036073Z\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:17:08Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T10:17:08.194003Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(1), &quot;name&quot;: String(&quot;2ec830d4-b899-4c01-9e5f-ae1e5f3a119f&quot;), &quot;resourceVersion&quot;: String(&quot;27a92b27-30e4-4b91-8b40-c9cb646256cd&quot;), &quot;uid&quot;: String(&quot;33bc480d-4157-4f15-98c1-e5c5b20f5cc2&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:17:08.210813355Z&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: HasFinalizer&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:17:08.210927298Z&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:17:08.209899907Z&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:17:08.209901199Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:17:08.210019932Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:17:08.210020864Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:17:08.210022266Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:17:08.210036073Z&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(0)})})})
[2022-05-09T10:17:08Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-09T10:17:09Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;2ec830d4-b899-4c01-9e5f-ae1e5f3a119f&quot;
[2022-05-09T10:17:09Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T10:17:08.194003Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 8,\n    \&quot;name\&quot;: \&quot;2ec830d4-b899-4c01-9e5f-ae1e5f3a119f\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;52a08117-7444-4059-81c9-67d6b3359cd2\&quot;,\n    \&quot;uid\&quot;: \&quot;33bc480d-4157-4f15-98c1-e5c5b20f5cc2\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:17:08.502110135Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:17:08.502152675Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:17:08.234066096Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:17:08.241209751Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:17:08.302675491Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:17:08.317561101Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:17:08.502064730Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:17:08.502081682Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 7,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;NXCQqftMYnb3\&quot;,\n        \&quot;username\&quot;: \&quot;user-2ec830d4-b899-4c01-9e5f-ae1e5f3a119f\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:17:09Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T10:17:08.194003Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(8), &quot;name&quot;: String(&quot;2ec830d4-b899-4c01-9e5f-ae1e5f3a119f&quot;), &quot;resourceVersion&quot;: String(&quot;52a08117-7444-4059-81c9-67d6b3359cd2&quot;), &quot;uid&quot;: String(&quot;33bc480d-4157-4f15-98c1-e5c5b20f5cc2&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:17:08.502110135Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:17:08.502152675Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:17:08.234066096Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:17:08.241209751Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:17:08.302675491Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:17:08.317561101Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:17:08.502064730Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:17:08.502081682Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(7), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;NXCQqftMYnb3&quot;), &quot;username&quot;: String(&quot;user-2ec830d4-b899-4c01-9e5f-ae1e5f3a119f&quot;)})})})})
[2022-05-09T10:17:09Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-09T10:17:09Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;2ec830d4-b899-4c01-9e5f-ae1e5f3a119f&quot;
[2022-05-09T10:17:09Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T10:17:08.194003Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 8,\n    \&quot;name\&quot;: \&quot;2ec830d4-b899-4c01-9e5f-ae1e5f3a119f\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;52a08117-7444-4059-81c9-67d6b3359cd2\&quot;,\n    \&quot;uid\&quot;: \&quot;33bc480d-4157-4f15-98c1-e5c5b20f5cc2\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:17:08.502110135Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:17:08.502152675Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:17:08.234066096Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:17:08.241209751Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:17:08.302675491Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:17:08.317561101Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:17:08.502064730Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:17:08.502081682Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 7,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;NXCQqftMYnb3\&quot;,\n        \&quot;username\&quot;: \&quot;user-2ec830d4-b899-4c01-9e5f-ae1e5f3a119f\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:17:09Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T10:17:08.194003Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(8), &quot;name&quot;: String(&quot;2ec830d4-b899-4c01-9e5f-ae1e5f3a119f&quot;), &quot;resourceVersion&quot;: String(&quot;52a08117-7444-4059-81c9-67d6b3359cd2&quot;), &quot;uid&quot;: String(&quot;33bc480d-4157-4f15-98c1-e5c5b20f5cc2&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:17:08.502110135Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:17:08.502152675Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:17:08.234066096Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:17:08.241209751Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:17:08.302675491Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:17:08.317561101Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:17:08.502064730Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:17:08.502081682Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(7), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;NXCQqftMYnb3&quot;), &quot;username&quot;: String(&quot;user-2ec830d4-b899-4c01-9e5f-ae1e5f3a119f&quot;)})})})})
[2022-05-09T10:17:09Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-09T10:17:09Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-05-09T10:17:09Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;2ec830d4-b899-4c01-9e5f-ae1e5f3a119f&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-09T10:17:09Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:17:09Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:17:09Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T10:17:09Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T10:17:09Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJXRG4zQ2wwMVNsYVpRRnRTbUpuS2JqWC1wcXdsR21xWDhSUFNWSHgxUHgwIn0.eyJleHAiOjE2NTIwOTE3MjcsImlhdCI6MTY1MjA5MTQyNywiYXV0aF90aW1lIjoxNjUyMDkxNDI0LCJqdGkiOiJhZGEwY2YzMy1jODZiLTRhMDQtYmYxNS1kOTFlOWMyYTJjMGIiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiM2RlYjE5ZjktYzc0Ni00YjAwLWE5MDktMmI5ODg1NWNlNGYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJYTV95Q0pQSU1EU2hSalRfWDIzN0JBIiwic2Vzc2lvbl9zdGF0ZSI6ImJlOGQxYmI5LTBjYTEtNGMwOS04OWY4LWQ2YzI4NzY1YjQ0ZiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImJlOGQxYmI5LTBjYTEtNGMwOS04OWY4LWQ2YzI4NzY1YjQ0ZiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.KSRI5pqSfay-1b8VsZ6ZQhImzLjXPoD9KQaOpdNgP4ui89NSH_56eNxG2b0v52TfRsMYqVYwntUY-5i54v-C5vwlEYttpCd_UhBf_Ia8d-I9nrLRTWK24STp7vmLPepNpIflINSITyfYUIs5G1MtwVlpT09oDVq9CGKgejqEKw_0RitgY14RVIOU3KWgLtrKyJuEgj6WgnKKuI4YXFJU8rxvd87HPVMS2Rs25Kz5xVR5HAeIhoNlGsxPTubmmqYGEa0dCiuaRSRgqJ6nV9kuFBpzDptgJkwM95ImOdBdSm9jbJK490iKZS_ZqNQauBfArK2c209xsrhpjiGYA0WXOA\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:17:09Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T10:17:09Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-09T10:17:09Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-09T10:17:09Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;2ec830d4-b899-4c01-9e5f-ae1e5f3a119f&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-05-09T10:17:09Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:17:09Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt
[2022-05-09T10:17:09Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T10:17:09Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJXRG4zQ2wwMVNsYVpRRnRTbUpuS2JqWC1wcXdsR21xWDhSUFNWSHgxUHgwIn0.eyJleHAiOjE2NTIwOTE3MjcsImlhdCI6MTY1MjA5MTQyNywiYXV0aF90aW1lIjoxNjUyMDkxNDI0LCJqdGkiOiJhZGEwY2YzMy1jODZiLTRhMDQtYmYxNS1kOTFlOWMyYTJjMGIiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiM2RlYjE5ZjktYzc0Ni00YjAwLWE5MDktMmI5ODg1NWNlNGYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJYTV95Q0pQSU1EU2hSalRfWDIzN0JBIiwic2Vzc2lvbl9zdGF0ZSI6ImJlOGQxYmI5LTBjYTEtNGMwOS04OWY4LWQ2YzI4NzY1YjQ0ZiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImJlOGQxYmI5LTBjYTEtNGMwOS04OWY4LWQ2YzI4NzY1YjQ0ZiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.KSRI5pqSfay-1b8VsZ6ZQhImzLjXPoD9KQaOpdNgP4ui89NSH_56eNxG2b0v52TfRsMYqVYwntUY-5i54v-C5vwlEYttpCd_UhBf_Ia8d-I9nrLRTWK24STp7vmLPepNpIflINSITyfYUIs5G1MtwVlpT09oDVq9CGKgejqEKw_0RitgY14RVIOU3KWgLtrKyJuEgj6WgnKKuI4YXFJU8rxvd87HPVMS2Rs25Kz5xVR5HAeIhoNlGsxPTubmmqYGEa0dCiuaRSRgqJ6nV9kuFBpzDptgJkwM95ImOdBdSm9jbJK490iKZS_ZqNQauBfArK2c209xsrhpjiGYA0WXOA\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:17:09Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt&quot;, client_id: &quot;8ba8767c-7d4a-4cdd-b52c-0d6c1c247ad8&quot;, persistence: None, user_data: None }
[2022-05-09T10:17:09Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T10:17:09Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55efdc179060
[2022-05-09T10:17:09Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55efdc179060
[2022-05-09T10:17:09Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x55efdc17a6c0, connectTimeout: 30, retryInterval: 0, ssl: 0x55efdc37d570, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55efdbdf0ba0, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJXRG4zQ2wwMVNsYVpRRnRTbUpuS2JqWC1wcXdsR21xWDhSUFNWSHgxUHgwIn0.eyJleHAiOjE2NTIwOTE3MjcsImlhdCI6MTY1MjA5MTQyNywiYXV0aF90aW1lIjoxNjUyMDkxNDI0LCJqdGkiOiJhZGEwY2YzMy1jODZiLTRhMDQtYmYxNS1kOTFlOWMyYTJjMGIiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiM2RlYjE5ZjktYzc0Ni00YjAwLWE5MDktMmI5ODg1NWNlNGYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJYTV95Q0pQSU1EU2hSalRfWDIzN0JBIiwic2Vzc2lvbl9zdGF0ZSI6ImJlOGQxYmI5LTBjYTEtNGMwOS04OWY4LWQ2YzI4NzY1YjQ0ZiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImJlOGQxYmI5LTBjYTEtNGMwOS04OWY4LWQ2YzI4NzY1YjQ0ZiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.KSRI5pqSfay-1b8VsZ6ZQhImzLjXPoD9KQaOpdNgP4ui89NSH_56eNxG2b0v52TfRsMYqVYwntUY-5i54v-C5vwlEYttpCd_UhBf_Ia8d-I9nrLRTWK24STp7vmLPepNpIflINSITyfYUIs5G1MtwVlpT09oDVq9CGKgejqEKw_0RitgY14RVIOU3KWgLtrKyJuEgj6WgnKKuI4YXFJU8rxvd87HPVMS2Rs25Kz5xVR5HAeIhoNlGsxPTubmmqYGEa0dCiuaRSRgqJ6nV9kuFBpzDptgJkwM95ImOdBdSm9jbJK490iKZS_ZqNQauBfArK2c209xsrhpjiGYA0WXOA&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T10:17:09Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/2ec830d4-b899-4c01-9e5f-ae1e5f3a119f&quot;&#x27; @ QOS 0
[2022-05-09T10:17:09Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-09T10:17:09Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-09T10:17:09Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:17:09Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:17:09Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:17:09Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:17:10Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:17:10Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:17:10Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:17:10Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:17:11Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:17:11Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:17:11Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:17:11Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:17:12Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:17:12Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1)
[2022-05-09T10:17:12Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:17:12Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?as=device1
[2022-05-09T10:17:13Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 11, payload: 0x7f0edc00eb00, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 574, array: 0x7f0ed002c900 } }, data: MessageData { topic: &quot;app/2ec830d4-b899-4c01-9e5f-ae1e5f3a119f&quot;, payload: [123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 574, array: 0x7f0ed002c900 } } } }
[2022-05-09T10:17:13Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55efdbeef040, 0x7f0ee0006100
[2022-05-09T10:17:13Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0006100, 0x55efdbef2a00
[2022-05-09T10:17:13Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0006100, 0x55efdbed8dc0
[2022-05-09T10:17:13Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55efdbed8dc0, 0x55efdc1982b0
[2022-05-09T10:17:13Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55efdbed8dc0, 0x7f0ee0001ba0
[2022-05-09T10:17:13Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0001ba0, 0x55efdbef2a00
[2022-05-09T10:17:13Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0001ba0, 0x55efdbef2a00
[2022-05-09T10:17:13Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0001ba0, 0x7f0ee0004e80
[2022-05-09T10:17:13Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0001ba0, 0x7f0ee00062c0
[2022-05-09T10:17:13Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee00062c0, 0x7f0ee0001ba0
[2022-05-09T10:17:13Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0001ba0, 0x7f0ee00062c0
[2022-05-09T10:17:13Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee00062c0, 0x55efdbef2a00
[2022-05-09T10:17:13Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee00062c0, 0x55efdbef2a00
[2022-05-09T10:17:13Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee00062c0, 0x55efdbef2a00
[2022-05-09T10:17:13Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f0ee00062c0
[2022-05-09T10:17:13Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/2ec830d4-b899-4c01-9e5f-ae1e5f3a119f&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;type&quot;: &quot;io.drogue.event.v1&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;subject&quot;: &quot;warmup&quot;, &quot;device&quot;: &quot;device1&quot;, &quot;sender&quot;: &quot;gateway1&quot;, &quot;time&quot;: &quot;2022-05-09T10:17:12.650346013+00:00&quot;, &quot;application&quot;: &quot;2ec830d4-b899-4c01-9e5f-ae1e5f3a119f&quot;, &quot;id&quot;: &quot;c76a7c69-b335-42df-b3aa-631dc9ded2a7&quot;, &quot;source&quot;: &quot;drogue://2ec830d4%2Db899%2D4c01%2D9e5f%2Dae1e5f3a119f/device1&quot;, &quot;applicationuid&quot;: &quot;33bc480d-4157-4f15-98c1-e5c5b20f5cc2&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;deviceuid&quot;: &quot;d821160e-32ee-4ba7-8a1d-af2fb8ce8fdc&quot;, &quot;senderuid&quot;: &quot;dc4fe82a-f8af-4095-b73c-a6dea427e046&quot;, &quot;partitionkey&quot;: &quot;2ec830d4%2Db899%2D4c01%2D9e5f%2Dae1e5f3a119f/device1&quot;}, payload: &quot;{\&quot;index\&quot;:3}&quot; }
[2022-05-09T10:17:13Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-09T10:17:13Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-09T10:17:13Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-09T10:17:13Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry/device1
[2022-05-09T10:17:13Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005/mqtt&quot;, client_id: &quot;bfae9663-cae9-4a04-8816-8aa4e527f1d7&quot;, persistence: None, user_data: None }
[2022-05-09T10:17:13Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T10:17:13Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55efdc07dcb0
[2022-05-09T10:17:13Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55efdc07dcb0
[2022-05-09T10:17:13Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x55efdbf77860, password: 0x55efdbeb25f0, connectTimeout: 30, retryInterval: 0, ssl: 0x55efdc2dcd10, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55efdbf214d0, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;gateway1@2ec830d4-b899-4c01-9e5f-ae1e5f3a119f&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T10:17:15Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 18, payload: 0x7f0edc0022a0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 586, array: 0x7f0ed0015320 } }, data: MessageData { topic: &quot;app/2ec830d4-b899-4c01-9e5f-ae1e5f3a119f&quot;, payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 586, array: 0x7f0ed0015320 } } } }
[2022-05-09T10:17:15Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0006ec0, 0x7f0ee00062e0
[2022-05-09T10:17:15Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee00062e0, 0x7f0edc00eeb0
[2022-05-09T10:17:15Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee00062e0, 0x7f0ee0006280
[2022-05-09T10:17:15Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0006280, 0x7f0edc00ec30
[2022-05-09T10:17:15Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0006280, 0x7f0ee00062c0
[2022-05-09T10:17:15Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55efdbfaa600 } }, data: MessageData { topic: &quot;telemetry/device1&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55efdbfaa600 } } } }
[2022-05-09T10:17:15Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee00062c0, 0x7f0edc00eeb0
[2022-05-09T10:17:15Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee00062c0, 0x7f0ee0007cf0
[2022-05-09T10:17:15Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0007cf0, 0x7f0edc022510
[2022-05-09T10:17:15Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0007cf0, 0x7f0ee00062a0
[2022-05-09T10:17:15Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee00062a0, 0x7f0edc00eeb0
[2022-05-09T10:17:15Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee00062a0, 0x7f0edc00eeb0
[2022-05-09T10:17:15Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee00062a0, 0x7f0edc00eeb0
[2022-05-09T10:17:15Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee00062a0, 0x7f0ee0007e20
[2022-05-09T10:17:15Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0007e20, 0x7f0edc00eeb0
[2022-05-09T10:17:15Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f0ee0007e20
[2022-05-09T10:17:15Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/2ec830d4-b899-4c01-9e5f-ae1e5f3a119f&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;id&quot;: &quot;c880cf14-e5cf-46f5-b835-0ede686128a0&quot;, &quot;time&quot;: &quot;2022-05-09T10:17:14.109836009+00:00&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;type&quot;: &quot;io.drogue.connection.v1&quot;, &quot;application&quot;: &quot;2ec830d4-b899-4c01-9e5f-ae1e5f3a119f&quot;, &quot;senderuid&quot;: &quot;dc4fe82a-f8af-4095-b73c-a6dea427e046&quot;, &quot;deviceuid&quot;: &quot;dc4fe82a-f8af-4095-b73c-a6dea427e046&quot;, &quot;partitionkey&quot;: &quot;2ec830d4%2Db899%2D4c01%2D9e5f%2Dae1e5f3a119f/gateway1&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;device&quot;: &quot;gateway1&quot;, &quot;sender&quot;: &quot;gateway1&quot;, &quot;source&quot;: &quot;drogue://2ec830d4%2Db899%2D4c01%2D9e5f%2Dae1e5f3a119f/gateway1&quot;, &quot;subject&quot;: &quot;connection&quot;, &quot;applicationuid&quot;: &quot;33bc480d-4157-4f15-98c1-e5c5b20f5cc2&quot;}, payload: &quot;{\&quot;connected\&quot;:true}&quot; }
[2022-05-09T10:17:15Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-09T10:17:15Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 19, payload: 0x7f0edc026d40, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 586, array: 0x7f0ed0015f40 } }, data: MessageData { topic: &quot;app/2ec830d4-b899-4c01-9e5f-ae1e5f3a119f&quot;, payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 102, 97, 108, 115, 101, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 586, array: 0x7f0ed0015f40 } } } }
[2022-05-09T10:17:15Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0edc00eb20, 0x7f0ee0005540
[2022-05-09T10:17:15Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0005540, 0x7f0ee0005560
[2022-05-09T10:17:15Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0005540, 0x7f0ee0006ec0
[2022-05-09T10:17:15Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0006ec0, 0x7f0edc031880
[2022-05-09T10:17:15Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0006ec0, 0x7f0ee0006f20
[2022-05-09T10:17:15Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0006f20, 0x7f0ee0005560
[2022-05-09T10:17:15Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0006f20, 0x7f0ee0005560
[2022-05-09T10:17:15Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0006f20, 0x7f0ee0004410
[2022-05-09T10:17:15Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0004410, 0x7f0ee0005560
[2022-05-09T10:17:15Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0004410, 0x7f0ee0001ba0
[2022-05-09T10:17:15Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0001ba0, 0x7f0edc031ba0
[2022-05-09T10:17:15Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0001ba0, 0x7f0ee00057a0
[2022-05-09T10:17:15Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee00057a0, 0x7f0ee0005560
[2022-05-09T10:17:15Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee00057a0, 0x7f0ee0005560
[2022-05-09T10:17:15Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f0ee00057a0
[2022-05-09T10:17:15Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/2ec830d4-b899-4c01-9e5f-ae1e5f3a119f&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;partitionkey&quot;: &quot;2ec830d4%2Db899%2D4c01%2D9e5f%2Dae1e5f3a119f/gateway1&quot;, &quot;applicationuid&quot;: &quot;33bc480d-4157-4f15-98c1-e5c5b20f5cc2&quot;, &quot;device&quot;: &quot;gateway1&quot;, &quot;time&quot;: &quot;2022-05-09T10:17:15.210401414+00:00&quot;, &quot;deviceuid&quot;: &quot;dc4fe82a-f8af-4095-b73c-a6dea427e046&quot;, &quot;source&quot;: &quot;drogue://2ec830d4%2Db899%2D4c01%2D9e5f%2Dae1e5f3a119f/gateway1&quot;, &quot;subject&quot;: &quot;connection&quot;, &quot;application&quot;: &quot;2ec830d4-b899-4c01-9e5f-ae1e5f3a119f&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;senderuid&quot;: &quot;dc4fe82a-f8af-4095-b73c-a6dea427e046&quot;, &quot;id&quot;: &quot;101f569d-2b9a-4d9f-b4e9-645c5c8ba4bb&quot;, &quot;type&quot;: &quot;io.drogue.connection.v1&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;sender&quot;: &quot;gateway1&quot;}, payload: &quot;{\&quot;connected\&quot;:false}&quot; }
[2022-05-09T10:17:15Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 585, array: 0x7f0ed00168d0 } }, data: MessageData { topic: &quot;app/2ec830d4-b899-4c01-9e5f-ae1e5f3a119f&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 585, array: 0x7f0ed00168d0 } } } }
[2022-05-09T10:17:15Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0006ec0, 0x7f0ee0007cf0
[2022-05-09T10:17:15Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0007cf0, 0x7f0edc028030
[2022-05-09T10:17:15Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0007cf0, 0x7f0ee0004410
[2022-05-09T10:17:15Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0004410, 0x7f0edc00eab0
[2022-05-09T10:17:15Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0004410, 0x7f0ee00062c0
[2022-05-09T10:17:15Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee00062c0, 0x7f0edc028030
[2022-05-09T10:17:15Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee00062c0, 0x7f0ee0006280
[2022-05-09T10:17:15Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0006280, 0x7f0edc028030
[2022-05-09T10:17:15Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0006280, 0x7f0edc024960
[2022-05-09T10:17:15Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0006280, 0x7f0ee00062a0
[2022-05-09T10:17:15Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee00062a0, 0x7f0edc028030
[2022-05-09T10:17:15Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee00062a0, 0x7f0ee0005540
[2022-05-09T10:17:15Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0005540, 0x7f0edc028030
[2022-05-09T10:17:15Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0005540, 0x7f0edc028030
[2022-05-09T10:17:15Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f0ee0007f00
[2022-05-09T10:17:15Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/2ec830d4-b899-4c01-9e5f-ae1e5f3a119f&quot;, content_type: Some(&quot;application/octet-stream&quot;), user_properties: {&quot;device&quot;: &quot;device1&quot;, &quot;applicationuid&quot;: &quot;33bc480d-4157-4f15-98c1-e5c5b20f5cc2&quot;, &quot;application&quot;: &quot;2ec830d4-b899-4c01-9e5f-ae1e5f3a119f&quot;, &quot;id&quot;: &quot;7b2a0d6d-e3e2-45f6-8feb-de6d6678691b&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;subject&quot;: &quot;telemetry&quot;, &quot;source&quot;: &quot;drogue://2ec830d4%2Db899%2D4c01%2D9e5f%2Dae1e5f3a119f/device1&quot;, &quot;deviceuid&quot;: &quot;d821160e-32ee-4ba7-8a1d-af2fb8ce8fdc&quot;, &quot;sender&quot;: &quot;gateway1&quot;, &quot;type&quot;: &quot;io.drogue.event.v1&quot;, &quot;partitionkey&quot;: &quot;2ec830d4%2Db899%2D4c01%2D9e5f%2Dae1e5f3a119f/device1&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;time&quot;: &quot;2022-05-09T10:17:15.209462108+00:00&quot;, &quot;senderuid&quot;: &quot;dc4fe82a-f8af-4095-b73c-a6dea427e046&quot;}, payload: &quot;&quot; }
[2022-05-09T10:17:15Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-09T10:17:15Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-09T10:17:15Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-09T10:17:15Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;2ec830d4-b899-4c01-9e5f-ae1e5f3a119f&quot;, device: &quot;gateway1&quot;, sender: &quot;gateway1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`,
 right: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;2ec830d4-b899-4c01-9e5f-ae1e5f3a119f&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125] }`: Position #0&#x27;, src/tools/assert.rs:35:39
[2022-05-09T10:17:16Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-09T10:17:16Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;2ec830d4-b899-4c01-9e5f-ae1e5f3a119f&quot; &quot;device1&quot;
[2022-05-09T10:17:16Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:17:16Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-05-09T10:17:16Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;2ec830d4-b899-4c01-9e5f-ae1e5f3a119f&quot; &quot;gateway1&quot;
[2022-05-09T10:17:16Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device gateway1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:17:16Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;2ec830d4-b899-4c01-9e5f-ae1e5f3a119f&#x27;
[2022-05-09T10:17:16Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;2ec830d4-b899-4c01-9e5f-ae1e5f3a119f&quot;
[2022-05-09T10:17:16Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 2ec830d4-b899-4c01-9e5f-ae1e5f3a119f deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_1::integration_version_1::integration_ws_1

**Duration**: 14s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-09T10:17:18Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-09T10:17:18Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T10:17:18Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T10:17:18Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T10:17:18Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T10:17:19Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-09T10:17:20Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-09T10:17:20Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T10:17:20Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T10:17:20Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T10:17:22Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI0NDVmMTM5Zi0wNjNjLTRhZDgtODkwYi1mNTg1OTQ0NjFiZDAifQ.eyJleHAiOjE2NTIwOTMyNDIsImlhdCI6MTY1MjA5MTQ0MiwianRpIjoiMDM2ZmMyNTQtMzY0NC00ZmUyLThlZGQtMTBlYmZhM2RjZTA2IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjNkZWIxOWY5LWM3NDYtNGIwMC1hOTA5LTJiOTg4NTVjZTRmMyIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IjhhMlo5YmYybGxUcmJCTG1OLWxuZVEiLCJzZXNzaW9uX3N0YXRlIjoiNzE4Mzk4YWUtZDJkMi00MDc2LWJkOWEtZDFjNjE1ZjAxNTRlIiwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjcxODM5OGFlLWQyZDItNDA3Ni1iZDlhLWQxYzYxNWYwMTU0ZSJ9.JTuELu026KfAYKNFc4BvqFW8kUQamJ8ysH46k9S24v0
[2022-05-09T10:17:22Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-09T10:17:22Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-09T10:17:22Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI0NDVmMTM5Zi0wNjNjLTRhZDgtODkwYi1mNTg1OTQ0NjFiZDAifQ.eyJleHAiOjE2NTIwOTMyNDIsImlhdCI6MTY1MjA5MTQ0MiwianRpIjoiMDM2ZmMyNTQtMzY0NC00ZmUyLThlZGQtMTBlYmZhM2RjZTA2IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjNkZWIxOWY5LWM3NDYtNGIwMC1hOTA5LTJiOTg4NTVjZTRmMyIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IjhhMlo5YmYybGxUcmJCTG1OLWxuZVEiLCJzZXNzaW9uX3N0YXRlIjoiNzE4Mzk4YWUtZDJkMi00MDc2LWJkOWEtZDFjNjE1ZjAxNTRlIiwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjcxODM5OGFlLWQyZDItNDA3Ni1iZDlhLWQxYzYxNWYwMTU0ZSJ9.JTuELu026KfAYKNFc4BvqFW8kUQamJ8ysH46k9S24v0&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-09T10:17:22Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:17:23Z INFO  drogue_cloud_tests::resources::apps] Create application: 62aabf27-3ca4-4787-93c6-c535dab395a9
[2022-05-09T10:17:23Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;62aabf27-3ca4-4787-93c6-c535dab395a9&quot;
[2022-05-09T10:17:23Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 62aabf27-3ca4-4787-93c6-c535dab395a9 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:17:23Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;62aabf27-3ca4-4787-93c6-c535dab395a9&quot;
[2022-05-09T10:17:23Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T10:17:23.294526Z\&quot;,\n    \&quot;generation\&quot;: 1,\n    \&quot;name\&quot;: \&quot;62aabf27-3ca4-4787-93c6-c535dab395a9\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;83648ee6-f0af-42ee-9989-8cfaa14f338c\&quot;,\n    \&quot;uid\&quot;: \&quot;6a2f9d22-e5ae-4562-a554-2f830f7426fe\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:17:23.310373211Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:17:23Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T10:17:23.294526Z&quot;), &quot;generation&quot;: Number(1), &quot;name&quot;: String(&quot;62aabf27-3ca4-4787-93c6-c535dab395a9&quot;), &quot;resourceVersion&quot;: String(&quot;83648ee6-f0af-42ee-9989-8cfaa14f338c&quot;), &quot;uid&quot;: String(&quot;6a2f9d22-e5ae-4562-a554-2f830f7426fe&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:17:23.310373211Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})])})})
[2022-05-09T10:17:23Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-09T10:17:24Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;62aabf27-3ca4-4787-93c6-c535dab395a9&quot;
[2022-05-09T10:17:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T10:17:23.294526Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;62aabf27-3ca4-4787-93c6-c535dab395a9\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;e27802d2-b9e6-4e88-b7fe-3d54e4d76798\&quot;,\n    \&quot;uid\&quot;: \&quot;6a2f9d22-e5ae-4562-a554-2f830f7426fe\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:17:23.662521567Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:17:23.662365364Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:17:23.346206482Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:17:23.353850452Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:17:23.436531946Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:17:23.442963460Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:17:23.662321192Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:17:23.662338975Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;QgOoiKPTTNNZ\&quot;,\n        \&quot;username\&quot;: \&quot;user-62aabf27-3ca4-4787-93c6-c535dab395a9\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:17:24Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T10:17:23.294526Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;62aabf27-3ca4-4787-93c6-c535dab395a9&quot;), &quot;resourceVersion&quot;: String(&quot;e27802d2-b9e6-4e88-b7fe-3d54e4d76798&quot;), &quot;uid&quot;: String(&quot;6a2f9d22-e5ae-4562-a554-2f830f7426fe&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:17:23.662521567Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:17:23.662365364Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:17:23.346206482Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:17:23.353850452Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:17:23.436531946Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:17:23.442963460Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:17:23.662321192Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:17:23.662338975Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;QgOoiKPTTNNZ&quot;), &quot;username&quot;: String(&quot;user-62aabf27-3ca4-4787-93c6-c535dab395a9&quot;)})})})})
[2022-05-09T10:17:24Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-09T10:17:24Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;62aabf27-3ca4-4787-93c6-c535dab395a9&quot;
[2022-05-09T10:17:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T10:17:23.294526Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;62aabf27-3ca4-4787-93c6-c535dab395a9\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;e27802d2-b9e6-4e88-b7fe-3d54e4d76798\&quot;,\n    \&quot;uid\&quot;: \&quot;6a2f9d22-e5ae-4562-a554-2f830f7426fe\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:17:23.662521567Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:17:23.662365364Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:17:23.346206482Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:17:23.353850452Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:17:23.436531946Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:17:23.442963460Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:17:23.662321192Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:17:23.662338975Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;QgOoiKPTTNNZ\&quot;,\n        \&quot;username\&quot;: \&quot;user-62aabf27-3ca4-4787-93c6-c535dab395a9\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:17:24Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T10:17:23.294526Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;62aabf27-3ca4-4787-93c6-c535dab395a9&quot;), &quot;resourceVersion&quot;: String(&quot;e27802d2-b9e6-4e88-b7fe-3d54e4d76798&quot;), &quot;uid&quot;: String(&quot;6a2f9d22-e5ae-4562-a554-2f830f7426fe&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:17:23.662521567Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:17:23.662365364Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:17:23.346206482Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:17:23.353850452Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:17:23.436531946Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:17:23.442963460Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:17:23.662321192Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:17:23.662338975Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;QgOoiKPTTNNZ&quot;), &quot;username&quot;: String(&quot;user-62aabf27-3ca4-4787-93c6-c535dab395a9&quot;)})})})})
[2022-05-09T10:17:24Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-09T10:17:24Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:17:24Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T10:17:24Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T10:17:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJXRG4zQ2wwMVNsYVpRRnRTbUpuS2JqWC1wcXdsR21xWDhSUFNWSHgxUHgwIn0.eyJleHAiOjE2NTIwOTE3NDIsImlhdCI6MTY1MjA5MTQ0MiwiYXV0aF90aW1lIjoxNjUyMDkxNDM5LCJqdGkiOiJlMGYzZWM3ZC1mYTUwLTQ5NWMtODg3MS0zYmM2OWM3YTdlZTUiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiM2RlYjE5ZjktYzc0Ni00YjAwLWE5MDktMmI5ODg1NWNlNGYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiI4YTJaOWJmMmxsVHJiQkxtTi1sbmVRIiwic2Vzc2lvbl9zdGF0ZSI6IjcxODM5OGFlLWQyZDItNDA3Ni1iZDlhLWQxYzYxNWYwMTU0ZSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjcxODM5OGFlLWQyZDItNDA3Ni1iZDlhLWQxYzYxNWYwMTU0ZSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.UHKaMtFDDZio81UGoaAqUqZHEk9aqD2_9nxzFGVCDdnldXlZIANdJk51JzfnMjhjBWPu7YZ00ce8aJNrlsu4VI_zx7ncLR5B990bDz5D8_FqtZiBCa69x0GBEqMiuMGnof_0O-u0217YeIlk3J9M0C8_xu0mrT6XvCo7kmhAHs5jpkDlG5LV1pIwL-4LHIPZ_R8K9vObysj9473A79dtNr8QjerJj3p9tr1SggVhNtHRLLtS2-JOB9zArMPkwU9F4E_i58zwfIBihh2H0XDNaPAj5s7Ae-UwysIxbITOLedBoY3pRpjXU3b-6fcxEmgk-0FQwpYq-rfkNcVZSKfC0g\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:17:24Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T10:17:24Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-09T10:17:24Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-09T10:17:24Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;62aabf27-3ca4-4787-93c6-c535dab395a9&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-09T10:17:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:17:24Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: ssl://mqtt-integration.172.18.0.2.nip.io:30002
[2022-05-09T10:17:24Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T10:17:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJXRG4zQ2wwMVNsYVpRRnRTbUpuS2JqWC1wcXdsR21xWDhSUFNWSHgxUHgwIn0.eyJleHAiOjE2NTIwOTE3NDIsImlhdCI6MTY1MjA5MTQ0MiwiYXV0aF90aW1lIjoxNjUyMDkxNDM5LCJqdGkiOiJlMGYzZWM3ZC1mYTUwLTQ5NWMtODg3MS0zYmM2OWM3YTdlZTUiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiM2RlYjE5ZjktYzc0Ni00YjAwLWE5MDktMmI5ODg1NWNlNGYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiI4YTJaOWJmMmxsVHJiQkxtTi1sbmVRIiwic2Vzc2lvbl9zdGF0ZSI6IjcxODM5OGFlLWQyZDItNDA3Ni1iZDlhLWQxYzYxNWYwMTU0ZSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjcxODM5OGFlLWQyZDItNDA3Ni1iZDlhLWQxYzYxNWYwMTU0ZSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.UHKaMtFDDZio81UGoaAqUqZHEk9aqD2_9nxzFGVCDdnldXlZIANdJk51JzfnMjhjBWPu7YZ00ce8aJNrlsu4VI_zx7ncLR5B990bDz5D8_FqtZiBCa69x0GBEqMiuMGnof_0O-u0217YeIlk3J9M0C8_xu0mrT6XvCo7kmhAHs5jpkDlG5LV1pIwL-4LHIPZ_R8K9vObysj9473A79dtNr8QjerJj3p9tr1SggVhNtHRLLtS2-JOB9zArMPkwU9F4E_i58zwfIBihh2H0XDNaPAj5s7Ae-UwysIxbITOLedBoY3pRpjXU3b-6fcxEmgk-0FQwpYq-rfkNcVZSKfC0g\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:17:24Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 4, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-integration.172.18.0.2.nip.io:30002&quot;, client_id: &quot;a4c40ee7-ac21-4c2f-852e-9f2fcb5bc3c9&quot;, persistence: None, user_data: None }
[2022-05-09T10:17:24Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T10:17:24Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55efdc341e50
[2022-05-09T10:17:24Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55efdc341e50
[2022-05-09T10:17:24Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 1, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x55efdbf2a8c0, connectTimeout: 30, retryInterval: 0, ssl: 0x55efdbe628c0, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 4, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 0, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55efdbfba2e0, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJXRG4zQ2wwMVNsYVpRRnRTbUpuS2JqWC1wcXdsR21xWDhSUFNWSHgxUHgwIn0.eyJleHAiOjE2NTIwOTE3NDIsImlhdCI6MTY1MjA5MTQ0MiwiYXV0aF90aW1lIjoxNjUyMDkxNDM5LCJqdGkiOiJlMGYzZWM3ZC1mYTUwLTQ5NWMtODg3MS0zYmM2OWM3YTdlZTUiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiM2RlYjE5ZjktYzc0Ni00YjAwLWE5MDktMmI5ODg1NWNlNGYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiI4YTJaOWJmMmxsVHJiQkxtTi1sbmVRIiwic2Vzc2lvbl9zdGF0ZSI6IjcxODM5OGFlLWQyZDItNDA3Ni1iZDlhLWQxYzYxNWYwMTU0ZSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjcxODM5OGFlLWQyZDItNDA3Ni1iZDlhLWQxYzYxNWYwMTU0ZSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.UHKaMtFDDZio81UGoaAqUqZHEk9aqD2_9nxzFGVCDdnldXlZIANdJk51JzfnMjhjBWPu7YZ00ce8aJNrlsu4VI_zx7ncLR5B990bDz5D8_FqtZiBCa69x0GBEqMiuMGnof_0O-u0217YeIlk3J9M0C8_xu0mrT6XvCo7kmhAHs5jpkDlG5LV1pIwL-4LHIPZ_R8K9vObysj9473A79dtNr8QjerJj3p9tr1SggVhNtHRLLtS2-JOB9zArMPkwU9F4E_i58zwfIBihh2H0XDNaPAj5s7Ae-UwysIxbITOLedBoY3pRpjXU3b-6fcxEmgk-0FQwpYq-rfkNcVZSKfC0g&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T10:17:24Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/62aabf27-3ca4-4787-93c6-c535dab395a9&quot;&#x27; @ QOS 0
[2022-05-09T10:17:24Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-09T10:17:24Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-09T10:17:24Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:17:24Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-09T10:17:24Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:17:24Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-09T10:17:25Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:17:25Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-09T10:17:25Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:17:25Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-09T10:17:26Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:17:26Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-09T10:17:26Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:17:26Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-09T10:17:27Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:17:27Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-09T10:17:27Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:17:27Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-09T10:17:28Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 620, payload: 0x7f0ed002b630, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/62aabf27-3ca4-4787-93c6-c535dab395a9&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 50, 56, 51, 101, 50, 51, 49, 51, 45, 50, 101, 98, 56, 45, 52, 102, 54, 52, 45, 97, 53, 49, 101, 45, 49, 55, 101, 101, 49, 99, 53, 102, 48, 98, 53, 99, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 54, 50, 97, 97, 98, 102, 50, 55, 37, 50, 68, 51, 99, 97, 52, 37, 50, 68, 52, 55, 56, 55, 37, 50, 68, 57, 51, 99, 54, 37, 50, 68, 99, 53, 51, 53, 100, 97, 98, 51, 57, 53, 97, 57, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 119, 97, 114, 109, 117, 112, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 48, 58, 49, 55, 58, 50, 55, 46, 54, 54, 53, 50, 50, 52, 50, 52, 52, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 54, 50, 97, 97, 98, 102, 50, 55, 45, 51, 99, 97, 52, 45, 52, 55, 56, 55, 45, 57, 51, 99, 54, 45, 99, 53, 51, 53, 100, 97, 98, 51, 57, 53, 97, 57, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 57, 101, 99, 50, 50, 97, 48, 54, 45, 55, 50, 53, 54, 45, 52, 97, 99, 55, 45, 57, 98, 102, 101, 45, 102, 54, 102, 101, 50, 101, 55, 99, 52, 101, 55, 52, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 54, 97, 50, 102, 57, 100, 50, 50, 45, 101, 53, 97, 101, 45, 52, 53, 54, 50, 45, 97, 53, 53, 52, 45, 50, 102, 56, 51, 48, 102, 55, 52, 50, 54, 102, 101, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 57, 101, 99, 50, 50, 97, 48, 54, 45, 55, 50, 53, 54, 45, 52, 97, 99, 55, 45, 57, 98, 102, 101, 45, 102, 54, 102, 101, 50, 101, 55, 99, 52, 101, 55, 52, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 54, 50, 97, 97, 98, 102, 50, 55, 37, 50, 68, 51, 99, 97, 52, 37, 50, 68, 52, 55, 56, 55, 37, 50, 68, 57, 51, 99, 54, 37, 50, 68, 99, 53, 51, 53, 100, 97, 98, 51, 57, 53, 97, 57, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-09T10:17:28Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/62aabf27-3ca4-4787-93c6-c535dab395a9&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;283e2313-2eb8-4f64-a51e-17ee1c5f0b5c\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://62aabf27%2D3ca4%2D4787%2D93c6%2Dc535dab395a9/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;warmup\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T10:17:27.665224244Z\&quot;,\&quot;data\&quot;:{\&quot;index\&quot;:3},\&quot;sender\&quot;:\&quot;device1\&quot;,\&quot;application\&quot;:\&quot;62aabf27-3ca4-4787-93c6-c535dab395a9\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;deviceuid\&quot;:\&quot;9ec22a06-7256-4ac7-9bfe-f6fe2e7c4e74\&quot;,\&quot;applicationuid\&quot;:\&quot;6a2f9d22-e5ae-4562-a554-2f830f7426fe\&quot;,\&quot;senderuid\&quot;:\&quot;9ec22a06-7256-4ac7-9bfe-f6fe2e7c4e74\&quot;,\&quot;partitionkey\&quot;:\&quot;62aabf27%2D3ca4%2D4787%2D93c6%2Dc535dab395a9/device1\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;}&quot; }
[2022-05-09T10:17:28Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-09T10:17:28Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-09T10:17:28Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-09T10:17:28Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry
[2022-05-09T10:17:28Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 4, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-endpoint.172.18.0.2.nip.io:30001&quot;, client_id: &quot;f865f3cf-b9dc-4584-b2a7-a24f148d53b8&quot;, persistence: None, user_data: None }
[2022-05-09T10:17:28Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T10:17:28Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55efdbe708a0
[2022-05-09T10:17:28Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55efdbe708a0
[2022-05-09T10:17:28Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 1, maxInflight: 65535, will: 0x0, username: 0x55efdc1a1140, password: 0x55efdc2afb60, connectTimeout: 30, retryInterval: 0, ssl: 0x55efdbff65b0, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 4, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 0, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55efdbff6800, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;device1@62aabf27-3ca4-4787-93c6-c535dab395a9&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T10:17:30Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 636, payload: 0x7f0ed00207e0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/62aabf27-3ca4-4787-93c6-c535dab395a9&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 54, 54, 49, 102, 99, 53, 97, 55, 45, 101, 56, 50, 48, 45, 52, 55, 97, 54, 45, 57, 97, 56, 100, 45, 54, 49, 50, 53, 52, 98, 57, 48, 54, 99, 99, 100, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 54, 50, 97, 97, 98, 102, 50, 55, 37, 50, 68, 51, 99, 97, 52, 37, 50, 68, 52, 55, 56, 55, 37, 50, 68, 57, 51, 99, 54, 37, 50, 68, 99, 53, 51, 53, 100, 97, 98, 51, 57, 53, 97, 57, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 48, 58, 49, 55, 58, 50, 57, 46, 49, 55, 50, 54, 48, 55, 57, 57, 48, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 54, 50, 97, 97, 98, 102, 50, 55, 45, 51, 99, 97, 52, 45, 52, 55, 56, 55, 45, 57, 51, 99, 54, 45, 99, 53, 51, 53, 100, 97, 98, 51, 57, 53, 97, 57, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 57, 101, 99, 50, 50, 97, 48, 54, 45, 55, 50, 53, 54, 45, 52, 97, 99, 55, 45, 57, 98, 102, 101, 45, 102, 54, 102, 101, 50, 101, 55, 99, 52, 101, 55, 52, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 54, 97, 50, 102, 57, 100, 50, 50, 45, 101, 53, 97, 101, 45, 52, 53, 54, 50, 45, 97, 53, 53, 52, 45, 50, 102, 56, 51, 48, 102, 55, 52, 50, 54, 102, 101, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 57, 101, 99, 50, 50, 97, 48, 54, 45, 55, 50, 53, 54, 45, 52, 97, 99, 55, 45, 57, 98, 102, 101, 45, 102, 54, 102, 101, 50, 101, 55, 99, 52, 101, 55, 52, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 54, 50, 97, 97, 98, 102, 50, 55, 37, 50, 68, 51, 99, 97, 52, 37, 50, 68, 52, 55, 56, 55, 37, 50, 68, 57, 51, 99, 54, 37, 50, 68, 99, 53, 51, 53, 100, 97, 98, 51, 57, 53, 97, 57, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-09T10:17:30Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55efdbec7110 } }, data: MessageData { topic: &quot;telemetry&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55efdbec7110 } } } }
[2022-05-09T10:17:30Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/62aabf27-3ca4-4787-93c6-c535dab395a9&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;661fc5a7-e820-47a6-9a8d-61254b906ccd\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://62aabf27%2D3ca4%2D4787%2D93c6%2Dc535dab395a9/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T10:17:29.172607990Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:true},\&quot;application\&quot;:\&quot;62aabf27-3ca4-4787-93c6-c535dab395a9\&quot;,\&quot;sender\&quot;:\&quot;device1\&quot;,\&quot;deviceuid\&quot;:\&quot;9ec22a06-7256-4ac7-9bfe-f6fe2e7c4e74\&quot;,\&quot;applicationuid\&quot;:\&quot;6a2f9d22-e5ae-4562-a554-2f830f7426fe\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;senderuid\&quot;:\&quot;9ec22a06-7256-4ac7-9bfe-f6fe2e7c4e74\&quot;,\&quot;partitionkey\&quot;:\&quot;62aabf27%2D3ca4%2D4787%2D93c6%2Dc535dab395a9/device1\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;}&quot; }
[2022-05-09T10:17:30Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-09T10:17:30Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 637, payload: 0x7f0ed0000ce0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/62aabf27-3ca4-4787-93c6-c535dab395a9&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 55, 52, 50, 55, 48, 48, 54, 54, 45, 101, 51, 102, 57, 45, 52, 57, 57, 50, 45, 57, 53, 55, 48, 45, 51, 101, 98, 57, 101, 101, 57, 52, 49, 100, 56, 99, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 54, 50, 97, 97, 98, 102, 50, 55, 37, 50, 68, 51, 99, 97, 52, 37, 50, 68, 52, 55, 56, 55, 37, 50, 68, 57, 51, 99, 54, 37, 50, 68, 99, 53, 51, 53, 100, 97, 98, 51, 57, 53, 97, 57, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 48, 58, 49, 55, 58, 51, 48, 46, 49, 48, 56, 54, 52, 57, 49, 56, 52, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 102, 97, 108, 115, 101, 125, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 54, 50, 97, 97, 98, 102, 50, 55, 45, 51, 99, 97, 52, 45, 52, 55, 56, 55, 45, 57, 51, 99, 54, 45, 99, 53, 51, 53, 100, 97, 98, 51, 57, 53, 97, 57, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 54, 97, 50, 102, 57, 100, 50, 50, 45, 101, 53, 97, 101, 45, 52, 53, 54, 50, 45, 97, 53, 53, 52, 45, 50, 102, 56, 51, 48, 102, 55, 52, 50, 54, 102, 101, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 57, 101, 99, 50, 50, 97, 48, 54, 45, 55, 50, 53, 54, 45, 52, 97, 99, 55, 45, 57, 98, 102, 101, 45, 102, 54, 102, 101, 50, 101, 55, 99, 52, 101, 55, 52, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 57, 101, 99, 50, 50, 97, 48, 54, 45, 55, 50, 53, 54, 45, 52, 97, 99, 55, 45, 57, 98, 102, 101, 45, 102, 54, 102, 101, 50, 101, 55, 99, 52, 101, 55, 52, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 54, 50, 97, 97, 98, 102, 50, 55, 37, 50, 68, 51, 99, 97, 52, 37, 50, 68, 52, 55, 56, 55, 37, 50, 68, 57, 51, 99, 54, 37, 50, 68, 99, 53, 51, 53, 100, 97, 98, 51, 57, 53, 97, 57, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-09T10:17:30Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/62aabf27-3ca4-4787-93c6-c535dab395a9&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;74270066-e3f9-4992-9570-3eb9ee941d8c\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://62aabf27%2D3ca4%2D4787%2D93c6%2Dc535dab395a9/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T10:17:30.108649184Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:false},\&quot;application\&quot;:\&quot;62aabf27-3ca4-4787-93c6-c535dab395a9\&quot;,\&quot;applicationuid\&quot;:\&quot;6a2f9d22-e5ae-4562-a554-2f830f7426fe\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;deviceuid\&quot;:\&quot;9ec22a06-7256-4ac7-9bfe-f6fe2e7c4e74\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;senderuid\&quot;:\&quot;9ec22a06-7256-4ac7-9bfe-f6fe2e7c4e74\&quot;,\&quot;partitionkey\&quot;:\&quot;62aabf27%2D3ca4%2D4787%2D93c6%2Dc535dab395a9/device1\&quot;,\&quot;sender\&quot;:\&quot;device1\&quot;}&quot; }
[2022-05-09T10:17:30Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 629, payload: 0x7f0ed001d660, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/62aabf27-3ca4-4787-93c6-c535dab395a9&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 50, 101, 57, 56, 99, 51, 98, 52, 45, 101, 48, 99, 49, 45, 52, 100, 53, 102, 45, 56, 48, 57, 101, 45, 57, 101, 99, 51, 51, 53, 51, 54, 54, 55, 55, 100, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 54, 50, 97, 97, 98, 102, 50, 55, 37, 50, 68, 51, 99, 97, 52, 37, 50, 68, 52, 55, 56, 55, 37, 50, 68, 57, 51, 99, 54, 37, 50, 68, 99, 53, 51, 53, 100, 97, 98, 51, 57, 53, 97, 57, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 111, 99, 116, 101, 116, 45, 115, 116, 114, 101, 97, 109, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 116, 101, 108, 101, 109, 101, 116, 114, 121, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 48, 58, 49, 55, 58, 51, 48, 46, 49, 48, 52, 57, 51, 48, 57, 55, 50, 90, 34, 44, 34, 100, 97, 116, 97, 95, 98, 97, 115, 101, 54, 52, 34, 58, 34, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 57, 101, 99, 50, 50, 97, 48, 54, 45, 55, 50, 53, 54, 45, 52, 97, 99, 55, 45, 57, 98, 102, 101, 45, 102, 54, 102, 101, 50, 101, 55, 99, 52, 101, 55, 52, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 57, 101, 99, 50, 50, 97, 48, 54, 45, 55, 50, 53, 54, 45, 52, 97, 99, 55, 45, 57, 98, 102, 101, 45, 102, 54, 102, 101, 50, 101, 55, 99, 52, 101, 55, 52, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 54, 50, 97, 97, 98, 102, 50, 55, 37, 50, 68, 51, 99, 97, 52, 37, 50, 68, 52, 55, 56, 55, 37, 50, 68, 57, 51, 99, 54, 37, 50, 68, 99, 53, 51, 53, 100, 97, 98, 51, 57, 53, 97, 57, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 54, 97, 50, 102, 57, 100, 50, 50, 45, 101, 53, 97, 101, 45, 52, 53, 54, 50, 45, 97, 53, 53, 52, 45, 50, 102, 56, 51, 48, 102, 55, 52, 50, 54, 102, 101, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 54, 50, 97, 97, 98, 102, 50, 55, 45, 51, 99, 97, 52, 45, 52, 55, 56, 55, 45, 57, 51, 99, 54, 45, 99, 53, 51, 53, 100, 97, 98, 51, 57, 53, 97, 57, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-09T10:17:30Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/62aabf27-3ca4-4787-93c6-c535dab395a9&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;2e98c3b4-e0c1-4d5f-809e-9ec33536677d\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://62aabf27%2D3ca4%2D4787%2D93c6%2Dc535dab395a9/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/octet-stream\&quot;,\&quot;subject\&quot;:\&quot;telemetry\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T10:17:30.104930972Z\&quot;,\&quot;data_base64\&quot;:\&quot;\&quot;,\&quot;deviceuid\&quot;:\&quot;9ec22a06-7256-4ac7-9bfe-f6fe2e7c4e74\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;sender\&quot;:\&quot;device1\&quot;,\&quot;senderuid\&quot;:\&quot;9ec22a06-7256-4ac7-9bfe-f6fe2e7c4e74\&quot;,\&quot;partitionkey\&quot;:\&quot;62aabf27%2D3ca4%2D4787%2D93c6%2Dc535dab395a9/device1\&quot;,\&quot;applicationuid\&quot;:\&quot;6a2f9d22-e5ae-4562-a554-2f830f7426fe\&quot;,\&quot;application\&quot;:\&quot;62aabf27-3ca4-4787-93c6-c535dab395a9\&quot;}&quot; }
[2022-05-09T10:17:30Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-09T10:17:30Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-09T10:17:30Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-09T10:17:30Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;62aabf27-3ca4-4787-93c6-c535dab395a9&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 102, 97, 108, 115, 101, 125] }`,
 right: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;62aabf27-3ca4-4787-93c6-c535dab395a9&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`: Position #1&#x27;, src/tools/assert.rs:35:39
[2022-05-09T10:17:30Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-09T10:17:30Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;62aabf27-3ca4-4787-93c6-c535dab395a9&quot; &quot;device1&quot;
[2022-05-09T10:17:30Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:17:30Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;62aabf27-3ca4-4787-93c6-c535dab395a9&#x27;
[2022-05-09T10:17:30Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;62aabf27-3ca4-4787-93c6-c535dab395a9&quot;
[2022-05-09T10:17:30Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 62aabf27-3ca4-4787-93c6-c535dab395a9 deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ✅ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_1::integration_version_1::integration_ws_2

**Duration**: 13s

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_1::integration_version_2::integration_ws_1

**Duration**: 14s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-09T10:17:46Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-09T10:17:46Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T10:17:46Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T10:17:46Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T10:17:46Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T10:17:48Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-09T10:17:49Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-09T10:17:49Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T10:17:49Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T10:17:49Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T10:17:51Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI0NDVmMTM5Zi0wNjNjLTRhZDgtODkwYi1mNTg1OTQ0NjFiZDAifQ.eyJleHAiOjE2NTIwOTMyNzEsImlhdCI6MTY1MjA5MTQ3MSwianRpIjoiMDFmNWE1NGEtMmY5ZC00OTBhLTkwZmYtYTgwNTE1MGYyZWJhIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjNkZWIxOWY5LWM3NDYtNGIwMC1hOTA5LTJiOTg4NTVjZTRmMyIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImRCWVlLTHltVThxNFY3aExEb2NDSHciLCJzZXNzaW9uX3N0YXRlIjoiZmNiNmRlMTItOWVhYi00NzE4LTg3NTctNmM1NTliNzVmZjgzIiwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImZjYjZkZTEyLTllYWItNDcxOC04NzU3LTZjNTU5Yjc1ZmY4MyJ9.GwEDpkEiiRWKu3igB_aU30luyLPlNoGMkU4WTdws21U
[2022-05-09T10:17:51Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-09T10:17:51Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-09T10:17:51Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI0NDVmMTM5Zi0wNjNjLTRhZDgtODkwYi1mNTg1OTQ0NjFiZDAifQ.eyJleHAiOjE2NTIwOTMyNzEsImlhdCI6MTY1MjA5MTQ3MSwianRpIjoiMDFmNWE1NGEtMmY5ZC00OTBhLTkwZmYtYTgwNTE1MGYyZWJhIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjNkZWIxOWY5LWM3NDYtNGIwMC1hOTA5LTJiOTg4NTVjZTRmMyIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImRCWVlLTHltVThxNFY3aExEb2NDSHciLCJzZXNzaW9uX3N0YXRlIjoiZmNiNmRlMTItOWVhYi00NzE4LTg3NTctNmM1NTliNzVmZjgzIiwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImZjYjZkZTEyLTllYWItNDcxOC04NzU3LTZjNTU5Yjc1ZmY4MyJ9.GwEDpkEiiRWKu3igB_aU30luyLPlNoGMkU4WTdws21U&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-09T10:17:51Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:17:52Z INFO  drogue_cloud_tests::resources::apps] Create application: 03b5929f-6e6a-4633-a408-d475747cf2a4
[2022-05-09T10:17:52Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;03b5929f-6e6a-4633-a408-d475747cf2a4&quot;
[2022-05-09T10:17:52Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 03b5929f-6e6a-4633-a408-d475747cf2a4 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:17:52Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;03b5929f-6e6a-4633-a408-d475747cf2a4&quot;
[2022-05-09T10:17:52Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T10:17:52.163475Z\&quot;,\n    \&quot;generation\&quot;: 1,\n    \&quot;name\&quot;: \&quot;03b5929f-6e6a-4633-a408-d475747cf2a4\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;e8b4b82a-0237-4315-ba41-99d50c2fad15\&quot;,\n    \&quot;uid\&quot;: \&quot;44cbbceb-8a91-4ab0-a554-1b01011d3a32\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:17:52.174311533Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:17:52Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T10:17:52.163475Z&quot;), &quot;generation&quot;: Number(1), &quot;name&quot;: String(&quot;03b5929f-6e6a-4633-a408-d475747cf2a4&quot;), &quot;resourceVersion&quot;: String(&quot;e8b4b82a-0237-4315-ba41-99d50c2fad15&quot;), &quot;uid&quot;: String(&quot;44cbbceb-8a91-4ab0-a554-1b01011d3a32&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:17:52.174311533Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})])})})
[2022-05-09T10:17:52Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-09T10:17:53Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;03b5929f-6e6a-4633-a408-d475747cf2a4&quot;
[2022-05-09T10:17:53Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T10:17:52.163475Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;03b5929f-6e6a-4633-a408-d475747cf2a4\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;5482c294-58d8-4ff2-8f31-097d4f0206df\&quot;,\n    \&quot;uid\&quot;: \&quot;44cbbceb-8a91-4ab0-a554-1b01011d3a32\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:17:52.531955037Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:17:52.531905505Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:17:52.212569448Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:17:52.220127557Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:17:52.294760345Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:17:52.302536673Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:17:52.530840023Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:17:52.531867855Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;TunNa5JpVJLO\&quot;,\n        \&quot;username\&quot;: \&quot;user-03b5929f-6e6a-4633-a408-d475747cf2a4\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:17:53Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T10:17:52.163475Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;03b5929f-6e6a-4633-a408-d475747cf2a4&quot;), &quot;resourceVersion&quot;: String(&quot;5482c294-58d8-4ff2-8f31-097d4f0206df&quot;), &quot;uid&quot;: String(&quot;44cbbceb-8a91-4ab0-a554-1b01011d3a32&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:17:52.531955037Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:17:52.531905505Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:17:52.212569448Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:17:52.220127557Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:17:52.294760345Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:17:52.302536673Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:17:52.530840023Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:17:52.531867855Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;TunNa5JpVJLO&quot;), &quot;username&quot;: String(&quot;user-03b5929f-6e6a-4633-a408-d475747cf2a4&quot;)})})})})
[2022-05-09T10:17:53Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-09T10:17:53Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;03b5929f-6e6a-4633-a408-d475747cf2a4&quot;
[2022-05-09T10:17:53Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T10:17:52.163475Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 9,\n    \&quot;name\&quot;: \&quot;03b5929f-6e6a-4633-a408-d475747cf2a4\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;5482c294-58d8-4ff2-8f31-097d4f0206df\&quot;,\n    \&quot;uid\&quot;: \&quot;44cbbceb-8a91-4ab0-a554-1b01011d3a32\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:17:52.531955037Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:17:52.531905505Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:17:52.212569448Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:17:52.220127557Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:17:52.294760345Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:17:52.302536673Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:17:52.530840023Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:17:52.531867855Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 8,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;TunNa5JpVJLO\&quot;,\n        \&quot;username\&quot;: \&quot;user-03b5929f-6e6a-4633-a408-d475747cf2a4\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:17:53Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T10:17:52.163475Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(9), &quot;name&quot;: String(&quot;03b5929f-6e6a-4633-a408-d475747cf2a4&quot;), &quot;resourceVersion&quot;: String(&quot;5482c294-58d8-4ff2-8f31-097d4f0206df&quot;), &quot;uid&quot;: String(&quot;44cbbceb-8a91-4ab0-a554-1b01011d3a32&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:17:52.531955037Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:17:52.531905505Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:17:52.212569448Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:17:52.220127557Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:17:52.294760345Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:17:52.302536673Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:17:52.530840023Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:17:52.531867855Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(8), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;TunNa5JpVJLO&quot;), &quot;username&quot;: String(&quot;user-03b5929f-6e6a-4633-a408-d475747cf2a4&quot;)})})})})
[2022-05-09T10:17:53Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-09T10:17:53Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:17:53Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T10:17:53Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T10:17:53Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJXRG4zQ2wwMVNsYVpRRnRTbUpuS2JqWC1wcXdsR21xWDhSUFNWSHgxUHgwIn0.eyJleHAiOjE2NTIwOTE3NzEsImlhdCI6MTY1MjA5MTQ3MSwiYXV0aF90aW1lIjoxNjUyMDkxNDY4LCJqdGkiOiI5MGExMDQyNy1kY2IyLTQ0YWUtOGNjOS1kNTE3NDRkMTRmMzIiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiM2RlYjE5ZjktYzc0Ni00YjAwLWE5MDktMmI5ODg1NWNlNGYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJkQllZS0x5bVU4cTRWN2hMRG9jQ0h3Iiwic2Vzc2lvbl9zdGF0ZSI6ImZjYjZkZTEyLTllYWItNDcxOC04NzU3LTZjNTU5Yjc1ZmY4MyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImZjYjZkZTEyLTllYWItNDcxOC04NzU3LTZjNTU5Yjc1ZmY4MyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.tbBVsAK9kZ2rGjIiWoVBfzXfjpcQupha7tppP7r72PvIRUtWKWQCnQmX49f_5cl9aD6gtwFy6fId4t0vbJNbmLHZet6xup0B-ZtSVQY-LiEocmZk3Pm91tAsgUbICZ6TE48BTD7EexkqPWXzkUNY9H-AJyJldCTeRPySZSldPYr3gGA2y1Im5GaFXPeaWVNrDFGWlVHT0ogqxUA04WJszGNOXfTe3Kiit9rKk0jqHRv8RVU59UQPp4sbg-nwVnKn9LbTCdd8-vrRfOg7CRTQSbZ6o5AL24gt3tBmZ2-KPuEuHRnFRp5EkL-uztQgoIb5kVBlWIQaZVD0mc-8ULrKBQ\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:17:53Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T10:17:53Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-09T10:17:53Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-09T10:17:53Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;03b5929f-6e6a-4633-a408-d475747cf2a4&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-09T10:17:53Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:17:53Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: ssl://mqtt-integration.172.18.0.2.nip.io:30002
[2022-05-09T10:17:53Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T10:17:53Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJXRG4zQ2wwMVNsYVpRRnRTbUpuS2JqWC1wcXdsR21xWDhSUFNWSHgxUHgwIn0.eyJleHAiOjE2NTIwOTE3NzEsImlhdCI6MTY1MjA5MTQ3MSwiYXV0aF90aW1lIjoxNjUyMDkxNDY4LCJqdGkiOiI5MGExMDQyNy1kY2IyLTQ0YWUtOGNjOS1kNTE3NDRkMTRmMzIiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiM2RlYjE5ZjktYzc0Ni00YjAwLWE5MDktMmI5ODg1NWNlNGYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJkQllZS0x5bVU4cTRWN2hMRG9jQ0h3Iiwic2Vzc2lvbl9zdGF0ZSI6ImZjYjZkZTEyLTllYWItNDcxOC04NzU3LTZjNTU5Yjc1ZmY4MyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImZjYjZkZTEyLTllYWItNDcxOC04NzU3LTZjNTU5Yjc1ZmY4MyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.tbBVsAK9kZ2rGjIiWoVBfzXfjpcQupha7tppP7r72PvIRUtWKWQCnQmX49f_5cl9aD6gtwFy6fId4t0vbJNbmLHZet6xup0B-ZtSVQY-LiEocmZk3Pm91tAsgUbICZ6TE48BTD7EexkqPWXzkUNY9H-AJyJldCTeRPySZSldPYr3gGA2y1Im5GaFXPeaWVNrDFGWlVHT0ogqxUA04WJszGNOXfTe3Kiit9rKk0jqHRv8RVU59UQPp4sbg-nwVnKn9LbTCdd8-vrRfOg7CRTQSbZ6o5AL24gt3tBmZ2-KPuEuHRnFRp5EkL-uztQgoIb5kVBlWIQaZVD0mc-8ULrKBQ\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:17:53Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-integration.172.18.0.2.nip.io:30002&quot;, client_id: &quot;6d6b2694-6bdd-44c9-a043-87a77d910b4d&quot;, persistence: None, user_data: None }
[2022-05-09T10:17:53Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T10:17:53Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55efdbeef460
[2022-05-09T10:17:53Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55efdbeef460
[2022-05-09T10:17:53Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x55efdbf20290, connectTimeout: 30, retryInterval: 0, ssl: 0x55efdc049de0, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55efdbdfddd0, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJXRG4zQ2wwMVNsYVpRRnRTbUpuS2JqWC1wcXdsR21xWDhSUFNWSHgxUHgwIn0.eyJleHAiOjE2NTIwOTE3NzEsImlhdCI6MTY1MjA5MTQ3MSwiYXV0aF90aW1lIjoxNjUyMDkxNDY4LCJqdGkiOiI5MGExMDQyNy1kY2IyLTQ0YWUtOGNjOS1kNTE3NDRkMTRmMzIiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiM2RlYjE5ZjktYzc0Ni00YjAwLWE5MDktMmI5ODg1NWNlNGYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJkQllZS0x5bVU4cTRWN2hMRG9jQ0h3Iiwic2Vzc2lvbl9zdGF0ZSI6ImZjYjZkZTEyLTllYWItNDcxOC04NzU3LTZjNTU5Yjc1ZmY4MyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImZjYjZkZTEyLTllYWItNDcxOC04NzU3LTZjNTU5Yjc1ZmY4MyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.tbBVsAK9kZ2rGjIiWoVBfzXfjpcQupha7tppP7r72PvIRUtWKWQCnQmX49f_5cl9aD6gtwFy6fId4t0vbJNbmLHZet6xup0B-ZtSVQY-LiEocmZk3Pm91tAsgUbICZ6TE48BTD7EexkqPWXzkUNY9H-AJyJldCTeRPySZSldPYr3gGA2y1Im5GaFXPeaWVNrDFGWlVHT0ogqxUA04WJszGNOXfTe3Kiit9rKk0jqHRv8RVU59UQPp4sbg-nwVnKn9LbTCdd8-vrRfOg7CRTQSbZ6o5AL24gt3tBmZ2-KPuEuHRnFRp5EkL-uztQgoIb5kVBlWIQaZVD0mc-8ULrKBQ&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T10:17:53Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/03b5929f-6e6a-4633-a408-d475747cf2a4&quot;&#x27; @ QOS 0
[2022-05-09T10:17:53Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-09T10:17:53Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:17:53Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-09T10:17:53Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:17:53Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-09T10:17:53Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-09T10:17:54Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:17:54Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-09T10:17:54Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:17:54Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-09T10:17:55Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:17:55Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-09T10:17:55Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:17:55Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-09T10:17:56Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:17:56Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-09T10:17:56Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:17:56Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-09T10:17:57Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 620, payload: 0x7f0edc0159d0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f0edc015c50 } }, data: MessageData { topic: &quot;app/03b5929f-6e6a-4633-a408-d475747cf2a4&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 102, 98, 55, 102, 49, 54, 102, 55, 45, 97, 50, 49, 57, 45, 52, 48, 54, 48, 45, 97, 48, 101, 102, 45, 97, 55, 53, 56, 100, 97, 55, 56, 48, 99, 52, 56, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 48, 51, 98, 53, 57, 50, 57, 102, 37, 50, 68, 54, 101, 54, 97, 37, 50, 68, 52, 54, 51, 51, 37, 50, 68, 97, 52, 48, 56, 37, 50, 68, 100, 52, 55, 53, 55, 52, 55, 99, 102, 50, 97, 52, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 119, 97, 114, 109, 117, 112, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 48, 58, 49, 55, 58, 53, 54, 46, 54, 56, 56, 57, 52, 51, 56, 51, 48, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 48, 51, 98, 53, 57, 50, 57, 102, 45, 54, 101, 54, 97, 45, 52, 54, 51, 51, 45, 97, 52, 48, 56, 45, 100, 52, 55, 53, 55, 52, 55, 99, 102, 50, 97, 52, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 52, 52, 99, 98, 98, 99, 101, 98, 45, 56, 97, 57, 49, 45, 52, 97, 98, 48, 45, 97, 53, 53, 52, 45, 49, 98, 48, 49, 48, 49, 49, 100, 51, 97, 51, 50, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 53, 57, 50, 100, 54, 102, 102, 57, 45, 57, 56, 55, 54, 45, 52, 55, 102, 51, 45, 97, 99, 51, 50, 45, 51, 57, 51, 52, 50, 52, 100, 97, 99, 54, 100, 100, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 53, 57, 50, 100, 54, 102, 102, 57, 45, 57, 56, 55, 54, 45, 52, 55, 102, 51, 45, 97, 99, 51, 50, 45, 51, 57, 51, 52, 50, 52, 100, 97, 99, 54, 100, 100, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 48, 51, 98, 53, 57, 50, 57, 102, 37, 50, 68, 54, 101, 54, 97, 37, 50, 68, 52, 54, 51, 51, 37, 50, 68, 97, 52, 48, 56, 37, 50, 68, 100, 52, 55, 53, 55, 52, 55, 99, 102, 50, 97, 52, 47, 100, 101, 118, 105, 99, 101, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f0edc015c50 } } } }
[2022-05-09T10:17:57Z DEBUG paho_mqtt::properties] Dropping string property: 0x55efdbfe9b20
[2022-05-09T10:17:57Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/03b5929f-6e6a-4633-a408-d475747cf2a4&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;fb7f16f7-a219-4060-a0ef-a758da780c48\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://03b5929f%2D6e6a%2D4633%2Da408%2Dd475747cf2a4/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;warmup\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T10:17:56.688943830Z\&quot;,\&quot;data\&quot;:{\&quot;index\&quot;:3},\&quot;application\&quot;:\&quot;03b5929f-6e6a-4633-a408-d475747cf2a4\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;applicationuid\&quot;:\&quot;44cbbceb-8a91-4ab0-a554-1b01011d3a32\&quot;,\&quot;senderuid\&quot;:\&quot;592d6ff9-9876-47f3-ac32-393424dac6dd\&quot;,\&quot;deviceuid\&quot;:\&quot;592d6ff9-9876-47f3-ac32-393424dac6dd\&quot;,\&quot;sender\&quot;:\&quot;device1\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;partitionkey\&quot;:\&quot;03b5929f%2D6e6a%2D4633%2Da408%2Dd475747cf2a4/device1\&quot;}&quot; }
[2022-05-09T10:17:57Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-09T10:17:57Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-09T10:17:57Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-09T10:17:57Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry
[2022-05-09T10:17:57Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 4, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-endpoint.172.18.0.2.nip.io:30001&quot;, client_id: &quot;8c576abd-e23f-418f-855c-3fbcc87cde49&quot;, persistence: None, user_data: None }
[2022-05-09T10:17:57Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T10:17:57Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55efdbed1da0
[2022-05-09T10:17:57Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55efdbed1da0
[2022-05-09T10:17:57Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 1, maxInflight: 65535, will: 0x0, username: 0x55efdbfe9a60, password: 0x55efdbf8eab0, connectTimeout: 30, retryInterval: 0, ssl: 0x55efdc26eb20, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 4, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 0, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55efdbff8890, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;device1@03b5929f-6e6a-4633-a408-d475747cf2a4&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T10:17:58Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 636, payload: 0x7f0edc02d310, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f0edc02d5a0 } }, data: MessageData { topic: &quot;app/03b5929f-6e6a-4633-a408-d475747cf2a4&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 102, 56, 98, 50, 56, 57, 101, 57, 45, 101, 50, 53, 100, 45, 52, 49, 53, 97, 45, 56, 57, 99, 48, 45, 55, 54, 57, 102, 56, 100, 56, 55, 57, 99, 55, 53, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 48, 51, 98, 53, 57, 50, 57, 102, 37, 50, 68, 54, 101, 54, 97, 37, 50, 68, 52, 54, 51, 51, 37, 50, 68, 97, 52, 48, 56, 37, 50, 68, 100, 52, 55, 53, 55, 52, 55, 99, 102, 50, 97, 52, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 48, 58, 49, 55, 58, 53, 56, 46, 48, 53, 53, 48, 52, 53, 48, 54, 56, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 53, 57, 50, 100, 54, 102, 102, 57, 45, 57, 56, 55, 54, 45, 52, 55, 102, 51, 45, 97, 99, 51, 50, 45, 51, 57, 51, 52, 50, 52, 100, 97, 99, 54, 100, 100, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 53, 57, 50, 100, 54, 102, 102, 57, 45, 57, 56, 55, 54, 45, 52, 55, 102, 51, 45, 97, 99, 51, 50, 45, 51, 57, 51, 52, 50, 52, 100, 97, 99, 54, 100, 100, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 48, 51, 98, 53, 57, 50, 57, 102, 45, 54, 101, 54, 97, 45, 52, 54, 51, 51, 45, 97, 52, 48, 56, 45, 100, 52, 55, 53, 55, 52, 55, 99, 102, 50, 97, 52, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 48, 51, 98, 53, 57, 50, 57, 102, 37, 50, 68, 54, 101, 54, 97, 37, 50, 68, 52, 54, 51, 51, 37, 50, 68, 97, 52, 48, 56, 37, 50, 68, 100, 52, 55, 53, 55, 52, 55, 99, 102, 50, 97, 52, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 52, 52, 99, 98, 98, 99, 101, 98, 45, 56, 97, 57, 49, 45, 52, 97, 98, 48, 45, 97, 53, 53, 52, 45, 49, 98, 48, 49, 48, 49, 49, 100, 51, 97, 51, 50, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f0edc02d5a0 } } } }
[2022-05-09T10:17:58Z DEBUG paho_mqtt::properties] Dropping string property: 0x55efdbfe9b20
[2022-05-09T10:17:58Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/03b5929f-6e6a-4633-a408-d475747cf2a4&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;f8b289e9-e25d-415a-89c0-769f8d879c75\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://03b5929f%2D6e6a%2D4633%2Da408%2Dd475747cf2a4/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T10:17:58.055045068Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:true},\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;senderuid\&quot;:\&quot;592d6ff9-9876-47f3-ac32-393424dac6dd\&quot;,\&quot;deviceuid\&quot;:\&quot;592d6ff9-9876-47f3-ac32-393424dac6dd\&quot;,\&quot;application\&quot;:\&quot;03b5929f-6e6a-4633-a408-d475747cf2a4\&quot;,\&quot;partitionkey\&quot;:\&quot;03b5929f%2D6e6a%2D4633%2Da408%2Dd475747cf2a4/device1\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;applicationuid\&quot;:\&quot;44cbbceb-8a91-4ab0-a554-1b01011d3a32\&quot;,\&quot;sender\&quot;:\&quot;device1\&quot;}&quot; }
[2022-05-09T10:17:58Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55efdbf620c0 } }, data: MessageData { topic: &quot;telemetry&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55efdbf620c0 } } } }
[2022-05-09T10:17:58Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-09T10:17:58Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 637, payload: 0x7f0edc012b80, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f0edc013470 } }, data: MessageData { topic: &quot;app/03b5929f-6e6a-4633-a408-d475747cf2a4&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 57, 48, 54, 57, 50, 57, 48, 101, 45, 56, 48, 98, 52, 45, 52, 51, 57, 57, 45, 98, 97, 99, 54, 45, 54, 102, 97, 99, 102, 57, 57, 50, 56, 55, 57, 49, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 48, 51, 98, 53, 57, 50, 57, 102, 37, 50, 68, 54, 101, 54, 97, 37, 50, 68, 52, 54, 51, 51, 37, 50, 68, 97, 52, 48, 56, 37, 50, 68, 100, 52, 55, 53, 55, 52, 55, 99, 102, 50, 97, 52, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 48, 58, 49, 55, 58, 53, 56, 46, 49, 49, 52, 55, 51, 57, 57, 52, 57, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 102, 97, 108, 115, 101, 125, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 53, 57, 50, 100, 54, 102, 102, 57, 45, 57, 56, 55, 54, 45, 52, 55, 102, 51, 45, 97, 99, 51, 50, 45, 51, 57, 51, 52, 50, 52, 100, 97, 99, 54, 100, 100, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 52, 52, 99, 98, 98, 99, 101, 98, 45, 56, 97, 57, 49, 45, 52, 97, 98, 48, 45, 97, 53, 53, 52, 45, 49, 98, 48, 49, 48, 49, 49, 100, 51, 97, 51, 50, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 48, 51, 98, 53, 57, 50, 57, 102, 45, 54, 101, 54, 97, 45, 52, 54, 51, 51, 45, 97, 52, 48, 56, 45, 100, 52, 55, 53, 55, 52, 55, 99, 102, 50, 97, 52, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 53, 57, 50, 100, 54, 102, 102, 57, 45, 57, 56, 55, 54, 45, 52, 55, 102, 51, 45, 97, 99, 51, 50, 45, 51, 57, 51, 52, 50, 52, 100, 97, 99, 54, 100, 100, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 48, 51, 98, 53, 57, 50, 57, 102, 37, 50, 68, 54, 101, 54, 97, 37, 50, 68, 52, 54, 51, 51, 37, 50, 68, 97, 52, 48, 56, 37, 50, 68, 100, 52, 55, 53, 55, 52, 55, 99, 102, 50, 97, 52, 47, 100, 101, 118, 105, 99, 101, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f0edc013470 } } } }
[2022-05-09T10:17:58Z DEBUG paho_mqtt::properties] Dropping string property: 0x55efdbfe9b20
[2022-05-09T10:17:58Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/03b5929f-6e6a-4633-a408-d475747cf2a4&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;9069290e-80b4-4399-bac6-6facf9928791\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://03b5929f%2D6e6a%2D4633%2Da408%2Dd475747cf2a4/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T10:17:58.114739949Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:false},\&quot;sender\&quot;:\&quot;device1\&quot;,\&quot;senderuid\&quot;:\&quot;592d6ff9-9876-47f3-ac32-393424dac6dd\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;applicationuid\&quot;:\&quot;44cbbceb-8a91-4ab0-a554-1b01011d3a32\&quot;,\&quot;application\&quot;:\&quot;03b5929f-6e6a-4633-a408-d475747cf2a4\&quot;,\&quot;deviceuid\&quot;:\&quot;592d6ff9-9876-47f3-ac32-393424dac6dd\&quot;,\&quot;partitionkey\&quot;:\&quot;03b5929f%2D6e6a%2D4633%2Da408%2Dd475747cf2a4/device1\&quot;}&quot; }
[2022-05-09T10:17:58Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 629, payload: 0x7f0edc012210, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f0edc013180 } }, data: MessageData { topic: &quot;app/03b5929f-6e6a-4633-a408-d475747cf2a4&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 52, 99, 51, 102, 52, 55, 99, 53, 45, 56, 57, 52, 98, 45, 52, 101, 55, 48, 45, 98, 51, 55, 97, 45, 98, 101, 101, 102, 100, 52, 56, 102, 100, 48, 57, 56, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 48, 51, 98, 53, 57, 50, 57, 102, 37, 50, 68, 54, 101, 54, 97, 37, 50, 68, 52, 54, 51, 51, 37, 50, 68, 97, 52, 48, 56, 37, 50, 68, 100, 52, 55, 53, 55, 52, 55, 99, 102, 50, 97, 52, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 111, 99, 116, 101, 116, 45, 115, 116, 114, 101, 97, 109, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 116, 101, 108, 101, 109, 101, 116, 114, 121, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 48, 58, 49, 55, 58, 53, 56, 46, 49, 49, 48, 56, 56, 56, 55, 50, 57, 90, 34, 44, 34, 100, 97, 116, 97, 95, 98, 97, 115, 101, 54, 52, 34, 58, 34, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 48, 51, 98, 53, 57, 50, 57, 102, 45, 54, 101, 54, 97, 45, 52, 54, 51, 51, 45, 97, 52, 48, 56, 45, 100, 52, 55, 53, 55, 52, 55, 99, 102, 50, 97, 52, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 53, 57, 50, 100, 54, 102, 102, 57, 45, 57, 56, 55, 54, 45, 52, 55, 102, 51, 45, 97, 99, 51, 50, 45, 51, 57, 51, 52, 50, 52, 100, 97, 99, 54, 100, 100, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 53, 57, 50, 100, 54, 102, 102, 57, 45, 57, 56, 55, 54, 45, 52, 55, 102, 51, 45, 97, 99, 51, 50, 45, 51, 57, 51, 52, 50, 52, 100, 97, 99, 54, 100, 100, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 52, 52, 99, 98, 98, 99, 101, 98, 45, 56, 97, 57, 49, 45, 52, 97, 98, 48, 45, 97, 53, 53, 52, 45, 49, 98, 48, 49, 48, 49, 49, 100, 51, 97, 51, 50, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 48, 51, 98, 53, 57, 50, 57, 102, 37, 50, 68, 54, 101, 54, 97, 37, 50, 68, 52, 54, 51, 51, 37, 50, 68, 97, 52, 48, 56, 37, 50, 68, 100, 52, 55, 53, 55, 52, 55, 99, 102, 50, 97, 52, 47, 100, 101, 118, 105, 99, 101, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f0edc013180 } } } }
[2022-05-09T10:17:58Z DEBUG paho_mqtt::properties] Dropping string property: 0x55efdbfe9b20
[2022-05-09T10:17:58Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/03b5929f-6e6a-4633-a408-d475747cf2a4&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;4c3f47c5-894b-4e70-b37a-beefd48fd098\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://03b5929f%2D6e6a%2D4633%2Da408%2Dd475747cf2a4/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/octet-stream\&quot;,\&quot;subject\&quot;:\&quot;telemetry\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T10:17:58.110888729Z\&quot;,\&quot;data_base64\&quot;:\&quot;\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;application\&quot;:\&quot;03b5929f-6e6a-4633-a408-d475747cf2a4\&quot;,\&quot;deviceuid\&quot;:\&quot;592d6ff9-9876-47f3-ac32-393424dac6dd\&quot;,\&quot;sender\&quot;:\&quot;device1\&quot;,\&quot;senderuid\&quot;:\&quot;592d6ff9-9876-47f3-ac32-393424dac6dd\&quot;,\&quot;applicationuid\&quot;:\&quot;44cbbceb-8a91-4ab0-a554-1b01011d3a32\&quot;,\&quot;partitionkey\&quot;:\&quot;03b5929f%2D6e6a%2D4633%2Da408%2Dd475747cf2a4/device1\&quot;}&quot; }
[2022-05-09T10:17:58Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-09T10:17:58Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-09T10:17:58Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-09T10:17:58Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;03b5929f-6e6a-4633-a408-d475747cf2a4&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 102, 97, 108, 115, 101, 125] }`,
 right: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;03b5929f-6e6a-4633-a408-d475747cf2a4&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`: Position #1&#x27;, src/tools/assert.rs:35:39
[2022-05-09T10:17:58Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-09T10:17:58Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;03b5929f-6e6a-4633-a408-d475747cf2a4&quot; &quot;device1&quot;
[2022-05-09T10:17:58Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:17:58Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;03b5929f-6e6a-4633-a408-d475747cf2a4&#x27;
[2022-05-09T10:17:58Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;03b5929f-6e6a-4633-a408-d475747cf2a4&quot;
[2022-05-09T10:17:58Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 03b5929f-6e6a-4633-a408-d475747cf2a4 deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ✅ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_1::integration_version_2::integration_ws_2

**Duration**: 14s

## ✅ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_1::integration_version_3::integration_ws_1

**Duration**: 15s

## ✅ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_1::integration_version_3::integration_ws_2

**Duration**: 13s

## ✅ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_2::integration_version_1::integration_ws_1

**Duration**: 14s

## ✅ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_2::integration_version_1::integration_ws_2

**Duration**: 14s

## ✅ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_2::integration_version_2::integration_ws_1

**Duration**: 14s

## ✅ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_2::integration_version_2::integration_ws_2

**Duration**: 14s

## ✅ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_2::integration_version_3::integration_ws_1

**Duration**: 14s

## ✅ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_2::integration_version_3::integration_ws_2

**Duration**: 14s

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_1::integration_version_1::integration_ws_1

**Duration**: 13s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-09T10:20:07Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-09T10:20:07Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T10:20:07Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T10:20:07Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T10:20:07Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T10:20:09Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-09T10:20:10Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-09T10:20:10Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T10:20:10Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T10:20:10Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T10:20:12Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI0NDVmMTM5Zi0wNjNjLTRhZDgtODkwYi1mNTg1OTQ0NjFiZDAifQ.eyJleHAiOjE2NTIwOTM0MTIsImlhdCI6MTY1MjA5MTYxMiwianRpIjoiYTZiZTI2OTgtYjBhNy00MmExLWJlOWMtNzQxNjIzZWE1ZjZmIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjNkZWIxOWY5LWM3NDYtNGIwMC1hOTA5LTJiOTg4NTVjZTRmMyIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlpOeVhqd0lGZklNZEVXMWhOaWprYlEiLCJzZXNzaW9uX3N0YXRlIjoiNzEwNjJhNzQtY2YxMi00MTM5LThhYzUtOTE5YmJkMDQ2M2E0Iiwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjcxMDYyYTc0LWNmMTItNDEzOS04YWM1LTkxOWJiZDA0NjNhNCJ9.hQ07Nnjj4DLiGBV4jXrLgjU71N4N8wjTK3T8yvICOHk
[2022-05-09T10:20:12Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-09T10:20:12Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-09T10:20:12Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI0NDVmMTM5Zi0wNjNjLTRhZDgtODkwYi1mNTg1OTQ0NjFiZDAifQ.eyJleHAiOjE2NTIwOTM0MTIsImlhdCI6MTY1MjA5MTYxMiwianRpIjoiYTZiZTI2OTgtYjBhNy00MmExLWJlOWMtNzQxNjIzZWE1ZjZmIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjNkZWIxOWY5LWM3NDYtNGIwMC1hOTA5LTJiOTg4NTVjZTRmMyIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlpOeVhqd0lGZklNZEVXMWhOaWprYlEiLCJzZXNzaW9uX3N0YXRlIjoiNzEwNjJhNzQtY2YxMi00MTM5LThhYzUtOTE5YmJkMDQ2M2E0Iiwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjcxMDYyYTc0LWNmMTItNDEzOS04YWM1LTkxOWJiZDA0NjNhNCJ9.hQ07Nnjj4DLiGBV4jXrLgjU71N4N8wjTK3T8yvICOHk&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-09T10:20:12Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:20:13Z INFO  drogue_cloud_tests::resources::apps] Create application: ca66181a-3668-4d5e-b451-be1daf41ba4b
[2022-05-09T10:20:13Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;ca66181a-3668-4d5e-b451-be1daf41ba4b&quot;
[2022-05-09T10:20:13Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App ca66181a-3668-4d5e-b451-be1daf41ba4b created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:20:13Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;ca66181a-3668-4d5e-b451-be1daf41ba4b&quot;
[2022-05-09T10:20:13Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T10:20:13.222727Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 1,\n    \&quot;name\&quot;: \&quot;ca66181a-3668-4d5e-b451-be1daf41ba4b\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;49c39803-df78-42c8-97b4-e839e18aa506\&quot;,\n    \&quot;uid\&quot;: \&quot;f04f8bb4-11f9-4313-9d26-ad82ec13f108\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:20:13.236971771Z\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: HasFinalizer\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:20:13.237073251Z\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:20:13.236881302Z\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:20:13.236883186Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:20:13.236884057Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:20:13.236885209Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:20:13.236886782Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:20:13.236936595Z\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:20:13Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T10:20:13.222727Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(1), &quot;name&quot;: String(&quot;ca66181a-3668-4d5e-b451-be1daf41ba4b&quot;), &quot;resourceVersion&quot;: String(&quot;49c39803-df78-42c8-97b4-e839e18aa506&quot;), &quot;uid&quot;: String(&quot;f04f8bb4-11f9-4313-9d26-ad82ec13f108&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:20:13.236971771Z&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: HasFinalizer&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:20:13.237073251Z&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:20:13.236881302Z&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:20:13.236883186Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:20:13.236884057Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:20:13.236885209Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:20:13.236886782Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:20:13.236936595Z&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(0)})})})
[2022-05-09T10:20:13Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-09T10:20:14Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;ca66181a-3668-4d5e-b451-be1daf41ba4b&quot;
[2022-05-09T10:20:14Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T10:20:13.222727Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 8,\n    \&quot;name\&quot;: \&quot;ca66181a-3668-4d5e-b451-be1daf41ba4b\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;5ddef95f-9dac-4d5f-befb-a3f0651ffef9\&quot;,\n    \&quot;uid\&quot;: \&quot;f04f8bb4-11f9-4313-9d26-ad82ec13f108\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:20:13.554177667Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:20:13.554248580Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:20:13.262166946Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:20:13.270247073Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:20:13.366251161Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:20:13.372621622Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:20:13.554085385Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:20:13.554102057Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 7,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;RcZZLslXVpms\&quot;,\n        \&quot;username\&quot;: \&quot;user-ca66181a-3668-4d5e-b451-be1daf41ba4b\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:20:14Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T10:20:13.222727Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(8), &quot;name&quot;: String(&quot;ca66181a-3668-4d5e-b451-be1daf41ba4b&quot;), &quot;resourceVersion&quot;: String(&quot;5ddef95f-9dac-4d5f-befb-a3f0651ffef9&quot;), &quot;uid&quot;: String(&quot;f04f8bb4-11f9-4313-9d26-ad82ec13f108&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:20:13.554177667Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:20:13.554248580Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:20:13.262166946Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:20:13.270247073Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:20:13.366251161Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:20:13.372621622Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:20:13.554085385Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:20:13.554102057Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(7), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;RcZZLslXVpms&quot;), &quot;username&quot;: String(&quot;user-ca66181a-3668-4d5e-b451-be1daf41ba4b&quot;)})})})})
[2022-05-09T10:20:14Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-09T10:20:14Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;ca66181a-3668-4d5e-b451-be1daf41ba4b&quot;
[2022-05-09T10:20:14Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T10:20:13.222727Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 8,\n    \&quot;name\&quot;: \&quot;ca66181a-3668-4d5e-b451-be1daf41ba4b\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;5ddef95f-9dac-4d5f-befb-a3f0651ffef9\&quot;,\n    \&quot;uid\&quot;: \&quot;f04f8bb4-11f9-4313-9d26-ad82ec13f108\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:20:13.554177667Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:20:13.554248580Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:20:13.262166946Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:20:13.270247073Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:20:13.366251161Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:20:13.372621622Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:20:13.554085385Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:20:13.554102057Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 7,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;RcZZLslXVpms\&quot;,\n        \&quot;username\&quot;: \&quot;user-ca66181a-3668-4d5e-b451-be1daf41ba4b\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:20:14Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T10:20:13.222727Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(8), &quot;name&quot;: String(&quot;ca66181a-3668-4d5e-b451-be1daf41ba4b&quot;), &quot;resourceVersion&quot;: String(&quot;5ddef95f-9dac-4d5f-befb-a3f0651ffef9&quot;), &quot;uid&quot;: String(&quot;f04f8bb4-11f9-4313-9d26-ad82ec13f108&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:20:13.554177667Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:20:13.554248580Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:20:13.262166946Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:20:13.270247073Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:20:13.366251161Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:20:13.372621622Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:20:13.554085385Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:20:13.554102057Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(7), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;RcZZLslXVpms&quot;), &quot;username&quot;: String(&quot;user-ca66181a-3668-4d5e-b451-be1daf41ba4b&quot;)})})})})
[2022-05-09T10:20:14Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-09T10:20:14Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:20:14Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T10:20:14Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T10:20:14Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJXRG4zQ2wwMVNsYVpRRnRTbUpuS2JqWC1wcXdsR21xWDhSUFNWSHgxUHgwIn0.eyJleHAiOjE2NTIwOTE5MTIsImlhdCI6MTY1MjA5MTYxMiwiYXV0aF90aW1lIjoxNjUyMDkxNjA5LCJqdGkiOiI0NzkxYjVmZS0wY2JlLTRlYzQtYWUyNy00MmVlNzJkY2JjMDYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiM2RlYjE5ZjktYzc0Ni00YjAwLWE5MDktMmI5ODg1NWNlNGYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJaTnlYandJRmZJTWRFVzFoTmlqa2JRIiwic2Vzc2lvbl9zdGF0ZSI6IjcxMDYyYTc0LWNmMTItNDEzOS04YWM1LTkxOWJiZDA0NjNhNCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjcxMDYyYTc0LWNmMTItNDEzOS04YWM1LTkxOWJiZDA0NjNhNCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.x_RarmIXqLFa3wxJv94y-dHMrq_g2N2EuZ9BQZrs2WrhlfviIswNN9VJ7PASk-RHcEZfWG2PArPak0ilt5CmjXKrvtmPlBCmfYg4gOpSqQ46LbjhlRnFuJpy4xH1GPI2G2UDBKRhoKetJ8hP8ACeHD0UuPf1gmMws4OJyOlp6gF4CM_IxFjerWmF59jnMHZ4Sj4Ydrkx5exEuA3jJA7ZFEUso9QAfA4MIb2xA6BNSuIO45FM8WjeW7xVlf173XR0rmgt7k82MIkFy1My5sVB80uc6YV95T3uFcpGJJcl2ohDB2o9u1EUSEDqaXLvatUVn1o4VamdsYrC5zU7GIln4g\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:20:14Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T10:20:14Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-09T10:20:14Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-09T10:20:14Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;ca66181a-3668-4d5e-b451-be1daf41ba4b&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-09T10:20:14Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:20:14Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: ssl://mqtt-integration.172.18.0.2.nip.io:30002
[2022-05-09T10:20:14Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T10:20:14Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJXRG4zQ2wwMVNsYVpRRnRTbUpuS2JqWC1wcXdsR21xWDhSUFNWSHgxUHgwIn0.eyJleHAiOjE2NTIwOTE5MTIsImlhdCI6MTY1MjA5MTYxMiwiYXV0aF90aW1lIjoxNjUyMDkxNjA5LCJqdGkiOiI0NzkxYjVmZS0wY2JlLTRlYzQtYWUyNy00MmVlNzJkY2JjMDYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiM2RlYjE5ZjktYzc0Ni00YjAwLWE5MDktMmI5ODg1NWNlNGYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJaTnlYandJRmZJTWRFVzFoTmlqa2JRIiwic2Vzc2lvbl9zdGF0ZSI6IjcxMDYyYTc0LWNmMTItNDEzOS04YWM1LTkxOWJiZDA0NjNhNCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjcxMDYyYTc0LWNmMTItNDEzOS04YWM1LTkxOWJiZDA0NjNhNCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.x_RarmIXqLFa3wxJv94y-dHMrq_g2N2EuZ9BQZrs2WrhlfviIswNN9VJ7PASk-RHcEZfWG2PArPak0ilt5CmjXKrvtmPlBCmfYg4gOpSqQ46LbjhlRnFuJpy4xH1GPI2G2UDBKRhoKetJ8hP8ACeHD0UuPf1gmMws4OJyOlp6gF4CM_IxFjerWmF59jnMHZ4Sj4Ydrkx5exEuA3jJA7ZFEUso9QAfA4MIb2xA6BNSuIO45FM8WjeW7xVlf173XR0rmgt7k82MIkFy1My5sVB80uc6YV95T3uFcpGJJcl2ohDB2o9u1EUSEDqaXLvatUVn1o4VamdsYrC5zU7GIln4g\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:20:14Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 4, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-integration.172.18.0.2.nip.io:30002&quot;, client_id: &quot;5f483adf-2298-43b0-802f-f17f5d292df0&quot;, persistence: None, user_data: None }
[2022-05-09T10:20:14Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T10:20:14Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55efdbf2c6a0
[2022-05-09T10:20:14Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55efdbf2c6a0
[2022-05-09T10:20:14Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 1, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x55efdbf7c130, connectTimeout: 30, retryInterval: 0, ssl: 0x55efdc19b8c0, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 4, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 0, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55efdbfc8ea0, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJXRG4zQ2wwMVNsYVpRRnRTbUpuS2JqWC1wcXdsR21xWDhSUFNWSHgxUHgwIn0.eyJleHAiOjE2NTIwOTE5MTIsImlhdCI6MTY1MjA5MTYxMiwiYXV0aF90aW1lIjoxNjUyMDkxNjA5LCJqdGkiOiI0NzkxYjVmZS0wY2JlLTRlYzQtYWUyNy00MmVlNzJkY2JjMDYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiM2RlYjE5ZjktYzc0Ni00YjAwLWE5MDktMmI5ODg1NWNlNGYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJaTnlYandJRmZJTWRFVzFoTmlqa2JRIiwic2Vzc2lvbl9zdGF0ZSI6IjcxMDYyYTc0LWNmMTItNDEzOS04YWM1LTkxOWJiZDA0NjNhNCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjcxMDYyYTc0LWNmMTItNDEzOS04YWM1LTkxOWJiZDA0NjNhNCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.x_RarmIXqLFa3wxJv94y-dHMrq_g2N2EuZ9BQZrs2WrhlfviIswNN9VJ7PASk-RHcEZfWG2PArPak0ilt5CmjXKrvtmPlBCmfYg4gOpSqQ46LbjhlRnFuJpy4xH1GPI2G2UDBKRhoKetJ8hP8ACeHD0UuPf1gmMws4OJyOlp6gF4CM_IxFjerWmF59jnMHZ4Sj4Ydrkx5exEuA3jJA7ZFEUso9QAfA4MIb2xA6BNSuIO45FM8WjeW7xVlf173XR0rmgt7k82MIkFy1My5sVB80uc6YV95T3uFcpGJJcl2ohDB2o9u1EUSEDqaXLvatUVn1o4VamdsYrC5zU7GIln4g&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T10:20:14Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/ca66181a-3668-4d5e-b451-be1daf41ba4b&quot;&#x27; @ QOS 0
[2022-05-09T10:20:14Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-09T10:20:14Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-09T10:20:14Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:20:14Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-09T10:20:14Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:20:14Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-09T10:20:15Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:20:15Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-09T10:20:15Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:20:15Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-09T10:20:16Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:20:16Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-09T10:20:16Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:20:16Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-09T10:20:17Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:20:17Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-09T10:20:17Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:20:17Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-09T10:20:18Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 620, payload: 0x7f0ed0010580, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/ca66181a-3668-4d5e-b451-be1daf41ba4b&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 55, 49, 50, 51, 55, 102, 48, 97, 45, 49, 99, 97, 55, 45, 52, 100, 56, 102, 45, 98, 57, 102, 99, 45, 55, 49, 49, 102, 99, 98, 51, 100, 57, 99, 101, 100, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 99, 97, 54, 54, 49, 56, 49, 97, 37, 50, 68, 51, 54, 54, 56, 37, 50, 68, 52, 100, 53, 101, 37, 50, 68, 98, 52, 53, 49, 37, 50, 68, 98, 101, 49, 100, 97, 102, 52, 49, 98, 97, 52, 98, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 119, 97, 114, 109, 117, 112, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 48, 58, 50, 48, 58, 49, 55, 46, 57, 49, 52, 53, 54, 48, 55, 57, 54, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 99, 97, 54, 54, 49, 56, 49, 97, 37, 50, 68, 51, 54, 54, 56, 37, 50, 68, 52, 100, 53, 101, 37, 50, 68, 98, 52, 53, 49, 37, 50, 68, 98, 101, 49, 100, 97, 102, 52, 49, 98, 97, 52, 98, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 48, 97, 52, 57, 49, 53, 53, 52, 45, 101, 102, 51, 57, 45, 52, 99, 52, 49, 45, 57, 51, 50, 51, 45, 102, 56, 54, 100, 57, 54, 56, 56, 50, 56, 97, 48, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 102, 48, 52, 102, 56, 98, 98, 52, 45, 49, 49, 102, 57, 45, 52, 51, 49, 51, 45, 57, 100, 50, 54, 45, 97, 100, 56, 50, 101, 99, 49, 51, 102, 49, 48, 56, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 48, 97, 52, 57, 49, 53, 53, 52, 45, 101, 102, 51, 57, 45, 52, 99, 52, 49, 45, 57, 51, 50, 51, 45, 102, 56, 54, 100, 57, 54, 56, 56, 50, 56, 97, 48, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 99, 97, 54, 54, 49, 56, 49, 97, 45, 51, 54, 54, 56, 45, 52, 100, 53, 101, 45, 98, 52, 53, 49, 45, 98, 101, 49, 100, 97, 102, 52, 49, 98, 97, 52, 98, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-09T10:20:18Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/ca66181a-3668-4d5e-b451-be1daf41ba4b&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;71237f0a-1ca7-4d8f-b9fc-711fcb3d9ced\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://ca66181a%2D3668%2D4d5e%2Db451%2Dbe1daf41ba4b/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;warmup\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T10:20:17.914560796Z\&quot;,\&quot;data\&quot;:{\&quot;index\&quot;:3},\&quot;partitionkey\&quot;:\&quot;ca66181a%2D3668%2D4d5e%2Db451%2Dbe1daf41ba4b/device1\&quot;,\&quot;deviceuid\&quot;:\&quot;0a491554-ef39-4c41-9323-f86d968828a0\&quot;,\&quot;applicationuid\&quot;:\&quot;f04f8bb4-11f9-4313-9d26-ad82ec13f108\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;senderuid\&quot;:\&quot;0a491554-ef39-4c41-9323-f86d968828a0\&quot;,\&quot;application\&quot;:\&quot;ca66181a-3668-4d5e-b451-be1daf41ba4b\&quot;,\&quot;sender\&quot;:\&quot;device1\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;}&quot; }
[2022-05-09T10:20:18Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-09T10:20:18Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-09T10:20:18Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-09T10:20:18Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry
[2022-05-09T10:20:18Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-endpoint.172.18.0.2.nip.io:30001&quot;, client_id: &quot;a3d6792e-d8cf-4b06-9f5d-74e60a0bdefa&quot;, persistence: None, user_data: None }
[2022-05-09T10:20:18Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T10:20:18Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55efdc04b090
[2022-05-09T10:20:18Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55efdc04b090
[2022-05-09T10:20:18Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x55efdc37d6b0, password: 0x55efdbff3b90, connectTimeout: 30, retryInterval: 0, ssl: 0x55efdbfecbd0, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55efdbf7d400, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;device1@ca66181a-3668-4d5e-b451-be1daf41ba4b&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T10:20:19Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 636, payload: 0x7f0ed0004cf0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/ca66181a-3668-4d5e-b451-be1daf41ba4b&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 98, 100, 57, 54, 51, 99, 102, 102, 45, 51, 99, 52, 100, 45, 52, 50, 56, 57, 45, 57, 49, 100, 49, 45, 52, 98, 101, 52, 100, 98, 56, 101, 54, 49, 53, 50, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 99, 97, 54, 54, 49, 56, 49, 97, 37, 50, 68, 51, 54, 54, 56, 37, 50, 68, 52, 100, 53, 101, 37, 50, 68, 98, 52, 53, 49, 37, 50, 68, 98, 101, 49, 100, 97, 102, 52, 49, 98, 97, 52, 98, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 48, 58, 50, 48, 58, 49, 57, 46, 49, 51, 49, 55, 57, 48, 54, 48, 52, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 99, 97, 54, 54, 49, 56, 49, 97, 45, 51, 54, 54, 56, 45, 52, 100, 53, 101, 45, 98, 52, 53, 49, 45, 98, 101, 49, 100, 97, 102, 52, 49, 98, 97, 52, 98, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 48, 97, 52, 57, 49, 53, 53, 52, 45, 101, 102, 51, 57, 45, 52, 99, 52, 49, 45, 57, 51, 50, 51, 45, 102, 56, 54, 100, 57, 54, 56, 56, 50, 56, 97, 48, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 102, 48, 52, 102, 56, 98, 98, 52, 45, 49, 49, 102, 57, 45, 52, 51, 49, 51, 45, 57, 100, 50, 54, 45, 97, 100, 56, 50, 101, 99, 49, 51, 102, 49, 48, 56, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 99, 97, 54, 54, 49, 56, 49, 97, 37, 50, 68, 51, 54, 54, 56, 37, 50, 68, 52, 100, 53, 101, 37, 50, 68, 98, 52, 53, 49, 37, 50, 68, 98, 101, 49, 100, 97, 102, 52, 49, 98, 97, 52, 98, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 48, 97, 52, 57, 49, 53, 53, 52, 45, 101, 102, 51, 57, 45, 52, 99, 52, 49, 45, 57, 51, 50, 51, 45, 102, 56, 54, 100, 57, 54, 56, 56, 50, 56, 97, 48, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-09T10:20:19Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/ca66181a-3668-4d5e-b451-be1daf41ba4b&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;bd963cff-3c4d-4289-91d1-4be4db8e6152\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://ca66181a%2D3668%2D4d5e%2Db451%2Dbe1daf41ba4b/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T10:20:19.131790604Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:true},\&quot;application\&quot;:\&quot;ca66181a-3668-4d5e-b451-be1daf41ba4b\&quot;,\&quot;senderuid\&quot;:\&quot;0a491554-ef39-4c41-9323-f86d968828a0\&quot;,\&quot;applicationuid\&quot;:\&quot;f04f8bb4-11f9-4313-9d26-ad82ec13f108\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;partitionkey\&quot;:\&quot;ca66181a%2D3668%2D4d5e%2Db451%2Dbe1daf41ba4b/device1\&quot;,\&quot;sender\&quot;:\&quot;device1\&quot;,\&quot;deviceuid\&quot;:\&quot;0a491554-ef39-4c41-9323-f86d968828a0\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;}&quot; }
[2022-05-09T10:20:19Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55efdc2c58c0 } }, data: MessageData { topic: &quot;telemetry&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55efdc2c58c0 } } } }
[2022-05-09T10:20:19Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-09T10:20:19Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 637, payload: 0x7f0ed0000e40, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/ca66181a-3668-4d5e-b451-be1daf41ba4b&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 56, 57, 54, 48, 101, 52, 53, 54, 45, 57, 50, 101, 52, 45, 52, 50, 57, 100, 45, 56, 55, 53, 56, 45, 99, 52, 99, 102, 98, 49, 102, 52, 99, 48, 48, 98, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 99, 97, 54, 54, 49, 56, 49, 97, 37, 50, 68, 51, 54, 54, 56, 37, 50, 68, 52, 100, 53, 101, 37, 50, 68, 98, 52, 53, 49, 37, 50, 68, 98, 101, 49, 100, 97, 102, 52, 49, 98, 97, 52, 98, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 48, 58, 50, 48, 58, 49, 57, 46, 50, 50, 57, 50, 51, 51, 52, 54, 51, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 102, 97, 108, 115, 101, 125, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 99, 97, 54, 54, 49, 56, 49, 97, 37, 50, 68, 51, 54, 54, 56, 37, 50, 68, 52, 100, 53, 101, 37, 50, 68, 98, 52, 53, 49, 37, 50, 68, 98, 101, 49, 100, 97, 102, 52, 49, 98, 97, 52, 98, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 48, 97, 52, 57, 49, 53, 53, 52, 45, 101, 102, 51, 57, 45, 52, 99, 52, 49, 45, 57, 51, 50, 51, 45, 102, 56, 54, 100, 57, 54, 56, 56, 50, 56, 97, 48, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 102, 48, 52, 102, 56, 98, 98, 52, 45, 49, 49, 102, 57, 45, 52, 51, 49, 51, 45, 57, 100, 50, 54, 45, 97, 100, 56, 50, 101, 99, 49, 51, 102, 49, 48, 56, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 99, 97, 54, 54, 49, 56, 49, 97, 45, 51, 54, 54, 56, 45, 52, 100, 53, 101, 45, 98, 52, 53, 49, 45, 98, 101, 49, 100, 97, 102, 52, 49, 98, 97, 52, 98, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 48, 97, 52, 57, 49, 53, 53, 52, 45, 101, 102, 51, 57, 45, 52, 99, 52, 49, 45, 57, 51, 50, 51, 45, 102, 56, 54, 100, 57, 54, 56, 56, 50, 56, 97, 48, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-09T10:20:19Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/ca66181a-3668-4d5e-b451-be1daf41ba4b&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;8960e456-92e4-429d-8758-c4cfb1f4c00b\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://ca66181a%2D3668%2D4d5e%2Db451%2Dbe1daf41ba4b/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T10:20:19.229233463Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:false},\&quot;partitionkey\&quot;:\&quot;ca66181a%2D3668%2D4d5e%2Db451%2Dbe1daf41ba4b/device1\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;deviceuid\&quot;:\&quot;0a491554-ef39-4c41-9323-f86d968828a0\&quot;,\&quot;applicationuid\&quot;:\&quot;f04f8bb4-11f9-4313-9d26-ad82ec13f108\&quot;,\&quot;application\&quot;:\&quot;ca66181a-3668-4d5e-b451-be1daf41ba4b\&quot;,\&quot;senderuid\&quot;:\&quot;0a491554-ef39-4c41-9323-f86d968828a0\&quot;,\&quot;sender\&quot;:\&quot;device1\&quot;}&quot; }
[2022-05-09T10:20:19Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 629, payload: 0x7f0ed00313d0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/ca66181a-3668-4d5e-b451-be1daf41ba4b&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 55, 97, 56, 100, 54, 49, 102, 99, 45, 53, 50, 49, 99, 45, 52, 102, 57, 51, 45, 57, 48, 55, 56, 45, 53, 102, 52, 102, 49, 49, 50, 57, 48, 101, 102, 48, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 99, 97, 54, 54, 49, 56, 49, 97, 37, 50, 68, 51, 54, 54, 56, 37, 50, 68, 52, 100, 53, 101, 37, 50, 68, 98, 52, 53, 49, 37, 50, 68, 98, 101, 49, 100, 97, 102, 52, 49, 98, 97, 52, 98, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 111, 99, 116, 101, 116, 45, 115, 116, 114, 101, 97, 109, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 116, 101, 108, 101, 109, 101, 116, 114, 121, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 48, 58, 50, 48, 58, 49, 57, 46, 50, 50, 54, 53, 54, 51, 49, 55, 48, 90, 34, 44, 34, 100, 97, 116, 97, 95, 98, 97, 115, 101, 54, 52, 34, 58, 34, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 102, 48, 52, 102, 56, 98, 98, 52, 45, 49, 49, 102, 57, 45, 52, 51, 49, 51, 45, 57, 100, 50, 54, 45, 97, 100, 56, 50, 101, 99, 49, 51, 102, 49, 48, 56, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 99, 97, 54, 54, 49, 56, 49, 97, 45, 51, 54, 54, 56, 45, 52, 100, 53, 101, 45, 98, 52, 53, 49, 45, 98, 101, 49, 100, 97, 102, 52, 49, 98, 97, 52, 98, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 48, 97, 52, 57, 49, 53, 53, 52, 45, 101, 102, 51, 57, 45, 52, 99, 52, 49, 45, 57, 51, 50, 51, 45, 102, 56, 54, 100, 57, 54, 56, 56, 50, 56, 97, 48, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 48, 97, 52, 57, 49, 53, 53, 52, 45, 101, 102, 51, 57, 45, 52, 99, 52, 49, 45, 57, 51, 50, 51, 45, 102, 56, 54, 100, 57, 54, 56, 56, 50, 56, 97, 48, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 99, 97, 54, 54, 49, 56, 49, 97, 37, 50, 68, 51, 54, 54, 56, 37, 50, 68, 52, 100, 53, 101, 37, 50, 68, 98, 52, 53, 49, 37, 50, 68, 98, 101, 49, 100, 97, 102, 52, 49, 98, 97, 52, 98, 47, 100, 101, 118, 105, 99, 101, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-09T10:20:19Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/ca66181a-3668-4d5e-b451-be1daf41ba4b&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;7a8d61fc-521c-4f93-9078-5f4f11290ef0\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://ca66181a%2D3668%2D4d5e%2Db451%2Dbe1daf41ba4b/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/octet-stream\&quot;,\&quot;subject\&quot;:\&quot;telemetry\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T10:20:19.226563170Z\&quot;,\&quot;data_base64\&quot;:\&quot;\&quot;,\&quot;sender\&quot;:\&quot;device1\&quot;,\&quot;applicationuid\&quot;:\&quot;f04f8bb4-11f9-4313-9d26-ad82ec13f108\&quot;,\&quot;application\&quot;:\&quot;ca66181a-3668-4d5e-b451-be1daf41ba4b\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;deviceuid\&quot;:\&quot;0a491554-ef39-4c41-9323-f86d968828a0\&quot;,\&quot;senderuid\&quot;:\&quot;0a491554-ef39-4c41-9323-f86d968828a0\&quot;,\&quot;partitionkey\&quot;:\&quot;ca66181a%2D3668%2D4d5e%2Db451%2Dbe1daf41ba4b/device1\&quot;}&quot; }
[2022-05-09T10:20:19Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-09T10:20:19Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-09T10:20:19Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-09T10:20:19Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;ca66181a-3668-4d5e-b451-be1daf41ba4b&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 102, 97, 108, 115, 101, 125] }`,
 right: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;ca66181a-3668-4d5e-b451-be1daf41ba4b&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`: Position #1&#x27;, src/tools/assert.rs:35:39
[2022-05-09T10:20:19Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-09T10:20:19Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;ca66181a-3668-4d5e-b451-be1daf41ba4b&quot; &quot;device1&quot;
[2022-05-09T10:20:19Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:20:19Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;ca66181a-3668-4d5e-b451-be1daf41ba4b&#x27;
[2022-05-09T10:20:19Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;ca66181a-3668-4d5e-b451-be1daf41ba4b&quot;
[2022-05-09T10:20:19Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App ca66181a-3668-4d5e-b451-be1daf41ba4b deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ✅ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_1::integration_version_1::integration_ws_2

**Duration**: 13s

## ✅ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_1::integration_version_2::integration_ws_1

**Duration**: 14s

## ✅ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_1::integration_version_2::integration_ws_2

**Duration**: 14s

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_1::integration_version_3::integration_ws_1

**Duration**: 13s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-09T10:21:04Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-09T10:21:04Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T10:21:04Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T10:21:04Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T10:21:04Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T10:21:05Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-09T10:21:06Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-09T10:21:06Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T10:21:06Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T10:21:06Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T10:21:08Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI0NDVmMTM5Zi0wNjNjLTRhZDgtODkwYi1mNTg1OTQ0NjFiZDAifQ.eyJleHAiOjE2NTIwOTM0NjgsImlhdCI6MTY1MjA5MTY2OCwianRpIjoiZDRkNjcwNzMtZTQ3Yy00ZjJjLWI1YTEtZTliZDA4NjRlZTU3IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjNkZWIxOWY5LWM3NDYtNGIwMC1hOTA5LTJiOTg4NTVjZTRmMyIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Ik84U1VSMTQxdC04V0NlR2RhemtIQ3ciLCJzZXNzaW9uX3N0YXRlIjoiYTdhODE0ZWQtMjliNy00NzA4LTgzNTAtOGYzN2UwZDc1MmMyIiwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImE3YTgxNGVkLTI5YjctNDcwOC04MzUwLThmMzdlMGQ3NTJjMiJ9.vqUPFLUIDFnZCNuD8eCX0Vm9ywLOX8jRQVMAjNWaLME
[2022-05-09T10:21:08Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-09T10:21:08Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-09T10:21:08Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI0NDVmMTM5Zi0wNjNjLTRhZDgtODkwYi1mNTg1OTQ0NjFiZDAifQ.eyJleHAiOjE2NTIwOTM0NjgsImlhdCI6MTY1MjA5MTY2OCwianRpIjoiZDRkNjcwNzMtZTQ3Yy00ZjJjLWI1YTEtZTliZDA4NjRlZTU3IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjNkZWIxOWY5LWM3NDYtNGIwMC1hOTA5LTJiOTg4NTVjZTRmMyIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Ik84U1VSMTQxdC04V0NlR2RhemtIQ3ciLCJzZXNzaW9uX3N0YXRlIjoiYTdhODE0ZWQtMjliNy00NzA4LTgzNTAtOGYzN2UwZDc1MmMyIiwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImE3YTgxNGVkLTI5YjctNDcwOC04MzUwLThmMzdlMGQ3NTJjMiJ9.vqUPFLUIDFnZCNuD8eCX0Vm9ywLOX8jRQVMAjNWaLME&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-09T10:21:08Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:21:09Z INFO  drogue_cloud_tests::resources::apps] Create application: d0efd7b1-a91d-49da-b800-8e160bcb70c3
[2022-05-09T10:21:09Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;d0efd7b1-a91d-49da-b800-8e160bcb70c3&quot;
[2022-05-09T10:21:09Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App d0efd7b1-a91d-49da-b800-8e160bcb70c3 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:21:09Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;d0efd7b1-a91d-49da-b800-8e160bcb70c3&quot;
[2022-05-09T10:21:09Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T10:21:09.200343Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 1,\n    \&quot;name\&quot;: \&quot;d0efd7b1-a91d-49da-b800-8e160bcb70c3\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;597d0999-d8b3-45f3-9f35-dd97b09ba477\&quot;,\n    \&quot;uid\&quot;: \&quot;ff4ce3a4-66a1-4e47-a00c-3818a495138a\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:21:09.213654638Z\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: HasFinalizer\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:21:09.213783378Z\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:21:09.213572524Z\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:21:09.213575519Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:21:09.213576331Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:21:09.213577442Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:21:09.213578104Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:21:09.213621916Z\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:21:09Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T10:21:09.200343Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(1), &quot;name&quot;: String(&quot;d0efd7b1-a91d-49da-b800-8e160bcb70c3&quot;), &quot;resourceVersion&quot;: String(&quot;597d0999-d8b3-45f3-9f35-dd97b09ba477&quot;), &quot;uid&quot;: String(&quot;ff4ce3a4-66a1-4e47-a00c-3818a495138a&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:21:09.213654638Z&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: HasFinalizer&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:21:09.213783378Z&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:21:09.213572524Z&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:21:09.213575519Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:21:09.213576331Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:21:09.213577442Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:21:09.213578104Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:21:09.213621916Z&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(0)})})})
[2022-05-09T10:21:09Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-09T10:21:10Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;d0efd7b1-a91d-49da-b800-8e160bcb70c3&quot;
[2022-05-09T10:21:10Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T10:21:09.200343Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 8,\n    \&quot;name\&quot;: \&quot;d0efd7b1-a91d-49da-b800-8e160bcb70c3\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;bf8dd9d4-081e-465c-a357-0b189e1cb42b\&quot;,\n    \&quot;uid\&quot;: \&quot;ff4ce3a4-66a1-4e47-a00c-3818a495138a\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:21:09.537530962Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:21:09.537849727Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:21:09.237249460Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:21:09.241952714Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:21:09.319467036Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:21:09.325833909Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:21:09.537429761Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:21:09.537448827Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 7,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;evNRlCM6wEot\&quot;,\n        \&quot;username\&quot;: \&quot;user-d0efd7b1-a91d-49da-b800-8e160bcb70c3\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:21:10Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T10:21:09.200343Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(8), &quot;name&quot;: String(&quot;d0efd7b1-a91d-49da-b800-8e160bcb70c3&quot;), &quot;resourceVersion&quot;: String(&quot;bf8dd9d4-081e-465c-a357-0b189e1cb42b&quot;), &quot;uid&quot;: String(&quot;ff4ce3a4-66a1-4e47-a00c-3818a495138a&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:21:09.537530962Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:21:09.537849727Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:21:09.237249460Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:21:09.241952714Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:21:09.319467036Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:21:09.325833909Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:21:09.537429761Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:21:09.537448827Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(7), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;evNRlCM6wEot&quot;), &quot;username&quot;: String(&quot;user-d0efd7b1-a91d-49da-b800-8e160bcb70c3&quot;)})})})})
[2022-05-09T10:21:10Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-09T10:21:10Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;d0efd7b1-a91d-49da-b800-8e160bcb70c3&quot;
[2022-05-09T10:21:10Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T10:21:09.200343Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 8,\n    \&quot;name\&quot;: \&quot;d0efd7b1-a91d-49da-b800-8e160bcb70c3\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;bf8dd9d4-081e-465c-a357-0b189e1cb42b\&quot;,\n    \&quot;uid\&quot;: \&quot;ff4ce3a4-66a1-4e47-a00c-3818a495138a\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:21:09.537530962Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:21:09.537849727Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:21:09.237249460Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:21:09.241952714Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:21:09.319467036Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:21:09.325833909Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:21:09.537429761Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:21:09.537448827Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 7,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;evNRlCM6wEot\&quot;,\n        \&quot;username\&quot;: \&quot;user-d0efd7b1-a91d-49da-b800-8e160bcb70c3\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:21:10Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T10:21:09.200343Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(8), &quot;name&quot;: String(&quot;d0efd7b1-a91d-49da-b800-8e160bcb70c3&quot;), &quot;resourceVersion&quot;: String(&quot;bf8dd9d4-081e-465c-a357-0b189e1cb42b&quot;), &quot;uid&quot;: String(&quot;ff4ce3a4-66a1-4e47-a00c-3818a495138a&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:21:09.537530962Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:21:09.537849727Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:21:09.237249460Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:21:09.241952714Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:21:09.319467036Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:21:09.325833909Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:21:09.537429761Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:21:09.537448827Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(7), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;evNRlCM6wEot&quot;), &quot;username&quot;: String(&quot;user-d0efd7b1-a91d-49da-b800-8e160bcb70c3&quot;)})})})})
[2022-05-09T10:21:10Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-09T10:21:10Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:21:10Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T10:21:10Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T10:21:10Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJXRG4zQ2wwMVNsYVpRRnRTbUpuS2JqWC1wcXdsR21xWDhSUFNWSHgxUHgwIn0.eyJleHAiOjE2NTIwOTE5NjgsImlhdCI6MTY1MjA5MTY2OCwiYXV0aF90aW1lIjoxNjUyMDkxNjY1LCJqdGkiOiJjMWNjMzI0NS1jOWU0LTQ0MjItOTM5MC1mZThhOTk0MWNhODYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiM2RlYjE5ZjktYzc0Ni00YjAwLWE5MDktMmI5ODg1NWNlNGYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJPOFNVUjE0MXQtOFdDZUdkYXprSEN3Iiwic2Vzc2lvbl9zdGF0ZSI6ImE3YTgxNGVkLTI5YjctNDcwOC04MzUwLThmMzdlMGQ3NTJjMiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImE3YTgxNGVkLTI5YjctNDcwOC04MzUwLThmMzdlMGQ3NTJjMiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.sNRLU5gjxSMDXj77ltabZ-ZpOtgpzlVRQ1kkZ-Pi-tmxy_qqjXx79ARcI4nfyxGK7-GkLzyd5KA8SMd6Zqa2f2e-rCBMJ2XKinTj4lJrkIMnjBHsdJHCFBZi1m8nQq1QeVYOWg1S7nZDKNnZGmn62GTUCmSLKJO-2E3WTqt65EyjtNQxp_CZE79pdgt1oEptkFgq0yvvBaZbrqfTESyMG4pbcorIJzc9JyQ6mldN9D251ph3mbPA80Q7L0NXGL6tXEKzpQopoaoTQG0E5lBAlH0aWLa6xJPKn7OseEJSmBe7eUEu8858ON8UbUz71-Vw29JiURZ-K_46VIl2vTBN9Q\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:21:10Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T10:21:10Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-09T10:21:10Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-09T10:21:10Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;d0efd7b1-a91d-49da-b800-8e160bcb70c3&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-09T10:21:10Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:21:10Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: ssl://mqtt-integration.172.18.0.2.nip.io:30002
[2022-05-09T10:21:10Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T10:21:10Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJXRG4zQ2wwMVNsYVpRRnRTbUpuS2JqWC1wcXdsR21xWDhSUFNWSHgxUHgwIn0.eyJleHAiOjE2NTIwOTE5NjgsImlhdCI6MTY1MjA5MTY2OCwiYXV0aF90aW1lIjoxNjUyMDkxNjY1LCJqdGkiOiJjMWNjMzI0NS1jOWU0LTQ0MjItOTM5MC1mZThhOTk0MWNhODYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiM2RlYjE5ZjktYzc0Ni00YjAwLWE5MDktMmI5ODg1NWNlNGYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJPOFNVUjE0MXQtOFdDZUdkYXprSEN3Iiwic2Vzc2lvbl9zdGF0ZSI6ImE3YTgxNGVkLTI5YjctNDcwOC04MzUwLThmMzdlMGQ3NTJjMiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImE3YTgxNGVkLTI5YjctNDcwOC04MzUwLThmMzdlMGQ3NTJjMiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.sNRLU5gjxSMDXj77ltabZ-ZpOtgpzlVRQ1kkZ-Pi-tmxy_qqjXx79ARcI4nfyxGK7-GkLzyd5KA8SMd6Zqa2f2e-rCBMJ2XKinTj4lJrkIMnjBHsdJHCFBZi1m8nQq1QeVYOWg1S7nZDKNnZGmn62GTUCmSLKJO-2E3WTqt65EyjtNQxp_CZE79pdgt1oEptkFgq0yvvBaZbrqfTESyMG4pbcorIJzc9JyQ6mldN9D251ph3mbPA80Q7L0NXGL6tXEKzpQopoaoTQG0E5lBAlH0aWLa6xJPKn7OseEJSmBe7eUEu8858ON8UbUz71-Vw29JiURZ-K_46VIl2vTBN9Q\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:21:10Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-integration.172.18.0.2.nip.io:30002&quot;, client_id: &quot;b62da69f-ccdc-498d-8aee-268527b825f7&quot;, persistence: None, user_data: None }
[2022-05-09T10:21:10Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T10:21:10Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55efdbf2d560
[2022-05-09T10:21:10Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55efdbf2d560
[2022-05-09T10:21:10Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x55efdc144400, connectTimeout: 30, retryInterval: 0, ssl: 0x55efdc1966f0, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55efdc144d50, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJXRG4zQ2wwMVNsYVpRRnRTbUpuS2JqWC1wcXdsR21xWDhSUFNWSHgxUHgwIn0.eyJleHAiOjE2NTIwOTE5NjgsImlhdCI6MTY1MjA5MTY2OCwiYXV0aF90aW1lIjoxNjUyMDkxNjY1LCJqdGkiOiJjMWNjMzI0NS1jOWU0LTQ0MjItOTM5MC1mZThhOTk0MWNhODYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiM2RlYjE5ZjktYzc0Ni00YjAwLWE5MDktMmI5ODg1NWNlNGYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJPOFNVUjE0MXQtOFdDZUdkYXprSEN3Iiwic2Vzc2lvbl9zdGF0ZSI6ImE3YTgxNGVkLTI5YjctNDcwOC04MzUwLThmMzdlMGQ3NTJjMiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImE3YTgxNGVkLTI5YjctNDcwOC04MzUwLThmMzdlMGQ3NTJjMiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.sNRLU5gjxSMDXj77ltabZ-ZpOtgpzlVRQ1kkZ-Pi-tmxy_qqjXx79ARcI4nfyxGK7-GkLzyd5KA8SMd6Zqa2f2e-rCBMJ2XKinTj4lJrkIMnjBHsdJHCFBZi1m8nQq1QeVYOWg1S7nZDKNnZGmn62GTUCmSLKJO-2E3WTqt65EyjtNQxp_CZE79pdgt1oEptkFgq0yvvBaZbrqfTESyMG4pbcorIJzc9JyQ6mldN9D251ph3mbPA80Q7L0NXGL6tXEKzpQopoaoTQG0E5lBAlH0aWLa6xJPKn7OseEJSmBe7eUEu8858ON8UbUz71-Vw29JiURZ-K_46VIl2vTBN9Q&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T10:21:10Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/d0efd7b1-a91d-49da-b800-8e160bcb70c3&quot;&#x27; @ QOS 0
[2022-05-09T10:21:10Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-09T10:21:10Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-09T10:21:10Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:21:10Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-09T10:21:10Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:21:10Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-09T10:21:11Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:21:11Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-09T10:21:11Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:21:11Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-09T10:21:12Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:21:12Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-09T10:21:12Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:21:12Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-09T10:21:13Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:21:14Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-09T10:21:14Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:21:14Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-09T10:21:14Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 11, payload: 0x7f0ed0001120, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 573, array: 0x55efdbf75210 } }, data: MessageData { topic: &quot;app/d0efd7b1-a91d-49da-b800-8e160bcb70c3&quot;, payload: [123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 573, array: 0x55efdbf75210 } } } }
[2022-05-09T10:21:14Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55efdc1ced70, 0x55efdc194200
[2022-05-09T10:21:14Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55efdc194200, 0x55efdbeced50
[2022-05-09T10:21:14Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55efdc194200, 0x7f0ed80043e0
[2022-05-09T10:21:14Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed80043e0, 0x7f0ed8005f30
[2022-05-09T10:21:14Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed80043e0, 0x7f0ed80043c0
[2022-05-09T10:21:14Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed80043c0, 0x55efdbeced50
[2022-05-09T10:21:14Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed80043c0, 0x55efdbeced50
[2022-05-09T10:21:14Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed80043c0, 0x7f0ed8003ec0
[2022-05-09T10:21:14Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8003ec0, 0x55efdbeced50
[2022-05-09T10:21:14Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8003ec0, 0x55efdbeced50
[2022-05-09T10:21:14Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8003ec0, 0x7f0ed8003130
[2022-05-09T10:21:14Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8003130, 0x7f0ed8003ec0
[2022-05-09T10:21:14Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8003ec0, 0x55efdbeced50
[2022-05-09T10:21:14Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8003ec0, 0x7f0ed8005ef0
[2022-05-09T10:21:14Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f0ed8003ec0
[2022-05-09T10:21:14Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/d0efd7b1-a91d-49da-b800-8e160bcb70c3&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;source&quot;: &quot;drogue://d0efd7b1%2Da91d%2D49da%2Db800%2D8e160bcb70c3/device1&quot;, &quot;senderuid&quot;: &quot;7c15cef5-256e-4190-8653-f62421273a78&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;application&quot;: &quot;d0efd7b1-a91d-49da-b800-8e160bcb70c3&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;time&quot;: &quot;2022-05-09T10:21:14.008719465+00:00&quot;, &quot;applicationuid&quot;: &quot;ff4ce3a4-66a1-4e47-a00c-3818a495138a&quot;, &quot;sender&quot;: &quot;device1&quot;, &quot;deviceuid&quot;: &quot;7c15cef5-256e-4190-8653-f62421273a78&quot;, &quot;partitionkey&quot;: &quot;d0efd7b1%2Da91d%2D49da%2Db800%2D8e160bcb70c3/device1&quot;, &quot;id&quot;: &quot;03a37304-db07-473d-8575-f2e715c77e4b&quot;, &quot;device&quot;: &quot;device1&quot;, &quot;type&quot;: &quot;io.drogue.event.v1&quot;, &quot;subject&quot;: &quot;warmup&quot;}, payload: &quot;{\&quot;index\&quot;:3}&quot; }
[2022-05-09T10:21:15Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-09T10:21:15Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-09T10:21:15Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-09T10:21:15Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry
[2022-05-09T10:21:15Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-endpoint.172.18.0.2.nip.io:30001&quot;, client_id: &quot;6da706c5-712b-4ed6-a38f-916f3cf5324c&quot;, persistence: None, user_data: None }
[2022-05-09T10:21:15Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T10:21:15Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55efdbfd1690
[2022-05-09T10:21:15Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55efdbfd1690
[2022-05-09T10:21:15Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x55efdc1153a0, password: 0x55efdc2c6ce0, connectTimeout: 30, retryInterval: 0, ssl: 0x55efdbe8d510, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55efdc1cede0, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;device1@d0efd7b1-a91d-49da-b800-8e160bcb70c3&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T10:21:15Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 18, payload: 0x7f0ed00298c0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 582, array: 0x55efdc346410 } }, data: MessageData { topic: &quot;app/d0efd7b1-a91d-49da-b800-8e160bcb70c3&quot;, payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 582, array: 0x55efdc346410 } } } }
[2022-05-09T10:21:15Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8003ee0, 0x7f0ed8003270
[2022-05-09T10:21:15Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8003270, 0x7f0ed00013e0
[2022-05-09T10:21:15Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8003270, 0x55efdc194200
[2022-05-09T10:21:15Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55efdc194200, 0x7f0ed0001500
[2022-05-09T10:21:15Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55efdc194200, 0x7f0ed8003ec0
[2022-05-09T10:21:15Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8003ec0, 0x7f0ed00013e0
[2022-05-09T10:21:15Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8003ec0, 0x7f0ed00013e0
[2022-05-09T10:21:15Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8003ec0, 0x7f0ed8003220
[2022-05-09T10:21:15Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8003220, 0x7f0ed00013e0
[2022-05-09T10:21:15Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8003220, 0x7f0ed00198d0
[2022-05-09T10:21:15Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8003220, 0x7f0ed00013e0
[2022-05-09T10:21:15Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8003220, 0x7f0ed8004d20
[2022-05-09T10:21:15Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8004d20, 0x7f0ed00013e0
[2022-05-09T10:21:15Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ed8004d20, 0x7f0ed80049a0
[2022-05-09T10:21:15Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f0ed8004d20
[2022-05-09T10:21:15Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55efdbe8dec0 } }, data: MessageData { topic: &quot;telemetry&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55efdbe8dec0 } } } }
[2022-05-09T10:21:15Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/d0efd7b1-a91d-49da-b800-8e160bcb70c3&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;sender&quot;: &quot;device1&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;application&quot;: &quot;d0efd7b1-a91d-49da-b800-8e160bcb70c3&quot;, &quot;partitionkey&quot;: &quot;d0efd7b1%2Da91d%2D49da%2Db800%2D8e160bcb70c3/device1&quot;, &quot;time&quot;: &quot;2022-05-09T10:21:15.082221903+00:00&quot;, &quot;applicationuid&quot;: &quot;ff4ce3a4-66a1-4e47-a00c-3818a495138a&quot;, &quot;subject&quot;: &quot;connection&quot;, &quot;device&quot;: &quot;device1&quot;, &quot;deviceuid&quot;: &quot;7c15cef5-256e-4190-8653-f62421273a78&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;id&quot;: &quot;49461dd2-b542-44e1-889c-4bae79fedb60&quot;, &quot;type&quot;: &quot;io.drogue.connection.v1&quot;, &quot;source&quot;: &quot;drogue://d0efd7b1%2Da91d%2D49da%2Db800%2D8e160bcb70c3/device1&quot;, &quot;senderuid&quot;: &quot;7c15cef5-256e-4190-8653-f62421273a78&quot;}, payload: &quot;{\&quot;connected\&quot;:true}&quot; }
[2022-05-09T10:21:15Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-09T10:21:15Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 19, payload: 0x7f0ed002dc40, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 582, array: 0x55efdbe553e0 } }, data: MessageData { topic: &quot;app/d0efd7b1-a91d-49da-b800-8e160bcb70c3&quot;, payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 102, 97, 108, 115, 101, 125], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 582, array: 0x55efdbe553e0 } } } }
[2022-05-09T10:21:15Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55efdbe4cd50, 0x55efdc2a0bd0
[2022-05-09T10:21:15Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55efdc2a0bd0, 0x55efdbf10220
[2022-05-09T10:21:15Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55efdc2a0bd0, 0x55efdc0cdf00
[2022-05-09T10:21:15Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55efdc0cdf00, 0x55efdc06bbe0
[2022-05-09T10:21:15Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55efdc0cdf00, 0x7f0ee0006690
[2022-05-09T10:21:15Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0006690, 0x55efdbf10220
[2022-05-09T10:21:15Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0006690, 0x55efdbf10220
[2022-05-09T10:21:15Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0006690, 0x7f0ee0006f70
[2022-05-09T10:21:15Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0006f70, 0x55efdbe4c8b0
[2022-05-09T10:21:15Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0006f70, 0x55efdbf10220
[2022-05-09T10:21:15Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0006f70, 0x55efdbf10220
[2022-05-09T10:21:15Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0006f70, 0x7f0ee0003840
[2022-05-09T10:21:15Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0003840, 0x55efdbf10220
[2022-05-09T10:21:15Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0003840, 0x7f0ee0000a50
[2022-05-09T10:21:15Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f0ee0000a50
[2022-05-09T10:21:15Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/d0efd7b1-a91d-49da-b800-8e160bcb70c3&quot;, content_type: Some(&quot;application/json&quot;), user_properties: {&quot;source&quot;: &quot;drogue://d0efd7b1%2Da91d%2D49da%2Db800%2D8e160bcb70c3/device1&quot;, &quot;subject&quot;: &quot;connection&quot;, &quot;sender&quot;: &quot;device1&quot;, &quot;partitionkey&quot;: &quot;d0efd7b1%2Da91d%2D49da%2Db800%2D8e160bcb70c3/device1&quot;, &quot;device&quot;: &quot;device1&quot;, &quot;senderuid&quot;: &quot;7c15cef5-256e-4190-8653-f62421273a78&quot;, &quot;type&quot;: &quot;io.drogue.connection.v1&quot;, &quot;instance&quot;: &quot;drogue&quot;, &quot;deviceuid&quot;: &quot;7c15cef5-256e-4190-8653-f62421273a78&quot;, &quot;id&quot;: &quot;86b86388-8426-46dc-bc03-8a038c894852&quot;, &quot;applicationuid&quot;: &quot;ff4ce3a4-66a1-4e47-a00c-3818a495138a&quot;, &quot;time&quot;: &quot;2022-05-09T10:21:15.345755159+00:00&quot;, &quot;application&quot;: &quot;d0efd7b1-a91d-49da-b800-8e160bcb70c3&quot;, &quot;specversion&quot;: &quot;1.0&quot;}, payload: &quot;{\&quot;connected\&quot;:false}&quot; }
[2022-05-09T10:21:15Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 15, max_count: 20, length: 584, array: 0x55efdc2c1aa0 } }, data: MessageData { topic: &quot;app/d0efd7b1-a91d-49da-b800-8e160bcb70c3&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 15, max_count: 20, length: 584, array: 0x55efdc2c1aa0 } } } }
[2022-05-09T10:21:15Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0000a70, 0x7f0ee0006690
[2022-05-09T10:21:15Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0006690, 0x7f0ed0016a20
[2022-05-09T10:21:15Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0006690, 0x55efdc2a0bd0
[2022-05-09T10:21:15Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55efdc2a0bd0, 0x7f0ed0019a00
[2022-05-09T10:21:15Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x55efdc2a0bd0, 0x7f0ee00038d0
[2022-05-09T10:21:15Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee00038d0, 0x7f0ed0016a20
[2022-05-09T10:21:15Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee00038d0, 0x7f0ee0003860
[2022-05-09T10:21:15Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0003860, 0x7f0ed0016a20
[2022-05-09T10:21:15Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0003860, 0x7f0ed0016a20
[2022-05-09T10:21:15Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0003860, 0x7f0ee0006f50
[2022-05-09T10:21:15Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0006f50, 0x7f0ed0016a20
[2022-05-09T10:21:15Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0006f50, 0x7f0ee0000ad0
[2022-05-09T10:21:15Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0000ad0, 0x7f0ed0016a20
[2022-05-09T10:21:15Z DEBUG paho_mqtt::properties] Dropping string pair property: 0x7f0ee0000ad0, 0x7f0ed00278f0
[2022-05-09T10:21:15Z DEBUG paho_mqtt::properties] Dropping string property: 0x7f0ee0008fe0
[2022-05-09T10:21:15Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/d0efd7b1-a91d-49da-b800-8e160bcb70c3&quot;, content_type: Some(&quot;application/octet-stream&quot;), user_properties: {&quot;instance&quot;: &quot;drogue&quot;, &quot;subject&quot;: &quot;telemetry&quot;, &quot;partitionkey&quot;: &quot;d0efd7b1%2Da91d%2D49da%2Db800%2D8e160bcb70c3/device1&quot;, &quot;specversion&quot;: &quot;1.0&quot;, &quot;id&quot;: &quot;e2da8b08-2c28-49cd-ad86-1b6d1f61a9f0&quot;, &quot;source&quot;: &quot;drogue://d0efd7b1%2Da91d%2D49da%2Db800%2D8e160bcb70c3/device1&quot;, &quot;applicationuid&quot;: &quot;ff4ce3a4-66a1-4e47-a00c-3818a495138a&quot;, &quot;deviceuid&quot;: &quot;7c15cef5-256e-4190-8653-f62421273a78&quot;, &quot;time&quot;: &quot;2022-05-09T10:21:15.341953792+00:00&quot;, &quot;device&quot;: &quot;device1&quot;, &quot;sender&quot;: &quot;device1&quot;, &quot;type&quot;: &quot;io.drogue.event.v1&quot;, &quot;application&quot;: &quot;d0efd7b1-a91d-49da-b800-8e160bcb70c3&quot;, &quot;senderuid&quot;: &quot;7c15cef5-256e-4190-8653-f62421273a78&quot;}, payload: &quot;&quot; }
[2022-05-09T10:21:15Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-09T10:21:15Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-09T10:21:15Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-09T10:21:15Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;d0efd7b1-a91d-49da-b800-8e160bcb70c3&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 102, 97, 108, 115, 101, 125] }`,
 right: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;d0efd7b1-a91d-49da-b800-8e160bcb70c3&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`: Position #1&#x27;, src/tools/assert.rs:35:39
[2022-05-09T10:21:15Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-09T10:21:15Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;d0efd7b1-a91d-49da-b800-8e160bcb70c3&quot; &quot;device1&quot;
[2022-05-09T10:21:15Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:21:15Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;d0efd7b1-a91d-49da-b800-8e160bcb70c3&#x27;
[2022-05-09T10:21:15Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;d0efd7b1-a91d-49da-b800-8e160bcb70c3&quot;
[2022-05-09T10:21:15Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App d0efd7b1-a91d-49da-b800-8e160bcb70c3 deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ✅ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_1::integration_version_3::integration_ws_2

**Duration**: 14s

## ✅ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_2::integration_version_1::integration_ws_1

**Duration**: 14s

## ✅ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_2::integration_version_1::integration_ws_2

**Duration**: 14s

## ✅ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_2::integration_version_2::integration_ws_1

**Duration**: 14s

## ✅ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_2::integration_version_2::integration_ws_2

**Duration**: 14s

## ✅ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_2::integration_version_3::integration_ws_1

**Duration**: 13s

## ✅ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_2::integration_version_3::integration_ws_2

**Duration**: 14s

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_1::integration_version_1::integration_ws_1

**Duration**: 13s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-09T10:22:56Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-09T10:22:56Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T10:22:56Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T10:22:56Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T10:22:56Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T10:22:57Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-09T10:22:58Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-09T10:22:58Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T10:22:58Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T10:22:58Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T10:23:00Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI0NDVmMTM5Zi0wNjNjLTRhZDgtODkwYi1mNTg1OTQ0NjFiZDAifQ.eyJleHAiOjE2NTIwOTM1ODAsImlhdCI6MTY1MjA5MTc4MCwianRpIjoiZmM0MDYzZDYtYmEwMy00MDFkLWE1MDUtZjdhNDkxMTM4NjAxIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjNkZWIxOWY5LWM3NDYtNGIwMC1hOTA5LTJiOTg4NTVjZTRmMyIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IjU1Vkk4bmR0RnFXNl9qdUhwUk5zTHciLCJzZXNzaW9uX3N0YXRlIjoiNjhlNWRmZTYtNmYwYy00MTc2LTg4MzEtNGU1MzkwZTUyNzIzIiwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjY4ZTVkZmU2LTZmMGMtNDE3Ni04ODMxLTRlNTM5MGU1MjcyMyJ9.q6Zvis5HYecsRDaByTv4ZGKVBpBaU338VMcsggGExwc
[2022-05-09T10:23:00Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-09T10:23:00Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-09T10:23:00Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI0NDVmMTM5Zi0wNjNjLTRhZDgtODkwYi1mNTg1OTQ0NjFiZDAifQ.eyJleHAiOjE2NTIwOTM1ODAsImlhdCI6MTY1MjA5MTc4MCwianRpIjoiZmM0MDYzZDYtYmEwMy00MDFkLWE1MDUtZjdhNDkxMTM4NjAxIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjNkZWIxOWY5LWM3NDYtNGIwMC1hOTA5LTJiOTg4NTVjZTRmMyIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IjU1Vkk4bmR0RnFXNl9qdUhwUk5zTHciLCJzZXNzaW9uX3N0YXRlIjoiNjhlNWRmZTYtNmYwYy00MTc2LTg4MzEtNGU1MzkwZTUyNzIzIiwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjY4ZTVkZmU2LTZmMGMtNDE3Ni04ODMxLTRlNTM5MGU1MjcyMyJ9.q6Zvis5HYecsRDaByTv4ZGKVBpBaU338VMcsggGExwc&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-09T10:23:00Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:23:01Z INFO  drogue_cloud_tests::resources::apps] Create application: 06f3145b-9715-4d70-88a7-446a0ba598e8
[2022-05-09T10:23:01Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;06f3145b-9715-4d70-88a7-446a0ba598e8&quot;
[2022-05-09T10:23:01Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 06f3145b-9715-4d70-88a7-446a0ba598e8 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:23:01Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;06f3145b-9715-4d70-88a7-446a0ba598e8&quot;
[2022-05-09T10:23:01Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T10:23:01.408556Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 1,\n    \&quot;name\&quot;: \&quot;06f3145b-9715-4d70-88a7-446a0ba598e8\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;16f622f9-d14c-4065-8dcb-8565d604b739\&quot;,\n    \&quot;uid\&quot;: \&quot;403ecbe7-6a72-469f-8ecb-4662a4f2c6f9\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:23:01.421244143Z\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: HasFinalizer\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:23:01.421318253Z\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:23:01.421162932Z\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:23:01.421165717Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:23:01.421166589Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:23:01.421167831Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:23:01.421168543Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:23:01.421186897Z\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:23:01Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T10:23:01.408556Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(1), &quot;name&quot;: String(&quot;06f3145b-9715-4d70-88a7-446a0ba598e8&quot;), &quot;resourceVersion&quot;: String(&quot;16f622f9-d14c-4065-8dcb-8565d604b739&quot;), &quot;uid&quot;: String(&quot;403ecbe7-6a72-469f-8ecb-4662a4f2c6f9&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:23:01.421244143Z&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: HasFinalizer&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:23:01.421318253Z&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:23:01.421162932Z&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:23:01.421165717Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:23:01.421166589Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:23:01.421167831Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:23:01.421168543Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:23:01.421186897Z&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(0)})})})
[2022-05-09T10:23:01Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-09T10:23:02Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;06f3145b-9715-4d70-88a7-446a0ba598e8&quot;
[2022-05-09T10:23:02Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T10:23:01.408556Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 8,\n    \&quot;name\&quot;: \&quot;06f3145b-9715-4d70-88a7-446a0ba598e8\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;aba53d4f-ad07-414e-802d-27af813ee992\&quot;,\n    \&quot;uid\&quot;: \&quot;403ecbe7-6a72-469f-8ecb-4662a4f2c6f9\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:23:01.766475146Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:23:01.766608204Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:23:01.445178933Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:23:01.453129849Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:23:01.517038506Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:23:01.523532618Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:23:01.766282355Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:23:01.766442945Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 7,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;zmgXoxvCYhUR\&quot;,\n        \&quot;username\&quot;: \&quot;user-06f3145b-9715-4d70-88a7-446a0ba598e8\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:23:02Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T10:23:01.408556Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(8), &quot;name&quot;: String(&quot;06f3145b-9715-4d70-88a7-446a0ba598e8&quot;), &quot;resourceVersion&quot;: String(&quot;aba53d4f-ad07-414e-802d-27af813ee992&quot;), &quot;uid&quot;: String(&quot;403ecbe7-6a72-469f-8ecb-4662a4f2c6f9&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:23:01.766475146Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:23:01.766608204Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:23:01.445178933Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:23:01.453129849Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:23:01.517038506Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:23:01.523532618Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:23:01.766282355Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:23:01.766442945Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(7), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;zmgXoxvCYhUR&quot;), &quot;username&quot;: String(&quot;user-06f3145b-9715-4d70-88a7-446a0ba598e8&quot;)})})})})
[2022-05-09T10:23:02Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-09T10:23:02Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;06f3145b-9715-4d70-88a7-446a0ba598e8&quot;
[2022-05-09T10:23:02Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T10:23:01.408556Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 8,\n    \&quot;name\&quot;: \&quot;06f3145b-9715-4d70-88a7-446a0ba598e8\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;aba53d4f-ad07-414e-802d-27af813ee992\&quot;,\n    \&quot;uid\&quot;: \&quot;403ecbe7-6a72-469f-8ecb-4662a4f2c6f9\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:23:01.766475146Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:23:01.766608204Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:23:01.445178933Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:23:01.453129849Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:23:01.517038506Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:23:01.523532618Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:23:01.766282355Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:23:01.766442945Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 7,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;zmgXoxvCYhUR\&quot;,\n        \&quot;username\&quot;: \&quot;user-06f3145b-9715-4d70-88a7-446a0ba598e8\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:23:02Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T10:23:01.408556Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(8), &quot;name&quot;: String(&quot;06f3145b-9715-4d70-88a7-446a0ba598e8&quot;), &quot;resourceVersion&quot;: String(&quot;aba53d4f-ad07-414e-802d-27af813ee992&quot;), &quot;uid&quot;: String(&quot;403ecbe7-6a72-469f-8ecb-4662a4f2c6f9&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:23:01.766475146Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:23:01.766608204Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:23:01.445178933Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:23:01.453129849Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:23:01.517038506Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:23:01.523532618Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:23:01.766282355Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:23:01.766442945Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(7), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;zmgXoxvCYhUR&quot;), &quot;username&quot;: String(&quot;user-06f3145b-9715-4d70-88a7-446a0ba598e8&quot;)})})})})
[2022-05-09T10:23:02Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-09T10:23:02Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:23:02Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T10:23:02Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T10:23:02Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJXRG4zQ2wwMVNsYVpRRnRTbUpuS2JqWC1wcXdsR21xWDhSUFNWSHgxUHgwIn0.eyJleHAiOjE2NTIwOTIwODAsImlhdCI6MTY1MjA5MTc4MCwiYXV0aF90aW1lIjoxNjUyMDkxNzc3LCJqdGkiOiJiNzkwOWVhNy02MTkzLTRkYmYtYWUzZi04NWY3NTc0NjgwNGMiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiM2RlYjE5ZjktYzc0Ni00YjAwLWE5MDktMmI5ODg1NWNlNGYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiI1NVZJOG5kdEZxVzZfanVIcFJOc0x3Iiwic2Vzc2lvbl9zdGF0ZSI6IjY4ZTVkZmU2LTZmMGMtNDE3Ni04ODMxLTRlNTM5MGU1MjcyMyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjY4ZTVkZmU2LTZmMGMtNDE3Ni04ODMxLTRlNTM5MGU1MjcyMyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.tKBrG4Sg_baZw8Q5IzfD0S43yQSjxCDJuJ-WvUFAMiLHdBVTgRmBB8uY5Thcgcvne2d3V4eDoB1w7Hspr-RBUzVkOujywngqfPlhFpuXi_3iLq27GII0Xz3TlXAguC5KfPtlFJYqsbusRoP5cA5SrrryfOFak23hjZfIzvFYlgtj9auJujumTwai5hXdxtidOxi9oMQ-AaBAvxteu9jCkuXlYcIC5wMLm6yUtQPLnMRxWwPzmQuFlVAnXwRGKT7RvxvQVoMZjMWGwHUH-jnT1TupLKOcpQc9SE60fhJ2r0B810dp1XMSmYB2gNAIkK1BpxUMIcdcPlrcUzV6QAHTwg\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:23:02Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T10:23:02Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-09T10:23:02Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-09T10:23:02Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;06f3145b-9715-4d70-88a7-446a0ba598e8&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-09T10:23:02Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:23:02Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: ssl://mqtt-integration.172.18.0.2.nip.io:30002
[2022-05-09T10:23:02Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T10:23:02Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJXRG4zQ2wwMVNsYVpRRnRTbUpuS2JqWC1wcXdsR21xWDhSUFNWSHgxUHgwIn0.eyJleHAiOjE2NTIwOTIwODAsImlhdCI6MTY1MjA5MTc4MCwiYXV0aF90aW1lIjoxNjUyMDkxNzc3LCJqdGkiOiJiNzkwOWVhNy02MTkzLTRkYmYtYWUzZi04NWY3NTc0NjgwNGMiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiM2RlYjE5ZjktYzc0Ni00YjAwLWE5MDktMmI5ODg1NWNlNGYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiI1NVZJOG5kdEZxVzZfanVIcFJOc0x3Iiwic2Vzc2lvbl9zdGF0ZSI6IjY4ZTVkZmU2LTZmMGMtNDE3Ni04ODMxLTRlNTM5MGU1MjcyMyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjY4ZTVkZmU2LTZmMGMtNDE3Ni04ODMxLTRlNTM5MGU1MjcyMyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.tKBrG4Sg_baZw8Q5IzfD0S43yQSjxCDJuJ-WvUFAMiLHdBVTgRmBB8uY5Thcgcvne2d3V4eDoB1w7Hspr-RBUzVkOujywngqfPlhFpuXi_3iLq27GII0Xz3TlXAguC5KfPtlFJYqsbusRoP5cA5SrrryfOFak23hjZfIzvFYlgtj9auJujumTwai5hXdxtidOxi9oMQ-AaBAvxteu9jCkuXlYcIC5wMLm6yUtQPLnMRxWwPzmQuFlVAnXwRGKT7RvxvQVoMZjMWGwHUH-jnT1TupLKOcpQc9SE60fhJ2r0B810dp1XMSmYB2gNAIkK1BpxUMIcdcPlrcUzV6QAHTwg\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:23:02Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 4, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-integration.172.18.0.2.nip.io:30002&quot;, client_id: &quot;3e1d7332-e958-4270-95fa-b991f2de0403&quot;, persistence: None, user_data: None }
[2022-05-09T10:23:02Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T10:23:02Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55efdc010b80
[2022-05-09T10:23:02Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55efdc010b80
[2022-05-09T10:23:02Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 1, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x55efdc5b1080, connectTimeout: 30, retryInterval: 0, ssl: 0x55efdc5b1750, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 4, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 0, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55efdc5b09c0, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJXRG4zQ2wwMVNsYVpRRnRTbUpuS2JqWC1wcXdsR21xWDhSUFNWSHgxUHgwIn0.eyJleHAiOjE2NTIwOTIwODAsImlhdCI6MTY1MjA5MTc4MCwiYXV0aF90aW1lIjoxNjUyMDkxNzc3LCJqdGkiOiJiNzkwOWVhNy02MTkzLTRkYmYtYWUzZi04NWY3NTc0NjgwNGMiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiM2RlYjE5ZjktYzc0Ni00YjAwLWE5MDktMmI5ODg1NWNlNGYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiI1NVZJOG5kdEZxVzZfanVIcFJOc0x3Iiwic2Vzc2lvbl9zdGF0ZSI6IjY4ZTVkZmU2LTZmMGMtNDE3Ni04ODMxLTRlNTM5MGU1MjcyMyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjY4ZTVkZmU2LTZmMGMtNDE3Ni04ODMxLTRlNTM5MGU1MjcyMyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.tKBrG4Sg_baZw8Q5IzfD0S43yQSjxCDJuJ-WvUFAMiLHdBVTgRmBB8uY5Thcgcvne2d3V4eDoB1w7Hspr-RBUzVkOujywngqfPlhFpuXi_3iLq27GII0Xz3TlXAguC5KfPtlFJYqsbusRoP5cA5SrrryfOFak23hjZfIzvFYlgtj9auJujumTwai5hXdxtidOxi9oMQ-AaBAvxteu9jCkuXlYcIC5wMLm6yUtQPLnMRxWwPzmQuFlVAnXwRGKT7RvxvQVoMZjMWGwHUH-jnT1TupLKOcpQc9SE60fhJ2r0B810dp1XMSmYB2gNAIkK1BpxUMIcdcPlrcUzV6QAHTwg&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T10:23:02Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/06f3145b-9715-4d70-88a7-446a0ba598e8&quot;&#x27; @ QOS 0
[2022-05-09T10:23:02Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-09T10:23:02Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-09T10:23:02Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:23:02Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-09T10:23:02Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:23:03Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-09T10:23:04Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:23:04Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-09T10:23:04Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:23:04Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-09T10:23:05Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:23:05Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-09T10:23:05Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:23:05Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-09T10:23:06Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:23:06Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-09T10:23:06Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:23:06Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-09T10:23:06Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 620, payload: 0x7f0ed000c160, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/06f3145b-9715-4d70-88a7-446a0ba598e8&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 101, 99, 53, 52, 53, 50, 99, 55, 45, 57, 52, 51, 53, 45, 52, 55, 52, 100, 45, 98, 53, 49, 55, 45, 97, 57, 54, 53, 49, 54, 48, 100, 102, 99, 53, 50, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 48, 54, 102, 51, 49, 52, 53, 98, 37, 50, 68, 57, 55, 49, 53, 37, 50, 68, 52, 100, 55, 48, 37, 50, 68, 56, 56, 97, 55, 37, 50, 68, 52, 52, 54, 97, 48, 98, 97, 53, 57, 56, 101, 56, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 119, 97, 114, 109, 117, 112, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 48, 58, 50, 51, 58, 48, 54, 46, 49, 57, 49, 54, 49, 50, 48, 50, 48, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 52, 48, 51, 101, 99, 98, 101, 55, 45, 54, 97, 55, 50, 45, 52, 54, 57, 102, 45, 56, 101, 99, 98, 45, 52, 54, 54, 50, 97, 52, 102, 50, 99, 54, 102, 57, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 48, 54, 102, 51, 49, 52, 53, 98, 37, 50, 68, 57, 55, 49, 53, 37, 50, 68, 52, 100, 55, 48, 37, 50, 68, 56, 56, 97, 55, 37, 50, 68, 52, 52, 54, 97, 48, 98, 97, 53, 57, 56, 101, 56, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 48, 54, 102, 51, 49, 52, 53, 98, 45, 57, 55, 49, 53, 45, 52, 100, 55, 48, 45, 56, 56, 97, 55, 45, 52, 52, 54, 97, 48, 98, 97, 53, 57, 56, 101, 56, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 97, 50, 53, 56, 57, 99, 54, 56, 45, 57, 55, 51, 56, 45, 52, 98, 55, 102, 45, 97, 101, 55, 56, 45, 49, 53, 54, 51, 54, 55, 101, 50, 48, 51, 56, 101, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 97, 50, 53, 56, 57, 99, 54, 56, 45, 57, 55, 51, 56, 45, 52, 98, 55, 102, 45, 97, 101, 55, 56, 45, 49, 53, 54, 51, 54, 55, 101, 50, 48, 51, 56, 101, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-09T10:23:06Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/06f3145b-9715-4d70-88a7-446a0ba598e8&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;ec5452c7-9435-474d-b517-a965160dfc52\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://06f3145b%2D9715%2D4d70%2D88a7%2D446a0ba598e8/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;warmup\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T10:23:06.191612020Z\&quot;,\&quot;data\&quot;:{\&quot;index\&quot;:3},\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;applicationuid\&quot;:\&quot;403ecbe7-6a72-469f-8ecb-4662a4f2c6f9\&quot;,\&quot;sender\&quot;:\&quot;device1\&quot;,\&quot;partitionkey\&quot;:\&quot;06f3145b%2D9715%2D4d70%2D88a7%2D446a0ba598e8/device1\&quot;,\&quot;application\&quot;:\&quot;06f3145b-9715-4d70-88a7-446a0ba598e8\&quot;,\&quot;senderuid\&quot;:\&quot;a2589c68-9738-4b7f-ae78-156367e2038e\&quot;,\&quot;deviceuid\&quot;:\&quot;a2589c68-9738-4b7f-ae78-156367e2038e\&quot;}&quot; }
[2022-05-09T10:23:07Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-09T10:23:07Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-09T10:23:07Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-09T10:23:07Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry
[2022-05-09T10:23:07Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;ssl://mqtt-endpoint.172.18.0.2.nip.io:30001&quot;, client_id: &quot;ca273430-7731-400a-9e4d-3ccdcc74ddc5&quot;, persistence: None, user_data: None }
[2022-05-09T10:23:07Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T10:23:07Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55efdc176780
[2022-05-09T10:23:07Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55efdc176780
[2022-05-09T10:23:07Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x55efdc1a4d30, password: 0x55efdc138440, connectTimeout: 30, retryInterval: 0, ssl: 0x55efdc136b80, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55efdc1a4aa0, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;device1@06f3145b-9715-4d70-88a7-446a0ba598e8&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T10:23:07Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55efdc134000 } }, data: MessageData { topic: &quot;telemetry&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55efdc134000 } } } }
[2022-05-09T10:23:07Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 636, payload: 0x7f0ed002aff0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/06f3145b-9715-4d70-88a7-446a0ba598e8&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 51, 101, 98, 101, 99, 48, 101, 49, 45, 99, 101, 50, 100, 45, 52, 49, 51, 51, 45, 97, 49, 100, 102, 45, 55, 100, 101, 102, 54, 56, 51, 53, 101, 53, 55, 56, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 48, 54, 102, 51, 49, 52, 53, 98, 37, 50, 68, 57, 55, 49, 53, 37, 50, 68, 52, 100, 55, 48, 37, 50, 68, 56, 56, 97, 55, 37, 50, 68, 52, 52, 54, 97, 48, 98, 97, 53, 57, 56, 101, 56, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 48, 58, 50, 51, 58, 48, 55, 46, 50, 57, 48, 48, 52, 48, 49, 51, 48, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 97, 50, 53, 56, 57, 99, 54, 56, 45, 57, 55, 51, 56, 45, 52, 98, 55, 102, 45, 97, 101, 55, 56, 45, 49, 53, 54, 51, 54, 55, 101, 50, 48, 51, 56, 101, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 48, 54, 102, 51, 49, 52, 53, 98, 37, 50, 68, 57, 55, 49, 53, 37, 50, 68, 52, 100, 55, 48, 37, 50, 68, 56, 56, 97, 55, 37, 50, 68, 52, 52, 54, 97, 48, 98, 97, 53, 57, 56, 101, 56, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 97, 50, 53, 56, 57, 99, 54, 56, 45, 57, 55, 51, 56, 45, 52, 98, 55, 102, 45, 97, 101, 55, 56, 45, 49, 53, 54, 51, 54, 55, 101, 50, 48, 51, 56, 101, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 52, 48, 51, 101, 99, 98, 101, 55, 45, 54, 97, 55, 50, 45, 52, 54, 57, 102, 45, 56, 101, 99, 98, 45, 52, 54, 54, 50, 97, 52, 102, 50, 99, 54, 102, 57, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 48, 54, 102, 51, 49, 52, 53, 98, 45, 57, 55, 49, 53, 45, 52, 100, 55, 48, 45, 56, 56, 97, 55, 45, 52, 52, 54, 97, 48, 98, 97, 53, 57, 56, 101, 56, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-09T10:23:07Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-09T10:23:07Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/06f3145b-9715-4d70-88a7-446a0ba598e8&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;3ebec0e1-ce2d-4133-a1df-7def6835e578\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://06f3145b%2D9715%2D4d70%2D88a7%2D446a0ba598e8/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T10:23:07.290040130Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:true},\&quot;deviceuid\&quot;:\&quot;a2589c68-9738-4b7f-ae78-156367e2038e\&quot;,\&quot;sender\&quot;:\&quot;device1\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;partitionkey\&quot;:\&quot;06f3145b%2D9715%2D4d70%2D88a7%2D446a0ba598e8/device1\&quot;,\&quot;senderuid\&quot;:\&quot;a2589c68-9738-4b7f-ae78-156367e2038e\&quot;,\&quot;applicationuid\&quot;:\&quot;403ecbe7-6a72-469f-8ecb-4662a4f2c6f9\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;application\&quot;:\&quot;06f3145b-9715-4d70-88a7-446a0ba598e8\&quot;}&quot; }
[2022-05-09T10:23:07Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 637, payload: 0x7f0ed000c600, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/06f3145b-9715-4d70-88a7-446a0ba598e8&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 52, 57, 56, 53, 53, 49, 97, 97, 45, 99, 98, 100, 57, 45, 52, 101, 54, 101, 45, 98, 51, 97, 51, 45, 97, 99, 49, 102, 99, 51, 54, 52, 97, 53, 55, 101, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 48, 54, 102, 51, 49, 52, 53, 98, 37, 50, 68, 57, 55, 49, 53, 37, 50, 68, 52, 100, 55, 48, 37, 50, 68, 56, 56, 97, 55, 37, 50, 68, 52, 52, 54, 97, 48, 98, 97, 53, 57, 56, 101, 56, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 48, 58, 50, 51, 58, 48, 55, 46, 52, 52, 54, 57, 56, 52, 57, 51, 50, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 102, 97, 108, 115, 101, 125, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 97, 50, 53, 56, 57, 99, 54, 56, 45, 57, 55, 51, 56, 45, 52, 98, 55, 102, 45, 97, 101, 55, 56, 45, 49, 53, 54, 51, 54, 55, 101, 50, 48, 51, 56, 101, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 48, 54, 102, 51, 49, 52, 53, 98, 45, 57, 55, 49, 53, 45, 52, 100, 55, 48, 45, 56, 56, 97, 55, 45, 52, 52, 54, 97, 48, 98, 97, 53, 57, 56, 101, 56, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 48, 54, 102, 51, 49, 52, 53, 98, 37, 50, 68, 57, 55, 49, 53, 37, 50, 68, 52, 100, 55, 48, 37, 50, 68, 56, 56, 97, 55, 37, 50, 68, 52, 52, 54, 97, 48, 98, 97, 53, 57, 56, 101, 56, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 97, 50, 53, 56, 57, 99, 54, 56, 45, 57, 55, 51, 56, 45, 52, 98, 55, 102, 45, 97, 101, 55, 56, 45, 49, 53, 54, 51, 54, 55, 101, 50, 48, 51, 56, 101, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 52, 48, 51, 101, 99, 98, 101, 55, 45, 54, 97, 55, 50, 45, 52, 54, 57, 102, 45, 56, 101, 99, 98, 45, 52, 54, 54, 50, 97, 52, 102, 50, 99, 54, 102, 57, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-09T10:23:07Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/06f3145b-9715-4d70-88a7-446a0ba598e8&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;498551aa-cbd9-4e6e-b3a3-ac1fc364a57e\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://06f3145b%2D9715%2D4d70%2D88a7%2D446a0ba598e8/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T10:23:07.446984932Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:false},\&quot;deviceuid\&quot;:\&quot;a2589c68-9738-4b7f-ae78-156367e2038e\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;application\&quot;:\&quot;06f3145b-9715-4d70-88a7-446a0ba598e8\&quot;,\&quot;partitionkey\&quot;:\&quot;06f3145b%2D9715%2D4d70%2D88a7%2D446a0ba598e8/device1\&quot;,\&quot;senderuid\&quot;:\&quot;a2589c68-9738-4b7f-ae78-156367e2038e\&quot;,\&quot;sender\&quot;:\&quot;device1\&quot;,\&quot;applicationuid\&quot;:\&quot;403ecbe7-6a72-469f-8ecb-4662a4f2c6f9\&quot;}&quot; }
[2022-05-09T10:23:07Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 629, payload: 0x7f0ed0002390, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: &quot;app/06f3145b-9715-4d70-88a7-446a0ba598e8&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 48, 97, 51, 50, 49, 57, 101, 98, 45, 102, 98, 51, 102, 45, 52, 102, 101, 55, 45, 57, 53, 102, 57, 45, 51, 51, 49, 57, 49, 98, 98, 51, 50, 99, 99, 101, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 48, 54, 102, 51, 49, 52, 53, 98, 37, 50, 68, 57, 55, 49, 53, 37, 50, 68, 52, 100, 55, 48, 37, 50, 68, 56, 56, 97, 55, 37, 50, 68, 52, 52, 54, 97, 48, 98, 97, 53, 57, 56, 101, 56, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 111, 99, 116, 101, 116, 45, 115, 116, 114, 101, 97, 109, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 116, 101, 108, 101, 109, 101, 116, 114, 121, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 48, 58, 50, 51, 58, 48, 55, 46, 52, 52, 49, 57, 48, 51, 50, 50, 49, 90, 34, 44, 34, 100, 97, 116, 97, 95, 98, 97, 115, 101, 54, 52, 34, 58, 34, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 48, 54, 102, 51, 49, 52, 53, 98, 45, 57, 55, 49, 53, 45, 52, 100, 55, 48, 45, 56, 56, 97, 55, 45, 52, 52, 54, 97, 48, 98, 97, 53, 57, 56, 101, 56, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 97, 50, 53, 56, 57, 99, 54, 56, 45, 57, 55, 51, 56, 45, 52, 98, 55, 102, 45, 97, 101, 55, 56, 45, 49, 53, 54, 51, 54, 55, 101, 50, 48, 51, 56, 101, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 97, 50, 53, 56, 57, 99, 54, 56, 45, 57, 55, 51, 56, 45, 52, 98, 55, 102, 45, 97, 101, 55, 56, 45, 49, 53, 54, 51, 54, 55, 101, 50, 48, 51, 56, 101, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 48, 54, 102, 51, 49, 52, 53, 98, 37, 50, 68, 57, 55, 49, 53, 37, 50, 68, 52, 100, 55, 48, 37, 50, 68, 56, 56, 97, 55, 37, 50, 68, 52, 52, 54, 97, 48, 98, 97, 53, 57, 56, 101, 56, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 52, 48, 51, 101, 99, 98, 101, 55, 45, 54, 97, 55, 50, 45, 52, 54, 57, 102, 45, 56, 101, 99, 98, 45, 52, 54, 54, 50, 97, 52, 102, 50, 99, 54, 102, 57, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2022-05-09T10:23:07Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/06f3145b-9715-4d70-88a7-446a0ba598e8&quot;, content_type: None, user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;0a3219eb-fb3f-4fe7-95f9-33191bb32cce\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://06f3145b%2D9715%2D4d70%2D88a7%2D446a0ba598e8/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/octet-stream\&quot;,\&quot;subject\&quot;:\&quot;telemetry\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T10:23:07.441903221Z\&quot;,\&quot;data_base64\&quot;:\&quot;\&quot;,\&quot;application\&quot;:\&quot;06f3145b-9715-4d70-88a7-446a0ba598e8\&quot;,\&quot;senderuid\&quot;:\&quot;a2589c68-9738-4b7f-ae78-156367e2038e\&quot;,\&quot;sender\&quot;:\&quot;device1\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;deviceuid\&quot;:\&quot;a2589c68-9738-4b7f-ae78-156367e2038e\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;partitionkey\&quot;:\&quot;06f3145b%2D9715%2D4d70%2D88a7%2D446a0ba598e8/device1\&quot;,\&quot;applicationuid\&quot;:\&quot;403ecbe7-6a72-469f-8ecb-4662a4f2c6f9\&quot;}&quot; }
[2022-05-09T10:23:07Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-09T10:23:07Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-09T10:23:07Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-09T10:23:07Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;06f3145b-9715-4d70-88a7-446a0ba598e8&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 102, 97, 108, 115, 101, 125] }`,
 right: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;06f3145b-9715-4d70-88a7-446a0ba598e8&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`: Position #1&#x27;, src/tools/assert.rs:35:39
[2022-05-09T10:23:08Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-09T10:23:08Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;06f3145b-9715-4d70-88a7-446a0ba598e8&quot; &quot;device1&quot;
[2022-05-09T10:23:08Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:23:08Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;06f3145b-9715-4d70-88a7-446a0ba598e8&#x27;
[2022-05-09T10:23:08Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;06f3145b-9715-4d70-88a7-446a0ba598e8&quot;
[2022-05-09T10:23:08Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 06f3145b-9715-4d70-88a7-446a0ba598e8 deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ✅ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_1::integration_version_1::integration_ws_2

**Duration**: 14s

## ✅ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_1::integration_version_2::integration_ws_1

**Duration**: 13s

## ✅ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_1::integration_version_2::integration_ws_2

**Duration**: 14s

## ✅ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_1::integration_version_3::integration_ws_1

**Duration**: 13s

## ✅ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_1::integration_version_3::integration_ws_2

**Duration**: 14s

## ✅ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_2::integration_version_1::integration_ws_1

**Duration**: 14s

## ✅ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_2::integration_version_1::integration_ws_2

**Duration**: 14s

## ✅ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_2::integration_version_2::integration_ws_1

**Duration**: 14s

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_2::integration_version_2::integration_ws_2

**Duration**: 14s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-05-09T10:25:03Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-05-09T10:25:03Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T10:25:03Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T10:25:03Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T10:25:03Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T10:25:04Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-05-09T10:25:05Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-05-09T10:25:05Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T10:25:05Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-05-09T10:25:05Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-05-09T10:25:07Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI0NDVmMTM5Zi0wNjNjLTRhZDgtODkwYi1mNTg1OTQ0NjFiZDAifQ.eyJleHAiOjE2NTIwOTM3MDcsImlhdCI6MTY1MjA5MTkwNywianRpIjoiMmY4NDc3MGMtMjgwMy00OThlLTlkZWYtMGQ3ZTE5NzZjMWE0IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjNkZWIxOWY5LWM3NDYtNGIwMC1hOTA5LTJiOTg4NTVjZTRmMyIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IkthNlF3LUo3WmhGNUlZbURBOG9vU0EiLCJzZXNzaW9uX3N0YXRlIjoiOGZlN2IwMDQtNDI2ZC00MjBmLWI0ZDItOGFiZmM4ZGM1NzBkIiwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjhmZTdiMDA0LTQyNmQtNDIwZi1iNGQyLThhYmZjOGRjNTcwZCJ9.Mc-3fa2PIUNuY-urRsebqi4r-C3Xbm02NUzMqcKjdXw
[2022-05-09T10:25:07Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-05-09T10:25:07Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;&quot;, stderr: &quot;&quot; })
[2022-05-09T10:25:07Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI0NDVmMTM5Zi0wNjNjLTRhZDgtODkwYi1mNTg1OTQ0NjFiZDAifQ.eyJleHAiOjE2NTIwOTM3MDcsImlhdCI6MTY1MjA5MTkwNywianRpIjoiMmY4NDc3MGMtMjgwMy00OThlLTlkZWYtMGQ3ZTE5NzZjMWE0IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjNkZWIxOWY5LWM3NDYtNGIwMC1hOTA5LTJiOTg4NTVjZTRmMyIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IkthNlF3LUo3WmhGNUlZbURBOG9vU0EiLCJzZXNzaW9uX3N0YXRlIjoiOGZlN2IwMDQtNDI2ZC00MjBmLWI0ZDItOGFiZmM4ZGM1NzBkIiwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjhmZTdiMDA0LTQyNmQtNDIwZi1iNGQyLThhYmZjOGRjNTcwZCJ9.Mc-3fa2PIUNuY-urRsebqi4r-C3Xbm02NUzMqcKjdXw&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-05-09T10:25:07Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:25:08Z INFO  drogue_cloud_tests::resources::apps] Create application: 247b3010-66b1-46d8-87bd-f9c43aa648ad
[2022-05-09T10:25:08Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;247b3010-66b1-46d8-87bd-f9c43aa648ad&quot;
[2022-05-09T10:25:08Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 247b3010-66b1-46d8-87bd-f9c43aa648ad created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:25:08Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;247b3010-66b1-46d8-87bd-f9c43aa648ad&quot;
[2022-05-09T10:25:08Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T10:25:08.391847Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 1,\n    \&quot;name\&quot;: \&quot;247b3010-66b1-46d8-87bd-f9c43aa648ad\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;6002f5e6-55cc-447f-8cfe-476b67e2adac\&quot;,\n    \&quot;uid\&quot;: \&quot;7260b3a1-b1d3-492a-b23a-fce05c2a5574\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:25:08.404869088Z\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: HasFinalizer\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:25:08.404913351Z\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:25:08.404754474Z\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:25:08.404755987Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:25:08.404756918Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:25:08.404757860Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:25:08.404759172Z\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:25:08.404779640Z\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:25:08Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T10:25:08.391847Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(1), &quot;name&quot;: String(&quot;247b3010-66b1-46d8-87bd-f9c43aa648ad&quot;), &quot;resourceVersion&quot;: String(&quot;6002f5e6-55cc-447f-8cfe-476b67e2adac&quot;), &quot;uid&quot;: String(&quot;7260b3a1-b1d3-492a-b23a-fce05c2a5574&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:25:08.404869088Z&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: HasFinalizer&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:25:08.404913351Z&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:25:08.404754474Z&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:25:08.404755987Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:25:08.404756918Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:25:08.404757860Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:25:08.404759172Z&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:25:08.404779640Z&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(0)})})})
[2022-05-09T10:25:08Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-05-09T10:25:09Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;247b3010-66b1-46d8-87bd-f9c43aa648ad&quot;
[2022-05-09T10:25:09Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T10:25:08.391847Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 8,\n    \&quot;name\&quot;: \&quot;247b3010-66b1-46d8-87bd-f9c43aa648ad\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;2099f9dd-ecb8-4da8-a39a-0740a9a811cc\&quot;,\n    \&quot;uid\&quot;: \&quot;7260b3a1-b1d3-492a-b23a-fce05c2a5574\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:25:08.735617062Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:25:08.735747405Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:25:08.430416944Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:25:08.437054424Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:25:08.504209964Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:25:08.511108531Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:25:08.735478462Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:25:08.735581836Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 7,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;EIY0fkcYGJVz\&quot;,\n        \&quot;username\&quot;: \&quot;user-247b3010-66b1-46d8-87bd-f9c43aa648ad\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:25:09Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T10:25:08.391847Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(8), &quot;name&quot;: String(&quot;247b3010-66b1-46d8-87bd-f9c43aa648ad&quot;), &quot;resourceVersion&quot;: String(&quot;2099f9dd-ecb8-4da8-a39a-0740a9a811cc&quot;), &quot;uid&quot;: String(&quot;7260b3a1-b1d3-492a-b23a-fce05c2a5574&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:25:08.735617062Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:25:08.735747405Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:25:08.430416944Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:25:08.437054424Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:25:08.504209964Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:25:08.511108531Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:25:08.735478462Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:25:08.735581836Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(7), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;EIY0fkcYGJVz&quot;), &quot;username&quot;: String(&quot;user-247b3010-66b1-46d8-87bd-f9c43aa648ad&quot;)})})})})
[2022-05-09T10:25:09Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-05-09T10:25:09Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;247b3010-66b1-46d8-87bd-f9c43aa648ad&quot;
[2022-05-09T10:25:09Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;creationTimestamp\&quot;: \&quot;2022-05-09T10:25:08.391847Z\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ],\n    \&quot;generation\&quot;: 8,\n    \&quot;name\&quot;: \&quot;247b3010-66b1-46d8-87bd-f9c43aa648ad\&quot;,\n    \&quot;resourceVersion\&quot;: \&quot;2099f9dd-ecb8-4da8-a39a-0740a9a811cc\&quot;,\n    \&quot;uid\&quot;: \&quot;7260b3a1-b1d3-492a-b23a-fce05c2a5574\&quot;\n  },\n  \&quot;status\&quot;: {\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:25:08.735617062Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;\n      },\n      {\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:25:08.735747405Z\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;type\&quot;: \&quot;Ready\&quot;\n      }\n    ],\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:25:08.430416944Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:25:08.437054424Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:25:08.504209964Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:25:08.511108531Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:25:08.735478462Z\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;UserReady\&quot;\n        },\n        {\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-05-09T10:25:08.735581836Z\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 7,\n      \&quot;user\&quot;: {\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;,\n        \&quot;password\&quot;: \&quot;EIY0fkcYGJVz\&quot;,\n        \&quot;username\&quot;: \&quot;user-247b3010-66b1-46d8-87bd-f9c43aa648ad\&quot;\n      }\n    }\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:25:09Z DEBUG drogue_cloud_tests::resources::apps] Application: Object({&quot;metadata&quot;: Object({&quot;creationTimestamp&quot;: String(&quot;2022-05-09T10:25:08.391847Z&quot;), &quot;finalizers&quot;: Array([String(&quot;kafka&quot;)]), &quot;generation&quot;: Number(8), &quot;name&quot;: String(&quot;247b3010-66b1-46d8-87bd-f9c43aa648ad&quot;), &quot;resourceVersion&quot;: String(&quot;2099f9dd-ecb8-4da8-a39a-0740a9a811cc&quot;), &quot;uid&quot;: String(&quot;7260b3a1-b1d3-492a-b23a-fce05c2a5574&quot;)}), &quot;status&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:25:08.735617062Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;KafkaReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:25:08.735747405Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Ready&quot;)})]), &quot;kafka&quot;: Object({&quot;conditions&quot;: Array([Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:25:08.430416944Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;HasFinalizer&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:25:08.437054424Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateTopics&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:25:08.504209964Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;TopicsReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:25:08.511108531Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;CreateUser&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:25:08.735478462Z&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;UserReady&quot;)}), Object({&quot;lastTransitionTime&quot;: String(&quot;2022-05-09T10:25:08.735581836Z&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;type&quot;: String(&quot;Reconciled&quot;)})]), &quot;observedGeneration&quot;: Number(7), &quot;user&quot;: Object({&quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;), &quot;password&quot;: String(&quot;EIY0fkcYGJVz&quot;), &quot;username&quot;: String(&quot;user-247b3010-66b1-46d8-87bd-f9c43aa648ad&quot;)})})})})
[2022-05-09T10:25:09Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-05-09T10:25:09Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:25:09Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-05-09T10:25:09Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T10:25:09Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJXRG4zQ2wwMVNsYVpRRnRTbUpuS2JqWC1wcXdsR21xWDhSUFNWSHgxUHgwIn0.eyJleHAiOjE2NTIwOTIyMDcsImlhdCI6MTY1MjA5MTkwNywiYXV0aF90aW1lIjoxNjUyMDkxOTA0LCJqdGkiOiI5NjNjNzU4MS0wM2FjLTQ4ZDAtOGQ2ZS0xMWU0NGE5ZjEwMjciLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiM2RlYjE5ZjktYzc0Ni00YjAwLWE5MDktMmI5ODg1NWNlNGYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJLYTZRdy1KN1poRjVJWW1EQThvb1NBIiwic2Vzc2lvbl9zdGF0ZSI6IjhmZTdiMDA0LTQyNmQtNDIwZi1iNGQyLThhYmZjOGRjNTcwZCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjhmZTdiMDA0LTQyNmQtNDIwZi1iNGQyLThhYmZjOGRjNTcwZCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.wWzVOxiOHzPpjf8Kx5IRw-r1oHFy0rOasmKndezfAqwtJSya1b4Si61WxSlDzOkTMDZ6cdpNQt1sOM7bNW8rAxVMG2Jjrs3kPhCU8e3NMcvoDgcD6HR4T8x_z7VWod1bMdVgLo77h7Zqu2cE2Fkj1IoqJ065LgJE1lJGcr8cESahw4qzyiZyAHs2Rj-rHRHgXIH1nm03FyQSyXpoURwocHod1pwYwAjNEPGJDKFL1NUI_3HgJlSkzSFdYx8oP9mwxAshtbWOwkzXfVq4dgojkvscBYmQPK6M4WW3HGpPvmE1LfBCLqaSQHJN3dz8OnoA7H7uBym5382gczidc68K2Q\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:25:09Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-05-09T10:25:09Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/api/console/v1alpha1/info
[2022-05-09T10:25:09Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-05-09T10:25:09Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;--app&quot; &quot;247b3010-66b1-46d8-87bd-f9c43aa648ad&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-05-09T10:25:09Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 created.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:25:09Z INFO  drogue_cloud_tests::tests::mqtt] MQTT integration URL: wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt
[2022-05-09T10:25:09Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-05-09T10:25:09Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJXRG4zQ2wwMVNsYVpRRnRTbUpuS2JqWC1wcXdsR21xWDhSUFNWSHgxUHgwIn0.eyJleHAiOjE2NTIwOTIyMDcsImlhdCI6MTY1MjA5MTkwNywiYXV0aF90aW1lIjoxNjUyMDkxOTA0LCJqdGkiOiI5NjNjNzU4MS0wM2FjLTQ4ZDAtOGQ2ZS0xMWU0NGE5ZjEwMjciLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiM2RlYjE5ZjktYzc0Ni00YjAwLWE5MDktMmI5ODg1NWNlNGYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJLYTZRdy1KN1poRjVJWW1EQThvb1NBIiwic2Vzc2lvbl9zdGF0ZSI6IjhmZTdiMDA0LTQyNmQtNDIwZi1iNGQyLThhYmZjOGRjNTcwZCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjhmZTdiMDA0LTQyNmQtNDIwZi1iNGQyLThhYmZjOGRjNTcwZCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.wWzVOxiOHzPpjf8Kx5IRw-r1oHFy0rOasmKndezfAqwtJSya1b4Si61WxSlDzOkTMDZ6cdpNQt1sOM7bNW8rAxVMG2Jjrs3kPhCU8e3NMcvoDgcD6HR4T8x_z7VWod1bMdVgLo77h7Zqu2cE2Fkj1IoqJ065LgJE1lJGcr8cESahw4qzyiZyAHs2Rj-rHRHgXIH1nm03FyQSyXpoURwocHod1pwYwAjNEPGJDKFL1NUI_3HgJlSkzSFdYx8oP9mwxAshtbWOwkzXfVq4dgojkvscBYmQPK6M4WW3HGpPvmE1LfBCLqaSQHJN3dz8OnoA7H7uBym5382gczidc68K2Q\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:25:09Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006/mqtt&quot;, client_id: &quot;57d80aba-7b5b-4fdd-980c-7b3ac39deb24&quot;, persistence: None, user_data: None }
[2022-05-09T10:25:09Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T10:25:09Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55efdc208820
[2022-05-09T10:25:09Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55efdc208820
[2022-05-09T10:25:09Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x0, password: 0x55efdc296c30, connectTimeout: 30, retryInterval: 0, ssl: 0x55efdbf88c20, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55efdc208b90, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 0, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: None, password: Some(&quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJXRG4zQ2wwMVNsYVpRRnRTbUpuS2JqWC1wcXdsR21xWDhSUFNWSHgxUHgwIn0.eyJleHAiOjE2NTIwOTIyMDcsImlhdCI6MTY1MjA5MTkwNywiYXV0aF90aW1lIjoxNjUyMDkxOTA0LCJqdGkiOiI5NjNjNzU4MS0wM2FjLTQ4ZDAtOGQ2ZS0xMWU0NGE5ZjEwMjciLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiM2RlYjE5ZjktYzc0Ni00YjAwLWE5MDktMmI5ODg1NWNlNGYzIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJLYTZRdy1KN1poRjVJWW1EQThvb1NBIiwic2Vzc2lvbl9zdGF0ZSI6IjhmZTdiMDA0LTQyNmQtNDIwZi1iNGQyLThhYmZjOGRjNTcwZCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjhmZTdiMDA0LTQyNmQtNDIwZi1iNGQyLThhYmZjOGRjNTcwZCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.wWzVOxiOHzPpjf8Kx5IRw-r1oHFy0rOasmKndezfAqwtJSya1b4Si61WxSlDzOkTMDZ6cdpNQt1sOM7bNW8rAxVMG2Jjrs3kPhCU8e3NMcvoDgcD6HR4T8x_z7VWod1bMdVgLo77h7Zqu2cE2Fkj1IoqJ065LgJE1lJGcr8cESahw4qzyiZyAHs2Rj-rHRHgXIH1nm03FyQSyXpoURwocHod1pwYwAjNEPGJDKFL1NUI_3HgJlSkzSFdYx8oP9mwxAshtbWOwkzXfVq4dgojkvscBYmQPK6M4WW3HGpPvmE1LfBCLqaSQHJN3dz8OnoA7H7uBym5382gczidc68K2Q&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T10:25:09Z DEBUG paho_mqtt::async_client] Subscribe to &#x27;&quot;app/247b3010-66b1-46d8-87bd-f9c43aa648ad&quot;&#x27; @ QOS 0
[2022-05-09T10:25:09Z INFO  drogue_cloud_tests::tests::mqtt] Receiver created
[2022-05-09T10:25:09Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2022-05-09T10:25:09Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:25:09Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-09T10:25:09Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:25:10Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-09T10:25:11Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:25:11Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-09T10:25:11Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:25:11Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-09T10:25:12Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:25:12Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-09T10:25:12Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:25:12Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-09T10:25:13Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-05-09T10:25:13Z INFO  drogue_cloud_tests::tools::http] Sending payload (https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?)
[2022-05-09T10:25:13Z DEBUG reqwest::connect] starting new connection: https://http-endpoint.172.18.0.2.nip.io:30443/
[2022-05-09T10:25:13Z DEBUG reqwest::async_impl::client] response &#x27;202 Accepted&#x27; for https://http-endpoint.172.18.0.2.nip.io:30443/v1/warmup?
[2022-05-09T10:25:13Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 620, payload: 0x7f0edc016760, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f0edc0169e0 } }, data: MessageData { topic: &quot;app/247b3010-66b1-46d8-87bd-f9c43aa648ad&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 54, 53, 49, 55, 48, 51, 102, 53, 45, 101, 50, 99, 98, 45, 52, 56, 54, 99, 45, 97, 100, 97, 54, 45, 54, 55, 54, 101, 102, 97, 56, 48, 50, 48, 51, 101, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 50, 52, 55, 98, 51, 48, 49, 48, 37, 50, 68, 54, 54, 98, 49, 37, 50, 68, 52, 54, 100, 56, 37, 50, 68, 56, 55, 98, 100, 37, 50, 68, 102, 57, 99, 52, 51, 97, 97, 54, 52, 56, 97, 100, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 119, 97, 114, 109, 117, 112, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 48, 58, 50, 53, 58, 49, 51, 46, 50, 55, 53, 53, 49, 53, 57, 51, 48, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 97, 99, 97, 98, 52, 52, 51, 57, 45, 50, 97, 101, 50, 45, 52, 51, 98, 98, 45, 98, 48, 53, 52, 45, 48, 53, 52, 50, 57, 102, 100, 57, 55, 49, 54, 101, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 50, 52, 55, 98, 51, 48, 49, 48, 37, 50, 68, 54, 54, 98, 49, 37, 50, 68, 52, 54, 100, 56, 37, 50, 68, 56, 55, 98, 100, 37, 50, 68, 102, 57, 99, 52, 51, 97, 97, 54, 52, 56, 97, 100, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 97, 99, 97, 98, 52, 52, 51, 57, 45, 50, 97, 101, 50, 45, 52, 51, 98, 98, 45, 98, 48, 53, 52, 45, 48, 53, 52, 50, 57, 102, 100, 57, 55, 49, 54, 101, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 50, 52, 55, 98, 51, 48, 49, 48, 45, 54, 54, 98, 49, 45, 52, 54, 100, 56, 45, 56, 55, 98, 100, 45, 102, 57, 99, 52, 51, 97, 97, 54, 52, 56, 97, 100, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 55, 50, 54, 48, 98, 51, 97, 49, 45, 98, 49, 100, 51, 45, 52, 57, 50, 97, 45, 98, 50, 51, 97, 45, 102, 99, 101, 48, 53, 99, 50, 97, 53, 53, 55, 52, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f0edc0169e0 } } } }
[2022-05-09T10:25:13Z DEBUG paho_mqtt::properties] Dropping string property: 0x55efdbe92e00
[2022-05-09T10:25:13Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/247b3010-66b1-46d8-87bd-f9c43aa648ad&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;651703f5-e2cb-486c-ada6-676efa80203e\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://247b3010%2D66b1%2D46d8%2D87bd%2Df9c43aa648ad/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;warmup\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T10:25:13.275515930Z\&quot;,\&quot;data\&quot;:{\&quot;index\&quot;:3},\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;senderuid\&quot;:\&quot;acab4439-2ae2-43bb-b054-05429fd9716e\&quot;,\&quot;partitionkey\&quot;:\&quot;247b3010%2D66b1%2D46d8%2D87bd%2Df9c43aa648ad/device1\&quot;,\&quot;deviceuid\&quot;:\&quot;acab4439-2ae2-43bb-b054-05429fd9716e\&quot;,\&quot;sender\&quot;:\&quot;device1\&quot;,\&quot;application\&quot;:\&quot;247b3010-66b1-46d8-87bd-f9c43aa648ad\&quot;,\&quot;applicationuid\&quot;:\&quot;7260b3a1-b1d3-492a-b23a-fce05c2a5574\&quot;}&quot; }
[2022-05-09T10:25:14Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2022-05-09T10:25:14Z DEBUG drogue_cloud_tests::tools::mqtt::receiver] Received warmup message: 3
[2022-05-09T10:25:14Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2022-05-09T10:25:14Z INFO  drogue_cloud_tests::tests::mqtt] Sending payload: telemetry
[2022-05-09T10:25:14Z DEBUG paho_mqtt::async_client] Create options: CreateOptions { copts: MQTTAsync_createOptions { struct_id: [77, 81, 67, 79], struct_version: 2, sendWhileDisconnected: 0, maxBufferedMessages: 100, MQTTVersion: 5, allowDisconnectedSendAtAnyTime: 0, deleteOldestMessages: 0, restoreMessages: 1, persistQoS0: 1 }, server_uri: &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005/mqtt&quot;, client_id: &quot;b999f1eb-7e7e-4592-9412-6e85a30c1719&quot;, persistence: None, user_data: None }
[2022-05-09T10:25:14Z DEBUG paho_mqtt::async_client] Creating client with persistence: 1
[2022-05-09T10:25:14Z DEBUG paho_mqtt::async_client] AsyncClient handle: 0x55efdc298530
[2022-05-09T10:25:14Z DEBUG paho_mqtt::async_client] Connecting handle: 0x55efdc298530
[2022-05-09T10:25:14Z DEBUG paho_mqtt::async_client] Connect options: ConnectOptions { copts: MQTTAsync_connectOptions { struct_id: [77, 81, 84, 67], struct_version: 8, keepAliveInterval: 30, cleansession: 0, maxInflight: 65535, will: 0x0, username: 0x55efdbfbd2d0, password: 0x55efdc0b4400, connectTimeout: 30, retryInterval: 0, ssl: 0x55efdc409190, onSuccess: None, onFailure: None, context: 0x0, serverURIcount: 0, serverURIs: 0x0, MQTTVersion: 5, automaticReconnect: 1, minRetryInterval: 1, maxRetryInterval: 5, binarypwd: MQTTAsync_connectOptions__bindgen_ty_1 { len: 0, data: 0x0 }, cleanstart: 1, connectProperties: 0x0, willProperties: 0x0, onSuccess5: None, onFailure5: None, httpHeaders: 0x0, httpProxy: 0x0, httpsProxy: 0x0 }, data: ConnectOptionsData { will: None, ssl: Some(SslOptions { copts: MQTTAsync_SSLOptions { struct_id: [77, 81, 84, 83], struct_version: 5, trustStore: 0x55efdbe2fcf0, keyStore: 0x0, privateKey: 0x0, privateKeyPassword: 0x0, enabledCipherSuites: 0x0, enableServerCertAuth: 1, sslVersion: 0, verify: 1, CApath: 0x0, ssl_error_cb: None, ssl_error_context: 0x0, ssl_psk_cb: None, ssl_psk_context: 0x0, disableDefaultTrustStore: 0, protos: 0x0, protos_len: 0 }, data: SslOptionsData { trust_store: &quot;release/build/certs/endpoints/root-cert.pem&quot;, key_store: &quot;&quot;, private_key: &quot;&quot;, private_key_password: &quot;&quot;, enabled_cipher_suites: &quot;&quot;, ca_path: &quot;&quot;, protos: [] } }), user_name: Some(&quot;device1@247b3010-66b1-46d8-87bd-f9c43aa648ad&quot;), password: Some(&quot;foo&quot;), server_uris: StringCollection { c_coll: [], c_mut_coll: [], data: StringCollectionData { coll: [] } }, props: None, will_props: None, http_headers: None, http_proxy: None, https_proxy: None } }
[2022-05-09T10:25:14Z DEBUG paho_mqtt::async_client] Publish: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55efdc052730 } }, data: MessageData { topic: &quot;telemetry&quot;, payload: [], props: Properties { cprops: MQTTProperties { count: 1, max_count: 10, length: 27, array: 0x55efdc052730 } } } }
[2022-05-09T10:25:14Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 636, payload: 0x7f0edc02b430, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f0edc02b6c0 } }, data: MessageData { topic: &quot;app/247b3010-66b1-46d8-87bd-f9c43aa648ad&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 97, 49, 102, 99, 48, 55, 102, 52, 45, 52, 49, 98, 99, 45, 52, 51, 97, 100, 45, 97, 54, 98, 56, 45, 97, 49, 57, 49, 50, 52, 55, 57, 53, 49, 48, 49, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 50, 52, 55, 98, 51, 48, 49, 48, 37, 50, 68, 54, 54, 98, 49, 37, 50, 68, 52, 54, 100, 56, 37, 50, 68, 56, 55, 98, 100, 37, 50, 68, 102, 57, 99, 52, 51, 97, 97, 54, 52, 56, 97, 100, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 48, 58, 50, 53, 58, 49, 52, 46, 51, 51, 50, 52, 48, 55, 54, 57, 53, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 116, 114, 117, 101, 125, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 55, 50, 54, 48, 98, 51, 97, 49, 45, 98, 49, 100, 51, 45, 52, 57, 50, 97, 45, 98, 50, 51, 97, 45, 102, 99, 101, 48, 53, 99, 50, 97, 53, 53, 55, 52, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 50, 52, 55, 98, 51, 48, 49, 48, 37, 50, 68, 54, 54, 98, 49, 37, 50, 68, 52, 54, 100, 56, 37, 50, 68, 56, 55, 98, 100, 37, 50, 68, 102, 57, 99, 52, 51, 97, 97, 54, 52, 56, 97, 100, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 50, 52, 55, 98, 51, 48, 49, 48, 45, 54, 54, 98, 49, 45, 52, 54, 100, 56, 45, 56, 55, 98, 100, 45, 102, 57, 99, 52, 51, 97, 97, 54, 52, 56, 97, 100, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 97, 99, 97, 98, 52, 52, 51, 57, 45, 50, 97, 101, 50, 45, 52, 51, 98, 98, 45, 98, 48, 53, 52, 45, 48, 53, 52, 50, 57, 102, 100, 57, 55, 49, 54, 101, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 97, 99, 97, 98, 52, 52, 51, 57, 45, 50, 97, 101, 50, 45, 52, 51, 98, 98, 45, 98, 48, 53, 52, 45, 48, 53, 52, 50, 57, 102, 100, 57, 55, 49, 54, 101, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f0edc02b6c0 } } } }
[2022-05-09T10:25:14Z INFO  drogue_cloud_tests::tests::mqtt] Payload sent, waiting for messages
[2022-05-09T10:25:14Z DEBUG paho_mqtt::properties] Dropping string property: 0x55efdbe92e00
[2022-05-09T10:25:14Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/247b3010-66b1-46d8-87bd-f9c43aa648ad&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;a1fc07f4-41bc-43ad-a6b8-a19124795101\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://247b3010%2D66b1%2D46d8%2D87bd%2Df9c43aa648ad/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T10:25:14.332407695Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:true},\&quot;applicationuid\&quot;:\&quot;7260b3a1-b1d3-492a-b23a-fce05c2a5574\&quot;,\&quot;partitionkey\&quot;:\&quot;247b3010%2D66b1%2D46d8%2D87bd%2Df9c43aa648ad/device1\&quot;,\&quot;application\&quot;:\&quot;247b3010-66b1-46d8-87bd-f9c43aa648ad\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;deviceuid\&quot;:\&quot;acab4439-2ae2-43bb-b054-05429fd9716e\&quot;,\&quot;sender\&quot;:\&quot;device1\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;senderuid\&quot;:\&quot;acab4439-2ae2-43bb-b054-05429fd9716e\&quot;}&quot; }
[2022-05-09T10:25:14Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 637, payload: 0x7f0edc02b6c0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f0edc02b950 } }, data: MessageData { topic: &quot;app/247b3010-66b1-46d8-87bd-f9c43aa648ad&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 55, 52, 102, 57, 54, 52, 51, 56, 45, 97, 97, 55, 101, 45, 52, 57, 99, 49, 45, 57, 98, 100, 50, 45, 50, 49, 57, 99, 102, 48, 54, 52, 48, 54, 53, 53, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 50, 52, 55, 98, 51, 48, 49, 48, 37, 50, 68, 54, 54, 98, 49, 37, 50, 68, 52, 54, 100, 56, 37, 50, 68, 56, 55, 98, 100, 37, 50, 68, 102, 57, 99, 52, 51, 97, 97, 54, 52, 56, 97, 100, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 99, 111, 110, 110, 101, 99, 116, 105, 111, 110, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 48, 58, 50, 53, 58, 49, 52, 46, 54, 53, 48, 56, 50, 57, 52, 55, 50, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 102, 97, 108, 115, 101, 125, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 50, 52, 55, 98, 51, 48, 49, 48, 45, 54, 54, 98, 49, 45, 52, 54, 100, 56, 45, 56, 55, 98, 100, 45, 102, 57, 99, 52, 51, 97, 97, 54, 52, 56, 97, 100, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 55, 50, 54, 48, 98, 51, 97, 49, 45, 98, 49, 100, 51, 45, 52, 57, 50, 97, 45, 98, 50, 51, 97, 45, 102, 99, 101, 48, 53, 99, 50, 97, 53, 53, 55, 52, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 97, 99, 97, 98, 52, 52, 51, 57, 45, 50, 97, 101, 50, 45, 52, 51, 98, 98, 45, 98, 48, 53, 52, 45, 48, 53, 52, 50, 57, 102, 100, 57, 55, 49, 54, 101, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 97, 99, 97, 98, 52, 52, 51, 57, 45, 50, 97, 101, 50, 45, 52, 51, 98, 98, 45, 98, 48, 53, 52, 45, 48, 53, 52, 50, 57, 102, 100, 57, 55, 49, 54, 101, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 50, 52, 55, 98, 51, 48, 49, 48, 37, 50, 68, 54, 54, 98, 49, 37, 50, 68, 52, 54, 100, 56, 37, 50, 68, 56, 55, 98, 100, 37, 50, 68, 102, 57, 99, 52, 51, 97, 97, 54, 52, 56, 97, 100, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f0edc02b950 } } } }
[2022-05-09T10:25:14Z DEBUG paho_mqtt::properties] Dropping string property: 0x55efdbed0eb0
[2022-05-09T10:25:14Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/247b3010-66b1-46d8-87bd-f9c43aa648ad&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;74f96438-aa7e-49c1-9bd2-219cf0640655\&quot;,\&quot;type\&quot;:\&quot;io.drogue.connection.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://247b3010%2D66b1%2D46d8%2D87bd%2Df9c43aa648ad/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/json\&quot;,\&quot;subject\&quot;:\&quot;connection\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T10:25:14.650829472Z\&quot;,\&quot;data\&quot;:{\&quot;connected\&quot;:false},\&quot;sender\&quot;:\&quot;device1\&quot;,\&quot;application\&quot;:\&quot;247b3010-66b1-46d8-87bd-f9c43aa648ad\&quot;,\&quot;applicationuid\&quot;:\&quot;7260b3a1-b1d3-492a-b23a-fce05c2a5574\&quot;,\&quot;deviceuid\&quot;:\&quot;acab4439-2ae2-43bb-b054-05429fd9716e\&quot;,\&quot;senderuid\&quot;:\&quot;acab4439-2ae2-43bb-b054-05429fd9716e\&quot;,\&quot;partitionkey\&quot;:\&quot;247b3010%2D66b1%2D46d8%2D87bd%2Df9c43aa648ad/device1\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;}&quot; }
[2022-05-09T10:25:15Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 629, payload: 0x7f0edc02bdd0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f0edc02c050 } }, data: MessageData { topic: &quot;app/247b3010-66b1-46d8-87bd-f9c43aa648ad&quot;, payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 57, 52, 50, 50, 51, 49, 48, 55, 45, 98, 51, 48, 57, 45, 52, 97, 97, 55, 45, 97, 54, 52, 49, 45, 97, 98, 48, 101, 98, 53, 57, 56, 99, 100, 101, 56, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 50, 52, 55, 98, 51, 48, 49, 48, 37, 50, 68, 54, 54, 98, 49, 37, 50, 68, 52, 54, 100, 56, 37, 50, 68, 56, 55, 98, 100, 37, 50, 68, 102, 57, 99, 52, 51, 97, 97, 54, 52, 56, 97, 100, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 111, 99, 116, 101, 116, 45, 115, 116, 114, 101, 97, 109, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 116, 101, 108, 101, 109, 101, 116, 114, 121, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 50, 45, 48, 53, 45, 48, 57, 84, 49, 48, 58, 50, 53, 58, 49, 52, 46, 54, 52, 54, 57, 55, 55, 51, 55, 48, 90, 34, 44, 34, 100, 97, 116, 97, 95, 98, 97, 115, 101, 54, 52, 34, 58, 34, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 50, 52, 55, 98, 51, 48, 49, 48, 37, 50, 68, 54, 54, 98, 49, 37, 50, 68, 52, 54, 100, 56, 37, 50, 68, 56, 55, 98, 100, 37, 50, 68, 102, 57, 99, 52, 51, 97, 97, 54, 52, 56, 97, 100, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 115, 101, 110, 100, 101, 114, 117, 105, 100, 34, 58, 34, 97, 99, 97, 98, 52, 52, 51, 57, 45, 50, 97, 101, 50, 45, 52, 51, 98, 98, 45, 98, 48, 53, 52, 45, 48, 53, 52, 50, 57, 102, 100, 57, 55, 49, 54, 101, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 117, 105, 100, 34, 58, 34, 55, 50, 54, 48, 98, 51, 97, 49, 45, 98, 49, 100, 51, 45, 52, 57, 50, 97, 45, 98, 50, 51, 97, 45, 102, 99, 101, 48, 53, 99, 50, 97, 53, 53, 55, 52, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 50, 52, 55, 98, 51, 48, 49, 48, 45, 54, 54, 98, 49, 45, 52, 54, 100, 56, 45, 56, 55, 98, 100, 45, 102, 57, 99, 52, 51, 97, 97, 54, 52, 56, 97, 100, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 117, 105, 100, 34, 58, 34, 97, 99, 97, 98, 52, 52, 51, 57, 45, 50, 97, 101, 50, 45, 52, 51, 98, 98, 45, 98, 48, 53, 52, 45, 48, 53, 52, 50, 57, 102, 100, 57, 55, 49, 54, 101, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f0edc02c050 } } } }
[2022-05-09T10:25:15Z DEBUG paho_mqtt::properties] Dropping string property: 0x55efdbed0eb0
[2022-05-09T10:25:15Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: &quot;app/247b3010-66b1-46d8-87bd-f9c43aa648ad&quot;, content_type: Some(&quot;application/cloudevents+json; charset=utf-8&quot;), user_properties: {}, payload: &quot;{\&quot;specversion\&quot;:\&quot;1.0\&quot;,\&quot;id\&quot;:\&quot;94223107-b309-4aa7-a641-ab0eb598cde8\&quot;,\&quot;type\&quot;:\&quot;io.drogue.event.v1\&quot;,\&quot;source\&quot;:\&quot;drogue://247b3010%2D66b1%2D46d8%2D87bd%2Df9c43aa648ad/device1\&quot;,\&quot;datacontenttype\&quot;:\&quot;application/octet-stream\&quot;,\&quot;subject\&quot;:\&quot;telemetry\&quot;,\&quot;time\&quot;:\&quot;2022-05-09T10:25:14.646977370Z\&quot;,\&quot;data_base64\&quot;:\&quot;\&quot;,\&quot;partitionkey\&quot;:\&quot;247b3010%2D66b1%2D46d8%2D87bd%2Df9c43aa648ad/device1\&quot;,\&quot;sender\&quot;:\&quot;device1\&quot;,\&quot;senderuid\&quot;:\&quot;acab4439-2ae2-43bb-b054-05429fd9716e\&quot;,\&quot;applicationuid\&quot;:\&quot;7260b3a1-b1d3-492a-b23a-fce05c2a5574\&quot;,\&quot;application\&quot;:\&quot;247b3010-66b1-46d8-87bd-f9c43aa648ad\&quot;,\&quot;device\&quot;:\&quot;device1\&quot;,\&quot;deviceuid\&quot;:\&quot;acab4439-2ae2-43bb-b054-05429fd9716e\&quot;,\&quot;instance\&quot;:\&quot;drogue\&quot;}&quot; }
[2022-05-09T10:25:15Z INFO  drogue_cloud_tests::tests::mqtt] Check messages
[2022-05-09T10:25:15Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2022-05-09T10:25:15Z DEBUG paho_mqtt::async_client] Disconnecting
[2022-05-09T10:25:15Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `CloudMessage { subject: &quot;connection&quot;, type: &quot;io.drogue.connection.v1&quot;, instance: &quot;drogue&quot;, app: &quot;247b3010-66b1-46d8-87bd-f9c43aa648ad&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/json&quot;), payload: [123, 34, 99, 111, 110, 110, 101, 99, 116, 101, 100, 34, 58, 102, 97, 108, 115, 101, 125] }`,
 right: `CloudMessage { subject: &quot;telemetry&quot;, type: &quot;io.drogue.event.v1&quot;, instance: &quot;drogue&quot;, app: &quot;247b3010-66b1-46d8-87bd-f9c43aa648ad&quot;, device: &quot;device1&quot;, sender: &quot;device1&quot;, content_type: Some(&quot;application/octet-stream&quot;), payload: [] }`: Position #1&#x27;, src/tools/assert.rs:35:39
[2022-05-09T10:25:15Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-05-09T10:25:15Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;--app&quot; &quot;247b3010-66b1-46d8-87bd-f9c43aa648ad&quot; &quot;device1&quot;
[2022-05-09T10:25:15Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device device1 deleted.\n&quot;, stderr: &quot;&quot; })
[2022-05-09T10:25:15Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;247b3010-66b1-46d8-87bd-f9c43aa648ad&#x27;
[2022-05-09T10:25:15Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;247b3010-66b1-46d8-87bd-f9c43aa648ad&quot;
[2022-05-09T10:25:15Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;App 247b3010-66b1-46d8-87bd-f9c43aa648ad deleted.\n&quot;, stderr: &quot;&quot; })

</pre>

</details>

## ✅ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_2::integration_version_3::integration_ws_1

**Duration**: 14s

## ✅ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_2::integration_version_3::integration_ws_2

**Duration**: 14s

## ✅ tests::registry::api::test_registry_create_app

**Duration**: 16s

## ✅ tests::registry::drg::test_registry_create_and_delete

**Duration**: 8s

## ✅ tests::registry::drg::test_registry_create_app

**Duration**: 8s

## ✅ tests::registry::drg::test_registry_create_app_and_device

**Duration**: 8s

## ✅ tests::registry::drg::test_registry_create_app_and_device_twice

**Duration**: 8s

## ✅ tests::registry::drg::test_registry_create_app_twice

**Duration**: 8s

## ✅ tests::registry::drg::test_registry_device_create_and_delete

**Duration**: 8s

## ✅ tests::websocket::telemetry::test_send_telemetry_pass

**Duration**: 13s

## ✅ tests::websocket::telemetry::test_send_telemetry_user

**Duration**: 13s

## ✅ tests::websocket::telemetry::test_send_telemetry_user_alias

**Duration**: 13s

## ✅ tests::websocket::telemetry::test_send_telemetry_user_only

**Duration**: 13s
