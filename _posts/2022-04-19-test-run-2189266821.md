---
title: "❌ Test Result 2022-04-19 12:10 UTC"
date: 2022-04-19T12:10:41.312745537+00:00
categories: test-report
excerpt_separator: <!--more-->
---


| | Total | Passed | Failed | Ignored | Filtered | Duration |
| --- | ----- | -------| ------ | ------- | -------- | -------- |
| ❌ | 147 | 3 | 144 | 0 | 0 | 18m 7s |


**Git:** `https://github.com/drogue-iot/drogue-cloud` @ `refs/heads/feature/oauth2_refactoring_1`

    Commit: 52e656c5152929e5a4beccbfdf4e1c5a918cdb94
    Author: Jens Reimann <jreimann@redhat.com>
    Date: Tue, 19 Apr 2022 09:14:59 -0200

        build: don't compile twice when only building the frontend

**Job:** [https://github.com/drogue-iot/drogue-cloud-testing/actions/runs/2189266821](https://github.com/drogue-iot/drogue-cloud-testing/actions/runs/2189266821)

<!--more-->

# Index

| Name | Result | Duration |
| ---- | ------ | -------- |
| [init::web::test::test_web_destroy](#initwebtesttest_web_destroy) | ✅ | 3s | 
| [init::web::test::test_web_test](#initwebtesttest_web_test) | ✅ | 5s | 
| [tests::api::test_create_access_token_web](#testsapitest_create_access_token_web) | ✅ | 13s | 
| [tests::coap::command::test_command::version_1](#testscoapcommandtest_commandversion_1) | ❌ | 7s | 
| [tests::coap::command::test_command::version_2](#testscoapcommandtest_commandversion_2) | ❌ | 9s | 
| [tests::coap::command::test_command::version_3](#testscoapcommandtest_commandversion_3) | ❌ | 7s | 
| [tests::coap::telemetry::test_send_telemetry_pass::version_1](#testscoaptelemetrytest_send_telemetry_passversion_1) | ❌ | 7s | 
| [tests::coap::telemetry::test_send_telemetry_pass::version_2](#testscoaptelemetrytest_send_telemetry_passversion_2) | ❌ | 7s | 
| [tests::coap::telemetry::test_send_telemetry_pass::version_3](#testscoaptelemetrytest_send_telemetry_passversion_3) | ❌ | 7s | 
| [tests::coap::telemetry::test_send_telemetry_user::version_1](#testscoaptelemetrytest_send_telemetry_userversion_1) | ❌ | 7s | 
| [tests::coap::telemetry::test_send_telemetry_user::version_2](#testscoaptelemetrytest_send_telemetry_userversion_2) | ❌ | 7s | 
| [tests::coap::telemetry::test_send_telemetry_user::version_3](#testscoaptelemetrytest_send_telemetry_userversion_3) | ❌ | 7s | 
| [tests::coap::telemetry::test_send_telemetry_user_alias::version_1](#testscoaptelemetrytest_send_telemetry_user_aliasversion_1) | ❌ | 7s | 
| [tests::coap::telemetry::test_send_telemetry_user_alias::version_2](#testscoaptelemetrytest_send_telemetry_user_aliasversion_2) | ❌ | 7s | 
| [tests::coap::telemetry::test_send_telemetry_user_alias::version_3](#testscoaptelemetrytest_send_telemetry_user_aliasversion_3) | ❌ | 7s | 
| [tests::coap::telemetry::test_send_telemetry_user_only::version_1](#testscoaptelemetrytest_send_telemetry_user_onlyversion_1) | ❌ | 7s | 
| [tests::coap::telemetry::test_send_telemetry_user_only::version_2](#testscoaptelemetrytest_send_telemetry_user_onlyversion_2) | ❌ | 7s | 
| [tests::coap::telemetry::test_send_telemetry_user_only::version_3](#testscoaptelemetrytest_send_telemetry_user_onlyversion_3) | ❌ | 7s | 
| [tests::drg::test_drg_version](#testsdrgtest_drg_version) | ❌ | 7s | 
| [tests::http::command::test_command::version_1](#testshttpcommandtest_commandversion_1) | ❌ | 7s | 
| [tests::http::command::test_command::version_2](#testshttpcommandtest_commandversion_2) | ❌ | 8s | 
| [tests::http::command::test_command::version_3](#testshttpcommandtest_commandversion_3) | ❌ | 7s | 
| [tests::http::telemetry::test_send_telemetry_pass::version_1](#testshttptelemetrytest_send_telemetry_passversion_1) | ❌ | 7s | 
| [tests::http::telemetry::test_send_telemetry_pass::version_2](#testshttptelemetrytest_send_telemetry_passversion_2) | ❌ | 7s | 
| [tests::http::telemetry::test_send_telemetry_pass::version_3](#testshttptelemetrytest_send_telemetry_passversion_3) | ❌ | 7s | 
| [tests::http::telemetry::test_send_telemetry_user::version_1](#testshttptelemetrytest_send_telemetry_userversion_1) | ❌ | 7s | 
| [tests::http::telemetry::test_send_telemetry_user::version_2](#testshttptelemetrytest_send_telemetry_userversion_2) | ❌ | 7s | 
| [tests::http::telemetry::test_send_telemetry_user::version_3](#testshttptelemetrytest_send_telemetry_userversion_3) | ❌ | 7s | 
| [tests::http::telemetry::test_send_telemetry_user_alias::version_1](#testshttptelemetrytest_send_telemetry_user_aliasversion_1) | ❌ | 7s | 
| [tests::http::telemetry::test_send_telemetry_user_alias::version_2](#testshttptelemetrytest_send_telemetry_user_aliasversion_2) | ❌ | 7s | 
| [tests::http::telemetry::test_send_telemetry_user_alias::version_3](#testshttptelemetrytest_send_telemetry_user_aliasversion_3) | ❌ | 7s | 
| [tests::http::telemetry::test_send_telemetry_user_only::version_1](#testshttptelemetrytest_send_telemetry_user_onlyversion_1) | ❌ | 7s | 
| [tests::http::telemetry::test_send_telemetry_user_only::version_2](#testshttptelemetrytest_send_telemetry_user_onlyversion_2) | ❌ | 7s | 
| [tests::http::telemetry::test_send_telemetry_user_only::version_3](#testshttptelemetrytest_send_telemetry_user_onlyversion_3) | ❌ | 7s | 
| [tests::mqtt::command::gateway::version_1::ws_1](#testsmqttcommandgatewayversion_1ws_1) | ❌ | 7s | 
| [tests::mqtt::command::gateway::version_1::ws_2](#testsmqttcommandgatewayversion_1ws_2) | ❌ | 7s | 
| [tests::mqtt::command::gateway::version_2::ws_1](#testsmqttcommandgatewayversion_2ws_1) | ❌ | 8s | 
| [tests::mqtt::command::gateway::version_2::ws_2](#testsmqttcommandgatewayversion_2ws_2) | ❌ | 7s | 
| [tests::mqtt::command::gateway::version_3::ws_1](#testsmqttcommandgatewayversion_3ws_1) | ❌ | 7s | 
| [tests::mqtt::command::gateway::version_3::ws_2](#testsmqttcommandgatewayversion_3ws_2) | ❌ | 7s | 
| [tests::mqtt::command::gateway_direct::version_1::ws_1](#testsmqttcommandgateway_directversion_1ws_1) | ❌ | 7s | 
| [tests::mqtt::command::gateway_direct::version_1::ws_2](#testsmqttcommandgateway_directversion_1ws_2) | ❌ | 7s | 
| [tests::mqtt::command::gateway_direct::version_2::ws_1](#testsmqttcommandgateway_directversion_2ws_1) | ❌ | 7s | 
| [tests::mqtt::command::gateway_direct::version_2::ws_2](#testsmqttcommandgateway_directversion_2ws_2) | ❌ | 7s | 
| [tests::mqtt::command::gateway_direct::version_3::ws_1](#testsmqttcommandgateway_directversion_3ws_1) | ❌ | 7s | 
| [tests::mqtt::command::gateway_direct::version_3::ws_2](#testsmqttcommandgateway_directversion_3ws_2) | ❌ | 6s | 
| [tests::mqtt::command::simple::version_1::ws_1](#testsmqttcommandsimpleversion_1ws_1) | ❌ | 7s | 
| [tests::mqtt::command::simple::version_1::ws_2](#testsmqttcommandsimpleversion_1ws_2) | ❌ | 7s | 
| [tests::mqtt::command::simple::version_2::ws_1](#testsmqttcommandsimpleversion_2ws_1) | ❌ | 7s | 
| [tests::mqtt::command::simple::version_2::ws_2](#testsmqttcommandsimpleversion_2ws_2) | ❌ | 7s | 
| [tests::mqtt::command::simple::version_3::ws_1](#testsmqttcommandsimpleversion_3ws_1) | ❌ | 6s | 
| [tests::mqtt::command::simple::version_3::ws_2](#testsmqttcommandsimpleversion_3ws_2) | ❌ | 7s | 
| [tests::mqtt::command::simple_direct::version_1::ws_1](#testsmqttcommandsimple_directversion_1ws_1) | ❌ | 7s | 
| [tests::mqtt::command::simple_direct::version_1::ws_2](#testsmqttcommandsimple_directversion_1ws_2) | ❌ | 7s | 
| [tests::mqtt::command::simple_direct::version_2::ws_1](#testsmqttcommandsimple_directversion_2ws_1) | ❌ | 7s | 
| [tests::mqtt::command::simple_direct::version_2::ws_2](#testsmqttcommandsimple_directversion_2ws_2) | ❌ | 7s | 
| [tests::mqtt::command::simple_direct::version_3::ws_1](#testsmqttcommandsimple_directversion_3ws_1) | ❌ | 7s | 
| [tests::mqtt::command::simple_direct::version_3::ws_2](#testsmqttcommandsimple_directversion_3ws_2) | ❌ | 7s | 
| [tests::mqtt::command::simple_me::version_1::ws_1](#testsmqttcommandsimple_meversion_1ws_1) | ❌ | 7s | 
| [tests::mqtt::command::simple_me::version_1::ws_2](#testsmqttcommandsimple_meversion_1ws_2) | ❌ | 7s | 
| [tests::mqtt::command::simple_me::version_2::ws_1](#testsmqttcommandsimple_meversion_2ws_1) | ❌ | 7s | 
| [tests::mqtt::command::simple_me::version_2::ws_2](#testsmqttcommandsimple_meversion_2ws_2) | ❌ | 7s | 
| [tests::mqtt::command::simple_me::version_3::ws_1](#testsmqttcommandsimple_meversion_3ws_1) | ❌ | 7s | 
| [tests::mqtt::command::simple_me::version_3::ws_2](#testsmqttcommandsimple_meversion_3ws_2) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_1::integration_version_1::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_1endpoint_ws_1integration_version_1integration_ws_1) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_1::integration_version_1::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_1endpoint_ws_1integration_version_1integration_ws_2) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_1::integration_version_2::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_1endpoint_ws_1integration_version_2integration_ws_1) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_1::integration_version_2::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_1endpoint_ws_1integration_version_2integration_ws_2) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_1::integration_version_3::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_1endpoint_ws_1integration_version_3integration_ws_1) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_1::integration_version_3::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_1endpoint_ws_1integration_version_3integration_ws_2) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_2::integration_version_1::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_1endpoint_ws_2integration_version_1integration_ws_1) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_2::integration_version_1::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_1endpoint_ws_2integration_version_1integration_ws_2) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_2::integration_version_2::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_1endpoint_ws_2integration_version_2integration_ws_1) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_2::integration_version_2::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_1endpoint_ws_2integration_version_2integration_ws_2) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_2::integration_version_3::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_1endpoint_ws_2integration_version_3integration_ws_1) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_2::integration_version_3::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_1endpoint_ws_2integration_version_3integration_ws_2) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_1::integration_version_1::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_2endpoint_ws_1integration_version_1integration_ws_1) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_1::integration_version_1::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_2endpoint_ws_1integration_version_1integration_ws_2) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_1::integration_version_2::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_2endpoint_ws_1integration_version_2integration_ws_1) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_1::integration_version_2::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_2endpoint_ws_1integration_version_2integration_ws_2) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_1::integration_version_3::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_2endpoint_ws_1integration_version_3integration_ws_1) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_1::integration_version_3::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_2endpoint_ws_1integration_version_3integration_ws_2) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_2::integration_version_1::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_2endpoint_ws_2integration_version_1integration_ws_1) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_2::integration_version_1::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_2endpoint_ws_2integration_version_1integration_ws_2) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_2::integration_version_2::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_2endpoint_ws_2integration_version_2integration_ws_1) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_2::integration_version_2::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_2endpoint_ws_2integration_version_2integration_ws_2) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_2::integration_version_3::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_2endpoint_ws_2integration_version_3integration_ws_1) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_2::integration_version_3::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_2endpoint_ws_2integration_version_3integration_ws_2) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_1::integration_version_1::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_3endpoint_ws_1integration_version_1integration_ws_1) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_1::integration_version_1::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_3endpoint_ws_1integration_version_1integration_ws_2) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_1::integration_version_2::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_3endpoint_ws_1integration_version_2integration_ws_1) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_1::integration_version_2::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_3endpoint_ws_1integration_version_2integration_ws_2) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_1::integration_version_3::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_3endpoint_ws_1integration_version_3integration_ws_1) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_1::integration_version_3::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_3endpoint_ws_1integration_version_3integration_ws_2) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_2::integration_version_1::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_3endpoint_ws_2integration_version_1integration_ws_1) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_2::integration_version_1::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_3endpoint_ws_2integration_version_1integration_ws_2) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_2::integration_version_2::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_3endpoint_ws_2integration_version_2integration_ws_1) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_2::integration_version_2::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_3endpoint_ws_2integration_version_2integration_ws_2) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_2::integration_version_3::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_3endpoint_ws_2integration_version_3integration_ws_1) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_2::integration_version_3::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_3endpoint_ws_2integration_version_3integration_ws_2) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_1::integration_version_1::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_1endpoint_ws_1integration_version_1integration_ws_1) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_1::integration_version_1::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_1endpoint_ws_1integration_version_1integration_ws_2) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_1::integration_version_2::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_1endpoint_ws_1integration_version_2integration_ws_1) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_1::integration_version_2::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_1endpoint_ws_1integration_version_2integration_ws_2) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_1::integration_version_3::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_1endpoint_ws_1integration_version_3integration_ws_1) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_1::integration_version_3::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_1endpoint_ws_1integration_version_3integration_ws_2) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_2::integration_version_1::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_1endpoint_ws_2integration_version_1integration_ws_1) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_2::integration_version_1::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_1endpoint_ws_2integration_version_1integration_ws_2) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_2::integration_version_2::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_1endpoint_ws_2integration_version_2integration_ws_1) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_2::integration_version_2::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_1endpoint_ws_2integration_version_2integration_ws_2) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_2::integration_version_3::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_1endpoint_ws_2integration_version_3integration_ws_1) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_2::integration_version_3::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_1endpoint_ws_2integration_version_3integration_ws_2) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_1::integration_version_1::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_2endpoint_ws_1integration_version_1integration_ws_1) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_1::integration_version_1::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_2endpoint_ws_1integration_version_1integration_ws_2) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_1::integration_version_2::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_2endpoint_ws_1integration_version_2integration_ws_1) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_1::integration_version_2::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_2endpoint_ws_1integration_version_2integration_ws_2) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_1::integration_version_3::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_2endpoint_ws_1integration_version_3integration_ws_1) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_1::integration_version_3::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_2endpoint_ws_1integration_version_3integration_ws_2) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_2::integration_version_1::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_2endpoint_ws_2integration_version_1integration_ws_1) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_2::integration_version_1::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_2endpoint_ws_2integration_version_1integration_ws_2) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_2::integration_version_2::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_2endpoint_ws_2integration_version_2integration_ws_1) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_2::integration_version_2::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_2endpoint_ws_2integration_version_2integration_ws_2) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_2::integration_version_3::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_2endpoint_ws_2integration_version_3integration_ws_1) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_2::integration_version_3::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_2endpoint_ws_2integration_version_3integration_ws_2) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_1::integration_version_1::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_3endpoint_ws_1integration_version_1integration_ws_1) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_1::integration_version_1::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_3endpoint_ws_1integration_version_1integration_ws_2) | ❌ | 6s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_1::integration_version_2::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_3endpoint_ws_1integration_version_2integration_ws_1) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_1::integration_version_2::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_3endpoint_ws_1integration_version_2integration_ws_2) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_1::integration_version_3::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_3endpoint_ws_1integration_version_3integration_ws_1) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_1::integration_version_3::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_3endpoint_ws_1integration_version_3integration_ws_2) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_2::integration_version_1::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_3endpoint_ws_2integration_version_1integration_ws_1) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_2::integration_version_1::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_3endpoint_ws_2integration_version_1integration_ws_2) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_2::integration_version_2::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_3endpoint_ws_2integration_version_2integration_ws_1) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_2::integration_version_2::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_3endpoint_ws_2integration_version_2integration_ws_2) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_2::integration_version_3::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_3endpoint_ws_2integration_version_3integration_ws_1) | ❌ | 7s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_2::integration_version_3::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_3endpoint_ws_2integration_version_3integration_ws_2) | ❌ | 7s | 
| [tests::registry::api::test_registry_create_app](#testsregistryapitest_registry_create_app) | ❌ | 14s | 
| [tests::registry::drg::test_registry_create_and_delete](#testsregistrydrgtest_registry_create_and_delete) | ❌ | 7s | 
| [tests::registry::drg::test_registry_create_app](#testsregistrydrgtest_registry_create_app) | ❌ | 7s | 
| [tests::registry::drg::test_registry_create_app_and_device](#testsregistrydrgtest_registry_create_app_and_device) | ❌ | 7s | 
| [tests::registry::drg::test_registry_create_app_and_device_twice](#testsregistrydrgtest_registry_create_app_and_device_twice) | ❌ | 7s | 
| [tests::registry::drg::test_registry_create_app_twice](#testsregistrydrgtest_registry_create_app_twice) | ❌ | 7s | 
| [tests::registry::drg::test_registry_device_create_and_delete](#testsregistrydrgtest_registry_device_create_and_delete) | ❌ | 7s | 
| [tests::websocket::telemetry::test_send_telemetry_pass](#testswebsockettelemetrytest_send_telemetry_pass) | ❌ | 7s | 
| [tests::websocket::telemetry::test_send_telemetry_user](#testswebsockettelemetrytest_send_telemetry_user) | ❌ | 7s | 
| [tests::websocket::telemetry::test_send_telemetry_user_alias](#testswebsockettelemetrytest_send_telemetry_user_alias) | ❌ | 7s | 
| [tests::websocket::telemetry::test_send_telemetry_user_only](#testswebsockettelemetrytest_send_telemetry_user_only) | ❌ | 7s | 


# Details

## ✅ init::web::test::test_web_destroy

**Duration**: 3s

## ✅ init::web::test::test_web_test

**Duration**: 5s

## ✅ tests::api::test_create_access_token_web

**Duration**: 13s

## ❌ tests::coap::command::test_command::version_1

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T11:52:57Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T11:52:57Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T11:52:57Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T11:52:57Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T11:52:57Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T11:52:58Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T11:53:00Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T11:53:00Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T11:53:00Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T11:53:00Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T11:53:02Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk0ODIsImlhdCI6MTY1MDM2OTE4MiwiYXV0aF90aW1lIjoxNjUwMzY5MTc4LCJqdGkiOiJjNTNhMzJhMy1hNTdlLTRiNmQtYmM5Ni01MDBjZjIyZDQ5NmEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJaNFF3ZTc3MXJSZ0diU2ZPSlR1ZnhnIiwic2Vzc2lvbl9zdGF0ZSI6IjlkNDQwYzFkLWVhODYtNDRlMS04YzhiLWU1NmRiY2ZiOTU5MyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjlkNDQwYzFkLWVhODYtNDRlMS04YzhiLWU1NmRiY2ZiOTU5MyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.XgsUN6cbgkuvw6N4bugNow3bmjiVoAIx-h9gwds_RTeymXw2qiV7-v0MhII8sHkPG5kLMBFELzSY7jjOFny7tAMMpPLioqlz8P2f-HR1uoSyxZbktz-s4tZJ90Ogi8srN1ju-kXrlPocgA_M3J7kLoHgrQSdttUNM7YEcJaxU5wCOTCrnPtE4EGo2pveNor4_aykEHl5mLeSUdfTPBG-x1NR5DbbJ9wKXeTcPr7_o4sgR3gMPcH2SRFo7rUo-0oHrmHeHnob68dX-GB9VtXAhdk57WpF0QjijP6X_jtZpoK7DNpJ0Jy75T9SbuhizHJ92gqi_acYByui2AawiPmpag
[2022-04-19T11:53:02Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T11:53:02Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T11:53:02Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk0ODIsImlhdCI6MTY1MDM2OTE4MiwiYXV0aF90aW1lIjoxNjUwMzY5MTc4LCJqdGkiOiJjNTNhMzJhMy1hNTdlLTRiNmQtYmM5Ni01MDBjZjIyZDQ5NmEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJaNFF3ZTc3MXJSZ0diU2ZPSlR1ZnhnIiwic2Vzc2lvbl9zdGF0ZSI6IjlkNDQwYzFkLWVhODYtNDRlMS04YzhiLWU1NmRiY2ZiOTU5MyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjlkNDQwYzFkLWVhODYtNDRlMS04YzhiLWU1NmRiY2ZiOTU5MyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.XgsUN6cbgkuvw6N4bugNow3bmjiVoAIx-h9gwds_RTeymXw2qiV7-v0MhII8sHkPG5kLMBFELzSY7jjOFny7tAMMpPLioqlz8P2f-HR1uoSyxZbktz-s4tZJ90Ogi8srN1ju-kXrlPocgA_M3J7kLoHgrQSdttUNM7YEcJaxU5wCOTCrnPtE4EGo2pveNor4_aykEHl5mLeSUdfTPBG-x1NR5DbbJ9wKXeTcPr7_o4sgR3gMPcH2SRFo7rUo-0oHrmHeHnob68dX-GB9VtXAhdk57WpF0QjijP6X_jtZpoK7DNpJ0Jy75T9SbuhizHJ92gqi_acYByui2AawiPmpag&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T11:53:02Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::coap::command::test_command::version_2

**Duration**: 9s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T11:53:04Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T11:53:04Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T11:53:04Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T11:53:04Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T11:53:04Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T11:53:06Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T11:53:08Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T11:53:08Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T11:53:08Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T11:53:08Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T11:53:11Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk0OTEsImlhdCI6MTY1MDM2OTE5MSwiYXV0aF90aW1lIjoxNjUwMzY5MTg3LCJqdGkiOiI3MTg1ZTFhNS1hNTBmLTQ3OTItYjkwMy1kZWQ2ZWQxNjNiMDUiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJFZzU2VVZ0SXJWaFd6dk9PdHRWRjl3Iiwic2Vzc2lvbl9zdGF0ZSI6ImVhMzBhMjZmLTg1ZTEtNGFiNy04ZjViLTljZWYyNGIxYTMyOSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImVhMzBhMjZmLTg1ZTEtNGFiNy04ZjViLTljZWYyNGIxYTMyOSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.o9B1ItpVQCeEpHakNsHg0J4kERfRus0bVNOxjvqEb07BAIv-vnvLHmGV3l2q4HS2ixPltcgBKYkNyCXcGscsia4LKlulWufNYbY9YfY4DoBvGPdba1UlEjNkXE5wl8RDBN3KQEun-r2h9GvFwZRP2mNp5ukHp1aP1TEwJZM0WabKBcd9oFG-zCYbq6iA1-sflwpHGmDHagAVhCmN3hNut832JSZja0HgXgGGYHT-qUnv34njd_tij0Ic2whCjhWfqWVjA2X5Du4xJWXyX9O2z4zw1HDDYhwmX39uhrlE0drwLaMj5vbcj8L_4MMdHp4xjki6xfrC5lTmXAav-_NDEA
[2022-04-19T11:53:11Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T11:53:11Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T11:53:11Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk0OTEsImlhdCI6MTY1MDM2OTE5MSwiYXV0aF90aW1lIjoxNjUwMzY5MTg3LCJqdGkiOiI3MTg1ZTFhNS1hNTBmLTQ3OTItYjkwMy1kZWQ2ZWQxNjNiMDUiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJFZzU2VVZ0SXJWaFd6dk9PdHRWRjl3Iiwic2Vzc2lvbl9zdGF0ZSI6ImVhMzBhMjZmLTg1ZTEtNGFiNy04ZjViLTljZWYyNGIxYTMyOSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImVhMzBhMjZmLTg1ZTEtNGFiNy04ZjViLTljZWYyNGIxYTMyOSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.o9B1ItpVQCeEpHakNsHg0J4kERfRus0bVNOxjvqEb07BAIv-vnvLHmGV3l2q4HS2ixPltcgBKYkNyCXcGscsia4LKlulWufNYbY9YfY4DoBvGPdba1UlEjNkXE5wl8RDBN3KQEun-r2h9GvFwZRP2mNp5ukHp1aP1TEwJZM0WabKBcd9oFG-zCYbq6iA1-sflwpHGmDHagAVhCmN3hNut832JSZja0HgXgGGYHT-qUnv34njd_tij0Ic2whCjhWfqWVjA2X5Du4xJWXyX9O2z4zw1HDDYhwmX39uhrlE0drwLaMj5vbcj8L_4MMdHp4xjki6xfrC5lTmXAav-_NDEA&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T11:53:11Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::coap::command::test_command::version_3

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T11:53:13Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T11:53:13Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T11:53:13Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T11:53:13Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T11:53:13Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T11:53:15Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T11:53:16Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T11:53:16Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T11:53:16Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T11:53:16Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T11:53:18Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk0OTgsImlhdCI6MTY1MDM2OTE5OCwiYXV0aF90aW1lIjoxNjUwMzY5MTk1LCJqdGkiOiJjYzYwZTYyYy1mYTY2LTRlYzAtOTZmYy1hNzQ0YTBlYmI0MjkiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJLM01DS0kwUFNZQTZQTExRdlJDOUdBIiwic2Vzc2lvbl9zdGF0ZSI6IjE3NGMwZmZjLTljYzktNGI2MC1hNGY5LWIzNWU1ZTU4ZmEzOSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjE3NGMwZmZjLTljYzktNGI2MC1hNGY5LWIzNWU1ZTU4ZmEzOSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.eCWo_PXXbaLf9FD6sLNAX5Yduu1I29bTgCy25_pLvyK6nayy0S6vIjqqmu38xPrBbc8T-ysBOZ52fZybPEqScEOk6qIa3bf4Ks8pw6vF0uYA5DgIgJGFOFeTyNo-qwkyMNxP1JMODiBSFU33GXFXopiTx0a07yw-Pys4l3H3eO75meuqp4FtoEvG1JUq6TX6O71lSuesxoNGNJ0jTeuqF5rbgpPZOSpcjLexgdo_2r_9FYUpkrc4EnB0uytfwpTei1xNGQdjJSukAH96DJJsP0GiLdyLqscoV27PanrBDVRaAdsX61mXwQMKlQcwn5xgc70hrLbqC05GPSzDVJdmpQ
[2022-04-19T11:53:18Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T11:53:18Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T11:53:18Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk0OTgsImlhdCI6MTY1MDM2OTE5OCwiYXV0aF90aW1lIjoxNjUwMzY5MTk1LCJqdGkiOiJjYzYwZTYyYy1mYTY2LTRlYzAtOTZmYy1hNzQ0YTBlYmI0MjkiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJLM01DS0kwUFNZQTZQTExRdlJDOUdBIiwic2Vzc2lvbl9zdGF0ZSI6IjE3NGMwZmZjLTljYzktNGI2MC1hNGY5LWIzNWU1ZTU4ZmEzOSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjE3NGMwZmZjLTljYzktNGI2MC1hNGY5LWIzNWU1ZTU4ZmEzOSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.eCWo_PXXbaLf9FD6sLNAX5Yduu1I29bTgCy25_pLvyK6nayy0S6vIjqqmu38xPrBbc8T-ysBOZ52fZybPEqScEOk6qIa3bf4Ks8pw6vF0uYA5DgIgJGFOFeTyNo-qwkyMNxP1JMODiBSFU33GXFXopiTx0a07yw-Pys4l3H3eO75meuqp4FtoEvG1JUq6TX6O71lSuesxoNGNJ0jTeuqF5rbgpPZOSpcjLexgdo_2r_9FYUpkrc4EnB0uytfwpTei1xNGQdjJSukAH96DJJsP0GiLdyLqscoV27PanrBDVRaAdsX61mXwQMKlQcwn5xgc70hrLbqC05GPSzDVJdmpQ&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T11:53:18Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::coap::telemetry::test_send_telemetry_pass::version_1

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T11:53:19Z INFO  drogue_cloud_tests::tests::coap] entered coap_to_mqtt!
[2022-04-19T11:53:21Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T11:53:21Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T11:53:21Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T11:53:21Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T11:53:21Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T11:53:22Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T11:53:24Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T11:53:24Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T11:53:24Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T11:53:24Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T11:53:26Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk1MDYsImlhdCI6MTY1MDM2OTIwNiwiYXV0aF90aW1lIjoxNjUwMzY5MjAzLCJqdGkiOiI4Yjk4MmY4NC04NWMxLTRlOGMtOTYwMy01MDI2MWQzNWFmZDAiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJ2VWxIUzFMMEk4ZWw4S1JCZnY2TTBnIiwic2Vzc2lvbl9zdGF0ZSI6IjBkYzFjYzRlLTk0ZWQtNDM0Yi05NzI4LWQxY2JmZmNjOWY0MyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjBkYzFjYzRlLTk0ZWQtNDM0Yi05NzI4LWQxY2JmZmNjOWY0MyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.LPDxQCtgWAFmp9ffivDp--OUBOv7GTHUC3dmApePiCWZ7N_2LOKEWka0zFylT_qcvP5CtiQ1KB8nv6rNmJtDvzKe1X8YMRpHZGa4CfO1iwZcv_h10zqW2XGy6xAzdHmUEGvWCcFb7ee-_8VbRohN-SO9Z03OsO_GM7niqW3GH9yIH89lOxTQdoAIliFDGU7F56lOTbbdrlC9qlltmjzZlM1MQ55A2zBuky9NS8wD9DKQ0bkQveKzLVAsEzM1-BoM5cpNdqn3LVuuc7xxoWJhzXeklx5-RRql1j9bl0zXjxGFW0cK7F63NGtW49FWt0t25xV_R1VkSiwO2wxmOlfS9w
[2022-04-19T11:53:26Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T11:53:26Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T11:53:26Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk1MDYsImlhdCI6MTY1MDM2OTIwNiwiYXV0aF90aW1lIjoxNjUwMzY5MjAzLCJqdGkiOiI4Yjk4MmY4NC04NWMxLTRlOGMtOTYwMy01MDI2MWQzNWFmZDAiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJ2VWxIUzFMMEk4ZWw4S1JCZnY2TTBnIiwic2Vzc2lvbl9zdGF0ZSI6IjBkYzFjYzRlLTk0ZWQtNDM0Yi05NzI4LWQxY2JmZmNjOWY0MyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjBkYzFjYzRlLTk0ZWQtNDM0Yi05NzI4LWQxY2JmZmNjOWY0MyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.LPDxQCtgWAFmp9ffivDp--OUBOv7GTHUC3dmApePiCWZ7N_2LOKEWka0zFylT_qcvP5CtiQ1KB8nv6rNmJtDvzKe1X8YMRpHZGa4CfO1iwZcv_h10zqW2XGy6xAzdHmUEGvWCcFb7ee-_8VbRohN-SO9Z03OsO_GM7niqW3GH9yIH89lOxTQdoAIliFDGU7F56lOTbbdrlC9qlltmjzZlM1MQ55A2zBuky9NS8wD9DKQ0bkQveKzLVAsEzM1-BoM5cpNdqn3LVuuc7xxoWJhzXeklx5-RRql1j9bl0zXjxGFW0cK7F63NGtW49FWt0t25xV_R1VkSiwO2wxmOlfS9w&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T11:53:26Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::coap::telemetry::test_send_telemetry_pass::version_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T11:53:26Z INFO  drogue_cloud_tests::tests::coap] entered coap_to_mqtt!
[2022-04-19T11:53:28Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T11:53:28Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T11:53:28Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T11:53:28Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T11:53:28Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T11:53:30Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T11:53:31Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T11:53:31Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T11:53:31Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T11:53:31Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T11:53:33Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk1MTMsImlhdCI6MTY1MDM2OTIxMywiYXV0aF90aW1lIjoxNjUwMzY5MjEwLCJqdGkiOiI1M2IxYjYxZC00MzM3LTRhMjAtOWY4Ny00YjlmZmZlYTkxMDUiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJKYzFWUU53U1BIdG9HNjhEUUFhREp3Iiwic2Vzc2lvbl9zdGF0ZSI6ImY5OGJjYjVjLWExMzQtNDEyNy04ZWQ5LTRkNjQyZWEyYTJlOCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImY5OGJjYjVjLWExMzQtNDEyNy04ZWQ5LTRkNjQyZWEyYTJlOCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.aPyYCo_Lvh6dMO0TVfiq9AQ3LqtkiIgbKwPT4SYfeICpQBnCFUqpaGCioB0NSAIOzDVvgwGtwwpHN9ABbQ9geiWT2a5iBWqW6bWpl5HNBNDePiHC68zzM6AK6cQOPcPHhzUtskrBTUvTDM8fBpyrKcOD3wwLy714gqTjo721HDVkSv44FgXkk5c2PXGZZzH-2OSnnKuFz64IxFn7Z-OYOjcarngee9ZFoBIgXfGI-tiEjuNI5Q71-nzeznvwBuvZN0IWoswe2K9x5gmPrUQgeHfSqLwIDqmXwe0X81eVw3ZZjW1OAy0NN5nrx2PacyDQgoqhN6_y14gNvNQNF7Vl5w
[2022-04-19T11:53:33Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T11:53:33Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T11:53:33Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk1MTMsImlhdCI6MTY1MDM2OTIxMywiYXV0aF90aW1lIjoxNjUwMzY5MjEwLCJqdGkiOiI1M2IxYjYxZC00MzM3LTRhMjAtOWY4Ny00YjlmZmZlYTkxMDUiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJKYzFWUU53U1BIdG9HNjhEUUFhREp3Iiwic2Vzc2lvbl9zdGF0ZSI6ImY5OGJjYjVjLWExMzQtNDEyNy04ZWQ5LTRkNjQyZWEyYTJlOCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImY5OGJjYjVjLWExMzQtNDEyNy04ZWQ5LTRkNjQyZWEyYTJlOCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.aPyYCo_Lvh6dMO0TVfiq9AQ3LqtkiIgbKwPT4SYfeICpQBnCFUqpaGCioB0NSAIOzDVvgwGtwwpHN9ABbQ9geiWT2a5iBWqW6bWpl5HNBNDePiHC68zzM6AK6cQOPcPHhzUtskrBTUvTDM8fBpyrKcOD3wwLy714gqTjo721HDVkSv44FgXkk5c2PXGZZzH-2OSnnKuFz64IxFn7Z-OYOjcarngee9ZFoBIgXfGI-tiEjuNI5Q71-nzeznvwBuvZN0IWoswe2K9x5gmPrUQgeHfSqLwIDqmXwe0X81eVw3ZZjW1OAy0NN5nrx2PacyDQgoqhN6_y14gNvNQNF7Vl5w&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T11:53:33Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::coap::telemetry::test_send_telemetry_pass::version_3

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T11:53:34Z INFO  drogue_cloud_tests::tests::coap] entered coap_to_mqtt!
[2022-04-19T11:53:36Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T11:53:36Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T11:53:36Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T11:53:36Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T11:53:36Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T11:53:37Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T11:53:39Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T11:53:39Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T11:53:39Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T11:53:39Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T11:53:40Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk1MjAsImlhdCI6MTY1MDM2OTIyMCwiYXV0aF90aW1lIjoxNjUwMzY5MjE4LCJqdGkiOiI4N2RkZDBjYy01MmMwLTQ1OWYtYWJiYi04NmVkMjc3OTZlODkiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJMQkF2VzVxY0ZXd3dUclFxdFdPbWFBIiwic2Vzc2lvbl9zdGF0ZSI6IjliNjhiOWQyLTM1NTktNGQxNi05NDFjLTE0ZjExYzNkN2JhMyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjliNjhiOWQyLTM1NTktNGQxNi05NDFjLTE0ZjExYzNkN2JhMyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.grcPWVevLgZPZOrVKqi1Hqojgpa8S9bjQ0AD1WUSw-pIdBZuY_sspBpzrndHCmUTZfSoyKY1BZ7NV9bbReDTeRIvpCVvxCramjjUhqyXePxMDiuuI0z120ux4clBhJL25piUjJEnh4qMsEKHjZj7NiLTgCTxzDOo9LiGft1mYzjpDMLkJT2-697SxmhrCFvtGlOQ09F5Z48MrIpL4YbTI6FHsFNHIbSaQR2_OPzEOjSPkeFQnpxRKKfBBXTGxGHub4FPyFl5-Y1JpoIDQliVhADXeKd8jsZ4CX9id9Xu6RFAtHDNRCpzufc2rXfMRvPVvCjpgjRvnmmnpNWdL6fvfA
[2022-04-19T11:53:40Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T11:53:40Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T11:53:40Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk1MjAsImlhdCI6MTY1MDM2OTIyMCwiYXV0aF90aW1lIjoxNjUwMzY5MjE4LCJqdGkiOiI4N2RkZDBjYy01MmMwLTQ1OWYtYWJiYi04NmVkMjc3OTZlODkiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJMQkF2VzVxY0ZXd3dUclFxdFdPbWFBIiwic2Vzc2lvbl9zdGF0ZSI6IjliNjhiOWQyLTM1NTktNGQxNi05NDFjLTE0ZjExYzNkN2JhMyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjliNjhiOWQyLTM1NTktNGQxNi05NDFjLTE0ZjExYzNkN2JhMyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.grcPWVevLgZPZOrVKqi1Hqojgpa8S9bjQ0AD1WUSw-pIdBZuY_sspBpzrndHCmUTZfSoyKY1BZ7NV9bbReDTeRIvpCVvxCramjjUhqyXePxMDiuuI0z120ux4clBhJL25piUjJEnh4qMsEKHjZj7NiLTgCTxzDOo9LiGft1mYzjpDMLkJT2-697SxmhrCFvtGlOQ09F5Z48MrIpL4YbTI6FHsFNHIbSaQR2_OPzEOjSPkeFQnpxRKKfBBXTGxGHub4FPyFl5-Y1JpoIDQliVhADXeKd8jsZ4CX9id9Xu6RFAtHDNRCpzufc2rXfMRvPVvCjpgjRvnmmnpNWdL6fvfA&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T11:53:41Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::coap::telemetry::test_send_telemetry_user::version_1

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T11:53:41Z INFO  drogue_cloud_tests::tests::coap] entered coap_to_mqtt!
[2022-04-19T11:53:43Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T11:53:43Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T11:53:43Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T11:53:43Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T11:53:43Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T11:53:44Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T11:53:46Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T11:53:46Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T11:53:46Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T11:53:46Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T11:53:48Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk1MjgsImlhdCI6MTY1MDM2OTIyOCwiYXV0aF90aW1lIjoxNjUwMzY5MjI1LCJqdGkiOiI4ZWFhMGMxNy04MjI0LTQxNWYtYmYyZC02NTdmODA0MDI2YjEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJ5RVdmNWNZTEJpeGt1aGt3dWhDdjB3Iiwic2Vzc2lvbl9zdGF0ZSI6ImVhMDBlYzg2LTM0OWYtNGIyOC05ZWUwLTliMzAzNjk5ZWRhYiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImVhMDBlYzg2LTM0OWYtNGIyOC05ZWUwLTliMzAzNjk5ZWRhYiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.HyJ2ZxEZQywgtppggEhDMSH6rmA4UfbNTzzpPCAgiEz8JY5Y7pRz6cQpVnm-b-DFxBEb9wMy4KEhmMu-5MYztoLlxR4IaUrWIwyt4AIUtuEuMAnrLMti6UaYEvbr6xssIlgOaaSDBpRX-9yxUOGvzTX_mwVxy7M-y-aWVsYEMV4rT9cJGSyvi_yeE6eU3emEFWfOdegjVI-ChrQqPNpORlx-N-nZg5Deg2I305p1o-2azGAesqJ6hYB7WCNUa_WceZEzgNMsZziOty-oQjE8q627CkgSl90M1Fh0rHXJVGu4CB2f0c6TDfJ6eZi20-gPhFkwxmRVL0MLLpFHo0Rq1A
[2022-04-19T11:53:48Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T11:53:48Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T11:53:48Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk1MjgsImlhdCI6MTY1MDM2OTIyOCwiYXV0aF90aW1lIjoxNjUwMzY5MjI1LCJqdGkiOiI4ZWFhMGMxNy04MjI0LTQxNWYtYmYyZC02NTdmODA0MDI2YjEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJ5RVdmNWNZTEJpeGt1aGt3dWhDdjB3Iiwic2Vzc2lvbl9zdGF0ZSI6ImVhMDBlYzg2LTM0OWYtNGIyOC05ZWUwLTliMzAzNjk5ZWRhYiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImVhMDBlYzg2LTM0OWYtNGIyOC05ZWUwLTliMzAzNjk5ZWRhYiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.HyJ2ZxEZQywgtppggEhDMSH6rmA4UfbNTzzpPCAgiEz8JY5Y7pRz6cQpVnm-b-DFxBEb9wMy4KEhmMu-5MYztoLlxR4IaUrWIwyt4AIUtuEuMAnrLMti6UaYEvbr6xssIlgOaaSDBpRX-9yxUOGvzTX_mwVxy7M-y-aWVsYEMV4rT9cJGSyvi_yeE6eU3emEFWfOdegjVI-ChrQqPNpORlx-N-nZg5Deg2I305p1o-2azGAesqJ6hYB7WCNUa_WceZEzgNMsZziOty-oQjE8q627CkgSl90M1Fh0rHXJVGu4CB2f0c6TDfJ6eZi20-gPhFkwxmRVL0MLLpFHo0Rq1A&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T11:53:48Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::coap::telemetry::test_send_telemetry_user::version_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T11:53:49Z INFO  drogue_cloud_tests::tests::coap] entered coap_to_mqtt!
[2022-04-19T11:53:51Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T11:53:51Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T11:53:51Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T11:53:51Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T11:53:51Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T11:53:52Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T11:53:54Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T11:53:54Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T11:53:54Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T11:53:54Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T11:53:55Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk1MzUsImlhdCI6MTY1MDM2OTIzNSwiYXV0aF90aW1lIjoxNjUwMzY5MjMyLCJqdGkiOiIxZTQzYTFmOC04MjgwLTQxODEtYTdhZS05ZmJkMWE1OTMyYWYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJnRG1MemNOallYbEJjTlNBWXJxdjlRIiwic2Vzc2lvbl9zdGF0ZSI6IjE5ZDljMzMxLWY1NDAtNDkxMC05ZWQ4LTQxNWIzZGEyNzYxOCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjE5ZDljMzMxLWY1NDAtNDkxMC05ZWQ4LTQxNWIzZGEyNzYxOCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.GpPP2c46Izq5hkLS49ALed_at-0JVVYeVaZcKNHjlR7aY52SzkuLVxaCOd7vjkoHEcVVllrcbXQrX9Pwx6MdOq3-12c3nFy1xyA8vsIDLlYcsiOFsI71XxYI3KPzDYIIFqIHEvy6c2HylsQK_r3h88oFRfkeo8Gs1W7LJg2fc51fNLEbIrAnki9sSvDH3Ik29bRVkakTFeMa57gDYkgioiSm0jEHJUCMSjsCII172zCoeDKXgIlIPGpdlpo9cHAr2SowL-hxwKPGAExXAnqvUooyxhKuw7zQqqvRPsYn0-l4CivOIdxEFhxaUjNv76CZEtgpv45vWbmTpSK_aziZxw
[2022-04-19T11:53:55Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T11:53:55Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T11:53:55Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk1MzUsImlhdCI6MTY1MDM2OTIzNSwiYXV0aF90aW1lIjoxNjUwMzY5MjMyLCJqdGkiOiIxZTQzYTFmOC04MjgwLTQxODEtYTdhZS05ZmJkMWE1OTMyYWYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJnRG1MemNOallYbEJjTlNBWXJxdjlRIiwic2Vzc2lvbl9zdGF0ZSI6IjE5ZDljMzMxLWY1NDAtNDkxMC05ZWQ4LTQxNWIzZGEyNzYxOCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjE5ZDljMzMxLWY1NDAtNDkxMC05ZWQ4LTQxNWIzZGEyNzYxOCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.GpPP2c46Izq5hkLS49ALed_at-0JVVYeVaZcKNHjlR7aY52SzkuLVxaCOd7vjkoHEcVVllrcbXQrX9Pwx6MdOq3-12c3nFy1xyA8vsIDLlYcsiOFsI71XxYI3KPzDYIIFqIHEvy6c2HylsQK_r3h88oFRfkeo8Gs1W7LJg2fc51fNLEbIrAnki9sSvDH3Ik29bRVkakTFeMa57gDYkgioiSm0jEHJUCMSjsCII172zCoeDKXgIlIPGpdlpo9cHAr2SowL-hxwKPGAExXAnqvUooyxhKuw7zQqqvRPsYn0-l4CivOIdxEFhxaUjNv76CZEtgpv45vWbmTpSK_aziZxw&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T11:53:55Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::coap::telemetry::test_send_telemetry_user::version_3

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T11:53:56Z INFO  drogue_cloud_tests::tests::coap] entered coap_to_mqtt!
[2022-04-19T11:53:58Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T11:53:58Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T11:53:58Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T11:53:58Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T11:53:58Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T11:53:59Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T11:54:01Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T11:54:01Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T11:54:01Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T11:54:01Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T11:54:02Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk1NDIsImlhdCI6MTY1MDM2OTI0MiwiYXV0aF90aW1lIjoxNjUwMzY5MjQwLCJqdGkiOiJhZDMxYjU5OS05MjM0LTRkYjAtYTkxZC1lNTliY2JkNjY4ZDYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJWV3NqT0pJQ3B0MUZPdFBhYWtYRFJnIiwic2Vzc2lvbl9zdGF0ZSI6ImQ4MWJhOGQ5LWNkMzMtNGQxZS04YTU0LTMyODgwNTY1OWM0MCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImQ4MWJhOGQ5LWNkMzMtNGQxZS04YTU0LTMyODgwNTY1OWM0MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.WJnWXkaBoyS_hl0OrL-HYA8g23dKC9M8IUJ1ZQGzJMZUrxR7kBV8uXdU23t8REoaynbyUw4poEbPAFLY-qRU27HjaTEevwiZap5W881uwEjaeb0gsHzwjD60S_HWJ8ZMRlLkPenyV6B6mR9mFKy6-xrT2REet6dE4jynZBr7lVKQppxI4sqApsWAVR2tCf7XEm8NfCGwQRB7AE3nHkdcmMnO8E9I6CjE9FR2e-lCMZApXTQ6qIdi-7Uvk-mcuwtFu_7becgrL6uaBktyi-NXOdOA-QnGAfAR16XYB_E00y9v5SzXCdlfGRQ7bKFRLju5Z0xKdE4NBk9O5zn1WD5GCg
[2022-04-19T11:54:02Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T11:54:02Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T11:54:02Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk1NDIsImlhdCI6MTY1MDM2OTI0MiwiYXV0aF90aW1lIjoxNjUwMzY5MjQwLCJqdGkiOiJhZDMxYjU5OS05MjM0LTRkYjAtYTkxZC1lNTliY2JkNjY4ZDYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJWV3NqT0pJQ3B0MUZPdFBhYWtYRFJnIiwic2Vzc2lvbl9zdGF0ZSI6ImQ4MWJhOGQ5LWNkMzMtNGQxZS04YTU0LTMyODgwNTY1OWM0MCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImQ4MWJhOGQ5LWNkMzMtNGQxZS04YTU0LTMyODgwNTY1OWM0MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.WJnWXkaBoyS_hl0OrL-HYA8g23dKC9M8IUJ1ZQGzJMZUrxR7kBV8uXdU23t8REoaynbyUw4poEbPAFLY-qRU27HjaTEevwiZap5W881uwEjaeb0gsHzwjD60S_HWJ8ZMRlLkPenyV6B6mR9mFKy6-xrT2REet6dE4jynZBr7lVKQppxI4sqApsWAVR2tCf7XEm8NfCGwQRB7AE3nHkdcmMnO8E9I6CjE9FR2e-lCMZApXTQ6qIdi-7Uvk-mcuwtFu_7becgrL6uaBktyi-NXOdOA-QnGAfAR16XYB_E00y9v5SzXCdlfGRQ7bKFRLju5Z0xKdE4NBk9O5zn1WD5GCg&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T11:54:03Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::coap::telemetry::test_send_telemetry_user_alias::version_1

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T11:54:03Z INFO  drogue_cloud_tests::tests::coap] entered coap_to_mqtt!
[2022-04-19T11:54:05Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T11:54:05Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T11:54:05Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T11:54:05Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T11:54:05Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T11:54:06Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T11:54:08Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T11:54:08Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T11:54:08Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T11:54:08Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T11:54:10Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk1NTAsImlhdCI6MTY1MDM2OTI1MCwiYXV0aF90aW1lIjoxNjUwMzY5MjQ3LCJqdGkiOiJkMzZlOTgzMi0wMjA4LTQyNTItOGJlMC1jMjM4MDIzZmU2NjYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJ4Q3g5UTZiOF9IVFpzMXVQa240bkpnIiwic2Vzc2lvbl9zdGF0ZSI6IjRlOTI4YTUyLTU0YTQtNDE2OS1hODE2LWUxY2ExZDJjYjg4MSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjRlOTI4YTUyLTU0YTQtNDE2OS1hODE2LWUxY2ExZDJjYjg4MSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.AjyVRfcMuBXZxBfAzLVIG0DKD_lY9PRrWXZ9OmpOgtaCGlsMBT5592o36DIygqovYSccjlhL-SgstC25rS6s2Owrx0K-q47fmHbrluVZvAtY1wSVDPxiZc2-cQSy8FB9orHftvSuDUK6AWZKdaGa8GpdVts-DOrvxuYszb_y9AyqNpzFNWJNYtoKCRlUuz_Go-qiQ81iXHM68fE9yQh6GyGuwUsGNMqJbFJlFfbcs_CA3Ayq7hTzqdJ2EYNe1evXOvBvzROh4UG_1kXxTIk2UmHpPQS_u8jdfr30wC3nnBbuaDDIlwUN0PEaKfO01VCGkklztUqxo3Xexl6K3V5awQ
[2022-04-19T11:54:10Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T11:54:10Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T11:54:10Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk1NTAsImlhdCI6MTY1MDM2OTI1MCwiYXV0aF90aW1lIjoxNjUwMzY5MjQ3LCJqdGkiOiJkMzZlOTgzMi0wMjA4LTQyNTItOGJlMC1jMjM4MDIzZmU2NjYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJ4Q3g5UTZiOF9IVFpzMXVQa240bkpnIiwic2Vzc2lvbl9zdGF0ZSI6IjRlOTI4YTUyLTU0YTQtNDE2OS1hODE2LWUxY2ExZDJjYjg4MSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjRlOTI4YTUyLTU0YTQtNDE2OS1hODE2LWUxY2ExZDJjYjg4MSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.AjyVRfcMuBXZxBfAzLVIG0DKD_lY9PRrWXZ9OmpOgtaCGlsMBT5592o36DIygqovYSccjlhL-SgstC25rS6s2Owrx0K-q47fmHbrluVZvAtY1wSVDPxiZc2-cQSy8FB9orHftvSuDUK6AWZKdaGa8GpdVts-DOrvxuYszb_y9AyqNpzFNWJNYtoKCRlUuz_Go-qiQ81iXHM68fE9yQh6GyGuwUsGNMqJbFJlFfbcs_CA3Ayq7hTzqdJ2EYNe1evXOvBvzROh4UG_1kXxTIk2UmHpPQS_u8jdfr30wC3nnBbuaDDIlwUN0PEaKfO01VCGkklztUqxo3Xexl6K3V5awQ&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T11:54:10Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::coap::telemetry::test_send_telemetry_user_alias::version_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T11:54:10Z INFO  drogue_cloud_tests::tests::coap] entered coap_to_mqtt!
[2022-04-19T11:54:12Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T11:54:12Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T11:54:12Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T11:54:12Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T11:54:12Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T11:54:13Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T11:54:15Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T11:54:15Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T11:54:15Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T11:54:15Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T11:54:17Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk1NTcsImlhdCI6MTY1MDM2OTI1NywiYXV0aF90aW1lIjoxNjUwMzY5MjU0LCJqdGkiOiI3N2ViNTI0Ny1jYjc4LTQ3NzUtYWI1Ny1kNDk4ODVkMmMzMGYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJOeXpqQjJWeE1xT2lhVk5VYk9qWGJnIiwic2Vzc2lvbl9zdGF0ZSI6IjYxZGIxYTQyLWZhOTItNDNlNy05YTlkLWYwMGM5MDJiOTg3OSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjYxZGIxYTQyLWZhOTItNDNlNy05YTlkLWYwMGM5MDJiOTg3OSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.nCmoQksGAI9BVKAXKJfm9wrDl9Fbk10muXwHTQVRgmYhhYk0wdHa5vea0pZGOVYr1uLRJUaaz0TunrJ7ruXUmzpkaZgfy17X4gzUZTXFapPVF4slPaBwll-FkNdBpCg_B9MMlo-gJW2_76wWATjCshpIuJqf6tIjA8Xyv9nZVrKa3VJCiv9dHxGDLJyzu_g5bBP9Aeg_8Aj3Gw7RQ4zQpn-twGx50xKLJc8liiCfimGdT0TZMOP4EhMOSWwzHXZxcHCMDUoMqYt_szriRcGmQsokOk78G8bDDLhkHniLYhFaW6-8N2F9g-82mrx5nKKWCiJogAmzQI8wa5o__K3-Fg
[2022-04-19T11:54:17Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T11:54:17Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T11:54:17Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk1NTcsImlhdCI6MTY1MDM2OTI1NywiYXV0aF90aW1lIjoxNjUwMzY5MjU0LCJqdGkiOiI3N2ViNTI0Ny1jYjc4LTQ3NzUtYWI1Ny1kNDk4ODVkMmMzMGYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJOeXpqQjJWeE1xT2lhVk5VYk9qWGJnIiwic2Vzc2lvbl9zdGF0ZSI6IjYxZGIxYTQyLWZhOTItNDNlNy05YTlkLWYwMGM5MDJiOTg3OSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjYxZGIxYTQyLWZhOTItNDNlNy05YTlkLWYwMGM5MDJiOTg3OSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.nCmoQksGAI9BVKAXKJfm9wrDl9Fbk10muXwHTQVRgmYhhYk0wdHa5vea0pZGOVYr1uLRJUaaz0TunrJ7ruXUmzpkaZgfy17X4gzUZTXFapPVF4slPaBwll-FkNdBpCg_B9MMlo-gJW2_76wWATjCshpIuJqf6tIjA8Xyv9nZVrKa3VJCiv9dHxGDLJyzu_g5bBP9Aeg_8Aj3Gw7RQ4zQpn-twGx50xKLJc8liiCfimGdT0TZMOP4EhMOSWwzHXZxcHCMDUoMqYt_szriRcGmQsokOk78G8bDDLhkHniLYhFaW6-8N2F9g-82mrx5nKKWCiJogAmzQI8wa5o__K3-Fg&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T11:54:17Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::coap::telemetry::test_send_telemetry_user_alias::version_3

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T11:54:18Z INFO  drogue_cloud_tests::tests::coap] entered coap_to_mqtt!
[2022-04-19T11:54:20Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T11:54:20Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T11:54:20Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T11:54:20Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T11:54:20Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T11:54:21Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T11:54:22Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T11:54:22Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T11:54:22Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T11:54:22Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T11:54:24Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk1NjQsImlhdCI6MTY1MDM2OTI2NCwiYXV0aF90aW1lIjoxNjUwMzY5MjYxLCJqdGkiOiI4ODcxZDI1Zi1iYzZhLTQzZTItOWY0Yi0xMzNjNTlhNTQ4OTEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJITzZOX0ZhMUo3aWgzc0lqa1RLOE1nIiwic2Vzc2lvbl9zdGF0ZSI6IjE3OTkxYjkxLWRlZmYtNDczYi1hMzliLTQ1YzAwMzI0YmYwNyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjE3OTkxYjkxLWRlZmYtNDczYi1hMzliLTQ1YzAwMzI0YmYwNyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.liXV6BWX-QsytPfgrahyd8Lh2mxu7CdS5lrCSWiFpL7MmxC5JKVHB7qFb8CelJJ1L7UD2QEI7oJJLirt_Ri-GRwduPhN-sJdbKCrQ4gNu8Bm8yy_XriGQUDJBgcXDv8cU7JLmCfMTLeT_FKOcfLp8W-wpveRxLuYkCfSo8rhp36aqA6ClZsfZyL_bzzwAHc6jS13_mdHuDOTKgublSR_amByXM2uA7Yq2Fj8wwgkvbjAEtJX6YKHOe5koCzhX7LNrNoXGhLtUHNjuq6XQAMESqrozE3bPkOJNQOe3L0wIFjV891Y__FGOfrWgr6f7vQyDNOC82sxeVPP0CG3yJNTAw
[2022-04-19T11:54:24Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T11:54:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T11:54:24Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk1NjQsImlhdCI6MTY1MDM2OTI2NCwiYXV0aF90aW1lIjoxNjUwMzY5MjYxLCJqdGkiOiI4ODcxZDI1Zi1iYzZhLTQzZTItOWY0Yi0xMzNjNTlhNTQ4OTEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJITzZOX0ZhMUo3aWgzc0lqa1RLOE1nIiwic2Vzc2lvbl9zdGF0ZSI6IjE3OTkxYjkxLWRlZmYtNDczYi1hMzliLTQ1YzAwMzI0YmYwNyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjE3OTkxYjkxLWRlZmYtNDczYi1hMzliLTQ1YzAwMzI0YmYwNyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.liXV6BWX-QsytPfgrahyd8Lh2mxu7CdS5lrCSWiFpL7MmxC5JKVHB7qFb8CelJJ1L7UD2QEI7oJJLirt_Ri-GRwduPhN-sJdbKCrQ4gNu8Bm8yy_XriGQUDJBgcXDv8cU7JLmCfMTLeT_FKOcfLp8W-wpveRxLuYkCfSo8rhp36aqA6ClZsfZyL_bzzwAHc6jS13_mdHuDOTKgublSR_amByXM2uA7Yq2Fj8wwgkvbjAEtJX6YKHOe5koCzhX7LNrNoXGhLtUHNjuq6XQAMESqrozE3bPkOJNQOe3L0wIFjV891Y__FGOfrWgr6f7vQyDNOC82sxeVPP0CG3yJNTAw&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T11:54:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::coap::telemetry::test_send_telemetry_user_only::version_1

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T11:54:25Z INFO  drogue_cloud_tests::tests::coap] entered coap_to_mqtt!
[2022-04-19T11:54:27Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T11:54:27Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T11:54:27Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T11:54:27Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T11:54:27Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T11:54:28Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T11:54:30Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T11:54:30Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T11:54:30Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T11:54:30Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T11:54:32Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk1NzIsImlhdCI6MTY1MDM2OTI3MiwiYXV0aF90aW1lIjoxNjUwMzY5MjY5LCJqdGkiOiJmOTliMTE5Yi1jMWNlLTQyYTctYWRkNy02Yjg5ODQ2NWJhNDUiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJua1AtWGJ6OUNWTm9KMV9BUE05NkxnIiwic2Vzc2lvbl9zdGF0ZSI6ImJjYmNlOTE3LWM3Y2ItNDNlZS04MzY4LWUzOWVhNWY5MjI2OSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImJjYmNlOTE3LWM3Y2ItNDNlZS04MzY4LWUzOWVhNWY5MjI2OSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.bl7awtZKggCvvWmcnkeh1PiXYk3iBfrq7srBTfCpKe-v8wT2NMVqXFvNCkIEmcXa1vqrdBRIgZ3v0Yla3m3uAAVR46Uuos8u8GOrIph1OQ8r9fuOOkp-C9mKLMv82JlnNtjrtODMOAGYn40sCq5jeqaYdSyDH_ikPYcPQnoWDGx1Tr6nzPry8ezCSy28s2qbTtum3iHMJ65LQzQ9udR12surY8QZz_KT22sThiUzuNg-1LEnjMVzAhvWEB-wTzh_Y0Egf3ceEf4FI1u1Bi4Jw8XYRoDUws7MRrI3O80TCW488MS53kIxiToVuzcxiUWSr5dOcGwZ884N2os_wA8oUQ
[2022-04-19T11:54:32Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T11:54:32Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T11:54:32Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk1NzIsImlhdCI6MTY1MDM2OTI3MiwiYXV0aF90aW1lIjoxNjUwMzY5MjY5LCJqdGkiOiJmOTliMTE5Yi1jMWNlLTQyYTctYWRkNy02Yjg5ODQ2NWJhNDUiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJua1AtWGJ6OUNWTm9KMV9BUE05NkxnIiwic2Vzc2lvbl9zdGF0ZSI6ImJjYmNlOTE3LWM3Y2ItNDNlZS04MzY4LWUzOWVhNWY5MjI2OSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImJjYmNlOTE3LWM3Y2ItNDNlZS04MzY4LWUzOWVhNWY5MjI2OSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.bl7awtZKggCvvWmcnkeh1PiXYk3iBfrq7srBTfCpKe-v8wT2NMVqXFvNCkIEmcXa1vqrdBRIgZ3v0Yla3m3uAAVR46Uuos8u8GOrIph1OQ8r9fuOOkp-C9mKLMv82JlnNtjrtODMOAGYn40sCq5jeqaYdSyDH_ikPYcPQnoWDGx1Tr6nzPry8ezCSy28s2qbTtum3iHMJ65LQzQ9udR12surY8QZz_KT22sThiUzuNg-1LEnjMVzAhvWEB-wTzh_Y0Egf3ceEf4FI1u1Bi4Jw8XYRoDUws7MRrI3O80TCW488MS53kIxiToVuzcxiUWSr5dOcGwZ884N2os_wA8oUQ&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T11:54:32Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::coap::telemetry::test_send_telemetry_user_only::version_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T11:54:33Z INFO  drogue_cloud_tests::tests::coap] entered coap_to_mqtt!
[2022-04-19T11:54:35Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T11:54:35Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T11:54:35Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T11:54:35Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T11:54:35Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T11:54:36Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T11:54:37Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T11:54:37Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T11:54:37Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T11:54:37Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T11:54:39Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk1NzksImlhdCI6MTY1MDM2OTI3OSwiYXV0aF90aW1lIjoxNjUwMzY5Mjc2LCJqdGkiOiI2YmM0OGYyZS02NjU4LTQwZmEtOGRmMS1iNGQ5OGNkOTFkOTYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJKMU0xck82TXVaTDBGOEJTT0pGc3ZRIiwic2Vzc2lvbl9zdGF0ZSI6ImRlOWQ4M2Y1LWE5MzUtNDMyOS1iMTE2LWUxMDBhNjBkMDZjMCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImRlOWQ4M2Y1LWE5MzUtNDMyOS1iMTE2LWUxMDBhNjBkMDZjMCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.FFz1f_kOup3y_Vc7pCT8N0tCz5S5YJ17lgtkuICN6q9kr199K-noSpzN8wUEtuJUbmuwWqm7Ll8to9KjfE8MrKjnkOEAt4ck2LVyiqgRBwIN0PGQOTpWXjwWl2sR2iLGPIjQuEQR9ovehI2_W_QZqvqq4EePwbcfVCzGypu--kUmgBMTSVKMdcGwBekJBMoEnb22nuTar7Fx9EKuzr_ychJPcCLeQ3BeWxdMFhP_1uq0B8eUYwjjNueKV0dfeePtsuIZ0fxuvlhFtMxzz9grxOxf22A5dtl4mVjQahmWU2rzgewSVJtIG_5Ixba99v8PfO_GFw5TQQa3l-BqocEfBQ
[2022-04-19T11:54:39Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T11:54:39Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T11:54:39Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk1NzksImlhdCI6MTY1MDM2OTI3OSwiYXV0aF90aW1lIjoxNjUwMzY5Mjc2LCJqdGkiOiI2YmM0OGYyZS02NjU4LTQwZmEtOGRmMS1iNGQ5OGNkOTFkOTYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJKMU0xck82TXVaTDBGOEJTT0pGc3ZRIiwic2Vzc2lvbl9zdGF0ZSI6ImRlOWQ4M2Y1LWE5MzUtNDMyOS1iMTE2LWUxMDBhNjBkMDZjMCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImRlOWQ4M2Y1LWE5MzUtNDMyOS1iMTE2LWUxMDBhNjBkMDZjMCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.FFz1f_kOup3y_Vc7pCT8N0tCz5S5YJ17lgtkuICN6q9kr199K-noSpzN8wUEtuJUbmuwWqm7Ll8to9KjfE8MrKjnkOEAt4ck2LVyiqgRBwIN0PGQOTpWXjwWl2sR2iLGPIjQuEQR9ovehI2_W_QZqvqq4EePwbcfVCzGypu--kUmgBMTSVKMdcGwBekJBMoEnb22nuTar7Fx9EKuzr_ychJPcCLeQ3BeWxdMFhP_1uq0B8eUYwjjNueKV0dfeePtsuIZ0fxuvlhFtMxzz9grxOxf22A5dtl4mVjQahmWU2rzgewSVJtIG_5Ixba99v8PfO_GFw5TQQa3l-BqocEfBQ&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T11:54:39Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::coap::telemetry::test_send_telemetry_user_only::version_3

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T11:54:40Z INFO  drogue_cloud_tests::tests::coap] entered coap_to_mqtt!
[2022-04-19T11:54:42Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T11:54:42Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T11:54:42Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T11:54:42Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T11:54:42Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T11:54:43Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T11:54:44Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T11:54:44Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T11:54:44Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T11:54:44Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T11:54:46Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk1ODYsImlhdCI6MTY1MDM2OTI4NiwiYXV0aF90aW1lIjoxNjUwMzY5MjgzLCJqdGkiOiIxZGUzZDJlYS0zYTg3LTRiZjUtYTczOC03OGRmMzNmZjI3OWUiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJOc1pYVVJ5YnIxWVVVUWtoNXlQUTJ3Iiwic2Vzc2lvbl9zdGF0ZSI6ImFlYjIwM2JjLWFmYTctNGZhMy04Mjg3LWM4ODAyMzRmMWViMyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImFlYjIwM2JjLWFmYTctNGZhMy04Mjg3LWM4ODAyMzRmMWViMyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.Dat4rKuGwFNoYZQYRViicjgZJI9XdDW9f8DpBjCFDfGEbyUylCCJFItIL_7jZjW_vkfPAoPlZTbSat1ShsFa_93o66kYP0_c8KS-1k4JxhBNYKEVHnv0GQRzF5kLuzc7XoTSAffK-hEWP8WteFo71_PopRzmWhLQpng5KvaNF2d5Q3q2VOo63Si_lSEVGx132Xo07Xfo5jHXhaiMFFaPhax63R-O04GJmeq-s-nHupQe3tNz0tQR_hwKHCibt5qgXTmt1ui_PrawJZ0w6jDRmbpYAzqW3feVUgGVsNER-buF8Xcpr5HAdYrtU9-Ub9RqNxuO_6okC_-3SiESU3-bAA
[2022-04-19T11:54:46Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T11:54:46Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T11:54:46Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk1ODYsImlhdCI6MTY1MDM2OTI4NiwiYXV0aF90aW1lIjoxNjUwMzY5MjgzLCJqdGkiOiIxZGUzZDJlYS0zYTg3LTRiZjUtYTczOC03OGRmMzNmZjI3OWUiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJOc1pYVVJ5YnIxWVVVUWtoNXlQUTJ3Iiwic2Vzc2lvbl9zdGF0ZSI6ImFlYjIwM2JjLWFmYTctNGZhMy04Mjg3LWM4ODAyMzRmMWViMyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImFlYjIwM2JjLWFmYTctNGZhMy04Mjg3LWM4ODAyMzRmMWViMyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.Dat4rKuGwFNoYZQYRViicjgZJI9XdDW9f8DpBjCFDfGEbyUylCCJFItIL_7jZjW_vkfPAoPlZTbSat1ShsFa_93o66kYP0_c8KS-1k4JxhBNYKEVHnv0GQRzF5kLuzc7XoTSAffK-hEWP8WteFo71_PopRzmWhLQpng5KvaNF2d5Q3q2VOo63Si_lSEVGx132Xo07Xfo5jHXhaiMFFaPhax63R-O04GJmeq-s-nHupQe3tNz0tQR_hwKHCibt5qgXTmt1ui_PrawJZ0w6jDRmbpYAzqW3feVUgGVsNER-buF8Xcpr5HAdYrtU9-Ub9RqNxuO_6okC_-3SiESU3-bAA&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T11:54:46Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::drg::test_drg_version

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
[2022-04-19T11:54:49Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T11:54:49Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T11:54:49Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T11:54:49Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T11:54:49Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T11:54:50Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T11:54:52Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T11:54:52Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T11:54:52Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T11:54:52Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T11:54:54Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk1OTQsImlhdCI6MTY1MDM2OTI5NCwiYXV0aF90aW1lIjoxNjUwMzY5MjkxLCJqdGkiOiJmODY3YjVmYS0yZThlLTRlZDYtYjFkMi02YzE3ZmRhZTY2OWQiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJ4X1RPcU5QcE1TMDgyenRXd3d3RTZ3Iiwic2Vzc2lvbl9zdGF0ZSI6ImM4NDRmMjYzLWIyNjEtNDA3MC05MDdmLWFlNTFhMDMyNGJlYiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImM4NDRmMjYzLWIyNjEtNDA3MC05MDdmLWFlNTFhMDMyNGJlYiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.CFZ0XhyOtKtFYV8G10_40mwaRySlTpxytMg8x7MyV6scaBPycM8htx1y0whyfJ1yJB6AOd-63YzlGzokyKsW3Q1ov4kTBgBZM33-WwdrMUZXIQr8HFsqLT-YEHbo9s7N63M4F21CcG7oo-JRbyHfjKlc9izbDYPi2UglHiERcCVsXK7BN9ukoqNMjvbN4nyCh-727bQ61BtxYdvh2gnLcNhbYfoP1JMMBr7RJhCI_a9b624n2hr_V5A1FbBtgpGrBzmoxF3jN68OO2WrK1nEaPlgsoqNzk98zgyPKYPZ3Vnf7hQdTIgsO6MGS-NOh8r7t39c68fpJUTrVkfcNyWr4A
[2022-04-19T11:54:54Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T11:54:54Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T11:54:54Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk1OTQsImlhdCI6MTY1MDM2OTI5NCwiYXV0aF90aW1lIjoxNjUwMzY5MjkxLCJqdGkiOiJmODY3YjVmYS0yZThlLTRlZDYtYjFkMi02YzE3ZmRhZTY2OWQiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJ4X1RPcU5QcE1TMDgyenRXd3d3RTZ3Iiwic2Vzc2lvbl9zdGF0ZSI6ImM4NDRmMjYzLWIyNjEtNDA3MC05MDdmLWFlNTFhMDMyNGJlYiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImM4NDRmMjYzLWIyNjEtNDA3MC05MDdmLWFlNTFhMDMyNGJlYiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.CFZ0XhyOtKtFYV8G10_40mwaRySlTpxytMg8x7MyV6scaBPycM8htx1y0whyfJ1yJB6AOd-63YzlGzokyKsW3Q1ov4kTBgBZM33-WwdrMUZXIQr8HFsqLT-YEHbo9s7N63M4F21CcG7oo-JRbyHfjKlc9izbDYPi2UglHiERcCVsXK7BN9ukoqNMjvbN4nyCh-727bQ61BtxYdvh2gnLcNhbYfoP1JMMBr7RJhCI_a9b624n2hr_V5A1FbBtgpGrBzmoxF3jN68OO2WrK1nEaPlgsoqNzk98zgyPKYPZ3Vnf7hQdTIgsO6MGS-NOh8r7t39c68fpJUTrVkfcNyWr4A&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T11:54:54Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::http::command::test_command::version_1

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T11:54:56Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T11:54:56Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T11:54:56Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T11:54:56Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T11:54:56Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T11:54:58Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T11:54:59Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T11:54:59Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T11:54:59Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T11:54:59Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T11:55:01Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk2MDEsImlhdCI6MTY1MDM2OTMwMSwiYXV0aF90aW1lIjoxNjUwMzY5Mjk4LCJqdGkiOiI5MmFlZWVmMS03OGQxLTRhYzktODg5ZC1jMWI2NTE0NDI0MTQiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJQMTBzMDNQZjV4cXQ3a0ljY18wOExBIiwic2Vzc2lvbl9zdGF0ZSI6IjdjNmQ1NmVmLTRkOWEtNGRiNi1iYWFlLTUwMzBiNzU1ZjRlNiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjdjNmQ1NmVmLTRkOWEtNGRiNi1iYWFlLTUwMzBiNzU1ZjRlNiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.pd2r6Qo6csaJq4SNnjftNFVqV6P5RBucty3vmVWLtNjKB0RZKBj4CXCbX61FbSlyBCl1JWg97hSl5FtpxovAqFD0zPyCqja6JNaUdCJjwAjkX0TIibyL6Sy_5JM6CSGQnQHvjGEln22PXNTz1vIz6dw3js3pqkVCSMLuDT1Gz19_2V6NQmmRlpDw86ImT8oQt3M65rjHBSvuBXapqXc65EtN9fftmO_GgoH-QR2YCcW0F63fKHgKwyu5QQDHC3_2mXq3xo4cCZ7gycRvMut_WJ-0bz5aqzd_r_kbt31Om-ZdEqnw3TQrka1RLp-lLZqFlu8_OEfcl2Z_xIlydMltkg
[2022-04-19T11:55:01Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T11:55:01Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T11:55:01Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk2MDEsImlhdCI6MTY1MDM2OTMwMSwiYXV0aF90aW1lIjoxNjUwMzY5Mjk4LCJqdGkiOiI5MmFlZWVmMS03OGQxLTRhYzktODg5ZC1jMWI2NTE0NDI0MTQiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJQMTBzMDNQZjV4cXQ3a0ljY18wOExBIiwic2Vzc2lvbl9zdGF0ZSI6IjdjNmQ1NmVmLTRkOWEtNGRiNi1iYWFlLTUwMzBiNzU1ZjRlNiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjdjNmQ1NmVmLTRkOWEtNGRiNi1iYWFlLTUwMzBiNzU1ZjRlNiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.pd2r6Qo6csaJq4SNnjftNFVqV6P5RBucty3vmVWLtNjKB0RZKBj4CXCbX61FbSlyBCl1JWg97hSl5FtpxovAqFD0zPyCqja6JNaUdCJjwAjkX0TIibyL6Sy_5JM6CSGQnQHvjGEln22PXNTz1vIz6dw3js3pqkVCSMLuDT1Gz19_2V6NQmmRlpDw86ImT8oQt3M65rjHBSvuBXapqXc65EtN9fftmO_GgoH-QR2YCcW0F63fKHgKwyu5QQDHC3_2mXq3xo4cCZ7gycRvMut_WJ-0bz5aqzd_r_kbt31Om-ZdEqnw3TQrka1RLp-lLZqFlu8_OEfcl2Z_xIlydMltkg&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T11:55:01Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::http::command::test_command::version_2

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T11:55:04Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T11:55:04Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T11:55:04Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T11:55:04Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T11:55:04Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T11:55:05Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T11:55:07Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T11:55:07Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T11:55:07Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T11:55:07Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T11:55:09Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk2MDksImlhdCI6MTY1MDM2OTMwOSwiYXV0aF90aW1lIjoxNjUwMzY5MzA1LCJqdGkiOiJkM2RlMGI5Zi1mNmZhLTRlMzMtOGNjYy1jMGJlMzIyOGZmZmYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJKMThMa1hIVU5sWTNzb3B2R3NVaEVBIiwic2Vzc2lvbl9zdGF0ZSI6IjU3ODMxNmU2LTQyZjQtNDAyYi1hZTdiLTY0ZTlkYjQxNzY1MCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjU3ODMxNmU2LTQyZjQtNDAyYi1hZTdiLTY0ZTlkYjQxNzY1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.oU38XFIdua1ckOmAINDDnvhbpblhX2rRT5U5YwHkLLGm7gYdOWeyUL7Jdnsf97E9zfabiTUsljYj5VZI18cika5spk0AbGV0Qlw1w_CBRo5dPF9wgt_WjMPyp-qoT5WQRffQwCWGcrSBxBUwuQZOFHBMVO830HYna9Sx5-Pgis2SjElAr7h6eCTDokyib5sqhY9tYBuSilfO2bWkpi3QJFmHt2NlzrUqZUZsPK9YKcUMe4uND3Y1OYFpHWBkTX4U0g5u1QM6yG65Zk3K4qzXZX9hsJ__G_JREGJtZzGFe5ACJBnRvwdn9ebGqOCgbUsQ4Ha1ADUURPS66ochiqseYw
[2022-04-19T11:55:09Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T11:55:09Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T11:55:09Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk2MDksImlhdCI6MTY1MDM2OTMwOSwiYXV0aF90aW1lIjoxNjUwMzY5MzA1LCJqdGkiOiJkM2RlMGI5Zi1mNmZhLTRlMzMtOGNjYy1jMGJlMzIyOGZmZmYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJKMThMa1hIVU5sWTNzb3B2R3NVaEVBIiwic2Vzc2lvbl9zdGF0ZSI6IjU3ODMxNmU2LTQyZjQtNDAyYi1hZTdiLTY0ZTlkYjQxNzY1MCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjU3ODMxNmU2LTQyZjQtNDAyYi1hZTdiLTY0ZTlkYjQxNzY1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.oU38XFIdua1ckOmAINDDnvhbpblhX2rRT5U5YwHkLLGm7gYdOWeyUL7Jdnsf97E9zfabiTUsljYj5VZI18cika5spk0AbGV0Qlw1w_CBRo5dPF9wgt_WjMPyp-qoT5WQRffQwCWGcrSBxBUwuQZOFHBMVO830HYna9Sx5-Pgis2SjElAr7h6eCTDokyib5sqhY9tYBuSilfO2bWkpi3QJFmHt2NlzrUqZUZsPK9YKcUMe4uND3Y1OYFpHWBkTX4U0g5u1QM6yG65Zk3K4qzXZX9hsJ__G_JREGJtZzGFe5ACJBnRvwdn9ebGqOCgbUsQ4Ha1ADUURPS66ochiqseYw&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T11:55:09Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::http::command::test_command::version_3

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T11:55:12Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T11:55:12Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T11:55:12Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T11:55:12Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T11:55:12Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T11:55:13Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T11:55:15Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T11:55:15Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T11:55:15Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T11:55:15Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T11:55:17Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk2MTYsImlhdCI6MTY1MDM2OTMxNiwiYXV0aF90aW1lIjoxNjUwMzY5MzE0LCJqdGkiOiJiNzg2NjA0MC05YmU5LTQ3ZjAtYTI1ZS0xNDljYTVkZTYxNDYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJsV1hVdk52TlpMTVV6b1VBd1k0S19BIiwic2Vzc2lvbl9zdGF0ZSI6ImMxOTBhZTQ2LWM1MWYtNGVjZC04MTU5LThjNzJmMjk4MGE0MiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImMxOTBhZTQ2LWM1MWYtNGVjZC04MTU5LThjNzJmMjk4MGE0MiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.kmMTzyBpFYRv5mYWT7jowEnemBsxT8YgrTXfynneVvCWf8BfoRxIN3LnrkkqxUs8mqHBIvhkQu77-OR1J2k7tot0kg1lhMiRFduGRaFX-4f7Z7k-MpaERGmweQoJFcHWVDRlJmoA4BuDD9GqHRysGGmt6LHhHWNQrnOMrd-WP8NWkkNUR1kOTyS3D3KZhJ0AsKmfC7TCsuqjYuxHz9FCTOgN-wRuKN--02s7unQVxavzqd4EBSjq9aflYoDwwQpsa2PZuja70cbp-ORUc5nGIeYaUJyWC4B8wecotVnwuBbrvdLC3fW44FtX5S_F2m6dryJidQMFV7zjtkB3iuGOtg
[2022-04-19T11:55:17Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T11:55:17Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T11:55:17Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk2MTYsImlhdCI6MTY1MDM2OTMxNiwiYXV0aF90aW1lIjoxNjUwMzY5MzE0LCJqdGkiOiJiNzg2NjA0MC05YmU5LTQ3ZjAtYTI1ZS0xNDljYTVkZTYxNDYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJsV1hVdk52TlpMTVV6b1VBd1k0S19BIiwic2Vzc2lvbl9zdGF0ZSI6ImMxOTBhZTQ2LWM1MWYtNGVjZC04MTU5LThjNzJmMjk4MGE0MiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImMxOTBhZTQ2LWM1MWYtNGVjZC04MTU5LThjNzJmMjk4MGE0MiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.kmMTzyBpFYRv5mYWT7jowEnemBsxT8YgrTXfynneVvCWf8BfoRxIN3LnrkkqxUs8mqHBIvhkQu77-OR1J2k7tot0kg1lhMiRFduGRaFX-4f7Z7k-MpaERGmweQoJFcHWVDRlJmoA4BuDD9GqHRysGGmt6LHhHWNQrnOMrd-WP8NWkkNUR1kOTyS3D3KZhJ0AsKmfC7TCsuqjYuxHz9FCTOgN-wRuKN--02s7unQVxavzqd4EBSjq9aflYoDwwQpsa2PZuja70cbp-ORUc5nGIeYaUJyWC4B8wecotVnwuBbrvdLC3fW44FtX5S_F2m6dryJidQMFV7zjtkB3iuGOtg&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T11:55:17Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::http::telemetry::test_send_telemetry_pass::version_1

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T11:55:19Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T11:55:19Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T11:55:19Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T11:55:19Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T11:55:19Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T11:55:20Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T11:55:22Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T11:55:22Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T11:55:22Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T11:55:22Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T11:55:24Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk2MjQsImlhdCI6MTY1MDM2OTMyNCwiYXV0aF90aW1lIjoxNjUwMzY5MzIxLCJqdGkiOiI4Y2U1MDZjOC01M2E3LTQ1NTMtODJiYS1kNDg0ZTYyMThkOTEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJCVmFCeU1DZWd6TjRYRUVZMlJDV01RIiwic2Vzc2lvbl9zdGF0ZSI6IjU2MmYzOThiLTYxY2YtNDExYS04ZTE5LTAxNTVmZjZhNmExZCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjU2MmYzOThiLTYxY2YtNDExYS04ZTE5LTAxNTVmZjZhNmExZCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.LwrLMBEdDRsdMdYKL0I_YkUbWoX3A61gLrLPqVQMx-sdN_bxI1tRhY3qFRagaqk4Wh0Nho_RJEy8lS1sJ9et5t2Yl64eXxenEmPnrQPYUJJOYZmhFBbkb6xUBW2IhuT3rEH1RGWfg2rPfVmL35N9YBwfIJQx1UbZk1PYKc7PitKOQ3BECi8g3gf0lngoZAw55jTejy_yxNKVNhG9z7z3pOLQyFv1_lZM_ae7jeKEkk9h6WYZzdJRvJOmdaa6-u9PsqoMw2bEHp2PiStIcMkYsaFQYyhldK35JNQSIaiZ5uMFI3o5kmhMFSeRMbAQVACXwHzcARZixIVtp463ChFyhQ
[2022-04-19T11:55:24Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T11:55:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T11:55:24Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk2MjQsImlhdCI6MTY1MDM2OTMyNCwiYXV0aF90aW1lIjoxNjUwMzY5MzIxLCJqdGkiOiI4Y2U1MDZjOC01M2E3LTQ1NTMtODJiYS1kNDg0ZTYyMThkOTEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJCVmFCeU1DZWd6TjRYRUVZMlJDV01RIiwic2Vzc2lvbl9zdGF0ZSI6IjU2MmYzOThiLTYxY2YtNDExYS04ZTE5LTAxNTVmZjZhNmExZCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjU2MmYzOThiLTYxY2YtNDExYS04ZTE5LTAxNTVmZjZhNmExZCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.LwrLMBEdDRsdMdYKL0I_YkUbWoX3A61gLrLPqVQMx-sdN_bxI1tRhY3qFRagaqk4Wh0Nho_RJEy8lS1sJ9et5t2Yl64eXxenEmPnrQPYUJJOYZmhFBbkb6xUBW2IhuT3rEH1RGWfg2rPfVmL35N9YBwfIJQx1UbZk1PYKc7PitKOQ3BECi8g3gf0lngoZAw55jTejy_yxNKVNhG9z7z3pOLQyFv1_lZM_ae7jeKEkk9h6WYZzdJRvJOmdaa6-u9PsqoMw2bEHp2PiStIcMkYsaFQYyhldK35JNQSIaiZ5uMFI3o5kmhMFSeRMbAQVACXwHzcARZixIVtp463ChFyhQ&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T11:55:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::http::telemetry::test_send_telemetry_pass::version_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T11:55:27Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T11:55:27Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T11:55:27Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T11:55:27Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T11:55:27Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T11:55:28Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T11:55:29Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T11:55:29Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T11:55:29Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T11:55:29Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T11:55:31Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk2MzEsImlhdCI6MTY1MDM2OTMzMSwiYXV0aF90aW1lIjoxNjUwMzY5MzI4LCJqdGkiOiIxZTc4YTQyNy1lM2UzLTQ1YzYtYTBlZC1hMzJmZTkyNzExMjgiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJHeWd5aS0wUEtHblBXblRQS1MyY3B3Iiwic2Vzc2lvbl9zdGF0ZSI6IjA0ODkwZDlhLTJjOWItNGFiMy1iNTI3LTY5ODZjNjI1OGIxYiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjA0ODkwZDlhLTJjOWItNGFiMy1iNTI3LTY5ODZjNjI1OGIxYiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.XIDSoA9MxYN4TT2pNN9fMgNbmfc5BLfsvYs0mB5vLEhwMp5DSctcHJvvJSEGDKkT08W8kWCX4U64eNwKH5bjdiwbU2XBAXA20VMORChG-r08hAzaVLW9W25KR7NbV1J9FDU7BU9mXph0UXh5GkVDuqb0Z1hLB3z5pLmGwt1HaaGOwZuzFsZIRDZIufK7a3K0FMjlvLlShz2YBFwjyJXPYoJozL5EetNyBbskvhcjbDITne613PZPr1fSYn3LO184UGH6Ck4tf1woXH9bzESpzK_oJZI9feROOzX-7Vkdnx9jFMIk7S8zhiENnW1wSj0Av7c1FB4HO2NzUExGpplmRg
[2022-04-19T11:55:31Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T11:55:31Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T11:55:31Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk2MzEsImlhdCI6MTY1MDM2OTMzMSwiYXV0aF90aW1lIjoxNjUwMzY5MzI4LCJqdGkiOiIxZTc4YTQyNy1lM2UzLTQ1YzYtYTBlZC1hMzJmZTkyNzExMjgiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJHeWd5aS0wUEtHblBXblRQS1MyY3B3Iiwic2Vzc2lvbl9zdGF0ZSI6IjA0ODkwZDlhLTJjOWItNGFiMy1iNTI3LTY5ODZjNjI1OGIxYiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjA0ODkwZDlhLTJjOWItNGFiMy1iNTI3LTY5ODZjNjI1OGIxYiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.XIDSoA9MxYN4TT2pNN9fMgNbmfc5BLfsvYs0mB5vLEhwMp5DSctcHJvvJSEGDKkT08W8kWCX4U64eNwKH5bjdiwbU2XBAXA20VMORChG-r08hAzaVLW9W25KR7NbV1J9FDU7BU9mXph0UXh5GkVDuqb0Z1hLB3z5pLmGwt1HaaGOwZuzFsZIRDZIufK7a3K0FMjlvLlShz2YBFwjyJXPYoJozL5EetNyBbskvhcjbDITne613PZPr1fSYn3LO184UGH6Ck4tf1woXH9bzESpzK_oJZI9feROOzX-7Vkdnx9jFMIk7S8zhiENnW1wSj0Av7c1FB4HO2NzUExGpplmRg&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T11:55:31Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::http::telemetry::test_send_telemetry_pass::version_3

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T11:55:34Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T11:55:34Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T11:55:34Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T11:55:34Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T11:55:34Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T11:55:35Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T11:55:37Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T11:55:37Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T11:55:37Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T11:55:37Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T11:55:39Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk2MzksImlhdCI6MTY1MDM2OTMzOSwiYXV0aF90aW1lIjoxNjUwMzY5MzM2LCJqdGkiOiIwZTcyOWE0Ni0zZDQ3LTRjMzMtYTA1Ni0yMzg2ZmQ2NTUzZDIiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJEYUZKSUZkNC1QWjJ3TEhFdE94RkpRIiwic2Vzc2lvbl9zdGF0ZSI6IjJjZTU1Yzg4LTg4OGUtNDM4MC04OTkyLWViZWNkOGQ5NjFkOCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjJjZTU1Yzg4LTg4OGUtNDM4MC04OTkyLWViZWNkOGQ5NjFkOCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.MSiY06lf_mM3b00KEiF9gYfl82rLTTZOYT7alHRaV2797rTkCws2XTMXRyauG4tg88ET1E6PCBOk_F4-uGiXR2v-wnczzj7vbLgJtUWELXk2ZhsXGKMIGt0SHlKMPJhFIeHgEdmcsDmeqV-9dx8YBzUWbtjLYjp61Dy-EAJEN0hkfbWQ7nquz2lShDi6-Z-ARgMM1ufmtgPQ_4y2Y8f-DwCy1CW5D6xiJn6HSWqFODY6vm-hcMRu3b-Ub3UzafVmDhqjMAz1gxSbccsL8daZwJE74eadFqa76TZ9Id-pUEfxu7qbpKEIDFpz6W87viUm4bQiAlagcG9j6PDcFGwKuw
[2022-04-19T11:55:39Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T11:55:39Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T11:55:39Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk2MzksImlhdCI6MTY1MDM2OTMzOSwiYXV0aF90aW1lIjoxNjUwMzY5MzM2LCJqdGkiOiIwZTcyOWE0Ni0zZDQ3LTRjMzMtYTA1Ni0yMzg2ZmQ2NTUzZDIiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJEYUZKSUZkNC1QWjJ3TEhFdE94RkpRIiwic2Vzc2lvbl9zdGF0ZSI6IjJjZTU1Yzg4LTg4OGUtNDM4MC04OTkyLWViZWNkOGQ5NjFkOCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjJjZTU1Yzg4LTg4OGUtNDM4MC04OTkyLWViZWNkOGQ5NjFkOCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.MSiY06lf_mM3b00KEiF9gYfl82rLTTZOYT7alHRaV2797rTkCws2XTMXRyauG4tg88ET1E6PCBOk_F4-uGiXR2v-wnczzj7vbLgJtUWELXk2ZhsXGKMIGt0SHlKMPJhFIeHgEdmcsDmeqV-9dx8YBzUWbtjLYjp61Dy-EAJEN0hkfbWQ7nquz2lShDi6-Z-ARgMM1ufmtgPQ_4y2Y8f-DwCy1CW5D6xiJn6HSWqFODY6vm-hcMRu3b-Ub3UzafVmDhqjMAz1gxSbccsL8daZwJE74eadFqa76TZ9Id-pUEfxu7qbpKEIDFpz6W87viUm4bQiAlagcG9j6PDcFGwKuw&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T11:55:39Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::http::telemetry::test_send_telemetry_user::version_1

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T11:55:42Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T11:55:42Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T11:55:42Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T11:55:42Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T11:55:42Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T11:55:43Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T11:55:44Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T11:55:44Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T11:55:44Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T11:55:44Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T11:55:46Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk2NDYsImlhdCI6MTY1MDM2OTM0NiwiYXV0aF90aW1lIjoxNjUwMzY5MzQzLCJqdGkiOiJjNjFjYTQ2NS1mNTNkLTQ2NGMtYjg2My1kNzFjYmRmMmQzMjAiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJOYXBnSXNVZm9xNVBQQUgzSjV1WkJnIiwic2Vzc2lvbl9zdGF0ZSI6IjI3MTNjOGU3LWI1Y2QtNDY4Yy05YmY1LTg1YzZlNDZlNmZlMCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjI3MTNjOGU3LWI1Y2QtNDY4Yy05YmY1LTg1YzZlNDZlNmZlMCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.E6MT_tzIk9w26femnMcDBn6gWJITUwX_vxKOZiPbaQR3kI-8abBmgLGkjeEg9VF933jTB9teudbw1-SqNDZGak1JWpQUY_5OX25JS3POlVjK_wkpgwlLXYcm4jd2mywmlGnKP5pD-p3vmoQz56ozMKKdXOzqU3NxjPvR9mOWnLMfLAWI_1v3fTix_OeVNb0jx6OFkh0zfuEG5oc0wSJEo-Ofih7Ai9a0z0Zr-8KcjTVCblaJJjIWqkBJmKHg7izgcBYGg4ZK775JO-vKz8MwYy4S1Ktk9JaaXcM0q-KfdH8xdIydDZv10BK8izWMYI6l95NZsFalNiK3ONatg2s-yQ
[2022-04-19T11:55:46Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T11:55:46Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T11:55:46Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk2NDYsImlhdCI6MTY1MDM2OTM0NiwiYXV0aF90aW1lIjoxNjUwMzY5MzQzLCJqdGkiOiJjNjFjYTQ2NS1mNTNkLTQ2NGMtYjg2My1kNzFjYmRmMmQzMjAiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJOYXBnSXNVZm9xNVBQQUgzSjV1WkJnIiwic2Vzc2lvbl9zdGF0ZSI6IjI3MTNjOGU3LWI1Y2QtNDY4Yy05YmY1LTg1YzZlNDZlNmZlMCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjI3MTNjOGU3LWI1Y2QtNDY4Yy05YmY1LTg1YzZlNDZlNmZlMCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.E6MT_tzIk9w26femnMcDBn6gWJITUwX_vxKOZiPbaQR3kI-8abBmgLGkjeEg9VF933jTB9teudbw1-SqNDZGak1JWpQUY_5OX25JS3POlVjK_wkpgwlLXYcm4jd2mywmlGnKP5pD-p3vmoQz56ozMKKdXOzqU3NxjPvR9mOWnLMfLAWI_1v3fTix_OeVNb0jx6OFkh0zfuEG5oc0wSJEo-Ofih7Ai9a0z0Zr-8KcjTVCblaJJjIWqkBJmKHg7izgcBYGg4ZK775JO-vKz8MwYy4S1Ktk9JaaXcM0q-KfdH8xdIydDZv10BK8izWMYI6l95NZsFalNiK3ONatg2s-yQ&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T11:55:46Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::http::telemetry::test_send_telemetry_user::version_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T11:55:49Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T11:55:49Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T11:55:49Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T11:55:49Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T11:55:49Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T11:55:50Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T11:55:52Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T11:55:52Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T11:55:52Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T11:55:52Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T11:55:53Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk2NTMsImlhdCI6MTY1MDM2OTM1MywiYXV0aF90aW1lIjoxNjUwMzY5MzUxLCJqdGkiOiJjMjUwYzYxOS03MmMwLTQ0MjktYTljMy0wOTg3OTA4ODU2YTYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJlaDdHWXRuSEVQaWN6VU85UkM1aTVRIiwic2Vzc2lvbl9zdGF0ZSI6IjBhODY3MGM1LTM0MjYtNGMwZC04NWJmLTAwMTk2ZDI4NDE5MSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjBhODY3MGM1LTM0MjYtNGMwZC04NWJmLTAwMTk2ZDI4NDE5MSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.AzRaq-a3CGKvj15O2GLIpuBusA8QBGxNAvhTnJ3BxfCVo4yMo7txbBHqin7fXIZ8kvZsKjwEKrxaLYsdDVW_Zj2yQ_VPc-i2LeBKVYKdUr2gq1Fd-CbznZAwO6g2ulIyE1gBGk39_o89IGc1EOHssnJKBU0pFGpizsD0Y1rBZllfPGzVN9sdwfiBiJpfSodbtZsQxXb4tYXfC16m1RrymzTOwl2IdYQKLxTij17PfBOJksDZ6nNoBC2WQIRl95BLLxt6vcibyBDrf75dNaECz4uDXprq-QdX1XfBEYVlXeByK0rAT_8LaxguVs7IefGU9-VP7tLLxp4D7dTIDiOiDQ
[2022-04-19T11:55:53Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T11:55:53Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T11:55:53Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk2NTMsImlhdCI6MTY1MDM2OTM1MywiYXV0aF90aW1lIjoxNjUwMzY5MzUxLCJqdGkiOiJjMjUwYzYxOS03MmMwLTQ0MjktYTljMy0wOTg3OTA4ODU2YTYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJlaDdHWXRuSEVQaWN6VU85UkM1aTVRIiwic2Vzc2lvbl9zdGF0ZSI6IjBhODY3MGM1LTM0MjYtNGMwZC04NWJmLTAwMTk2ZDI4NDE5MSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjBhODY3MGM1LTM0MjYtNGMwZC04NWJmLTAwMTk2ZDI4NDE5MSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.AzRaq-a3CGKvj15O2GLIpuBusA8QBGxNAvhTnJ3BxfCVo4yMo7txbBHqin7fXIZ8kvZsKjwEKrxaLYsdDVW_Zj2yQ_VPc-i2LeBKVYKdUr2gq1Fd-CbznZAwO6g2ulIyE1gBGk39_o89IGc1EOHssnJKBU0pFGpizsD0Y1rBZllfPGzVN9sdwfiBiJpfSodbtZsQxXb4tYXfC16m1RrymzTOwl2IdYQKLxTij17PfBOJksDZ6nNoBC2WQIRl95BLLxt6vcibyBDrf75dNaECz4uDXprq-QdX1XfBEYVlXeByK0rAT_8LaxguVs7IefGU9-VP7tLLxp4D7dTIDiOiDQ&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T11:55:54Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::http::telemetry::test_send_telemetry_user::version_3

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T11:55:56Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T11:55:56Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T11:55:56Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T11:55:56Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T11:55:56Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T11:55:57Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T11:55:59Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T11:55:59Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T11:55:59Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T11:55:59Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T11:56:01Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk2NjEsImlhdCI6MTY1MDM2OTM2MSwiYXV0aF90aW1lIjoxNjUwMzY5MzU4LCJqdGkiOiI3NzQ1MWIxNC1lNTYyLTRmMTctODIwMi05YjhlMDEzOTYyOTciLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJwVXhIeHZCMFNDZS1CaUxxTlZWT2tBIiwic2Vzc2lvbl9zdGF0ZSI6IjIwNTE5MWNiLTI0MTUtNDEyMi1iZTMyLTI1NzFlNDQ1YTAyYyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjIwNTE5MWNiLTI0MTUtNDEyMi1iZTMyLTI1NzFlNDQ1YTAyYyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.oidkw95sc3zPRpRixFPXxEjBVaAGKuuacvm94-g8jvBprZ0M86yRQ83VEKzhXGjfYQPonY-Gx4iYHnCykITTz-lZiMO8lOWG-PcivI9zmBJ2b75Ek4W23hyMwRypMdTtrwQ8ECCfYFsGD_FUulP_pafi8AZ8WEZG_2LiQ3ngNShb5cXL4MiyKGdvvISZ_r4xraA6KRaG_iriX8H_UGPOGNthRJasnKVCODvqiztdybFsyzJf9LU7ZrPfB4sPZ-vPWAGJH3Ylm2AJCRRIg9iXUk4d25kHQn0v_N4_4Lo5gc_zZz5jEwFllQDfVpfv0CXkqiexEuycq52rjtPAERuj-g
[2022-04-19T11:56:01Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T11:56:01Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T11:56:01Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk2NjEsImlhdCI6MTY1MDM2OTM2MSwiYXV0aF90aW1lIjoxNjUwMzY5MzU4LCJqdGkiOiI3NzQ1MWIxNC1lNTYyLTRmMTctODIwMi05YjhlMDEzOTYyOTciLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJwVXhIeHZCMFNDZS1CaUxxTlZWT2tBIiwic2Vzc2lvbl9zdGF0ZSI6IjIwNTE5MWNiLTI0MTUtNDEyMi1iZTMyLTI1NzFlNDQ1YTAyYyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjIwNTE5MWNiLTI0MTUtNDEyMi1iZTMyLTI1NzFlNDQ1YTAyYyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.oidkw95sc3zPRpRixFPXxEjBVaAGKuuacvm94-g8jvBprZ0M86yRQ83VEKzhXGjfYQPonY-Gx4iYHnCykITTz-lZiMO8lOWG-PcivI9zmBJ2b75Ek4W23hyMwRypMdTtrwQ8ECCfYFsGD_FUulP_pafi8AZ8WEZG_2LiQ3ngNShb5cXL4MiyKGdvvISZ_r4xraA6KRaG_iriX8H_UGPOGNthRJasnKVCODvqiztdybFsyzJf9LU7ZrPfB4sPZ-vPWAGJH3Ylm2AJCRRIg9iXUk4d25kHQn0v_N4_4Lo5gc_zZz5jEwFllQDfVpfv0CXkqiexEuycq52rjtPAERuj-g&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T11:56:01Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::http::telemetry::test_send_telemetry_user_alias::version_1

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T11:56:04Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T11:56:04Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T11:56:04Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T11:56:04Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T11:56:04Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T11:56:05Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T11:56:06Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T11:56:06Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T11:56:06Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T11:56:06Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T11:56:08Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk2NjgsImlhdCI6MTY1MDM2OTM2OCwiYXV0aF90aW1lIjoxNjUwMzY5MzY1LCJqdGkiOiJlMzYyZWFlNC01NTg4LTRiOTQtOGRkYi0yNzYyYTZjY2FlODYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJoUHJwZlNsUHJSUEpVYXlRcF9OZDhBIiwic2Vzc2lvbl9zdGF0ZSI6ImNlMTZhMDZlLTMxMDYtNDRmNC05ZTRkLWQzNDNkMmNiZjgwNiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImNlMTZhMDZlLTMxMDYtNDRmNC05ZTRkLWQzNDNkMmNiZjgwNiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.ZLq8qSRfDS95_L7ytSNDXM2SQFMp53gL8CLk-3ElqBNgmkZooi8Q7KXQiS7wHqnMuvfuYgPd-2kUaMqhBXbT3XQMmlL-fCTczY_vK07XLlSfSUqrjZrr5lqDtaYbekb__VR77e2vtpTyEQCd0bpHOBx4GXl36kYKxT_mVpConRqHTSSQnsUDCZsPDdhi4a8WDEDPcdKV58xAATpwwoafupWiLX4VNQSyWX3GF_u0bCNZQ4_G3FTtILnRYCj0KKnlzFZFAMZ2zWGXhqYc9Ax4t1k-xqI5BLyCpqJ6R-nk0KtZyQyCrckRyaz4DvHzik19Jup5HFg54xa9Ax5Dq8HFRw
[2022-04-19T11:56:08Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T11:56:08Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T11:56:08Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk2NjgsImlhdCI6MTY1MDM2OTM2OCwiYXV0aF90aW1lIjoxNjUwMzY5MzY1LCJqdGkiOiJlMzYyZWFlNC01NTg4LTRiOTQtOGRkYi0yNzYyYTZjY2FlODYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJoUHJwZlNsUHJSUEpVYXlRcF9OZDhBIiwic2Vzc2lvbl9zdGF0ZSI6ImNlMTZhMDZlLTMxMDYtNDRmNC05ZTRkLWQzNDNkMmNiZjgwNiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImNlMTZhMDZlLTMxMDYtNDRmNC05ZTRkLWQzNDNkMmNiZjgwNiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.ZLq8qSRfDS95_L7ytSNDXM2SQFMp53gL8CLk-3ElqBNgmkZooi8Q7KXQiS7wHqnMuvfuYgPd-2kUaMqhBXbT3XQMmlL-fCTczY_vK07XLlSfSUqrjZrr5lqDtaYbekb__VR77e2vtpTyEQCd0bpHOBx4GXl36kYKxT_mVpConRqHTSSQnsUDCZsPDdhi4a8WDEDPcdKV58xAATpwwoafupWiLX4VNQSyWX3GF_u0bCNZQ4_G3FTtILnRYCj0KKnlzFZFAMZ2zWGXhqYc9Ax4t1k-xqI5BLyCpqJ6R-nk0KtZyQyCrckRyaz4DvHzik19Jup5HFg54xa9Ax5Dq8HFRw&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T11:56:09Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::http::telemetry::test_send_telemetry_user_alias::version_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T11:56:11Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T11:56:11Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T11:56:11Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T11:56:11Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T11:56:11Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T11:56:12Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T11:56:14Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T11:56:14Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T11:56:14Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T11:56:14Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T11:56:16Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk2NzYsImlhdCI6MTY1MDM2OTM3NiwiYXV0aF90aW1lIjoxNjUwMzY5MzczLCJqdGkiOiIyZWZiZjYyMC1mNGNhLTQwYzItOTk0YS01NTc1NmI5NDJiNTEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJsS3BiQnR3VWRib1BTX0poclZ1dGRBIiwic2Vzc2lvbl9zdGF0ZSI6ImY2YjVjZDA1LWQyYmItNGZjYS1iNGNhLTk5NDg5M2M2MWJjYyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImY2YjVjZDA1LWQyYmItNGZjYS1iNGNhLTk5NDg5M2M2MWJjYyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.JD-Ckf_WRXs5u2JwJj7gnwCwXMTsCxUDgMdVYii2URddarYZ3ik1O6p9uhKScRQEYtbeG15F4WlgBQwGm1rmdzxtbuWWGyehan8dyzPAWiLvDBH7ffDETmMXEUt6PDQtrqQiFAGxIUX54LDS354sYcdvbS9hMvvhScSaUVlIQ1DlKgps6qGjZef4uh4H9awc9AEFal2tgTES3ZqWmvYtCOKOrrv1onc03izuEwSrOAKkHkKv_iEmegaNQqWkBodrPYTiI8ZyYqaYBD4NcZHodjm_Cqt89-HuJPnwQcpP0YkTnfzC6rZoNckD2o92VUYjsdPSA5CZVBK4hQZ_KN23Ng
[2022-04-19T11:56:16Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T11:56:16Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T11:56:16Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk2NzYsImlhdCI6MTY1MDM2OTM3NiwiYXV0aF90aW1lIjoxNjUwMzY5MzczLCJqdGkiOiIyZWZiZjYyMC1mNGNhLTQwYzItOTk0YS01NTc1NmI5NDJiNTEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJsS3BiQnR3VWRib1BTX0poclZ1dGRBIiwic2Vzc2lvbl9zdGF0ZSI6ImY2YjVjZDA1LWQyYmItNGZjYS1iNGNhLTk5NDg5M2M2MWJjYyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImY2YjVjZDA1LWQyYmItNGZjYS1iNGNhLTk5NDg5M2M2MWJjYyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.JD-Ckf_WRXs5u2JwJj7gnwCwXMTsCxUDgMdVYii2URddarYZ3ik1O6p9uhKScRQEYtbeG15F4WlgBQwGm1rmdzxtbuWWGyehan8dyzPAWiLvDBH7ffDETmMXEUt6PDQtrqQiFAGxIUX54LDS354sYcdvbS9hMvvhScSaUVlIQ1DlKgps6qGjZef4uh4H9awc9AEFal2tgTES3ZqWmvYtCOKOrrv1onc03izuEwSrOAKkHkKv_iEmegaNQqWkBodrPYTiI8ZyYqaYBD4NcZHodjm_Cqt89-HuJPnwQcpP0YkTnfzC6rZoNckD2o92VUYjsdPSA5CZVBK4hQZ_KN23Ng&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T11:56:16Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::http::telemetry::test_send_telemetry_user_alias::version_3

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T11:56:19Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T11:56:19Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T11:56:19Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T11:56:19Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T11:56:19Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T11:56:20Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T11:56:21Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T11:56:21Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T11:56:21Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T11:56:21Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T11:56:23Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk2ODMsImlhdCI6MTY1MDM2OTM4MywiYXV0aF90aW1lIjoxNjUwMzY5MzgwLCJqdGkiOiI3ZWIyMmFlMi0zNjEyLTQzZDctOWYwYS1iMDdhYjdlODVkNjkiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiI5dVZBWF8zb1Z3M3M2ZUNocEczNFBnIiwic2Vzc2lvbl9zdGF0ZSI6IjJmNzJiZWM3LTA0MTUtNDhlOS1iYmZmLWY5ZDkzMDg3ZDE3ZSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjJmNzJiZWM3LTA0MTUtNDhlOS1iYmZmLWY5ZDkzMDg3ZDE3ZSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.jNftnjTmYphCr-p9R4jMfkt037Jz0ees8WN7xBeexoy82f8FR1okspqCJH_2VkHMkEtKtX3oOiRvc3qcz9KeSEMErBrDZgHf2N-tUvjdeB3RiD1HEeWDIAoLkGEUK74sYZ5iOx2Iw_x0sT6cEK24oxEc4VXVJ6CJY_0pv1602Lh3zi2sHINWKNOcNE4_80L45Sp5DQZBeIE7CiQC3RKngbsPzkD5qVceH8uFsPGrYyby2PqDJtY_EjdCLjmDlNfvNJ8jp-n86FND2PRHGXT6hveYWztToPcvrwQW_BKpj1U17jttqlIrFO4U2tJLtqSOMtNJaouNsmqjYyb39xzYNw
[2022-04-19T11:56:23Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T11:56:23Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T11:56:23Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk2ODMsImlhdCI6MTY1MDM2OTM4MywiYXV0aF90aW1lIjoxNjUwMzY5MzgwLCJqdGkiOiI3ZWIyMmFlMi0zNjEyLTQzZDctOWYwYS1iMDdhYjdlODVkNjkiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiI5dVZBWF8zb1Z3M3M2ZUNocEczNFBnIiwic2Vzc2lvbl9zdGF0ZSI6IjJmNzJiZWM3LTA0MTUtNDhlOS1iYmZmLWY5ZDkzMDg3ZDE3ZSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjJmNzJiZWM3LTA0MTUtNDhlOS1iYmZmLWY5ZDkzMDg3ZDE3ZSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.jNftnjTmYphCr-p9R4jMfkt037Jz0ees8WN7xBeexoy82f8FR1okspqCJH_2VkHMkEtKtX3oOiRvc3qcz9KeSEMErBrDZgHf2N-tUvjdeB3RiD1HEeWDIAoLkGEUK74sYZ5iOx2Iw_x0sT6cEK24oxEc4VXVJ6CJY_0pv1602Lh3zi2sHINWKNOcNE4_80L45Sp5DQZBeIE7CiQC3RKngbsPzkD5qVceH8uFsPGrYyby2PqDJtY_EjdCLjmDlNfvNJ8jp-n86FND2PRHGXT6hveYWztToPcvrwQW_BKpj1U17jttqlIrFO4U2tJLtqSOMtNJaouNsmqjYyb39xzYNw&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T11:56:23Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::http::telemetry::test_send_telemetry_user_only::version_1

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T11:56:26Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T11:56:26Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T11:56:26Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T11:56:26Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T11:56:26Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T11:56:27Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T11:56:29Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T11:56:29Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T11:56:29Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T11:56:29Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T11:56:31Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk2OTEsImlhdCI6MTY1MDM2OTM5MSwiYXV0aF90aW1lIjoxNjUwMzY5Mzg4LCJqdGkiOiIzYWYzNjg1NC0yODhlLTQwZmUtYTY2MS1mZTVjZTk5Mzc4YzMiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJKOHlCajZkZGFXWm9jSmFFUHdSWkl3Iiwic2Vzc2lvbl9zdGF0ZSI6IjliYjgxNjdmLTYyODQtNDk5My1hNmM0LWQwN2IxZmJmYjhkOCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjliYjgxNjdmLTYyODQtNDk5My1hNmM0LWQwN2IxZmJmYjhkOCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.EChUIDimDAgE-W5q_dnBaNNi7OTeZwoFDZwOp5EumsQLfQb1TjR6NAmE3GkukkNuFVjjPDzcsHn5H5Kd9aNVD3FhUpGEeMY-JjII_330QCoDT9H2Uro2BMNvxrBa4pgvnU4TvrzwdPiRGk2I_G4H0rbGqEX8xseNUX2eA71Y0VDFxzu4y6TvhRs0baridq0gmSNL3HC81ZEP7hWkvVv810Gqbfx4EtUS6N32R9pfKW-KGL2xmfFzpKSMwQlBr2Y_W91ZfEpu55K73ezCyCCDxhs9KQT7iDGqilxirP1AImfFZTGBAkVVUPAy13sTZecsnTa81smJq-sIINhuWXztrA
[2022-04-19T11:56:31Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T11:56:31Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T11:56:31Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk2OTEsImlhdCI6MTY1MDM2OTM5MSwiYXV0aF90aW1lIjoxNjUwMzY5Mzg4LCJqdGkiOiIzYWYzNjg1NC0yODhlLTQwZmUtYTY2MS1mZTVjZTk5Mzc4YzMiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJKOHlCajZkZGFXWm9jSmFFUHdSWkl3Iiwic2Vzc2lvbl9zdGF0ZSI6IjliYjgxNjdmLTYyODQtNDk5My1hNmM0LWQwN2IxZmJmYjhkOCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjliYjgxNjdmLTYyODQtNDk5My1hNmM0LWQwN2IxZmJmYjhkOCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.EChUIDimDAgE-W5q_dnBaNNi7OTeZwoFDZwOp5EumsQLfQb1TjR6NAmE3GkukkNuFVjjPDzcsHn5H5Kd9aNVD3FhUpGEeMY-JjII_330QCoDT9H2Uro2BMNvxrBa4pgvnU4TvrzwdPiRGk2I_G4H0rbGqEX8xseNUX2eA71Y0VDFxzu4y6TvhRs0baridq0gmSNL3HC81ZEP7hWkvVv810Gqbfx4EtUS6N32R9pfKW-KGL2xmfFzpKSMwQlBr2Y_W91ZfEpu55K73ezCyCCDxhs9KQT7iDGqilxirP1AImfFZTGBAkVVUPAy13sTZecsnTa81smJq-sIINhuWXztrA&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T11:56:31Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::http::telemetry::test_send_telemetry_user_only::version_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T11:56:33Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T11:56:33Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T11:56:33Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T11:56:33Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T11:56:33Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T11:56:35Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T11:56:36Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T11:56:36Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T11:56:36Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T11:56:36Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T11:56:38Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk2OTgsImlhdCI6MTY1MDM2OTM5OCwiYXV0aF90aW1lIjoxNjUwMzY5Mzk1LCJqdGkiOiIzMjA4OTc1NS0yM2QxLTRmZDAtOWU4OS04ZWYxYmEwYjkwMmQiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJfckI2UU1XX3BNY3JWZWtoU0h1Y2lBIiwic2Vzc2lvbl9zdGF0ZSI6IjQwNDZkYjM5LTcxYWYtNDZiMC04ODA5LTE3MzhmMTljYmM5NyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjQwNDZkYjM5LTcxYWYtNDZiMC04ODA5LTE3MzhmMTljYmM5NyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.I5CL6zfgwxDWO0cohCgkehydNPdO5FDAp_eZKSRuqpgOBH4bW88RaEmu-S0A2EVGlA-VSm1TwBuAhjj7Ekf_iMI2j-nboKqgQUP01YD3k1gRoN68ZWxnRZP0sodX5ARPC_is25rQlbkN_fPC-OWw1zrnLjW2SW36qwKYOtgMfLT4CaJJyPBSBlgflDo9qq1aPYEHT1iSMTOgE1UMRtJ2E10q6u0FzPwU04hQYoA70i90oky2o4lGcuRnrxl-nnj5hmwMUmWg3oGu2Pb51RdOcVZh42DDVTTAkggqvEnYKtJOnP0r2Y3u_YAe7u9pNdCt66j8oF72KjKS6DHswuMekQ
[2022-04-19T11:56:38Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T11:56:38Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T11:56:38Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk2OTgsImlhdCI6MTY1MDM2OTM5OCwiYXV0aF90aW1lIjoxNjUwMzY5Mzk1LCJqdGkiOiIzMjA4OTc1NS0yM2QxLTRmZDAtOWU4OS04ZWYxYmEwYjkwMmQiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJfckI2UU1XX3BNY3JWZWtoU0h1Y2lBIiwic2Vzc2lvbl9zdGF0ZSI6IjQwNDZkYjM5LTcxYWYtNDZiMC04ODA5LTE3MzhmMTljYmM5NyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjQwNDZkYjM5LTcxYWYtNDZiMC04ODA5LTE3MzhmMTljYmM5NyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.I5CL6zfgwxDWO0cohCgkehydNPdO5FDAp_eZKSRuqpgOBH4bW88RaEmu-S0A2EVGlA-VSm1TwBuAhjj7Ekf_iMI2j-nboKqgQUP01YD3k1gRoN68ZWxnRZP0sodX5ARPC_is25rQlbkN_fPC-OWw1zrnLjW2SW36qwKYOtgMfLT4CaJJyPBSBlgflDo9qq1aPYEHT1iSMTOgE1UMRtJ2E10q6u0FzPwU04hQYoA70i90oky2o4lGcuRnrxl-nnj5hmwMUmWg3oGu2Pb51RdOcVZh42DDVTTAkggqvEnYKtJOnP0r2Y3u_YAe7u9pNdCt66j8oF72KjKS6DHswuMekQ&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T11:56:38Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::http::telemetry::test_send_telemetry_user_only::version_3

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T11:56:41Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T11:56:41Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T11:56:41Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T11:56:41Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T11:56:41Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T11:56:42Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T11:56:43Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T11:56:43Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T11:56:43Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T11:56:43Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T11:56:45Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk3MDUsImlhdCI6MTY1MDM2OTQwNSwiYXV0aF90aW1lIjoxNjUwMzY5NDAyLCJqdGkiOiJmOGI0YTBhYS00OGUxLTQxOWMtOWU0OS1mNGI2ZTYxOTQyMTMiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiIzS0VyVnF0aFptcksydHU2Q2FoV05BIiwic2Vzc2lvbl9zdGF0ZSI6IjBmYmJlYTFlLTI5NzQtNDViMS04YzI0LWQ3ZWRmYTg5ZmJlOSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjBmYmJlYTFlLTI5NzQtNDViMS04YzI0LWQ3ZWRmYTg5ZmJlOSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.BzYGkZ_qD4C2v35bpjFK2t-MyHbEcqmf8SM_vH-Ss7AhuLRWDQMn-J4lqItImhjpYa_vE1wuzFVAgnkld_vnGY5GlLMz7JP7WsAVBLQICtQ0VbJyzwKl1-a4SgXy2DokBna_ZiwKcleB27lilRu6ZPix4mJTxpEFIwaQZavPpRR3UAftiNuLQWU-Zc6z5zWDykM4QTiVODKEVrUVyyHmyvJyU-juuZpTxarXo6M5FIYHJLvAiZ4Lo9QmhW0rosjFH_dQanbJ4pX8XCdeBdXF67VmlMRWeoxKN_Ef_WwFTiLBHIz3hEL-f2WQybL1tH1WTjxse60h4NCWR6s26fhU3w
[2022-04-19T11:56:45Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T11:56:45Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T11:56:45Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk3MDUsImlhdCI6MTY1MDM2OTQwNSwiYXV0aF90aW1lIjoxNjUwMzY5NDAyLCJqdGkiOiJmOGI0YTBhYS00OGUxLTQxOWMtOWU0OS1mNGI2ZTYxOTQyMTMiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiIzS0VyVnF0aFptcksydHU2Q2FoV05BIiwic2Vzc2lvbl9zdGF0ZSI6IjBmYmJlYTFlLTI5NzQtNDViMS04YzI0LWQ3ZWRmYTg5ZmJlOSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjBmYmJlYTFlLTI5NzQtNDViMS04YzI0LWQ3ZWRmYTg5ZmJlOSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.BzYGkZ_qD4C2v35bpjFK2t-MyHbEcqmf8SM_vH-Ss7AhuLRWDQMn-J4lqItImhjpYa_vE1wuzFVAgnkld_vnGY5GlLMz7JP7WsAVBLQICtQ0VbJyzwKl1-a4SgXy2DokBna_ZiwKcleB27lilRu6ZPix4mJTxpEFIwaQZavPpRR3UAftiNuLQWU-Zc6z5zWDykM4QTiVODKEVrUVyyHmyvJyU-juuZpTxarXo6M5FIYHJLvAiZ4Lo9QmhW0rosjFH_dQanbJ4pX8XCdeBdXF67VmlMRWeoxKN_Ef_WwFTiLBHIz3hEL-f2WQybL1tH1WTjxse60h4NCWR6s26fhU3w&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T11:56:45Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::mqtt::command::gateway::version_1::ws_1

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T11:56:48Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T11:56:48Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T11:56:48Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T11:56:48Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T11:56:48Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T11:56:49Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T11:56:51Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T11:56:51Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T11:56:51Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T11:56:51Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T11:56:53Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk3MTIsImlhdCI6MTY1MDM2OTQxMiwiYXV0aF90aW1lIjoxNjUwMzY5NDEwLCJqdGkiOiJkY2RkMTRkYS0xY2Q4LTRmOGEtYTdhNi00MjhjZGQyMWQzMzUiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJPdnR5bV9oWW42bG5LQW1kd2x1RC1BIiwic2Vzc2lvbl9zdGF0ZSI6IjA2YmNkYTA3LTMzMWItNDQ0Yi05MGViLTQ0MzJiNWZhYjJlYiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjA2YmNkYTA3LTMzMWItNDQ0Yi05MGViLTQ0MzJiNWZhYjJlYiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.mZ4b0vfXfI04CyhD_oPC9c2vqEr10SEYWh0hYdGiF1P11b1Dh80mxaHoazKMLAHYPqnqW1LAPmwEP9CKPQpFDg8Lj2IR46yiFMJgrAiUYCDBLdW2HgDtgYm8eXF18Rrn_3eDW53ihqvyeGjLccpouVFWmQ929tzW8MJej_njpO--HvHpJ8OfumVNiiSWNiQag5Ap36U0ukumCaNpISHHTjvdOr4uwjjHbrXNrjYtFqYqo7zvqsJz7pJAasRYarYNfPD28z4Gr5MCSxmJcMRrTcO7zOgHoql70N1v_5-8MgLQfCAKA_wZySAtesLbNPGkJAnIidGF0K_FiAwGNsM4Ww
[2022-04-19T11:56:53Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T11:56:53Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T11:56:53Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk3MTIsImlhdCI6MTY1MDM2OTQxMiwiYXV0aF90aW1lIjoxNjUwMzY5NDEwLCJqdGkiOiJkY2RkMTRkYS0xY2Q4LTRmOGEtYTdhNi00MjhjZGQyMWQzMzUiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJPdnR5bV9oWW42bG5LQW1kd2x1RC1BIiwic2Vzc2lvbl9zdGF0ZSI6IjA2YmNkYTA3LTMzMWItNDQ0Yi05MGViLTQ0MzJiNWZhYjJlYiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjA2YmNkYTA3LTMzMWItNDQ0Yi05MGViLTQ0MzJiNWZhYjJlYiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.mZ4b0vfXfI04CyhD_oPC9c2vqEr10SEYWh0hYdGiF1P11b1Dh80mxaHoazKMLAHYPqnqW1LAPmwEP9CKPQpFDg8Lj2IR46yiFMJgrAiUYCDBLdW2HgDtgYm8eXF18Rrn_3eDW53ihqvyeGjLccpouVFWmQ929tzW8MJej_njpO--HvHpJ8OfumVNiiSWNiQag5Ap36U0ukumCaNpISHHTjvdOr4uwjjHbrXNrjYtFqYqo7zvqsJz7pJAasRYarYNfPD28z4Gr5MCSxmJcMRrTcO7zOgHoql70N1v_5-8MgLQfCAKA_wZySAtesLbNPGkJAnIidGF0K_FiAwGNsM4Ww&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T11:56:53Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::mqtt::command::gateway::version_1::ws_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T11:56:55Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T11:56:55Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T11:56:55Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T11:56:55Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T11:56:55Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T11:56:56Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T11:56:58Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T11:56:58Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T11:56:58Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T11:56:58Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T11:57:00Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk3MjAsImlhdCI6MTY1MDM2OTQyMCwiYXV0aF90aW1lIjoxNjUwMzY5NDE3LCJqdGkiOiIzOGFhZTZjMi03YjUxLTQyZjgtOTk0MC03OGM5ODhkM2U0MzIiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiI0N0hNUllpOTU0b0QzS2kyOEZGdnN3Iiwic2Vzc2lvbl9zdGF0ZSI6ImU5MzBjOTVhLTg5MzAtNDBlZC05MjQzLTFiZGVhOTM4ZWMzZCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImU5MzBjOTVhLTg5MzAtNDBlZC05MjQzLTFiZGVhOTM4ZWMzZCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.o8DprAuoddLuNs169xPoNyL3ogple9kA55XWRh22x3bfc6-EGN3a8GfFT3FTZeh56uP6BgPy1S7GvgNBEnDGggt7FRTg5Kktcna7EwfoJ5rd789s_6FwePtA2d3shoWwV8MTOwi7lz0Mi-KVjQRZlyks551FZtyoEX8pcbv6ZFoUkQHZF2rI8PnoowyNy4SSiGMMzQJLJ0Vl5icPngTMbnQ6HsclMdmiPckyNcVzVQ684IAao3W6-RCYIxgjOJy1deBSRZabPfiA6R2_-WKs94ohoPk6oE4ortgn_eWtX9ubHEy8ZXamrgmNm6NQZfXFDcVoEUw0IcxOmubgYqDT-Q
[2022-04-19T11:57:00Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T11:57:00Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T11:57:00Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk3MjAsImlhdCI6MTY1MDM2OTQyMCwiYXV0aF90aW1lIjoxNjUwMzY5NDE3LCJqdGkiOiIzOGFhZTZjMi03YjUxLTQyZjgtOTk0MC03OGM5ODhkM2U0MzIiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiI0N0hNUllpOTU0b0QzS2kyOEZGdnN3Iiwic2Vzc2lvbl9zdGF0ZSI6ImU5MzBjOTVhLTg5MzAtNDBlZC05MjQzLTFiZGVhOTM4ZWMzZCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImU5MzBjOTVhLTg5MzAtNDBlZC05MjQzLTFiZGVhOTM4ZWMzZCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.o8DprAuoddLuNs169xPoNyL3ogple9kA55XWRh22x3bfc6-EGN3a8GfFT3FTZeh56uP6BgPy1S7GvgNBEnDGggt7FRTg5Kktcna7EwfoJ5rd789s_6FwePtA2d3shoWwV8MTOwi7lz0Mi-KVjQRZlyks551FZtyoEX8pcbv6ZFoUkQHZF2rI8PnoowyNy4SSiGMMzQJLJ0Vl5icPngTMbnQ6HsclMdmiPckyNcVzVQ684IAao3W6-RCYIxgjOJy1deBSRZabPfiA6R2_-WKs94ohoPk6oE4ortgn_eWtX9ubHEy8ZXamrgmNm6NQZfXFDcVoEUw0IcxOmubgYqDT-Q&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T11:57:00Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::mqtt::command::gateway::version_2::ws_1

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T11:57:03Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T11:57:03Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T11:57:03Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T11:57:03Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T11:57:03Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T11:57:04Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T11:57:05Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T11:57:05Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T11:57:05Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T11:57:05Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T11:57:08Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk3MjgsImlhdCI6MTY1MDM2OTQyOCwiYXV0aF90aW1lIjoxNjUwMzY5NDI0LCJqdGkiOiI2YTM5NzIxMy0wZWZiLTQ2OGEtODkzNC04Nzg3NjJlYzRkYWIiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiI3Y3cyTHZJQVFoWnd0ZEhQRTRrVnNRIiwic2Vzc2lvbl9zdGF0ZSI6IjkzOWVhYzkyLTZjOTMtNDkwZi04ZWM1LTNlMGJlODU5MmU2ZiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjkzOWVhYzkyLTZjOTMtNDkwZi04ZWM1LTNlMGJlODU5MmU2ZiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.KH06G7L6Ib1tVjQIhcCT9rpapv10qQ4QxdXpFvCvjg_jpIdYayW45iJDPjq_hIMYYlXHYdyUHOPTyCm9IkwxPVkWoKbPTVE6ZTkoqHwObjyE3B8wf_FgSPftNSQqqk5hr3r9yZPfZI2UWqY9fXfYY_PQgroRapUCb7cNU1sQSosVhbziBjzK4mYUMC9aiV302ZI7ic3qRI4jgQSrkhgykgqsXrGwpkKnN_tg86jSuD5iQnht85kJHzoanPY7yWfGEBqS1kjzUgAU92RDovXaDFme1yd124MIoJQiNeMOk4udPBIP97o7GBZOis9J5jc85AYksmw5xCz7aK_Yfn6Yyw
[2022-04-19T11:57:08Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T11:57:08Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T11:57:08Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk3MjgsImlhdCI6MTY1MDM2OTQyOCwiYXV0aF90aW1lIjoxNjUwMzY5NDI0LCJqdGkiOiI2YTM5NzIxMy0wZWZiLTQ2OGEtODkzNC04Nzg3NjJlYzRkYWIiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiI3Y3cyTHZJQVFoWnd0ZEhQRTRrVnNRIiwic2Vzc2lvbl9zdGF0ZSI6IjkzOWVhYzkyLTZjOTMtNDkwZi04ZWM1LTNlMGJlODU5MmU2ZiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjkzOWVhYzkyLTZjOTMtNDkwZi04ZWM1LTNlMGJlODU5MmU2ZiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.KH06G7L6Ib1tVjQIhcCT9rpapv10qQ4QxdXpFvCvjg_jpIdYayW45iJDPjq_hIMYYlXHYdyUHOPTyCm9IkwxPVkWoKbPTVE6ZTkoqHwObjyE3B8wf_FgSPftNSQqqk5hr3r9yZPfZI2UWqY9fXfYY_PQgroRapUCb7cNU1sQSosVhbziBjzK4mYUMC9aiV302ZI7ic3qRI4jgQSrkhgykgqsXrGwpkKnN_tg86jSuD5iQnht85kJHzoanPY7yWfGEBqS1kjzUgAU92RDovXaDFme1yd124MIoJQiNeMOk4udPBIP97o7GBZOis9J5jc85AYksmw5xCz7aK_Yfn6Yyw&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T11:57:08Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::mqtt::command::gateway::version_2::ws_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T11:57:11Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T11:57:11Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T11:57:11Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T11:57:11Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T11:57:11Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T11:57:12Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T11:57:14Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T11:57:14Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T11:57:14Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T11:57:14Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T11:57:16Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk3MzYsImlhdCI6MTY1MDM2OTQzNiwiYXV0aF90aW1lIjoxNjUwMzY5NDMzLCJqdGkiOiI4ZmQ0NzUxZS03MjVhLTQxZTEtOGY4MS00ZDc3YjU4YTdiYWUiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJYVENQWi1oRGpjZkFZbjFtQ3dqb19RIiwic2Vzc2lvbl9zdGF0ZSI6IjY4MjhlZTI2LTA2MjgtNDZlOS1iMTdhLTIxYTBjNThkZDQ0NiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjY4MjhlZTI2LTA2MjgtNDZlOS1iMTdhLTIxYTBjNThkZDQ0NiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.inSD8R5On3ZNJKD0ZEnebbA8TcfLoOaUCa1M2-zyBeTzSEBEmMjcojZ9QKJ9CPy2_psDMnj4tT12N7Xes1T6Nq_OFL8MoqlNG83igS2ODfmTYRfj6DiyB0zn1bZqifjFXgdAJhCIwoLc4zseQHGMPCy8ygeu9bKoBfNv53mX_n0wc8zIeUDustE16nJKyHHNzjmCDza8oFshkXhcOhikEvHzg7Qcx7_GSKZ37ZKq5jYI9OOr96ulVGrR2UKhcterQhw45HrNAL7QKbpLU6p7hAaT99RbJ4T15vdDvFTnRo_TwmBTKsGjyvFWORK1F_2rEFI_VfKe9xzNCLlUJs3XuA
[2022-04-19T11:57:16Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T11:57:16Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T11:57:16Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk3MzYsImlhdCI6MTY1MDM2OTQzNiwiYXV0aF90aW1lIjoxNjUwMzY5NDMzLCJqdGkiOiI4ZmQ0NzUxZS03MjVhLTQxZTEtOGY4MS00ZDc3YjU4YTdiYWUiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJYVENQWi1oRGpjZkFZbjFtQ3dqb19RIiwic2Vzc2lvbl9zdGF0ZSI6IjY4MjhlZTI2LTA2MjgtNDZlOS1iMTdhLTIxYTBjNThkZDQ0NiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjY4MjhlZTI2LTA2MjgtNDZlOS1iMTdhLTIxYTBjNThkZDQ0NiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.inSD8R5On3ZNJKD0ZEnebbA8TcfLoOaUCa1M2-zyBeTzSEBEmMjcojZ9QKJ9CPy2_psDMnj4tT12N7Xes1T6Nq_OFL8MoqlNG83igS2ODfmTYRfj6DiyB0zn1bZqifjFXgdAJhCIwoLc4zseQHGMPCy8ygeu9bKoBfNv53mX_n0wc8zIeUDustE16nJKyHHNzjmCDza8oFshkXhcOhikEvHzg7Qcx7_GSKZ37ZKq5jYI9OOr96ulVGrR2UKhcterQhw45HrNAL7QKbpLU6p7hAaT99RbJ4T15vdDvFTnRo_TwmBTKsGjyvFWORK1F_2rEFI_VfKe9xzNCLlUJs3XuA&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T11:57:16Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::mqtt::command::gateway::version_3::ws_1

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T11:57:18Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T11:57:18Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T11:57:18Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T11:57:18Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T11:57:18Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T11:57:20Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T11:57:21Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T11:57:21Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T11:57:21Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T11:57:21Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T11:57:23Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk3NDMsImlhdCI6MTY1MDM2OTQ0MywiYXV0aF90aW1lIjoxNjUwMzY5NDQwLCJqdGkiOiI2MTlkYWI0Mi03ZTA1LTQ5MTAtOTEzOC1mZWY3NGM3NzdjMWYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJOVEpjM0d5dFJwMkRvLVBlWU00TGJ3Iiwic2Vzc2lvbl9zdGF0ZSI6ImZiZWUzNDUzLWRjZDYtNDEyYy1iNGQyLTkyZmI1YzZlNjljMiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImZiZWUzNDUzLWRjZDYtNDEyYy1iNGQyLTkyZmI1YzZlNjljMiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.YC6AfsWUA9GVifzjyi0F4YC_KSY-zTdZavr9JbUIiRHV6y7HvPBXV2a6EuR_TmYL1JaOwao6k_NXeTH1A1r5S9AKlB81xUh4NttIJf6hiVf1tDabSbKXrVnd8xrB8D04BmoY8VjGZ-oCT9BidDfOU3AcJblif5xy2sQMPmQO7P1pkspNvA9nTQrrgZBPw0izXtl5r3fxfOM9-DrjRmxRvb3sL5Mpp7sc1-Nohg3cZZOh4Dp6MUeFUYnoReq8CaIw5-YLwYgYHuRGhH5LV6jLYmgjTY3ouZcRUnuh6NjBHDYZn_J1-IsMzc1RDvulygaC7hGqRyLvzmqKWT4BeqglTg
[2022-04-19T11:57:23Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T11:57:23Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T11:57:23Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk3NDMsImlhdCI6MTY1MDM2OTQ0MywiYXV0aF90aW1lIjoxNjUwMzY5NDQwLCJqdGkiOiI2MTlkYWI0Mi03ZTA1LTQ5MTAtOTEzOC1mZWY3NGM3NzdjMWYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJOVEpjM0d5dFJwMkRvLVBlWU00TGJ3Iiwic2Vzc2lvbl9zdGF0ZSI6ImZiZWUzNDUzLWRjZDYtNDEyYy1iNGQyLTkyZmI1YzZlNjljMiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImZiZWUzNDUzLWRjZDYtNDEyYy1iNGQyLTkyZmI1YzZlNjljMiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.YC6AfsWUA9GVifzjyi0F4YC_KSY-zTdZavr9JbUIiRHV6y7HvPBXV2a6EuR_TmYL1JaOwao6k_NXeTH1A1r5S9AKlB81xUh4NttIJf6hiVf1tDabSbKXrVnd8xrB8D04BmoY8VjGZ-oCT9BidDfOU3AcJblif5xy2sQMPmQO7P1pkspNvA9nTQrrgZBPw0izXtl5r3fxfOM9-DrjRmxRvb3sL5Mpp7sc1-Nohg3cZZOh4Dp6MUeFUYnoReq8CaIw5-YLwYgYHuRGhH5LV6jLYmgjTY3ouZcRUnuh6NjBHDYZn_J1-IsMzc1RDvulygaC7hGqRyLvzmqKWT4BeqglTg&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T11:57:23Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::mqtt::command::gateway::version_3::ws_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T11:57:26Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T11:57:26Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T11:57:26Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T11:57:26Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T11:57:26Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T11:57:27Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T11:57:29Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T11:57:29Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T11:57:29Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T11:57:29Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T11:57:30Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk3NTAsImlhdCI6MTY1MDM2OTQ1MCwiYXV0aF90aW1lIjoxNjUwMzY5NDQ3LCJqdGkiOiIwNTg0YTQyZi0yYWMwLTQzZGItOTA3Ny03ZTlhMzM1Yzc1YWUiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJ4R1U2SWJzR3VtWVdQaDhjelZWRkx3Iiwic2Vzc2lvbl9zdGF0ZSI6IjlmN2IwYjhlLWZkYTItNGUyMC1iODU2LTliNWQ3MTA5OTg2MyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjlmN2IwYjhlLWZkYTItNGUyMC1iODU2LTliNWQ3MTA5OTg2MyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.K4aVyGbqpN3F_7L17cNTk16PZJOlpasaTwR1m7wHQD3-JFoB6j4Of-VfgRm-F5FK4WXRiLRys1r7swy6c3w52cZOzBZkuf6wgg56V0Pbd0gVuuC8M2dr1r5rCF-SzGZVlCrUDIspg0DuC3dhwbO2NjvaTvuRJELEtST2jgLNHP_jzBS58E-ynV3M7CG-j-KgDCi9_Tf_9WAIwfCCFPMy_IqIrKSsnQuMkglW6RXhicFSbUFrtk8IgiQIgRwu2KtC0VDaqWA1vdbwKhl2eCQ_J1zGS_1Uu4wSzHiszu4HTv9NTyR5OS4l_EtILIFtUpDuQN-LGXoaJyqkiiPAlnr51w
[2022-04-19T11:57:30Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T11:57:30Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T11:57:30Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk3NTAsImlhdCI6MTY1MDM2OTQ1MCwiYXV0aF90aW1lIjoxNjUwMzY5NDQ3LCJqdGkiOiIwNTg0YTQyZi0yYWMwLTQzZGItOTA3Ny03ZTlhMzM1Yzc1YWUiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJ4R1U2SWJzR3VtWVdQaDhjelZWRkx3Iiwic2Vzc2lvbl9zdGF0ZSI6IjlmN2IwYjhlLWZkYTItNGUyMC1iODU2LTliNWQ3MTA5OTg2MyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjlmN2IwYjhlLWZkYTItNGUyMC1iODU2LTliNWQ3MTA5OTg2MyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.K4aVyGbqpN3F_7L17cNTk16PZJOlpasaTwR1m7wHQD3-JFoB6j4Of-VfgRm-F5FK4WXRiLRys1r7swy6c3w52cZOzBZkuf6wgg56V0Pbd0gVuuC8M2dr1r5rCF-SzGZVlCrUDIspg0DuC3dhwbO2NjvaTvuRJELEtST2jgLNHP_jzBS58E-ynV3M7CG-j-KgDCi9_Tf_9WAIwfCCFPMy_IqIrKSsnQuMkglW6RXhicFSbUFrtk8IgiQIgRwu2KtC0VDaqWA1vdbwKhl2eCQ_J1zGS_1Uu4wSzHiszu4HTv9NTyR5OS4l_EtILIFtUpDuQN-LGXoaJyqkiiPAlnr51w&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T11:57:30Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::mqtt::command::gateway_direct::version_1::ws_1

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T11:57:33Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T11:57:33Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T11:57:33Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T11:57:33Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T11:57:33Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T11:57:34Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T11:57:36Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T11:57:36Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T11:57:36Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T11:57:36Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T11:57:38Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk3NTcsImlhdCI6MTY1MDM2OTQ1NywiYXV0aF90aW1lIjoxNjUwMzY5NDU1LCJqdGkiOiI2Y2E3OTQ2Yy04OTIyLTRhZjYtODZhZS0xNzI5MWFkNDdkMWIiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJ5WmdRUGF5N2pMMXkxTmRRa1NIOVJnIiwic2Vzc2lvbl9zdGF0ZSI6IjAyNDc5M2ViLWM5NWUtNDhmYS04Yjc4LTAxYjVjNzg2MTUwZiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjAyNDc5M2ViLWM5NWUtNDhmYS04Yjc4LTAxYjVjNzg2MTUwZiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.Nt0tQr8HUIXDJYzYOIcQuN0IcQlxXeowRC9gdR7RjgQKusTNxcPMjRyPvVqQj2HrisDZdwxRNOATs5lkmejM8CXF_ANurTExqaeLz0-l9bmE7mBpukiu4rDh4qegEwyx1bBQxO-sQ624EP0qfPYGePKM81PCbLAByTKNzQSjxJ6EOrDsayuRGiC6KUXWfR9F7b6BfAZNVDmDZ-icYLmTHgZ7F-bRYrtTgUwnVqF5Y9--Y9AAjHOSdGe-GxTiHoXD0tRRo-oP983buZxGvGEcRBju3FO10R3TdL-3HW1kqfT-NQQ-Tb3Im6YJriBCfViEBYoyyHEvzWLrPdu3pDbzBg
[2022-04-19T11:57:38Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T11:57:38Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T11:57:38Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk3NTcsImlhdCI6MTY1MDM2OTQ1NywiYXV0aF90aW1lIjoxNjUwMzY5NDU1LCJqdGkiOiI2Y2E3OTQ2Yy04OTIyLTRhZjYtODZhZS0xNzI5MWFkNDdkMWIiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJ5WmdRUGF5N2pMMXkxTmRRa1NIOVJnIiwic2Vzc2lvbl9zdGF0ZSI6IjAyNDc5M2ViLWM5NWUtNDhmYS04Yjc4LTAxYjVjNzg2MTUwZiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjAyNDc5M2ViLWM5NWUtNDhmYS04Yjc4LTAxYjVjNzg2MTUwZiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.Nt0tQr8HUIXDJYzYOIcQuN0IcQlxXeowRC9gdR7RjgQKusTNxcPMjRyPvVqQj2HrisDZdwxRNOATs5lkmejM8CXF_ANurTExqaeLz0-l9bmE7mBpukiu4rDh4qegEwyx1bBQxO-sQ624EP0qfPYGePKM81PCbLAByTKNzQSjxJ6EOrDsayuRGiC6KUXWfR9F7b6BfAZNVDmDZ-icYLmTHgZ7F-bRYrtTgUwnVqF5Y9--Y9AAjHOSdGe-GxTiHoXD0tRRo-oP983buZxGvGEcRBju3FO10R3TdL-3HW1kqfT-NQQ-Tb3Im6YJriBCfViEBYoyyHEvzWLrPdu3pDbzBg&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T11:57:38Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::mqtt::command::gateway_direct::version_1::ws_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T11:57:40Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T11:57:40Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T11:57:40Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T11:57:40Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T11:57:40Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T11:57:41Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T11:57:43Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T11:57:43Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T11:57:43Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T11:57:43Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T11:57:45Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk3NjUsImlhdCI6MTY1MDM2OTQ2NSwiYXV0aF90aW1lIjoxNjUwMzY5NDYyLCJqdGkiOiJlZDE4NmFkNi03NjUzLTQ0MGUtOGM4MS1lZjMyZTc0MDMyZGQiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJIUGE2RTBfdkU5X09LM2YwQ2pWSWRBIiwic2Vzc2lvbl9zdGF0ZSI6IjgyYzA0MzZiLTVlMjctNDExNC1iMjIyLWM5YmE4ODUyYzYzYyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjgyYzA0MzZiLTVlMjctNDExNC1iMjIyLWM5YmE4ODUyYzYzYyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.nXCCloKSv9YVAVfefdVMt3Fm7JzNuqLhVecys4xVGt4B3ZgfgxY1hBH0Uqcvm2_7laqfFs9txqct8ZbbjBulCD01nRzYOCSjri9GI480ilmNz4XR90IVmh3Balj63NYy9A6-dp2uwi8MsH20fZT0jsljp1iw1AqA5PFAys_pDCoRLQeoGe2SIaHC9EifzCEp03BVd9k86rhkosz_YkP02kxBGAg4EBaK2MYmU6FkBSCpbu4iqz9nGNd4VNrHDPGLFnJ9zEylroIySjahmys_gC3TEKoVxbUpQ24cBu3xfQVcSkVIoTnHSJBeCBTQzqysfVKK1t41TsdfNg8kGHYyqw
[2022-04-19T11:57:45Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T11:57:45Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T11:57:45Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk3NjUsImlhdCI6MTY1MDM2OTQ2NSwiYXV0aF90aW1lIjoxNjUwMzY5NDYyLCJqdGkiOiJlZDE4NmFkNi03NjUzLTQ0MGUtOGM4MS1lZjMyZTc0MDMyZGQiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJIUGE2RTBfdkU5X09LM2YwQ2pWSWRBIiwic2Vzc2lvbl9zdGF0ZSI6IjgyYzA0MzZiLTVlMjctNDExNC1iMjIyLWM5YmE4ODUyYzYzYyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjgyYzA0MzZiLTVlMjctNDExNC1iMjIyLWM5YmE4ODUyYzYzYyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.nXCCloKSv9YVAVfefdVMt3Fm7JzNuqLhVecys4xVGt4B3ZgfgxY1hBH0Uqcvm2_7laqfFs9txqct8ZbbjBulCD01nRzYOCSjri9GI480ilmNz4XR90IVmh3Balj63NYy9A6-dp2uwi8MsH20fZT0jsljp1iw1AqA5PFAys_pDCoRLQeoGe2SIaHC9EifzCEp03BVd9k86rhkosz_YkP02kxBGAg4EBaK2MYmU6FkBSCpbu4iqz9nGNd4VNrHDPGLFnJ9zEylroIySjahmys_gC3TEKoVxbUpQ24cBu3xfQVcSkVIoTnHSJBeCBTQzqysfVKK1t41TsdfNg8kGHYyqw&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T11:57:45Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::mqtt::command::gateway_direct::version_2::ws_1

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T11:57:48Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T11:57:48Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T11:57:48Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T11:57:48Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T11:57:48Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T11:57:49Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T11:57:50Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T11:57:50Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T11:57:50Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T11:57:50Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T11:57:52Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk3NzIsImlhdCI6MTY1MDM2OTQ3MiwiYXV0aF90aW1lIjoxNjUwMzY5NDY5LCJqdGkiOiI3YWMzODBhNi00ZTY2LTRjYmEtYmZkMC1iYjNjMTFkOWUwY2YiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiI4bDNFc0Q5eXhOSHVfajdXYk0wbTd3Iiwic2Vzc2lvbl9zdGF0ZSI6ImZjYzdkYzM2LTAxYWMtNGM3My05ZWI1LTQ4NGQxMDE5ODk1OSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImZjYzdkYzM2LTAxYWMtNGM3My05ZWI1LTQ4NGQxMDE5ODk1OSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.I88IwmcAdqq5kmAO-qn4GBq6C84XyxuUr6P9rcuXy2IO-jftW_GYSBLczRzp-SJqt01l5ac0FDHAhkl_qCpYsstoJT5vXaE5WbDf_0BJgMmYcYkfChDPkQpMIetIG8lkkJLWe-bcVDvf65BdN4NOatUIDt4QKaLRuVT_uLdBDe-T4e6sg88Kd8ESS64k3GOFkAx6eX6U_FinI9wAELNA7MroAZHvwEqphlXDXunkoNtC-bmRDWEs9vF2EH2PUk0SdwB6cLfi3rYMDqsHuZdcQRfgTlqQhiEoGGQoRowo6lit7Q4HiH3bUh9nm_fAXMV38gkAHTlhbMAT_ZAoAhaabw
[2022-04-19T11:57:52Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T11:57:52Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T11:57:52Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk3NzIsImlhdCI6MTY1MDM2OTQ3MiwiYXV0aF90aW1lIjoxNjUwMzY5NDY5LCJqdGkiOiI3YWMzODBhNi00ZTY2LTRjYmEtYmZkMC1iYjNjMTFkOWUwY2YiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiI4bDNFc0Q5eXhOSHVfajdXYk0wbTd3Iiwic2Vzc2lvbl9zdGF0ZSI6ImZjYzdkYzM2LTAxYWMtNGM3My05ZWI1LTQ4NGQxMDE5ODk1OSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImZjYzdkYzM2LTAxYWMtNGM3My05ZWI1LTQ4NGQxMDE5ODk1OSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.I88IwmcAdqq5kmAO-qn4GBq6C84XyxuUr6P9rcuXy2IO-jftW_GYSBLczRzp-SJqt01l5ac0FDHAhkl_qCpYsstoJT5vXaE5WbDf_0BJgMmYcYkfChDPkQpMIetIG8lkkJLWe-bcVDvf65BdN4NOatUIDt4QKaLRuVT_uLdBDe-T4e6sg88Kd8ESS64k3GOFkAx6eX6U_FinI9wAELNA7MroAZHvwEqphlXDXunkoNtC-bmRDWEs9vF2EH2PUk0SdwB6cLfi3rYMDqsHuZdcQRfgTlqQhiEoGGQoRowo6lit7Q4HiH3bUh9nm_fAXMV38gkAHTlhbMAT_ZAoAhaabw&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T11:57:52Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::mqtt::command::gateway_direct::version_2::ws_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T11:57:55Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T11:57:55Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T11:57:55Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T11:57:55Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T11:57:55Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T11:57:56Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T11:57:57Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T11:57:57Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T11:57:57Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T11:57:57Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T11:57:59Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk3NzksImlhdCI6MTY1MDM2OTQ3OSwiYXV0aF90aW1lIjoxNjUwMzY5NDc2LCJqdGkiOiIwMTFlODUxZC1hNWRlLTQwM2ItOTllNy1kNTQxNjA0ZDFiZDAiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJzdk1SaUItdGg4MnlhUTZ4ZVZJdVN3Iiwic2Vzc2lvbl9zdGF0ZSI6IjE1YjFiOWRhLTQxNzUtNDM2Ny1hYWQ0LTExNzMzYmExZDUwMiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjE1YjFiOWRhLTQxNzUtNDM2Ny1hYWQ0LTExNzMzYmExZDUwMiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.FFLARTfoSsqX9efOgMQ6CDnHi_qQTb0YtVjKShGibAhNOXz8ZS5KpdmFenFArCPZxqGiwOPOkvbJ62X-4uTgT-2HJ0Kwg1a0VUTbk96SZIerrhdAEsOYsWi4BZ5w3lkcyvUiFjrxOmbLuSAB8IKZFhGUb-UZ8BnZz0sbMNdsndxP6ljhdff2pG-suhtD4Ya5F8o97HruAlDBGWTsmjwCVNZxv6rsPewjDuqgHef-aCnM0zs8g9XpCNPOUGzRIU0DtzEr_aLfNWf1Fkzank6fAtqG7A8hPt5-8DhROamhmjiGSh7ASl7khabl3VV2nWzvBkToKnaTGRDwzLi6yocElQ
[2022-04-19T11:57:59Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T11:57:59Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T11:57:59Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk3NzksImlhdCI6MTY1MDM2OTQ3OSwiYXV0aF90aW1lIjoxNjUwMzY5NDc2LCJqdGkiOiIwMTFlODUxZC1hNWRlLTQwM2ItOTllNy1kNTQxNjA0ZDFiZDAiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJzdk1SaUItdGg4MnlhUTZ4ZVZJdVN3Iiwic2Vzc2lvbl9zdGF0ZSI6IjE1YjFiOWRhLTQxNzUtNDM2Ny1hYWQ0LTExNzMzYmExZDUwMiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjE1YjFiOWRhLTQxNzUtNDM2Ny1hYWQ0LTExNzMzYmExZDUwMiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.FFLARTfoSsqX9efOgMQ6CDnHi_qQTb0YtVjKShGibAhNOXz8ZS5KpdmFenFArCPZxqGiwOPOkvbJ62X-4uTgT-2HJ0Kwg1a0VUTbk96SZIerrhdAEsOYsWi4BZ5w3lkcyvUiFjrxOmbLuSAB8IKZFhGUb-UZ8BnZz0sbMNdsndxP6ljhdff2pG-suhtD4Ya5F8o97HruAlDBGWTsmjwCVNZxv6rsPewjDuqgHef-aCnM0zs8g9XpCNPOUGzRIU0DtzEr_aLfNWf1Fkzank6fAtqG7A8hPt5-8DhROamhmjiGSh7ASl7khabl3VV2nWzvBkToKnaTGRDwzLi6yocElQ&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T11:57:59Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::mqtt::command::gateway_direct::version_3::ws_1

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T11:58:02Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T11:58:02Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T11:58:02Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T11:58:02Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T11:58:02Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T11:58:03Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T11:58:04Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T11:58:04Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T11:58:04Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T11:58:04Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T11:58:06Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk3ODYsImlhdCI6MTY1MDM2OTQ4NiwiYXV0aF90aW1lIjoxNjUwMzY5NDgzLCJqdGkiOiJhNGI4ZTFjYi0yYTU5LTRlNzAtYjNjNy03NDBiNGQ5ZjUzZTgiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJFODl4SlRUUm9mYW1LdkZVRGljNnd3Iiwic2Vzc2lvbl9zdGF0ZSI6ImY4NTY0NDViLWYyN2ItNGFiNy1hZTAwLTllOTAzYWZiMjczYiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImY4NTY0NDViLWYyN2ItNGFiNy1hZTAwLTllOTAzYWZiMjczYiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.HVPk810HxhLM4g-siS1bHGRWItTwc6uD3qTEANZEoAlsHQmBf08vwAGj0SG4ltrogoZocQ_2wyf2hltxCex7gT25ThgRMtToVdDYxeMBqq-FAFaajMmIGxRC_UDrB3pwIbQdwh0mN-unygC5H3Fljjv_pVbAzzFy6OCBZHgEpVbeVZ45xWXIan9BPpiXbB2v4BDbEwFsv9nPz2OLcKWrmThU0i1d6MIV74Mz1UBNBb00nR5N2cNsTbW2K-t80TgjzdBxbgKkxsE1p1hiHRzv1zF6JHJ8pn0R6339qmrG7ZOGABG8D1oxGMyLT9YrBBCz4GdHBK_dCdEnKEnHj6Zgcw
[2022-04-19T11:58:06Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T11:58:06Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T11:58:06Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk3ODYsImlhdCI6MTY1MDM2OTQ4NiwiYXV0aF90aW1lIjoxNjUwMzY5NDgzLCJqdGkiOiJhNGI4ZTFjYi0yYTU5LTRlNzAtYjNjNy03NDBiNGQ5ZjUzZTgiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJFODl4SlRUUm9mYW1LdkZVRGljNnd3Iiwic2Vzc2lvbl9zdGF0ZSI6ImY4NTY0NDViLWYyN2ItNGFiNy1hZTAwLTllOTAzYWZiMjczYiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImY4NTY0NDViLWYyN2ItNGFiNy1hZTAwLTllOTAzYWZiMjczYiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.HVPk810HxhLM4g-siS1bHGRWItTwc6uD3qTEANZEoAlsHQmBf08vwAGj0SG4ltrogoZocQ_2wyf2hltxCex7gT25ThgRMtToVdDYxeMBqq-FAFaajMmIGxRC_UDrB3pwIbQdwh0mN-unygC5H3Fljjv_pVbAzzFy6OCBZHgEpVbeVZ45xWXIan9BPpiXbB2v4BDbEwFsv9nPz2OLcKWrmThU0i1d6MIV74Mz1UBNBb00nR5N2cNsTbW2K-t80TgjzdBxbgKkxsE1p1hiHRzv1zF6JHJ8pn0R6339qmrG7ZOGABG8D1oxGMyLT9YrBBCz4GdHBK_dCdEnKEnHj6Zgcw&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T11:58:07Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::mqtt::command::gateway_direct::version_3::ws_2

**Duration**: 6s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T11:58:09Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T11:58:09Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T11:58:09Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T11:58:09Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T11:58:09Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T11:58:10Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T11:58:12Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T11:58:12Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T11:58:12Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T11:58:12Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T11:58:14Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk3OTMsImlhdCI6MTY1MDM2OTQ5MywiYXV0aF90aW1lIjoxNjUwMzY5NDkxLCJqdGkiOiIyMDVhOThiZi0zNWI1LTRjMGUtYjExZi03Y2E3ZWQ1OGY1YzAiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJNQUE4Z0pHOXFPaFhETGp2UkRhUVZ3Iiwic2Vzc2lvbl9zdGF0ZSI6IjA0ZGQ1ZmM2LWNjN2YtNGMwMi04NDgxLTc4MzI1MzhkMTRmMSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjA0ZGQ1ZmM2LWNjN2YtNGMwMi04NDgxLTc4MzI1MzhkMTRmMSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.ev1g-zB0slKJgILMxEVpZL2-saQdvPAnfZzNTzF9_lZ3Sgl7qe7TLzlY7I6raTsSHq9eX4oPmamrJZMnGNBRmo1GIshEaBJGUTb74Klazi8J3il9FhyTLd1N0mXmG8G2l3zO2M2zQiLggBh4LK5TDaEsaLbqwH8LksgI2nlpYgOprQPDAe6rr-mrmAhhvHzolQdC1aNJqwqjinfQi3kqnqQVgKAxGsoXg7k8u607NuGlWZZfMTkUI4moZwfeiivNE4uhEKi-vAiUM5Cny0dimtp9mRSU2-6Cu5wyG6sl6AqJmOvY3MMS1uXpKSNb6ZIhneIwwMcEBgtU-2RRFeY9FQ
[2022-04-19T11:58:14Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T11:58:14Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T11:58:14Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk3OTMsImlhdCI6MTY1MDM2OTQ5MywiYXV0aF90aW1lIjoxNjUwMzY5NDkxLCJqdGkiOiIyMDVhOThiZi0zNWI1LTRjMGUtYjExZi03Y2E3ZWQ1OGY1YzAiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJNQUE4Z0pHOXFPaFhETGp2UkRhUVZ3Iiwic2Vzc2lvbl9zdGF0ZSI6IjA0ZGQ1ZmM2LWNjN2YtNGMwMi04NDgxLTc4MzI1MzhkMTRmMSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjA0ZGQ1ZmM2LWNjN2YtNGMwMi04NDgxLTc4MzI1MzhkMTRmMSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.ev1g-zB0slKJgILMxEVpZL2-saQdvPAnfZzNTzF9_lZ3Sgl7qe7TLzlY7I6raTsSHq9eX4oPmamrJZMnGNBRmo1GIshEaBJGUTb74Klazi8J3il9FhyTLd1N0mXmG8G2l3zO2M2zQiLggBh4LK5TDaEsaLbqwH8LksgI2nlpYgOprQPDAe6rr-mrmAhhvHzolQdC1aNJqwqjinfQi3kqnqQVgKAxGsoXg7k8u607NuGlWZZfMTkUI4moZwfeiivNE4uhEKi-vAiUM5Cny0dimtp9mRSU2-6Cu5wyG6sl6AqJmOvY3MMS1uXpKSNb6ZIhneIwwMcEBgtU-2RRFeY9FQ&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T11:58:14Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::mqtt::command::simple::version_1::ws_1

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T11:58:16Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T11:58:16Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T11:58:16Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T11:58:16Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T11:58:16Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T11:58:17Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T11:58:19Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T11:58:19Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T11:58:19Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T11:58:19Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T11:58:21Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk4MDAsImlhdCI6MTY1MDM2OTUwMCwiYXV0aF90aW1lIjoxNjUwMzY5NDk4LCJqdGkiOiI2ZDBlN2IwNS0zNjc5LTQwNzAtOGQ1Mi1kMDU4MDc0ZDZkY2IiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJZT2NYcW1WRjVJT3hPRUlxdVB2c2FBIiwic2Vzc2lvbl9zdGF0ZSI6IjQ2MDg3YmRmLTU1NjUtNDgxYi05ZjQ2LTU0MTc5YjlmZWFjZCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjQ2MDg3YmRmLTU1NjUtNDgxYi05ZjQ2LTU0MTc5YjlmZWFjZCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.lUezp1p6pUPawk2dIzhWpQNhyOKU_iOuZhEYxvfNMfAaFy5Ooc981E6aXtASm5FcgjqFkj5vEStcq0w5ASEewKfDph8_2PdmCW6e3_uLvm-fviFxy5QP1Rf1o3n2V7dNI4Ug9bza1itNhQ_NRfN3MxHeHhW4_mS1FsqgI6WO6A_CkyPj9LYQpD_TsGMXAb5bRuvB70swg-c2jIZNNiZpnroAuP4nyxVMRcDu6XHN3MITPP17T-X0InD0nkMEyPEbBuJGsI8MdKFi4PWCBdAkGm-roHotFPhD0A45BYTp56Zke4x3z7laIyFRBEZjqfKJgWKU5HMZ_kUWLGj81sIBZg
[2022-04-19T11:58:21Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T11:58:21Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T11:58:21Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk4MDAsImlhdCI6MTY1MDM2OTUwMCwiYXV0aF90aW1lIjoxNjUwMzY5NDk4LCJqdGkiOiI2ZDBlN2IwNS0zNjc5LTQwNzAtOGQ1Mi1kMDU4MDc0ZDZkY2IiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJZT2NYcW1WRjVJT3hPRUlxdVB2c2FBIiwic2Vzc2lvbl9zdGF0ZSI6IjQ2MDg3YmRmLTU1NjUtNDgxYi05ZjQ2LTU0MTc5YjlmZWFjZCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjQ2MDg3YmRmLTU1NjUtNDgxYi05ZjQ2LTU0MTc5YjlmZWFjZCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.lUezp1p6pUPawk2dIzhWpQNhyOKU_iOuZhEYxvfNMfAaFy5Ooc981E6aXtASm5FcgjqFkj5vEStcq0w5ASEewKfDph8_2PdmCW6e3_uLvm-fviFxy5QP1Rf1o3n2V7dNI4Ug9bza1itNhQ_NRfN3MxHeHhW4_mS1FsqgI6WO6A_CkyPj9LYQpD_TsGMXAb5bRuvB70swg-c2jIZNNiZpnroAuP4nyxVMRcDu6XHN3MITPP17T-X0InD0nkMEyPEbBuJGsI8MdKFi4PWCBdAkGm-roHotFPhD0A45BYTp56Zke4x3z7laIyFRBEZjqfKJgWKU5HMZ_kUWLGj81sIBZg&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T11:58:21Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::mqtt::command::simple::version_1::ws_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T11:58:23Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T11:58:23Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T11:58:23Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T11:58:23Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T11:58:23Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T11:58:24Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T11:58:26Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T11:58:26Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T11:58:26Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T11:58:26Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T11:58:28Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk4MDgsImlhdCI6MTY1MDM2OTUwOCwiYXV0aF90aW1lIjoxNjUwMzY5NTA1LCJqdGkiOiJjYjIwMDg1Zi1iYTIzLTQ1MDUtOWY3ZS0wOTkxZTBiMWE4OTAiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJJOHFNNHJxR2tCMVM2cllfMnRWSGFBIiwic2Vzc2lvbl9zdGF0ZSI6Ijc0MGYxZDQwLWZhMzYtNDMzNi05MjQyLWEzOTgxNDRjZWRkOSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6Ijc0MGYxZDQwLWZhMzYtNDMzNi05MjQyLWEzOTgxNDRjZWRkOSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.Mbl7ZPR20nRzIwNx163EC0qE9zDXBvgMQXPGswg4ZBWfWUi2zGq4ZoNADq7yK7OxxJfPLED_W3HE3cArr24p7gdu8M0ata-GiZG3WRoOyW9doBsF7vmazy6e3wOdGl8sKW9zrKtbZNHBrndPCklumJfx6iZAT1hzb8naStl5JtWZiO9P7nvN8zoyuDsXWm94OTNrBbJlJDFh5JFTsp7fAmU_mFE_zmZymn06ArRd7VLJYWus5pTAMCzdIzX6zUo2OT5m25DKaG72WqsN8IOb5TRwuWmgaauqwTUl6Y7w0VJ7qN8tCWK58tdY__92D0TLw2A2oRIUUGeQMhDn3jyb0w
[2022-04-19T11:58:28Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T11:58:28Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T11:58:28Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk4MDgsImlhdCI6MTY1MDM2OTUwOCwiYXV0aF90aW1lIjoxNjUwMzY5NTA1LCJqdGkiOiJjYjIwMDg1Zi1iYTIzLTQ1MDUtOWY3ZS0wOTkxZTBiMWE4OTAiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJJOHFNNHJxR2tCMVM2cllfMnRWSGFBIiwic2Vzc2lvbl9zdGF0ZSI6Ijc0MGYxZDQwLWZhMzYtNDMzNi05MjQyLWEzOTgxNDRjZWRkOSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6Ijc0MGYxZDQwLWZhMzYtNDMzNi05MjQyLWEzOTgxNDRjZWRkOSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.Mbl7ZPR20nRzIwNx163EC0qE9zDXBvgMQXPGswg4ZBWfWUi2zGq4ZoNADq7yK7OxxJfPLED_W3HE3cArr24p7gdu8M0ata-GiZG3WRoOyW9doBsF7vmazy6e3wOdGl8sKW9zrKtbZNHBrndPCklumJfx6iZAT1hzb8naStl5JtWZiO9P7nvN8zoyuDsXWm94OTNrBbJlJDFh5JFTsp7fAmU_mFE_zmZymn06ArRd7VLJYWus5pTAMCzdIzX6zUo2OT5m25DKaG72WqsN8IOb5TRwuWmgaauqwTUl6Y7w0VJ7qN8tCWK58tdY__92D0TLw2A2oRIUUGeQMhDn3jyb0w&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T11:58:28Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::mqtt::command::simple::version_2::ws_1

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T11:58:31Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T11:58:31Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T11:58:31Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T11:58:31Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T11:58:31Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T11:58:32Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T11:58:33Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T11:58:33Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T11:58:33Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T11:58:33Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T11:58:35Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk4MTUsImlhdCI6MTY1MDM2OTUxNSwiYXV0aF90aW1lIjoxNjUwMzY5NTEyLCJqdGkiOiJhZDg0Y2EzNC0wZDg2LTQyZDktYWNjYS1hYjMzMGE4ZWMyNWYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiI0OGp2UzVQWVNHbEpWRmNjeE1qR1BRIiwic2Vzc2lvbl9zdGF0ZSI6IjNhMDExNGQ2LWJmOGEtNGE2Yy05MWZjLTYwNzU5ZGRhOWMyYiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjNhMDExNGQ2LWJmOGEtNGE2Yy05MWZjLTYwNzU5ZGRhOWMyYiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.mz_xD5hsxLb9kT7qJJd-N3SNwLmP10aj2TUJR2GXtfjxq2pMYEmPXz3wpojcjBfos_OSawveu9YPgqiGO6kjWY8nUCo-t6Rcdt0VUB914_XsmA_24DB5w7ee7sN-UmJ9E_xP9CvAaDDHY_IuxWBTPQIdjOV_k3j1XO-HvIDGiZI-xyMQIjsSrJAiT4YTI9_mNXrh-qtSpWCR06JYaef1tXT40SHnKpyr-HqPb-3NT9XZjKaryTYLphuKVddZiHiinBlGHi-V48u9Z19zzBPS0FST4uIOs8SZ5pI-JtHw5w5g0AWpY93u4Q5iThx4JEmQCcQDHRmtoiczX7SGH8Wbvg
[2022-04-19T11:58:35Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T11:58:35Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T11:58:35Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk4MTUsImlhdCI6MTY1MDM2OTUxNSwiYXV0aF90aW1lIjoxNjUwMzY5NTEyLCJqdGkiOiJhZDg0Y2EzNC0wZDg2LTQyZDktYWNjYS1hYjMzMGE4ZWMyNWYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiI0OGp2UzVQWVNHbEpWRmNjeE1qR1BRIiwic2Vzc2lvbl9zdGF0ZSI6IjNhMDExNGQ2LWJmOGEtNGE2Yy05MWZjLTYwNzU5ZGRhOWMyYiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjNhMDExNGQ2LWJmOGEtNGE2Yy05MWZjLTYwNzU5ZGRhOWMyYiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.mz_xD5hsxLb9kT7qJJd-N3SNwLmP10aj2TUJR2GXtfjxq2pMYEmPXz3wpojcjBfos_OSawveu9YPgqiGO6kjWY8nUCo-t6Rcdt0VUB914_XsmA_24DB5w7ee7sN-UmJ9E_xP9CvAaDDHY_IuxWBTPQIdjOV_k3j1XO-HvIDGiZI-xyMQIjsSrJAiT4YTI9_mNXrh-qtSpWCR06JYaef1tXT40SHnKpyr-HqPb-3NT9XZjKaryTYLphuKVddZiHiinBlGHi-V48u9Z19zzBPS0FST4uIOs8SZ5pI-JtHw5w5g0AWpY93u4Q5iThx4JEmQCcQDHRmtoiczX7SGH8Wbvg&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T11:58:35Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::mqtt::command::simple::version_2::ws_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T11:58:38Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T11:58:38Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T11:58:38Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T11:58:38Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T11:58:38Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T11:58:39Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T11:58:40Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T11:58:40Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T11:58:40Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T11:58:40Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T11:58:43Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk4MjIsImlhdCI6MTY1MDM2OTUyMiwiYXV0aF90aW1lIjoxNjUwMzY5NTIwLCJqdGkiOiI1MTA2N2NmZi02MGFjLTRhZDctOTdjMC1mMTM0YzdmMGU5MWYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJhMmtGV2NrYm5kMjVzYklPV2dyVUFRIiwic2Vzc2lvbl9zdGF0ZSI6ImM3ZGVkNDA3LTJmNjItNGMzNy1hYjliLWEyYWU5OTdmYjUyMiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImM3ZGVkNDA3LTJmNjItNGMzNy1hYjliLWEyYWU5OTdmYjUyMiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.Qd9hWuaS6w0tqByZtIeSVvuhs1L6jZg-3uMe1rHnYM81zk1iymeEOaNa7Kb3qCJllwM_orANiO1Fs56r0ke-rHCTQtp9kDvM-fqRTUoOkTJ0YcPkPwih5RU_e_DW0qFHMLzXgLsLt0LLsKzEF6TmmXCy7eZ0CbERdfeEZAEyFtBaCTsIbWECXnN0l3UDYRJGC1XvHZE6jjs_RQ_xtRzpK8VoSrlcFZhMeki33aiT46jcbchFo1nc4ynewbN1yekXcFIALNzG9CRsk8jG2lqeg2BvNV8_FbhcS85uMamfaxzjS3cPgnt4jsg83awNJXx_c5698G0ojJdfdIK96TGT-g
[2022-04-19T11:58:43Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T11:58:43Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T11:58:43Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk4MjIsImlhdCI6MTY1MDM2OTUyMiwiYXV0aF90aW1lIjoxNjUwMzY5NTIwLCJqdGkiOiI1MTA2N2NmZi02MGFjLTRhZDctOTdjMC1mMTM0YzdmMGU5MWYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJhMmtGV2NrYm5kMjVzYklPV2dyVUFRIiwic2Vzc2lvbl9zdGF0ZSI6ImM3ZGVkNDA3LTJmNjItNGMzNy1hYjliLWEyYWU5OTdmYjUyMiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImM3ZGVkNDA3LTJmNjItNGMzNy1hYjliLWEyYWU5OTdmYjUyMiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.Qd9hWuaS6w0tqByZtIeSVvuhs1L6jZg-3uMe1rHnYM81zk1iymeEOaNa7Kb3qCJllwM_orANiO1Fs56r0ke-rHCTQtp9kDvM-fqRTUoOkTJ0YcPkPwih5RU_e_DW0qFHMLzXgLsLt0LLsKzEF6TmmXCy7eZ0CbERdfeEZAEyFtBaCTsIbWECXnN0l3UDYRJGC1XvHZE6jjs_RQ_xtRzpK8VoSrlcFZhMeki33aiT46jcbchFo1nc4ynewbN1yekXcFIALNzG9CRsk8jG2lqeg2BvNV8_FbhcS85uMamfaxzjS3cPgnt4jsg83awNJXx_c5698G0ojJdfdIK96TGT-g&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T11:58:43Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::mqtt::command::simple::version_3::ws_1

**Duration**: 6s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T11:58:45Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T11:58:45Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T11:58:45Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T11:58:45Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T11:58:45Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T11:58:46Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T11:58:48Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T11:58:48Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T11:58:48Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T11:58:48Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T11:58:50Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk4MzAsImlhdCI6MTY1MDM2OTUzMCwiYXV0aF90aW1lIjoxNjUwMzY5NTI3LCJqdGkiOiI0MGU0NmZiMC0xNjEwLTRkNDMtYWE0Yi1hMWIxZDMzYjFlMzYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiI1b2loVlRQM19UdHFQOVdMMi1MM0R3Iiwic2Vzc2lvbl9zdGF0ZSI6IjUyYzAyOTg3LTdiNjgtNDczMC1hNGQ4LTVjZjFhNjA4OWVjNiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjUyYzAyOTg3LTdiNjgtNDczMC1hNGQ4LTVjZjFhNjA4OWVjNiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.EMgDgI14l67uWkUw5kPWe6Kw6A-pr-KUMAqUj9erxLoRW_ummFc7MGhOr4ddsoxed_ecvFD3k-s9kCtCO_D9gVYX-E83Tvo9LzsBCDpjXLhrj4SwXIcKIAaXEjWm_p_hIZXTYex71kuZMJsMv6_ejNKJvByl0DX7KwNE47JPVQlebH4WfK8tD7-Y86Up5AXwqJXf7nswpTBs3YWr3O0GyZqk9vQ0swN6eI5Wl79_qLVpPcKinDxfFTGjMmEdekn-ZJ7I_A6KON86bSyCepNOXC8jTsILOF6fznGU_gVSr30GPiElYoszRoGX3uJO6bqUqauQzBe2BxYDmyM3ut3GUQ
[2022-04-19T11:58:50Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T11:58:50Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T11:58:50Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk4MzAsImlhdCI6MTY1MDM2OTUzMCwiYXV0aF90aW1lIjoxNjUwMzY5NTI3LCJqdGkiOiI0MGU0NmZiMC0xNjEwLTRkNDMtYWE0Yi1hMWIxZDMzYjFlMzYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiI1b2loVlRQM19UdHFQOVdMMi1MM0R3Iiwic2Vzc2lvbl9zdGF0ZSI6IjUyYzAyOTg3LTdiNjgtNDczMC1hNGQ4LTVjZjFhNjA4OWVjNiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjUyYzAyOTg3LTdiNjgtNDczMC1hNGQ4LTVjZjFhNjA4OWVjNiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.EMgDgI14l67uWkUw5kPWe6Kw6A-pr-KUMAqUj9erxLoRW_ummFc7MGhOr4ddsoxed_ecvFD3k-s9kCtCO_D9gVYX-E83Tvo9LzsBCDpjXLhrj4SwXIcKIAaXEjWm_p_hIZXTYex71kuZMJsMv6_ejNKJvByl0DX7KwNE47JPVQlebH4WfK8tD7-Y86Up5AXwqJXf7nswpTBs3YWr3O0GyZqk9vQ0swN6eI5Wl79_qLVpPcKinDxfFTGjMmEdekn-ZJ7I_A6KON86bSyCepNOXC8jTsILOF6fznGU_gVSr30GPiElYoszRoGX3uJO6bqUqauQzBe2BxYDmyM3ut3GUQ&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T11:58:50Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::mqtt::command::simple::version_3::ws_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T11:58:52Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T11:58:52Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T11:58:52Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T11:58:52Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T11:58:52Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T11:58:53Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T11:58:55Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T11:58:55Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T11:58:55Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T11:58:55Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T11:58:57Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk4MzcsImlhdCI6MTY1MDM2OTUzNywiYXV0aF90aW1lIjoxNjUwMzY5NTM0LCJqdGkiOiIyMTljY2FkZS1hMGEyLTQ1ZDYtOWEyZC0yMTY1NzczN2EwZjIiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiIyenhwQW15aG5tcHVwa2hDN29YMHlRIiwic2Vzc2lvbl9zdGF0ZSI6Ijk1Zjk1ZWU5LWI3YzQtNGFhYS05YTg1LWIyYThmNjkxNjg5MiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6Ijk1Zjk1ZWU5LWI3YzQtNGFhYS05YTg1LWIyYThmNjkxNjg5MiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.gSUvTBDvylUO14HraLiE9bWcP78n61IwTYIu2hitsR43fL5nZbWruT1oLNlfmzVQcK80hgwpSryTx6MhURI3EEI8QESnEziXfmi9qLrh0rinOdyvscJH4Li8TGSQ6lYk45wPVmaCol5hGYQjZIHnkyp4uONOzHZbosx13n0-oiNsjpbMxmCzw7iYSkgq_HegM70WGXl8_kQeA2EtBFET01hi5Nk6EAS568Gwb4Bl1Zq2dk0_GKVNYp-yjydw0_YnG12LaASVIwNCu47sswvbdLJptcNONIP7mJUdU_txOOqr8mxQbCennSoEo3jitHYZHUsVEGsjDC3hvDTzrxDOBg
[2022-04-19T11:58:57Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T11:58:57Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T11:58:57Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk4MzcsImlhdCI6MTY1MDM2OTUzNywiYXV0aF90aW1lIjoxNjUwMzY5NTM0LCJqdGkiOiIyMTljY2FkZS1hMGEyLTQ1ZDYtOWEyZC0yMTY1NzczN2EwZjIiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiIyenhwQW15aG5tcHVwa2hDN29YMHlRIiwic2Vzc2lvbl9zdGF0ZSI6Ijk1Zjk1ZWU5LWI3YzQtNGFhYS05YTg1LWIyYThmNjkxNjg5MiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6Ijk1Zjk1ZWU5LWI3YzQtNGFhYS05YTg1LWIyYThmNjkxNjg5MiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.gSUvTBDvylUO14HraLiE9bWcP78n61IwTYIu2hitsR43fL5nZbWruT1oLNlfmzVQcK80hgwpSryTx6MhURI3EEI8QESnEziXfmi9qLrh0rinOdyvscJH4Li8TGSQ6lYk45wPVmaCol5hGYQjZIHnkyp4uONOzHZbosx13n0-oiNsjpbMxmCzw7iYSkgq_HegM70WGXl8_kQeA2EtBFET01hi5Nk6EAS568Gwb4Bl1Zq2dk0_GKVNYp-yjydw0_YnG12LaASVIwNCu47sswvbdLJptcNONIP7mJUdU_txOOqr8mxQbCennSoEo3jitHYZHUsVEGsjDC3hvDTzrxDOBg&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T11:58:57Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::mqtt::command::simple_direct::version_1::ws_1

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T11:58:59Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T11:58:59Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T11:59:00Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T11:59:00Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T11:59:00Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T11:59:01Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T11:59:02Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T11:59:02Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T11:59:02Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T11:59:02Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T11:59:04Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk4NDQsImlhdCI6MTY1MDM2OTU0NCwiYXV0aF90aW1lIjoxNjUwMzY5NTQxLCJqdGkiOiIwYjNhYjBmMi1lYjAxLTQ2OWItOTZjMi0zNTU5ZjYwNTdiZDYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJtbGFFbURqWXpfQmdHX2VQYjJFVkhRIiwic2Vzc2lvbl9zdGF0ZSI6Ijc2N2QwMTQwLTlhZDItNDZmZS04NDYxLTNmMzk0NWYzYzg1YSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6Ijc2N2QwMTQwLTlhZDItNDZmZS04NDYxLTNmMzk0NWYzYzg1YSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.FveA_h15eguAKZn7bQN7dL3ZgLGtSEloqbiNAZV2QQ00UyMrmWrkFcspTCugNXmk1jYAyyiklw8VtfAGfJZCjQU9yC34mqoSubGkhYJQuq3Xjcju7aRWYnpE6Hox146UurapHUhjFgJ73W5zvuc2v2wgpAX_GhAWi5XEkedGU7SNO0W7JTaEzr6dcdbX8hdqdVE9bNszpJgXL6PjHgo8e2lgQbx-aRMHy_-6Pl_JR5YiHv7f2q5B0J-60x5v3sMUHKitXIYHckG2jMp2F4kbHRQYd8J1k5aboYENGiGEdQ3q2ys_XNheJUmrF9be_Z8-Sauptry2ydz6EQdoCtGwlQ
[2022-04-19T11:59:04Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T11:59:04Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T11:59:04Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk4NDQsImlhdCI6MTY1MDM2OTU0NCwiYXV0aF90aW1lIjoxNjUwMzY5NTQxLCJqdGkiOiIwYjNhYjBmMi1lYjAxLTQ2OWItOTZjMi0zNTU5ZjYwNTdiZDYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJtbGFFbURqWXpfQmdHX2VQYjJFVkhRIiwic2Vzc2lvbl9zdGF0ZSI6Ijc2N2QwMTQwLTlhZDItNDZmZS04NDYxLTNmMzk0NWYzYzg1YSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6Ijc2N2QwMTQwLTlhZDItNDZmZS04NDYxLTNmMzk0NWYzYzg1YSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.FveA_h15eguAKZn7bQN7dL3ZgLGtSEloqbiNAZV2QQ00UyMrmWrkFcspTCugNXmk1jYAyyiklw8VtfAGfJZCjQU9yC34mqoSubGkhYJQuq3Xjcju7aRWYnpE6Hox146UurapHUhjFgJ73W5zvuc2v2wgpAX_GhAWi5XEkedGU7SNO0W7JTaEzr6dcdbX8hdqdVE9bNszpJgXL6PjHgo8e2lgQbx-aRMHy_-6Pl_JR5YiHv7f2q5B0J-60x5v3sMUHKitXIYHckG2jMp2F4kbHRQYd8J1k5aboYENGiGEdQ3q2ys_XNheJUmrF9be_Z8-Sauptry2ydz6EQdoCtGwlQ&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T11:59:04Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::mqtt::command::simple_direct::version_1::ws_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T11:59:07Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T11:59:07Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T11:59:07Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T11:59:07Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T11:59:07Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T11:59:08Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T11:59:10Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T11:59:10Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T11:59:10Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T11:59:10Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T11:59:12Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk4NTIsImlhdCI6MTY1MDM2OTU1MiwiYXV0aF90aW1lIjoxNjUwMzY5NTQ5LCJqdGkiOiJkOTlhNjJiMS05MDBlLTRjMDQtODAzMS1kNDUwOWJkMzJiMmMiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiIydGdZYVBCbzBaMG5tZnRoOVV6LVRBIiwic2Vzc2lvbl9zdGF0ZSI6IjI5YmYwZmY5LWMzM2MtNGVhZi1hMTlhLWEzYWZjYTc5NDRkYSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjI5YmYwZmY5LWMzM2MtNGVhZi1hMTlhLWEzYWZjYTc5NDRkYSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.TxVjlTEZZvrBEfKvTeTsiW9CbdIBIlXtsaQ0M2MR4zcqTwuSG-0xwGqlH9a_2vkrqL7OQ3FXHxSwCKhT5tQxAGdckNrkHx8d2f48LDTh8-i39iuu8LaEoRay8xFFlMlbnVmYcP8fyIog-pm8XyfvEF7jPcTz51TibuYGH6Y4v3QUKbOzPTrVAQmE30jPiRG7N57qS7UJGXU2w0tm6fYyWVIlRw3Brrx_ebgg8UbpMyIcbqXocyh3dUyNiTSYm2n-YuzI_RQgRndnjnyh8JIAwVS1JoWDIfq4cGx3tlU5ZcOdPkBbubqexCFoizYwYooh9P_3rtNpV6xbrYkBejJ3KQ
[2022-04-19T11:59:12Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T11:59:12Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T11:59:12Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk4NTIsImlhdCI6MTY1MDM2OTU1MiwiYXV0aF90aW1lIjoxNjUwMzY5NTQ5LCJqdGkiOiJkOTlhNjJiMS05MDBlLTRjMDQtODAzMS1kNDUwOWJkMzJiMmMiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiIydGdZYVBCbzBaMG5tZnRoOVV6LVRBIiwic2Vzc2lvbl9zdGF0ZSI6IjI5YmYwZmY5LWMzM2MtNGVhZi1hMTlhLWEzYWZjYTc5NDRkYSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjI5YmYwZmY5LWMzM2MtNGVhZi1hMTlhLWEzYWZjYTc5NDRkYSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.TxVjlTEZZvrBEfKvTeTsiW9CbdIBIlXtsaQ0M2MR4zcqTwuSG-0xwGqlH9a_2vkrqL7OQ3FXHxSwCKhT5tQxAGdckNrkHx8d2f48LDTh8-i39iuu8LaEoRay8xFFlMlbnVmYcP8fyIog-pm8XyfvEF7jPcTz51TibuYGH6Y4v3QUKbOzPTrVAQmE30jPiRG7N57qS7UJGXU2w0tm6fYyWVIlRw3Brrx_ebgg8UbpMyIcbqXocyh3dUyNiTSYm2n-YuzI_RQgRndnjnyh8JIAwVS1JoWDIfq4cGx3tlU5ZcOdPkBbubqexCFoizYwYooh9P_3rtNpV6xbrYkBejJ3KQ&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T11:59:12Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::mqtt::command::simple_direct::version_2::ws_1

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T11:59:14Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T11:59:14Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T11:59:14Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T11:59:14Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T11:59:14Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T11:59:16Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T11:59:17Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T11:59:17Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T11:59:17Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T11:59:17Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T11:59:19Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk4NTksImlhdCI6MTY1MDM2OTU1OSwiYXV0aF90aW1lIjoxNjUwMzY5NTU2LCJqdGkiOiJjZmM5MjFkYy05ZDQwLTQzODAtYTg1Yi02ZTBlM2YxY2UwOGMiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJsMThWZmt4dUp2R3Y5andJc0tHYlpBIiwic2Vzc2lvbl9zdGF0ZSI6ImYyZmE2ZGZlLTc2YjYtNGFhMy1iOTUzLThkMTQ0YjkzZmIzNiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImYyZmE2ZGZlLTc2YjYtNGFhMy1iOTUzLThkMTQ0YjkzZmIzNiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.nxLHSkQTrOumrIgdg0yIO6qS0JiqpYFyi2OQVWsVxCAghRWMTo4v44VZ2gIiml3RQ-uaxj2OTw0OWbiCmpagfGgnzthGDQ6pBhapm7e7gkxVgnHLLKRIvPMPP10OSHg_J2JOyDBNFuMFxJWP9Y7mKT-3TkZ9B56D2EaU30toL0545TWB1LMqCsw8cY5AeLHLBSSeHYFsKPRqiignasS1_pbRhqzpsYInWiTBPET8ypngLIo07h8hmASEF0x7IxVaFtBCyghMrFlUHz8-Q-QgoSIEBQrCP3cL-OCk6Utnm-tep7DUwjjgTjEvEuNVEzzPtBRzVBtBj9k9TECYXJK17Q
[2022-04-19T11:59:19Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T11:59:19Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T11:59:19Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk4NTksImlhdCI6MTY1MDM2OTU1OSwiYXV0aF90aW1lIjoxNjUwMzY5NTU2LCJqdGkiOiJjZmM5MjFkYy05ZDQwLTQzODAtYTg1Yi02ZTBlM2YxY2UwOGMiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJsMThWZmt4dUp2R3Y5andJc0tHYlpBIiwic2Vzc2lvbl9zdGF0ZSI6ImYyZmE2ZGZlLTc2YjYtNGFhMy1iOTUzLThkMTQ0YjkzZmIzNiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImYyZmE2ZGZlLTc2YjYtNGFhMy1iOTUzLThkMTQ0YjkzZmIzNiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.nxLHSkQTrOumrIgdg0yIO6qS0JiqpYFyi2OQVWsVxCAghRWMTo4v44VZ2gIiml3RQ-uaxj2OTw0OWbiCmpagfGgnzthGDQ6pBhapm7e7gkxVgnHLLKRIvPMPP10OSHg_J2JOyDBNFuMFxJWP9Y7mKT-3TkZ9B56D2EaU30toL0545TWB1LMqCsw8cY5AeLHLBSSeHYFsKPRqiignasS1_pbRhqzpsYInWiTBPET8ypngLIo07h8hmASEF0x7IxVaFtBCyghMrFlUHz8-Q-QgoSIEBQrCP3cL-OCk6Utnm-tep7DUwjjgTjEvEuNVEzzPtBRzVBtBj9k9TECYXJK17Q&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T11:59:19Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::mqtt::command::simple_direct::version_2::ws_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T11:59:22Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T11:59:22Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T11:59:22Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T11:59:22Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T11:59:22Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T11:59:23Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T11:59:25Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T11:59:25Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T11:59:25Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T11:59:25Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T11:59:27Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk4NjcsImlhdCI6MTY1MDM2OTU2NywiYXV0aF90aW1lIjoxNjUwMzY5NTY0LCJqdGkiOiI3MDIyZDY2NC03NDdhLTQ2YjctYjBlOS0yMWMzNmRkNzAwMTEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiIwRnlzb3ZIbmowa1o1Y2YxVEdLTG13Iiwic2Vzc2lvbl9zdGF0ZSI6IjU1YmE0NGU4LTU2NTMtNGE1Mi1hNzE1LWZmODM4ZjNiN2I0ZSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjU1YmE0NGU4LTU2NTMtNGE1Mi1hNzE1LWZmODM4ZjNiN2I0ZSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.nXPO_ABIdpWs9WxqUzGnoQf7JEdBxDT2NDx1oWizeh8pKmmLSFguMLUMFl7MeUE3ONbEWo1MqptzpXUzB0wVikIbs3346bjkxFa_PW-mN8zj2BPBOOOLzvEC3Za0NM71G93y_Wjj1FY-8T1uLAaHcCV9SJtK0IUi1yZDrfV6CbRoeaXe-iF-vOUPUTU1fD7PIakn-8VaESda4areTXrthZivUgho_qTf-UuQBt8PqyUsO3yODctPDTdSbLBqvlz1T5FoEouoLAQm5QiYnUeBPeToM0bC716uvl7Uwr1zw3a67WidpDuJGqDYfbeBm728Upsvf_qeeJ1kzUns1R916g
[2022-04-19T11:59:27Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T11:59:27Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T11:59:27Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk4NjcsImlhdCI6MTY1MDM2OTU2NywiYXV0aF90aW1lIjoxNjUwMzY5NTY0LCJqdGkiOiI3MDIyZDY2NC03NDdhLTQ2YjctYjBlOS0yMWMzNmRkNzAwMTEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiIwRnlzb3ZIbmowa1o1Y2YxVEdLTG13Iiwic2Vzc2lvbl9zdGF0ZSI6IjU1YmE0NGU4LTU2NTMtNGE1Mi1hNzE1LWZmODM4ZjNiN2I0ZSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjU1YmE0NGU4LTU2NTMtNGE1Mi1hNzE1LWZmODM4ZjNiN2I0ZSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.nXPO_ABIdpWs9WxqUzGnoQf7JEdBxDT2NDx1oWizeh8pKmmLSFguMLUMFl7MeUE3ONbEWo1MqptzpXUzB0wVikIbs3346bjkxFa_PW-mN8zj2BPBOOOLzvEC3Za0NM71G93y_Wjj1FY-8T1uLAaHcCV9SJtK0IUi1yZDrfV6CbRoeaXe-iF-vOUPUTU1fD7PIakn-8VaESda4areTXrthZivUgho_qTf-UuQBt8PqyUsO3yODctPDTdSbLBqvlz1T5FoEouoLAQm5QiYnUeBPeToM0bC716uvl7Uwr1zw3a67WidpDuJGqDYfbeBm728Upsvf_qeeJ1kzUns1R916g&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T11:59:27Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::mqtt::command::simple_direct::version_3::ws_1

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T11:59:29Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T11:59:29Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T11:59:29Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T11:59:29Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T11:59:29Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T11:59:31Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T11:59:32Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T11:59:32Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T11:59:32Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T11:59:32Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T11:59:34Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk4NzQsImlhdCI6MTY1MDM2OTU3NCwiYXV0aF90aW1lIjoxNjUwMzY5NTcxLCJqdGkiOiJkYjUwNDFiNC1lY2FhLTQ3OWEtOTVlMy02NGY2ZGY2ZWU3N2MiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJuWFFPUUE4TUJJYUlJWEtfOF9uX3Z3Iiwic2Vzc2lvbl9zdGF0ZSI6ImM1ZmJhOWI5LTViYjUtNGFkZS1iZDNjLWUyN2Q1YmRmZTNhMCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImM1ZmJhOWI5LTViYjUtNGFkZS1iZDNjLWUyN2Q1YmRmZTNhMCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.Ic1UbBEKJ8D6i9qx6NYU80PyNsISUjK3vS-rR5ntEEUurWsfT8G5PRNPyzFLz10EPHjB7_YRKu0rUXxspWYyp_C7tQ_QRWjdWtHp8k37lKRSwXaRqtqB7TnHVlyfXnDMWSl3-k4C0pMemU11Lz64NOR-zhM8w8nYWDn26WWhSApEZqiG8TnEzF_oXnLBf7E5fX6y5skKV6x7T5TmE6UPZVB1_pqb-ThFd8CMQbkjnV4ih3SDHtXMFI1MY3nBW3Xw6y4bwNAbVXRmGOPeEqoBaDiAUwJwT2O8jcW3F4RxYVHeZ6B0b5t6AcxUV4fRTcG5iAkN_XVFWxYUtY79nHt0Cw
[2022-04-19T11:59:34Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T11:59:34Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T11:59:34Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk4NzQsImlhdCI6MTY1MDM2OTU3NCwiYXV0aF90aW1lIjoxNjUwMzY5NTcxLCJqdGkiOiJkYjUwNDFiNC1lY2FhLTQ3OWEtOTVlMy02NGY2ZGY2ZWU3N2MiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJuWFFPUUE4TUJJYUlJWEtfOF9uX3Z3Iiwic2Vzc2lvbl9zdGF0ZSI6ImM1ZmJhOWI5LTViYjUtNGFkZS1iZDNjLWUyN2Q1YmRmZTNhMCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImM1ZmJhOWI5LTViYjUtNGFkZS1iZDNjLWUyN2Q1YmRmZTNhMCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.Ic1UbBEKJ8D6i9qx6NYU80PyNsISUjK3vS-rR5ntEEUurWsfT8G5PRNPyzFLz10EPHjB7_YRKu0rUXxspWYyp_C7tQ_QRWjdWtHp8k37lKRSwXaRqtqB7TnHVlyfXnDMWSl3-k4C0pMemU11Lz64NOR-zhM8w8nYWDn26WWhSApEZqiG8TnEzF_oXnLBf7E5fX6y5skKV6x7T5TmE6UPZVB1_pqb-ThFd8CMQbkjnV4ih3SDHtXMFI1MY3nBW3Xw6y4bwNAbVXRmGOPeEqoBaDiAUwJwT2O8jcW3F4RxYVHeZ6B0b5t6AcxUV4fRTcG5iAkN_XVFWxYUtY79nHt0Cw&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T11:59:34Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::mqtt::command::simple_direct::version_3::ws_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T11:59:37Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T11:59:37Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T11:59:37Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T11:59:37Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T11:59:37Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T11:59:38Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T11:59:39Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T11:59:39Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T11:59:39Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T11:59:39Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T11:59:41Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk4ODEsImlhdCI6MTY1MDM2OTU4MSwiYXV0aF90aW1lIjoxNjUwMzY5NTc4LCJqdGkiOiI2ZTNlYmY2Zi02MWU5LTRlZDEtOTRjOS1mZGNlMDRjMGI5ZGYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiIycmxGTWlfRFZBVnhYel9aUm9kUzRnIiwic2Vzc2lvbl9zdGF0ZSI6IjZjZDQ1NzNhLTQyODAtNDEyOS1hYmY5LTE1NDFmZGYwYjA5MCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjZjZDQ1NzNhLTQyODAtNDEyOS1hYmY5LTE1NDFmZGYwYjA5MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.Ss0T1ObItpqS91QiVK8zKqs6hD1dqT-H4S8ukikwWQ9cIdgEJYEi8eweoAIu7WhsAjVyy2-Va1OqKS-LWiV2ga0GecpNLebz_tnjXjkhrbu2LYCk7efnP2aqKU4dzgfsyNbDePFX_PPehmnMXc8kGQIBqrk1J75H0bCPpUxj0o9u1MC2wgDDfNblZmEV5gVgE-PcwB0Car21Ppb_xc6IVvFOmRul4F7VVoJYS0Cxr84L-NQPFglpXyfT9O04Guc84YFwSm3QhalHCQEvkyw_ZR71R1DAd2Jq4AdeaiiiHHN_IFWlL-9y6-9aMsfhX6mac0XHDFdjjMPeNokxpJSNqw
[2022-04-19T11:59:41Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T11:59:41Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T11:59:41Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk4ODEsImlhdCI6MTY1MDM2OTU4MSwiYXV0aF90aW1lIjoxNjUwMzY5NTc4LCJqdGkiOiI2ZTNlYmY2Zi02MWU5LTRlZDEtOTRjOS1mZGNlMDRjMGI5ZGYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiIycmxGTWlfRFZBVnhYel9aUm9kUzRnIiwic2Vzc2lvbl9zdGF0ZSI6IjZjZDQ1NzNhLTQyODAtNDEyOS1hYmY5LTE1NDFmZGYwYjA5MCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjZjZDQ1NzNhLTQyODAtNDEyOS1hYmY5LTE1NDFmZGYwYjA5MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.Ss0T1ObItpqS91QiVK8zKqs6hD1dqT-H4S8ukikwWQ9cIdgEJYEi8eweoAIu7WhsAjVyy2-Va1OqKS-LWiV2ga0GecpNLebz_tnjXjkhrbu2LYCk7efnP2aqKU4dzgfsyNbDePFX_PPehmnMXc8kGQIBqrk1J75H0bCPpUxj0o9u1MC2wgDDfNblZmEV5gVgE-PcwB0Car21Ppb_xc6IVvFOmRul4F7VVoJYS0Cxr84L-NQPFglpXyfT9O04Guc84YFwSm3QhalHCQEvkyw_ZR71R1DAd2Jq4AdeaiiiHHN_IFWlL-9y6-9aMsfhX6mac0XHDFdjjMPeNokxpJSNqw&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T11:59:42Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::mqtt::command::simple_me::version_1::ws_1

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T11:59:44Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T11:59:44Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T11:59:44Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T11:59:44Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T11:59:44Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T11:59:45Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T11:59:47Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T11:59:47Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T11:59:47Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T11:59:47Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T11:59:49Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk4ODksImlhdCI6MTY1MDM2OTU4OSwiYXV0aF90aW1lIjoxNjUwMzY5NTg2LCJqdGkiOiI4MjNlYTk1MC00MWE5LTQ5YTAtYTcyNi0yZWNiOTUyNTUyNzIiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJpb2FfbC10cVZvSk1FLTVsU1RyQlB3Iiwic2Vzc2lvbl9zdGF0ZSI6ImUwYmI0ZjQ2LTIyY2EtNGZkOC1hNThmLWRmYjkwZmNjNDZhZiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImUwYmI0ZjQ2LTIyY2EtNGZkOC1hNThmLWRmYjkwZmNjNDZhZiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.mkzAPMzZy5cCLM66a_mE9gvssJLT6-6sfKhzGobVlWxjksr39KZZw_xmj6VKzqcR56jgk5dP5EthcwqUXpzNdMdiKe8_s0rRyWTB71aLk3mZTH2j5ick5D4RNhPwkrw3J9e5-dQitf8xr0TgLJmLxLWxBL-xi5MzfKcoWR1atUxCTLd46_ffH0UYmci4nTIpMda1XsBpcVZXx_vm70K4PBCxr5eUQCV-rBElIOPrmf8P65hEz1z9r8e9QWuL7IC2s9tiLnG6AF5-71rTrFCPFydvr2STqKydk_3qXO6hzmrOXLoLMM_N6rmTS_TKxOcTtlv7DJiYF6JUguayJiY5Hw
[2022-04-19T11:59:49Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T11:59:49Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T11:59:49Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk4ODksImlhdCI6MTY1MDM2OTU4OSwiYXV0aF90aW1lIjoxNjUwMzY5NTg2LCJqdGkiOiI4MjNlYTk1MC00MWE5LTQ5YTAtYTcyNi0yZWNiOTUyNTUyNzIiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJpb2FfbC10cVZvSk1FLTVsU1RyQlB3Iiwic2Vzc2lvbl9zdGF0ZSI6ImUwYmI0ZjQ2LTIyY2EtNGZkOC1hNThmLWRmYjkwZmNjNDZhZiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImUwYmI0ZjQ2LTIyY2EtNGZkOC1hNThmLWRmYjkwZmNjNDZhZiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.mkzAPMzZy5cCLM66a_mE9gvssJLT6-6sfKhzGobVlWxjksr39KZZw_xmj6VKzqcR56jgk5dP5EthcwqUXpzNdMdiKe8_s0rRyWTB71aLk3mZTH2j5ick5D4RNhPwkrw3J9e5-dQitf8xr0TgLJmLxLWxBL-xi5MzfKcoWR1atUxCTLd46_ffH0UYmci4nTIpMda1XsBpcVZXx_vm70K4PBCxr5eUQCV-rBElIOPrmf8P65hEz1z9r8e9QWuL7IC2s9tiLnG6AF5-71rTrFCPFydvr2STqKydk_3qXO6hzmrOXLoLMM_N6rmTS_TKxOcTtlv7DJiYF6JUguayJiY5Hw&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T11:59:49Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::mqtt::command::simple_me::version_1::ws_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T11:59:51Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T11:59:51Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T11:59:51Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T11:59:51Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T11:59:51Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T11:59:52Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T11:59:54Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T11:59:54Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T11:59:54Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T11:59:54Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T11:59:56Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk4OTYsImlhdCI6MTY1MDM2OTU5NiwiYXV0aF90aW1lIjoxNjUwMzY5NTkzLCJqdGkiOiI2YzdlZTJiOC1iZmJjLTRhYzgtOGRkYS01ZTY3Mzk4ZGVkYmIiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJ1N3VSMkVObktqS3ktSndqbl9MVVVnIiwic2Vzc2lvbl9zdGF0ZSI6IjU0OTFmMzNmLWI0ZTMtNGM4Yi1iMDczLWQ2YTBhNWQwZDhiMSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjU0OTFmMzNmLWI0ZTMtNGM4Yi1iMDczLWQ2YTBhNWQwZDhiMSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.VHSxEibl7MpJBrOmiussc7ZQ-cMLHbwvofnNe_VDL8YpAGH2LziI9bocxNKUhaqhEYufb7tiQWBdv_XJ2KZw4vIav7jxII5BI7L3gP0d2D1Tk-vJ22JXozpvi5j256JyjpQvpvufmE0jMakKoN3midJJPPCG0oWVzYcpfB_V_2o20-6W_XR6kXJfT6xjFgpIsJHNiRlAuQI1BtF5VuUjM04lJ921MkNvnpq2OTSC8tuvaCo3TOcL6mui3aF6zk6mv8aJ-G7xrWz2-vYwBPiQI91OQanxoiMwHkMHBvU0xK2C4xsHkCt8MXa-dm253JHmURH-PJEcUzXPRzoNf8pW-A
[2022-04-19T11:59:56Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T11:59:56Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T11:59:56Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk4OTYsImlhdCI6MTY1MDM2OTU5NiwiYXV0aF90aW1lIjoxNjUwMzY5NTkzLCJqdGkiOiI2YzdlZTJiOC1iZmJjLTRhYzgtOGRkYS01ZTY3Mzk4ZGVkYmIiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJ1N3VSMkVObktqS3ktSndqbl9MVVVnIiwic2Vzc2lvbl9zdGF0ZSI6IjU0OTFmMzNmLWI0ZTMtNGM4Yi1iMDczLWQ2YTBhNWQwZDhiMSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjU0OTFmMzNmLWI0ZTMtNGM4Yi1iMDczLWQ2YTBhNWQwZDhiMSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.VHSxEibl7MpJBrOmiussc7ZQ-cMLHbwvofnNe_VDL8YpAGH2LziI9bocxNKUhaqhEYufb7tiQWBdv_XJ2KZw4vIav7jxII5BI7L3gP0d2D1Tk-vJ22JXozpvi5j256JyjpQvpvufmE0jMakKoN3midJJPPCG0oWVzYcpfB_V_2o20-6W_XR6kXJfT6xjFgpIsJHNiRlAuQI1BtF5VuUjM04lJ921MkNvnpq2OTSC8tuvaCo3TOcL6mui3aF6zk6mv8aJ-G7xrWz2-vYwBPiQI91OQanxoiMwHkMHBvU0xK2C4xsHkCt8MXa-dm253JHmURH-PJEcUzXPRzoNf8pW-A&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T11:59:56Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::mqtt::command::simple_me::version_2::ws_1

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T11:59:59Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T11:59:59Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T11:59:59Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T11:59:59Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T11:59:59Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:00:00Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T12:00:01Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T12:00:01Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:00:01Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:00:01Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:00:03Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk5MDMsImlhdCI6MTY1MDM2OTYwMywiYXV0aF90aW1lIjoxNjUwMzY5NjAwLCJqdGkiOiI0MmM3OGUyZS0yMWIwLTRhMTgtYWMxMy03N2U2YTdiYzMxNDMiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiIyRGEyU2thX05DRHk1cUZuTTFtMUtnIiwic2Vzc2lvbl9zdGF0ZSI6ImIwMDA1MTgxLTI0YjctNGVjNi04NTdjLTFlMzNiYjYxYmE5MCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImIwMDA1MTgxLTI0YjctNGVjNi04NTdjLTFlMzNiYjYxYmE5MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.RwnwVqZFlKJZzmeXg0tAf60JCtofCGPC_wShpyGM-XBXEWr60nb0bgin4Y6O7aC4IlNI46X25l0dVpgAffEoH7JCuE-xebsyYNyW2x373DkL7T5GHsXMKgvShwthlCveUe6L1GD8uBIc-U6D6_doKU_-nyjgk9UMNj85voSz9DQvxCSYht7Vl-w4yC-D-RpFz5Fw3fq4MlYNNjbSiF_Y5I7smHYlUmVzmB9u4emxlAPOik64mxIEgRWyi8A0ypWMZNs_TOcCIJVe3u6f4hhL06to7_YBBYNMu7boN-F7S5lHPXU-cHH8CCqLuerqJZ03DnWANKkGp4a2FHYtxr_GsQ
[2022-04-19T12:00:03Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T12:00:03Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T12:00:03Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk5MDMsImlhdCI6MTY1MDM2OTYwMywiYXV0aF90aW1lIjoxNjUwMzY5NjAwLCJqdGkiOiI0MmM3OGUyZS0yMWIwLTRhMTgtYWMxMy03N2U2YTdiYzMxNDMiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiIyRGEyU2thX05DRHk1cUZuTTFtMUtnIiwic2Vzc2lvbl9zdGF0ZSI6ImIwMDA1MTgxLTI0YjctNGVjNi04NTdjLTFlMzNiYjYxYmE5MCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImIwMDA1MTgxLTI0YjctNGVjNi04NTdjLTFlMzNiYjYxYmE5MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.RwnwVqZFlKJZzmeXg0tAf60JCtofCGPC_wShpyGM-XBXEWr60nb0bgin4Y6O7aC4IlNI46X25l0dVpgAffEoH7JCuE-xebsyYNyW2x373DkL7T5GHsXMKgvShwthlCveUe6L1GD8uBIc-U6D6_doKU_-nyjgk9UMNj85voSz9DQvxCSYht7Vl-w4yC-D-RpFz5Fw3fq4MlYNNjbSiF_Y5I7smHYlUmVzmB9u4emxlAPOik64mxIEgRWyi8A0ypWMZNs_TOcCIJVe3u6f4hhL06to7_YBBYNMu7boN-F7S5lHPXU-cHH8CCqLuerqJZ03DnWANKkGp4a2FHYtxr_GsQ&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T12:00:03Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::mqtt::command::simple_me::version_2::ws_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T12:00:06Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T12:00:06Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T12:00:06Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:00:06Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:00:06Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:00:07Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T12:00:09Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T12:00:09Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:00:09Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:00:09Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:00:11Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk5MTEsImlhdCI6MTY1MDM2OTYxMSwiYXV0aF90aW1lIjoxNjUwMzY5NjA4LCJqdGkiOiI5OThhMWE1Yy01NmM3LTQ0ZTQtOWEwNS0xZDQyMTkwZjg4MjkiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJtSi1LalhrQS1ENUk2NHVxaHVfYlNnIiwic2Vzc2lvbl9zdGF0ZSI6IjRkZDdhMWI2LTkyYzktNGM2NS1hM2JlLWVlODI2MzJiZTc4YyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjRkZDdhMWI2LTkyYzktNGM2NS1hM2JlLWVlODI2MzJiZTc4YyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.UNSWxJ_goC5WQoU6wSAYLvEh7mHO3OnmY-mtEUyPFDsHaVvu5OHymEQSF_NDZbgN_kXG7ieZEmoqOW4DNxg_6utD__Tp_g8AbY-Q6zvSlD34s_2RAamYgZ5RoSUjXXPQQTMQg_V6WckUB8sGe4h4euzlhjX0c-_iyI98Li6Bt0DDmRLvjdc8DN6ymppcAC-7O2dcYAjVwaipK0r1475meiQVjlSH829coMm9O5y0r3UIRXsFr3a8hJvLCOUHOvasrYjL2njXO9fQiRHeT1iz_Zh9YIs2pcpDIrL745XhUifHh3d5y6OM6oZxnyC_GvB15dj70mIatiDaOgHbGKwbKg
[2022-04-19T12:00:11Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T12:00:11Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T12:00:11Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk5MTEsImlhdCI6MTY1MDM2OTYxMSwiYXV0aF90aW1lIjoxNjUwMzY5NjA4LCJqdGkiOiI5OThhMWE1Yy01NmM3LTQ0ZTQtOWEwNS0xZDQyMTkwZjg4MjkiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJtSi1LalhrQS1ENUk2NHVxaHVfYlNnIiwic2Vzc2lvbl9zdGF0ZSI6IjRkZDdhMWI2LTkyYzktNGM2NS1hM2JlLWVlODI2MzJiZTc4YyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjRkZDdhMWI2LTkyYzktNGM2NS1hM2JlLWVlODI2MzJiZTc4YyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.UNSWxJ_goC5WQoU6wSAYLvEh7mHO3OnmY-mtEUyPFDsHaVvu5OHymEQSF_NDZbgN_kXG7ieZEmoqOW4DNxg_6utD__Tp_g8AbY-Q6zvSlD34s_2RAamYgZ5RoSUjXXPQQTMQg_V6WckUB8sGe4h4euzlhjX0c-_iyI98Li6Bt0DDmRLvjdc8DN6ymppcAC-7O2dcYAjVwaipK0r1475meiQVjlSH829coMm9O5y0r3UIRXsFr3a8hJvLCOUHOvasrYjL2njXO9fQiRHeT1iz_Zh9YIs2pcpDIrL745XhUifHh3d5y6OM6oZxnyC_GvB15dj70mIatiDaOgHbGKwbKg&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T12:00:11Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::mqtt::command::simple_me::version_3::ws_1

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T12:00:13Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T12:00:13Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T12:00:13Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:00:13Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:00:13Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:00:15Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T12:00:16Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T12:00:16Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:00:16Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:00:16Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:00:18Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk5MTgsImlhdCI6MTY1MDM2OTYxOCwiYXV0aF90aW1lIjoxNjUwMzY5NjE1LCJqdGkiOiJmMTExMWZhZi05NzJiLTQ3M2MtYjM4OC1hODQ0OWVkMWQ3MzUiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJIbzdhbHhQdkZFVU9XVFBTSENpUzhnIiwic2Vzc2lvbl9zdGF0ZSI6ImJkNjAyMDUyLThjMmMtNGM5ZS1iYzEwLTJlMWIyYjI5ZjIzNSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImJkNjAyMDUyLThjMmMtNGM5ZS1iYzEwLTJlMWIyYjI5ZjIzNSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.OZqp5w98mURhihKd4bshMih0WcV0wdUl1yW5ACfKFHJG2EAnvI1FkN6XGBMeiJHZrjn6qlVnpjo_VZAbErdbSPsMs70f6lbLxU3_ZPFjaHpLr__X5z0icGSk5-coASWSR2969umGpIbFEwONAVZ3uocqB5tEHbZvSbrwnNz-b-GSogJM_ePbySR8j_GzHegkiAJkWjPS9djt5LcpvqeMAgV2PMyJ47eZOiJiEPXfDgVu4wmU7GvP34_5Y8RPP5I8YHGDma6Ak-PFJblcMh7rtzO407EuzTZRWN9nddxhBCq-bPNbgGNcpitHHyx-WxqAPDB72HBDtrVfoSWMeYMxXA
[2022-04-19T12:00:18Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T12:00:18Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T12:00:18Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk5MTgsImlhdCI6MTY1MDM2OTYxOCwiYXV0aF90aW1lIjoxNjUwMzY5NjE1LCJqdGkiOiJmMTExMWZhZi05NzJiLTQ3M2MtYjM4OC1hODQ0OWVkMWQ3MzUiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJIbzdhbHhQdkZFVU9XVFBTSENpUzhnIiwic2Vzc2lvbl9zdGF0ZSI6ImJkNjAyMDUyLThjMmMtNGM5ZS1iYzEwLTJlMWIyYjI5ZjIzNSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImJkNjAyMDUyLThjMmMtNGM5ZS1iYzEwLTJlMWIyYjI5ZjIzNSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.OZqp5w98mURhihKd4bshMih0WcV0wdUl1yW5ACfKFHJG2EAnvI1FkN6XGBMeiJHZrjn6qlVnpjo_VZAbErdbSPsMs70f6lbLxU3_ZPFjaHpLr__X5z0icGSk5-coASWSR2969umGpIbFEwONAVZ3uocqB5tEHbZvSbrwnNz-b-GSogJM_ePbySR8j_GzHegkiAJkWjPS9djt5LcpvqeMAgV2PMyJ47eZOiJiEPXfDgVu4wmU7GvP34_5Y8RPP5I8YHGDma6Ak-PFJblcMh7rtzO407EuzTZRWN9nddxhBCq-bPNbgGNcpitHHyx-WxqAPDB72HBDtrVfoSWMeYMxXA&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T12:00:18Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::mqtt::command::simple_me::version_3::ws_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T12:00:21Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T12:00:21Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T12:00:21Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:00:21Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:00:21Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:00:22Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T12:00:23Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T12:00:23Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:00:23Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:00:23Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:00:25Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk5MjUsImlhdCI6MTY1MDM2OTYyNSwiYXV0aF90aW1lIjoxNjUwMzY5NjIyLCJqdGkiOiJlMWJjYWI2Mi0zZjUxLTQ0NjMtYTI5Ny1jYTYzMjIzODIyNTYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJGdUdsZWwzT2JybTdmdUdtbGtpaG5nIiwic2Vzc2lvbl9zdGF0ZSI6IjI0Yzc5ZGMyLTE3OTAtNDhhZS05NWI5LWEzNmE3MDFkNzBhOSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjI0Yzc5ZGMyLTE3OTAtNDhhZS05NWI5LWEzNmE3MDFkNzBhOSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.fvkQBu4xJrlYVFroYDZUq7z_Cl1VrJ3Uwji22jaWEpN9GvYUXc1B2ZTTUKbm3LyUiJuYu_QeNOy6dWEnRuDD6jL_EL1crsJqP7Vi3UvXQ4T8J7BRhe1swO5_amhYAOcDpVH7TjcEd1z72L9QmKYvAlm_cEvu7X-tZrG-9e3K6uju-owPbC7CFj65xbzGFc5P9w5xzdGaqqe6PWsFmoK10mJmUNJ-xT4ntP1ZKPW37jurQWbvgM4Mfz6M8xbcL8IG7KtN0RYcCuYdXUPb966l9mDnob7ukqpmQOcW5W0pUdWEXCrE-xjmoQjx9Ucbv8Ygzum4PpBblQmMMHCf2-wcJg
[2022-04-19T12:00:25Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T12:00:25Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T12:00:25Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk5MjUsImlhdCI6MTY1MDM2OTYyNSwiYXV0aF90aW1lIjoxNjUwMzY5NjIyLCJqdGkiOiJlMWJjYWI2Mi0zZjUxLTQ0NjMtYTI5Ny1jYTYzMjIzODIyNTYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJGdUdsZWwzT2JybTdmdUdtbGtpaG5nIiwic2Vzc2lvbl9zdGF0ZSI6IjI0Yzc5ZGMyLTE3OTAtNDhhZS05NWI5LWEzNmE3MDFkNzBhOSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjI0Yzc5ZGMyLTE3OTAtNDhhZS05NWI5LWEzNmE3MDFkNzBhOSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.fvkQBu4xJrlYVFroYDZUq7z_Cl1VrJ3Uwji22jaWEpN9GvYUXc1B2ZTTUKbm3LyUiJuYu_QeNOy6dWEnRuDD6jL_EL1crsJqP7Vi3UvXQ4T8J7BRhe1swO5_amhYAOcDpVH7TjcEd1z72L9QmKYvAlm_cEvu7X-tZrG-9e3K6uju-owPbC7CFj65xbzGFc5P9w5xzdGaqqe6PWsFmoK10mJmUNJ-xT4ntP1ZKPW37jurQWbvgM4Mfz6M8xbcL8IG7KtN0RYcCuYdXUPb966l9mDnob7ukqpmQOcW5W0pUdWEXCrE-xjmoQjx9Ucbv8Ygzum4PpBblQmMMHCf2-wcJg&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T12:00:25Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_1::integration_version_1::integration_ws_1

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T12:00:28Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T12:00:28Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T12:00:28Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:00:28Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:00:28Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:00:29Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T12:00:31Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T12:00:31Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:00:31Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:00:31Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:00:33Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk5MzIsImlhdCI6MTY1MDM2OTYzMiwiYXV0aF90aW1lIjoxNjUwMzY5NjI5LCJqdGkiOiIzZTViOTQzMS1lZGMwLTQyODQtYTEyNS1hMGRhYTU1ZmE4MWQiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJWSGJnU2pMMDFNYlFPTnFkanBvODJRIiwic2Vzc2lvbl9zdGF0ZSI6ImEzOGUxMjhhLTcxZjYtNGFmMS1hYTJiLTBiZjgwZmE1ZTcxNyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImEzOGUxMjhhLTcxZjYtNGFmMS1hYTJiLTBiZjgwZmE1ZTcxNyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.aY-8l2xZMP8Y-maTpYNzYI3ApG8td0cpXCscAwbl9mwVP47iV7Ei17rfuSkVedBpSWP4Et1I2kpeduhXxzwZFOq_Ixz8plSB92eIH0uveRPhWGhp6p3Z2FX4oB98sXm1ww8NLraR7BfLzZ9U1SpCTXPXInoXrPZCgU-8VQQasuq0k5nLeOxjLzjVMDjrLLgEhM8EOcC5W791rhaNRANwQclcV5qQKHxXCOLfi_UacpgdFvaDre-lP5_7MknvGqrjfMZfoAps9REMPhpKhR4dYuQ42BGP0Kd95MbDaJR4DS1XTnf4V6zNtACSe4wMgARMaKlnQNrw_ZR4llPefqvI1Q
[2022-04-19T12:00:33Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T12:00:33Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T12:00:33Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk5MzIsImlhdCI6MTY1MDM2OTYzMiwiYXV0aF90aW1lIjoxNjUwMzY5NjI5LCJqdGkiOiIzZTViOTQzMS1lZGMwLTQyODQtYTEyNS1hMGRhYTU1ZmE4MWQiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJWSGJnU2pMMDFNYlFPTnFkanBvODJRIiwic2Vzc2lvbl9zdGF0ZSI6ImEzOGUxMjhhLTcxZjYtNGFmMS1hYTJiLTBiZjgwZmE1ZTcxNyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImEzOGUxMjhhLTcxZjYtNGFmMS1hYTJiLTBiZjgwZmE1ZTcxNyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.aY-8l2xZMP8Y-maTpYNzYI3ApG8td0cpXCscAwbl9mwVP47iV7Ei17rfuSkVedBpSWP4Et1I2kpeduhXxzwZFOq_Ixz8plSB92eIH0uveRPhWGhp6p3Z2FX4oB98sXm1ww8NLraR7BfLzZ9U1SpCTXPXInoXrPZCgU-8VQQasuq0k5nLeOxjLzjVMDjrLLgEhM8EOcC5W791rhaNRANwQclcV5qQKHxXCOLfi_UacpgdFvaDre-lP5_7MknvGqrjfMZfoAps9REMPhpKhR4dYuQ42BGP0Kd95MbDaJR4DS1XTnf4V6zNtACSe4wMgARMaKlnQNrw_ZR4llPefqvI1Q&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T12:00:33Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_1::integration_version_1::integration_ws_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T12:00:35Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T12:00:35Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T12:00:35Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:00:35Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:00:35Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:00:36Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T12:00:38Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T12:00:38Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:00:38Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:00:38Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:00:40Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk5NDAsImlhdCI6MTY1MDM2OTY0MCwiYXV0aF90aW1lIjoxNjUwMzY5NjM3LCJqdGkiOiJjMjA0NTkwZS0yYzIwLTQyMjgtODgwYS1mMDM3MDllYjQ1MDIiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJ5MlktaWNjNjhlVUlnUEoyNWc3QmdnIiwic2Vzc2lvbl9zdGF0ZSI6ImU0ZmE4MTUwLWI1ZTMtNGQ2NS1iZjhlLWRhNDZhMDZlZjYxOSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImU0ZmE4MTUwLWI1ZTMtNGQ2NS1iZjhlLWRhNDZhMDZlZjYxOSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.GAu7Iu_7tJPVTq7UEFHtbNHCLYiJBgpsjjR1wFhdQkGLJVT1MI9328LpwnkjYNFZK9am7aFAersY1UjhZod7UtpSIg2vk701zaouUqqyO7mhg2ymAfQg1gVuUPcHaNM2B64ju68J8nhryBf18LnPYamPMmWZUtgNxyqdwfQJWMZvNZBWYk8D9wkivRKcF8kuDETRWU7xeBHDEWqB7cl5C13DJjHm3a9qBnswFp-vECQ69_sa0ZAFJ9VbdFcfJh9wd1qp5UCHMo9WLLaGzyuyYsppCzBvJ7tl-k6Mj0bQip358rEMFoC5gaCuL9XvUEWJIwaIFFKoCKV6MGSwp1masg
[2022-04-19T12:00:40Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T12:00:40Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T12:00:40Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk5NDAsImlhdCI6MTY1MDM2OTY0MCwiYXV0aF90aW1lIjoxNjUwMzY5NjM3LCJqdGkiOiJjMjA0NTkwZS0yYzIwLTQyMjgtODgwYS1mMDM3MDllYjQ1MDIiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJ5MlktaWNjNjhlVUlnUEoyNWc3QmdnIiwic2Vzc2lvbl9zdGF0ZSI6ImU0ZmE4MTUwLWI1ZTMtNGQ2NS1iZjhlLWRhNDZhMDZlZjYxOSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImU0ZmE4MTUwLWI1ZTMtNGQ2NS1iZjhlLWRhNDZhMDZlZjYxOSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.GAu7Iu_7tJPVTq7UEFHtbNHCLYiJBgpsjjR1wFhdQkGLJVT1MI9328LpwnkjYNFZK9am7aFAersY1UjhZod7UtpSIg2vk701zaouUqqyO7mhg2ymAfQg1gVuUPcHaNM2B64ju68J8nhryBf18LnPYamPMmWZUtgNxyqdwfQJWMZvNZBWYk8D9wkivRKcF8kuDETRWU7xeBHDEWqB7cl5C13DJjHm3a9qBnswFp-vECQ69_sa0ZAFJ9VbdFcfJh9wd1qp5UCHMo9WLLaGzyuyYsppCzBvJ7tl-k6Mj0bQip358rEMFoC5gaCuL9XvUEWJIwaIFFKoCKV6MGSwp1masg&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T12:00:40Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_1::integration_version_2::integration_ws_1

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T12:00:42Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T12:00:42Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T12:00:42Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:00:42Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:00:42Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:00:44Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T12:00:45Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T12:00:45Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:00:45Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:00:45Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:00:47Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk5NDcsImlhdCI6MTY1MDM2OTY0NywiYXV0aF90aW1lIjoxNjUwMzY5NjQ0LCJqdGkiOiJhNzgyOWZkNi1iZjkwLTQ1YzktYjVmMi1mZTY4ZmI2NzJmZGEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJUeng2SFpqNnl4SlVfLWZqU0lwSk1nIiwic2Vzc2lvbl9zdGF0ZSI6IjNmMDg5YjEyLTBmZDUtNDlkZi05ZDU0LWYzZTZhZTVmZTcyMyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjNmMDg5YjEyLTBmZDUtNDlkZi05ZDU0LWYzZTZhZTVmZTcyMyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.kdm19yPvtBwwETrWrOfnNTUn7syd1h0mnLYBCz1uSPUMA2HqJ9Dm2LzOqNlqFaB1aHZC7-s-0wxNpG71JsU7xotdvk3yKM-ekbvzjVHrGsjmsP-mZHn_YfB4XXo2HVhoK_z7jqYfI00_TwBL3Ojmd7cyPPudvXcJszUfC4uGHuNjUZXcxkXwFHDiulvjZiS_bVRl1_7bA3PvnkIoo3qRPbQX1lTRKfkAMkdo2XKTWcixO0lf3926d0Mnc_i9NXuQdiJlWCQZ0Mvp6vaCVfzIFKhv9XKey8Vh4XdgUdcitvbGZZUCDP9_DAK5OE2eTV2JjMml2vPMI6PLBQHKK61Opw
[2022-04-19T12:00:47Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T12:00:47Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T12:00:47Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk5NDcsImlhdCI6MTY1MDM2OTY0NywiYXV0aF90aW1lIjoxNjUwMzY5NjQ0LCJqdGkiOiJhNzgyOWZkNi1iZjkwLTQ1YzktYjVmMi1mZTY4ZmI2NzJmZGEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJUeng2SFpqNnl4SlVfLWZqU0lwSk1nIiwic2Vzc2lvbl9zdGF0ZSI6IjNmMDg5YjEyLTBmZDUtNDlkZi05ZDU0LWYzZTZhZTVmZTcyMyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjNmMDg5YjEyLTBmZDUtNDlkZi05ZDU0LWYzZTZhZTVmZTcyMyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.kdm19yPvtBwwETrWrOfnNTUn7syd1h0mnLYBCz1uSPUMA2HqJ9Dm2LzOqNlqFaB1aHZC7-s-0wxNpG71JsU7xotdvk3yKM-ekbvzjVHrGsjmsP-mZHn_YfB4XXo2HVhoK_z7jqYfI00_TwBL3Ojmd7cyPPudvXcJszUfC4uGHuNjUZXcxkXwFHDiulvjZiS_bVRl1_7bA3PvnkIoo3qRPbQX1lTRKfkAMkdo2XKTWcixO0lf3926d0Mnc_i9NXuQdiJlWCQZ0Mvp6vaCVfzIFKhv9XKey8Vh4XdgUdcitvbGZZUCDP9_DAK5OE2eTV2JjMml2vPMI6PLBQHKK61Opw&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T12:00:47Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_1::integration_version_2::integration_ws_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T12:00:50Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T12:00:50Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T12:00:50Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:00:50Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:00:50Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:00:51Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T12:00:53Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T12:00:53Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:00:53Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:00:53Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:00:55Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk5NTQsImlhdCI6MTY1MDM2OTY1NCwiYXV0aF90aW1lIjoxNjUwMzY5NjUxLCJqdGkiOiJiZjlkOGRkNi04YzJmLTQ2YWItOTEwNC1kZWRiMjQwYTA2NWEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJGQnZ0R19qTld6M0dQNGhQVEt2OUxBIiwic2Vzc2lvbl9zdGF0ZSI6Ijc1YjkxMzIzLThjNGQtNGFhNi04MGNmLWZmNjQ3ZWRhOTNlNiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6Ijc1YjkxMzIzLThjNGQtNGFhNi04MGNmLWZmNjQ3ZWRhOTNlNiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.VxbQF0xeCvk0PmmddXYCBWJeynBcIq3dY1tPxr3qPUpjKcxAJvyRXN0vlMKWVF2diA4g42FQCyci938wQAJklvD2idpr2Pb2O-yxeO2OODaPsorgLMY4vMgx2woDIoFqnTv2JEtLfLo0xQuAobVmjPs2L-HtmNKHhKNacVAAjbNyf8dGz15w69rHp4tMxnvNDutg-F6jSWii-jOg2fCnmdpkWiB1hCBONx6YjfEEy_1E3_Qwc3lkmId9AJLaQr5V4PnLD9uHGZEJZFrXRLVAJuL14XoK2e_zpth1WrY6pPq_VtDwQKDUa7zN24EhBB5YS-1QEhudwPv_rQjoyZQfYg
[2022-04-19T12:00:55Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T12:00:55Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T12:00:55Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk5NTQsImlhdCI6MTY1MDM2OTY1NCwiYXV0aF90aW1lIjoxNjUwMzY5NjUxLCJqdGkiOiJiZjlkOGRkNi04YzJmLTQ2YWItOTEwNC1kZWRiMjQwYTA2NWEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJGQnZ0R19qTld6M0dQNGhQVEt2OUxBIiwic2Vzc2lvbl9zdGF0ZSI6Ijc1YjkxMzIzLThjNGQtNGFhNi04MGNmLWZmNjQ3ZWRhOTNlNiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6Ijc1YjkxMzIzLThjNGQtNGFhNi04MGNmLWZmNjQ3ZWRhOTNlNiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.VxbQF0xeCvk0PmmddXYCBWJeynBcIq3dY1tPxr3qPUpjKcxAJvyRXN0vlMKWVF2diA4g42FQCyci938wQAJklvD2idpr2Pb2O-yxeO2OODaPsorgLMY4vMgx2woDIoFqnTv2JEtLfLo0xQuAobVmjPs2L-HtmNKHhKNacVAAjbNyf8dGz15w69rHp4tMxnvNDutg-F6jSWii-jOg2fCnmdpkWiB1hCBONx6YjfEEy_1E3_Qwc3lkmId9AJLaQr5V4PnLD9uHGZEJZFrXRLVAJuL14XoK2e_zpth1WrY6pPq_VtDwQKDUa7zN24EhBB5YS-1QEhudwPv_rQjoyZQfYg&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T12:00:55Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_1::integration_version_3::integration_ws_1

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T12:00:57Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T12:00:57Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T12:00:57Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:00:57Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:00:57Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:00:58Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T12:01:00Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T12:01:00Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:01:00Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:01:00Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:01:02Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk5NjIsImlhdCI6MTY1MDM2OTY2MiwiYXV0aF90aW1lIjoxNjUwMzY5NjU5LCJqdGkiOiI1NTIwYjYyNy1mMDFkLTQyZWQtYTAwNy1mNTJlMzE3OGEyMmEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJTRllRUUVuVFZ3SldNN1lSTjU2QjJ3Iiwic2Vzc2lvbl9zdGF0ZSI6ImMwZDdlZmE4LTRjODgtNDg3Zi1hYzFkLTU3YzFhODVjZWY5NSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImMwZDdlZmE4LTRjODgtNDg3Zi1hYzFkLTU3YzFhODVjZWY5NSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.DgoszaerxCgy5K6FdD9qxIt7jndwUGqW65SI5P49b8HP5v421fubjrekCweOEmlT5GsPgSH1Q3WLWlWWkZuB-FWcEyk397R16eivaRTn5XeKVFVKkUJAulc5n_Vew5yBLsIPi9RZXza1TsWxZIYap0rGGwPolu7-GEBCpNpDLgF-MOM_qqdPcibP9u64s8V7YCoic-o0LC8Qc2VAVR3tTYl9T44NlL379H6sVXKY-c2jY2WpdkyHypE1wSSRCR-qW2y5PmtNZ8gNP1IxJOM7d964R9yIcYUsFhyEYk2SDAVREpx9ZNmdkVUCUnUSArzXwszGvbdjRCC9FaLYc42CvQ
[2022-04-19T12:01:02Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T12:01:02Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T12:01:02Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk5NjIsImlhdCI6MTY1MDM2OTY2MiwiYXV0aF90aW1lIjoxNjUwMzY5NjU5LCJqdGkiOiI1NTIwYjYyNy1mMDFkLTQyZWQtYTAwNy1mNTJlMzE3OGEyMmEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJTRllRUUVuVFZ3SldNN1lSTjU2QjJ3Iiwic2Vzc2lvbl9zdGF0ZSI6ImMwZDdlZmE4LTRjODgtNDg3Zi1hYzFkLTU3YzFhODVjZWY5NSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImMwZDdlZmE4LTRjODgtNDg3Zi1hYzFkLTU3YzFhODVjZWY5NSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.DgoszaerxCgy5K6FdD9qxIt7jndwUGqW65SI5P49b8HP5v421fubjrekCweOEmlT5GsPgSH1Q3WLWlWWkZuB-FWcEyk397R16eivaRTn5XeKVFVKkUJAulc5n_Vew5yBLsIPi9RZXza1TsWxZIYap0rGGwPolu7-GEBCpNpDLgF-MOM_qqdPcibP9u64s8V7YCoic-o0LC8Qc2VAVR3tTYl9T44NlL379H6sVXKY-c2jY2WpdkyHypE1wSSRCR-qW2y5PmtNZ8gNP1IxJOM7d964R9yIcYUsFhyEYk2SDAVREpx9ZNmdkVUCUnUSArzXwszGvbdjRCC9FaLYc42CvQ&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T12:01:02Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_1::integration_version_3::integration_ws_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T12:01:05Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T12:01:05Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T12:01:05Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:01:05Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:01:05Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:01:06Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T12:01:07Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T12:01:07Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:01:08Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:01:08Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:01:10Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk5NzAsImlhdCI6MTY1MDM2OTY3MCwiYXV0aF90aW1lIjoxNjUwMzY5NjY2LCJqdGkiOiI3YjFkYzRhZi0xZDU5LTQwYTYtYThkYy0xNmQ4NmI5ZTc2MzgiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJQaEVaeUdfOTNnUE9HNHd2bWs5dGd3Iiwic2Vzc2lvbl9zdGF0ZSI6IjgyYzRmYTVmLTlkOTQtNDM1Ny04MzQ3LWU1NzlmM2ZhMTAyOCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjgyYzRmYTVmLTlkOTQtNDM1Ny04MzQ3LWU1NzlmM2ZhMTAyOCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.hDno672WnI6_UBVgMomTtJHmeZ0p6YPJzHpdAKqYsKNjnBETKOZJVFQmXUc-L09AyBzzDVh5SvOhJu8YEnjH8WWs91wGCnj7HDi14xxkElsu2MNeQz17TLgkIEIMGz0la6TPzygPbdeQCk3NXRMkcaj7oJUYEDmFtXfMhyot_jNXBwf2PB22lpa_0oiYkg3t_VSVIoXsSICFVeMxOnq2hZImo0O2aKjbj-9vlGT7b9jxyAGMvrPRHkT5auqKCzy-OzaM1Ff__Qj-OvWP-bt361qFBF3reNX56Y3ezivzrzyh1648m7yO4m6ttJXCp1gwMltuAa4ulcXNydPFARD5Xw
[2022-04-19T12:01:10Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T12:01:10Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T12:01:10Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk5NzAsImlhdCI6MTY1MDM2OTY3MCwiYXV0aF90aW1lIjoxNjUwMzY5NjY2LCJqdGkiOiI3YjFkYzRhZi0xZDU5LTQwYTYtYThkYy0xNmQ4NmI5ZTc2MzgiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJQaEVaeUdfOTNnUE9HNHd2bWs5dGd3Iiwic2Vzc2lvbl9zdGF0ZSI6IjgyYzRmYTVmLTlkOTQtNDM1Ny04MzQ3LWU1NzlmM2ZhMTAyOCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjgyYzRmYTVmLTlkOTQtNDM1Ny04MzQ3LWU1NzlmM2ZhMTAyOCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.hDno672WnI6_UBVgMomTtJHmeZ0p6YPJzHpdAKqYsKNjnBETKOZJVFQmXUc-L09AyBzzDVh5SvOhJu8YEnjH8WWs91wGCnj7HDi14xxkElsu2MNeQz17TLgkIEIMGz0la6TPzygPbdeQCk3NXRMkcaj7oJUYEDmFtXfMhyot_jNXBwf2PB22lpa_0oiYkg3t_VSVIoXsSICFVeMxOnq2hZImo0O2aKjbj-9vlGT7b9jxyAGMvrPRHkT5auqKCzy-OzaM1Ff__Qj-OvWP-bt361qFBF3reNX56Y3ezivzrzyh1648m7yO4m6ttJXCp1gwMltuAa4ulcXNydPFARD5Xw&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T12:01:10Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_2::integration_version_1::integration_ws_1

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T12:01:12Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T12:01:12Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T12:01:12Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:01:12Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:01:12Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:01:13Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T12:01:15Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T12:01:15Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:01:15Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:01:15Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:01:17Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk5NzcsImlhdCI6MTY1MDM2OTY3NywiYXV0aF90aW1lIjoxNjUwMzY5Njc0LCJqdGkiOiI0Yjc1YzM1ZS1hYjUwLTQ4N2UtOTExMC1mYzkzN2UxZjQ0MWEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJYSnZHYjR1QmJnYmxJeGd5U2dHbmhnIiwic2Vzc2lvbl9zdGF0ZSI6ImQwZmZjMTZlLWFhOGItNDMwZC05NzA2LWY5OGU3N2Y3MWM4YSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImQwZmZjMTZlLWFhOGItNDMwZC05NzA2LWY5OGU3N2Y3MWM4YSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.AeY3RY2oD2AWuUMqJegWOxGpV2NvM7doaRP18HaFXBSjkhW4ZuOvAxBgWAz2gc4aI2CbPwhrIavsPyPo_2r50uC0kFI4Nmnsn5oidj25Ro7lrMYv6mi5tSfQhqHtQlwaR96FqsAlvCZlNvsIybiCfC18_nwumO4u2mPRr2vSDi1Khpzie9K2IlJYlYo-behPgHYudWna0jHhvMd15CWen5GjmI5FdSczWGl0EjehZIFCZ1usHIz4dWmlHd4uvDJayZs4l2RWOUr-m8pN0OToCSIhPS_VHoiDmpr0nVMVX6OO9KaAHw-L8PcbWXpRA7zWde9dT9q2szzhtmOlzfXEig
[2022-04-19T12:01:17Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T12:01:17Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T12:01:17Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk5NzcsImlhdCI6MTY1MDM2OTY3NywiYXV0aF90aW1lIjoxNjUwMzY5Njc0LCJqdGkiOiI0Yjc1YzM1ZS1hYjUwLTQ4N2UtOTExMC1mYzkzN2UxZjQ0MWEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJYSnZHYjR1QmJnYmxJeGd5U2dHbmhnIiwic2Vzc2lvbl9zdGF0ZSI6ImQwZmZjMTZlLWFhOGItNDMwZC05NzA2LWY5OGU3N2Y3MWM4YSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImQwZmZjMTZlLWFhOGItNDMwZC05NzA2LWY5OGU3N2Y3MWM4YSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.AeY3RY2oD2AWuUMqJegWOxGpV2NvM7doaRP18HaFXBSjkhW4ZuOvAxBgWAz2gc4aI2CbPwhrIavsPyPo_2r50uC0kFI4Nmnsn5oidj25Ro7lrMYv6mi5tSfQhqHtQlwaR96FqsAlvCZlNvsIybiCfC18_nwumO4u2mPRr2vSDi1Khpzie9K2IlJYlYo-behPgHYudWna0jHhvMd15CWen5GjmI5FdSczWGl0EjehZIFCZ1usHIz4dWmlHd4uvDJayZs4l2RWOUr-m8pN0OToCSIhPS_VHoiDmpr0nVMVX6OO9KaAHw-L8PcbWXpRA7zWde9dT9q2szzhtmOlzfXEig&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T12:01:17Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_2::integration_version_1::integration_ws_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T12:01:19Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T12:01:19Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T12:01:19Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:01:19Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:01:19Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:01:21Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T12:01:22Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T12:01:22Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:01:22Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:01:22Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:01:25Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk5ODQsImlhdCI6MTY1MDM2OTY4NCwiYXV0aF90aW1lIjoxNjUwMzY5NjgxLCJqdGkiOiI4YTc0YzRmNi0xODczLTRlZjAtYjBiOC05ODNlM2I4YTYxNmIiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJKS2tLOEN3Q00yVlR6VzAybEJ5Z0R3Iiwic2Vzc2lvbl9zdGF0ZSI6IjM3YjM5ZWIxLTBiMDAtNDVhMy05NmVlLWI4MjMxYzkyMzFlYyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjM3YjM5ZWIxLTBiMDAtNDVhMy05NmVlLWI4MjMxYzkyMzFlYyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.gZyheqSwN5snDXxVvdwMwuJHfsWDu6RgI9fUcnd4XaejKP1KoefdaBcUqMIJoPQISfbSxfdhoq2lQG-T309SDkH6RMI2JoNUy19hvfBKEhKMCoyg3uzcFfOFdWk68n9i-A-_ky534LdVG5L2k74HtHComFcmYOZ1xL9mlpLgf5_UOfkcLWjdHRwRZ7jEQkN7cu_VuFyVvClszJKttege_pjedA9SMgMStqozZEZevtCJE98b9TUltPDTQlxkHZoDYmSk_lSgxHyB5UCS7CmJy6QxItTCVl9kCxnlR542snhqvHllwWgqg1B1zquXRpu5aYsQMelAeKzh1mta3lBtBg
[2022-04-19T12:01:25Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T12:01:25Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T12:01:25Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk5ODQsImlhdCI6MTY1MDM2OTY4NCwiYXV0aF90aW1lIjoxNjUwMzY5NjgxLCJqdGkiOiI4YTc0YzRmNi0xODczLTRlZjAtYjBiOC05ODNlM2I4YTYxNmIiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJKS2tLOEN3Q00yVlR6VzAybEJ5Z0R3Iiwic2Vzc2lvbl9zdGF0ZSI6IjM3YjM5ZWIxLTBiMDAtNDVhMy05NmVlLWI4MjMxYzkyMzFlYyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjM3YjM5ZWIxLTBiMDAtNDVhMy05NmVlLWI4MjMxYzkyMzFlYyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.gZyheqSwN5snDXxVvdwMwuJHfsWDu6RgI9fUcnd4XaejKP1KoefdaBcUqMIJoPQISfbSxfdhoq2lQG-T309SDkH6RMI2JoNUy19hvfBKEhKMCoyg3uzcFfOFdWk68n9i-A-_ky534LdVG5L2k74HtHComFcmYOZ1xL9mlpLgf5_UOfkcLWjdHRwRZ7jEQkN7cu_VuFyVvClszJKttege_pjedA9SMgMStqozZEZevtCJE98b9TUltPDTQlxkHZoDYmSk_lSgxHyB5UCS7CmJy6QxItTCVl9kCxnlR542snhqvHllwWgqg1B1zquXRpu5aYsQMelAeKzh1mta3lBtBg&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T12:01:25Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_2::integration_version_2::integration_ws_1

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T12:01:27Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T12:01:27Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T12:01:27Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:01:27Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:01:27Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:01:28Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T12:01:30Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T12:01:30Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:01:30Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:01:30Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:01:32Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk5OTIsImlhdCI6MTY1MDM2OTY5MiwiYXV0aF90aW1lIjoxNjUwMzY5Njg5LCJqdGkiOiIzNDY5MGRkMS03MDNkLTQ2Y2QtYmMyYi02NDlmMjFlYzAzY2UiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJjMnVVTEhKWWp2dTBpQmU4a1ZJc3ZnIiwic2Vzc2lvbl9zdGF0ZSI6Ijc2NTg0MGM1LTA5YzUtNDdhYy1hZGY0LTY3NWRkNzE0NDhiZCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6Ijc2NTg0MGM1LTA5YzUtNDdhYy1hZGY0LTY3NWRkNzE0NDhiZCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.i_CQx0Al0UfLqCOZCYoX3TLOZAi3KmSIWwalh6gyZaylGs7E6Vcs06Hk5_q92jm2A9rweQAkgTN3UgTwBSRzAZhktmW0xJHpw-PWmPZ--s2jhamrZD67817ngv8AOcl5OB-Y4Jvv-V2LvmXDVna7PZ2bjF8QpfLJFS9BQ7QocwIcjTK4l5daVVZTUhsUqfugnzyxxUR67QAI5zMhHAWZPGb97Au7YKa8y0Oim78uwbgzxsw-alBuJR2hbbTWRR9FjsO-Cvn4ulzbHBrQ5jtmCXU_I_DOZO7Tx904hPUtH37BgBQ320JFnsYvDH5m0kJG61MFOSpppfUgm6RRO1QRRQ
[2022-04-19T12:01:32Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T12:01:32Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T12:01:32Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk5OTIsImlhdCI6MTY1MDM2OTY5MiwiYXV0aF90aW1lIjoxNjUwMzY5Njg5LCJqdGkiOiIzNDY5MGRkMS03MDNkLTQ2Y2QtYmMyYi02NDlmMjFlYzAzY2UiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJjMnVVTEhKWWp2dTBpQmU4a1ZJc3ZnIiwic2Vzc2lvbl9zdGF0ZSI6Ijc2NTg0MGM1LTA5YzUtNDdhYy1hZGY0LTY3NWRkNzE0NDhiZCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6Ijc2NTg0MGM1LTA5YzUtNDdhYy1hZGY0LTY3NWRkNzE0NDhiZCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.i_CQx0Al0UfLqCOZCYoX3TLOZAi3KmSIWwalh6gyZaylGs7E6Vcs06Hk5_q92jm2A9rweQAkgTN3UgTwBSRzAZhktmW0xJHpw-PWmPZ--s2jhamrZD67817ngv8AOcl5OB-Y4Jvv-V2LvmXDVna7PZ2bjF8QpfLJFS9BQ7QocwIcjTK4l5daVVZTUhsUqfugnzyxxUR67QAI5zMhHAWZPGb97Au7YKa8y0Oim78uwbgzxsw-alBuJR2hbbTWRR9FjsO-Cvn4ulzbHBrQ5jtmCXU_I_DOZO7Tx904hPUtH37BgBQ320JFnsYvDH5m0kJG61MFOSpppfUgm6RRO1QRRQ&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T12:01:32Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_2::integration_version_2::integration_ws_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T12:01:35Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T12:01:35Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T12:01:35Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:01:35Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:01:35Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:01:36Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T12:01:37Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T12:01:37Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:01:37Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:01:37Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:01:39Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk5OTksImlhdCI6MTY1MDM2OTY5OSwiYXV0aF90aW1lIjoxNjUwMzY5Njk2LCJqdGkiOiI3ZTNhNTViMS1kN2Q1LTRjMDQtYTQ5My1lZDk1NDU4ZTcyNzAiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJwZ1pRcXFySTBmMzJqaEtYTll1N21BIiwic2Vzc2lvbl9zdGF0ZSI6IjRjZjY0MzVlLTkyNzgtNGY1Ny04NTcyLWMyOTIzODFkNzhjZSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjRjZjY0MzVlLTkyNzgtNGY1Ny04NTcyLWMyOTIzODFkNzhjZSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.QvZ5gtCVOcjp3_fycqWWwoouT57xceOnqy73P5wEG2no8Xk3gFhn261qhgrX9HOjth0c-f8xCGMbxV9xAcAShRdxZeTCTDTgSeu2DRjMd0nq50FFPR-gWPN5BkZAMRQIolSsM4jj-KB9x5No5ryHMOKKmwpxH-7LugHaeHQiVpk6YdmEe8g39GCEZXqnEFoxIQBBrn8IZM2pq4IAR_2OOMVyMch2De-t9TvrymJ4vcjXmGhxq6zHpeUXNF_tcy0wCE_QQAQEVCfwUiYCb62XbkaZaO4vX0-WHYEmJ773RJh1hUvl5paDfe_uosOe77-AwYmj3LkUxx7INnqpFnzKng
[2022-04-19T12:01:39Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T12:01:39Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T12:01:39Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNjk5OTksImlhdCI6MTY1MDM2OTY5OSwiYXV0aF90aW1lIjoxNjUwMzY5Njk2LCJqdGkiOiI3ZTNhNTViMS1kN2Q1LTRjMDQtYTQ5My1lZDk1NDU4ZTcyNzAiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJwZ1pRcXFySTBmMzJqaEtYTll1N21BIiwic2Vzc2lvbl9zdGF0ZSI6IjRjZjY0MzVlLTkyNzgtNGY1Ny04NTcyLWMyOTIzODFkNzhjZSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjRjZjY0MzVlLTkyNzgtNGY1Ny04NTcyLWMyOTIzODFkNzhjZSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.QvZ5gtCVOcjp3_fycqWWwoouT57xceOnqy73P5wEG2no8Xk3gFhn261qhgrX9HOjth0c-f8xCGMbxV9xAcAShRdxZeTCTDTgSeu2DRjMd0nq50FFPR-gWPN5BkZAMRQIolSsM4jj-KB9x5No5ryHMOKKmwpxH-7LugHaeHQiVpk6YdmEe8g39GCEZXqnEFoxIQBBrn8IZM2pq4IAR_2OOMVyMch2De-t9TvrymJ4vcjXmGhxq6zHpeUXNF_tcy0wCE_QQAQEVCfwUiYCb62XbkaZaO4vX0-WHYEmJ773RJh1hUvl5paDfe_uosOe77-AwYmj3LkUxx7INnqpFnzKng&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T12:01:39Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_2::integration_version_3::integration_ws_1

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T12:01:42Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T12:01:42Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T12:01:42Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:01:42Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:01:42Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:01:43Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T12:01:44Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T12:01:44Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:01:44Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:01:44Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:01:46Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzAwMDYsImlhdCI6MTY1MDM2OTcwNiwiYXV0aF90aW1lIjoxNjUwMzY5NzAzLCJqdGkiOiIzMDNlYjlkNi04N2FlLTRhNzAtYmNjMi01NGI2ZjFmYTkwZDEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJoT2pXTDdEY0JkNTFJRWZIejZJLXFnIiwic2Vzc2lvbl9zdGF0ZSI6IjkzODQzNTM1LWMxNjYtNDc1NC1hZGFmLTRhNTM1Njk4NzFlMCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjkzODQzNTM1LWMxNjYtNDc1NC1hZGFmLTRhNTM1Njk4NzFlMCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.X0F4TRIL8un4-Mus3w9zDt-VTEz6nAbwxwY3ti3asD6jNHIV1lYlIXY1bM57YoJ5mNASGIBt00nzjqW1zlpSLx-Es8rQfpIcai1frlnsK6_ad6esDvc3yZKcdSsgiWbGGvafL9dG3XUHt5OAyOVQUWzTc2LSs3PLXRrxb05yDvx5TAc3UQIzEnPzS3-ggiuT_XCB5AgQuKXrjIx4g8SnQV8i1XGGwXLrWAG4nllXTKE4Ufki1vY1M1pOl6tmkI3aDSa4aXL1h76aAR-WqMH-bjzfiuYL6nsFGcc9ihCkJm1bJYvOowEd4wjLGI39m5Nzl3QDkkXMniMo8ChieNOPgw
[2022-04-19T12:01:46Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T12:01:46Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T12:01:46Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzAwMDYsImlhdCI6MTY1MDM2OTcwNiwiYXV0aF90aW1lIjoxNjUwMzY5NzAzLCJqdGkiOiIzMDNlYjlkNi04N2FlLTRhNzAtYmNjMi01NGI2ZjFmYTkwZDEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJoT2pXTDdEY0JkNTFJRWZIejZJLXFnIiwic2Vzc2lvbl9zdGF0ZSI6IjkzODQzNTM1LWMxNjYtNDc1NC1hZGFmLTRhNTM1Njk4NzFlMCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjkzODQzNTM1LWMxNjYtNDc1NC1hZGFmLTRhNTM1Njk4NzFlMCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.X0F4TRIL8un4-Mus3w9zDt-VTEz6nAbwxwY3ti3asD6jNHIV1lYlIXY1bM57YoJ5mNASGIBt00nzjqW1zlpSLx-Es8rQfpIcai1frlnsK6_ad6esDvc3yZKcdSsgiWbGGvafL9dG3XUHt5OAyOVQUWzTc2LSs3PLXRrxb05yDvx5TAc3UQIzEnPzS3-ggiuT_XCB5AgQuKXrjIx4g8SnQV8i1XGGwXLrWAG4nllXTKE4Ufki1vY1M1pOl6tmkI3aDSa4aXL1h76aAR-WqMH-bjzfiuYL6nsFGcc9ihCkJm1bJYvOowEd4wjLGI39m5Nzl3QDkkXMniMo8ChieNOPgw&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T12:01:47Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_2::integration_version_3::integration_ws_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T12:01:49Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T12:01:49Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T12:01:49Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:01:49Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:01:49Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:01:50Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T12:01:52Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T12:01:52Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:01:52Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:01:52Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:01:54Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzAwMTQsImlhdCI6MTY1MDM2OTcxNCwiYXV0aF90aW1lIjoxNjUwMzY5NzExLCJqdGkiOiJhMTU5ZGNjZS05NDg3LTQ3OWMtODJhMi03MmRiMWY3OGY3YjgiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiIwcHUtTVUxa09VV29OOHBsX0NFX2N3Iiwic2Vzc2lvbl9zdGF0ZSI6IjUyZGEzMWZhLTBiODAtNDUzZS04OWE0LTVjZGQ0YzZkMjE4ZCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjUyZGEzMWZhLTBiODAtNDUzZS04OWE0LTVjZGQ0YzZkMjE4ZCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.fBE5jnCxqutn_b70NVqXiU5jg8VLP3SIPogegipzyBWQhC3490jpo3TKtIfYmfAMy0RyJt5nukKgybL6UN9OgJSRURpuGprVou-hXrVe3_WnZVR6-W_XcIqwoqVGm7Uzefv6QjqKdIlfDpnsTG4UqQkZkFiiZjW2J98fDj_az8yNcwzTr4_Fzrkhsw-Hme-QaUuf2LtvId_goCdYn5Z6Rs-1T6iLvvddjpPCtwGXy0b-0DAuEJfx1215_fSoV2l10LbxnpifxGRc3YprFS1FsNZO-RUQ35WB8ZknMPN71iKh-VKHN0DcSfRpZDQQZIctQBRgU3VXIJQAMidExCQKaA
[2022-04-19T12:01:54Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T12:01:54Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T12:01:54Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzAwMTQsImlhdCI6MTY1MDM2OTcxNCwiYXV0aF90aW1lIjoxNjUwMzY5NzExLCJqdGkiOiJhMTU5ZGNjZS05NDg3LTQ3OWMtODJhMi03MmRiMWY3OGY3YjgiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiIwcHUtTVUxa09VV29OOHBsX0NFX2N3Iiwic2Vzc2lvbl9zdGF0ZSI6IjUyZGEzMWZhLTBiODAtNDUzZS04OWE0LTVjZGQ0YzZkMjE4ZCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjUyZGEzMWZhLTBiODAtNDUzZS04OWE0LTVjZGQ0YzZkMjE4ZCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.fBE5jnCxqutn_b70NVqXiU5jg8VLP3SIPogegipzyBWQhC3490jpo3TKtIfYmfAMy0RyJt5nukKgybL6UN9OgJSRURpuGprVou-hXrVe3_WnZVR6-W_XcIqwoqVGm7Uzefv6QjqKdIlfDpnsTG4UqQkZkFiiZjW2J98fDj_az8yNcwzTr4_Fzrkhsw-Hme-QaUuf2LtvId_goCdYn5Z6Rs-1T6iLvvddjpPCtwGXy0b-0DAuEJfx1215_fSoV2l10LbxnpifxGRc3YprFS1FsNZO-RUQ35WB8ZknMPN71iKh-VKHN0DcSfRpZDQQZIctQBRgU3VXIJQAMidExCQKaA&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T12:01:54Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_1::integration_version_1::integration_ws_1

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T12:01:56Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T12:01:56Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T12:01:56Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:01:56Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:01:56Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:01:57Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T12:01:59Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T12:01:59Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:01:59Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:01:59Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:02:01Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzAwMjEsImlhdCI6MTY1MDM2OTcyMSwiYXV0aF90aW1lIjoxNjUwMzY5NzE4LCJqdGkiOiIxMTk5ODQ3NS1hYmUyLTQ2NGMtOWJiMC0zNmRiY2Y3MzFhNTkiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJKZmlsUmtNRkU4dGVIM1dmeXFKaGRBIiwic2Vzc2lvbl9zdGF0ZSI6ImU1MWNlOTAzLTljNjYtNDJlNi05MjY4LTM3ZDRiZjBhNTZmYiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImU1MWNlOTAzLTljNjYtNDJlNi05MjY4LTM3ZDRiZjBhNTZmYiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.Sj1isvIRVCvxk6u8o5dnPKV8MrJs-LzWIzi8hIbCrHpR69vfUclF9QlaQR6j0grLcksgJawPro6xmbxifYS0DChcvXTSMtXvixBnzd_7v4xd5mUflCf9plJKnGFcseOUiPtD1adLIiVfZB_0ZyFQZ1c2FZSLg2dYsisui7fTOjR0d41dJWKsRJlF9VqRhTsMEOHuNm_1_Hu3Iaj38JiLf7uXPdZEJcmsY90f0dFVZDzOdc24nRVYzEbUCLI3JJLyjHMLawWTQ_Pp35WauhUZl0Vxqae3N2jZJCOVu7-a9-tFedyacH1wf1LHD7agy6Tsnznw01QwCqTH5Dp-e8SplQ
[2022-04-19T12:02:01Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T12:02:01Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T12:02:01Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzAwMjEsImlhdCI6MTY1MDM2OTcyMSwiYXV0aF90aW1lIjoxNjUwMzY5NzE4LCJqdGkiOiIxMTk5ODQ3NS1hYmUyLTQ2NGMtOWJiMC0zNmRiY2Y3MzFhNTkiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJKZmlsUmtNRkU4dGVIM1dmeXFKaGRBIiwic2Vzc2lvbl9zdGF0ZSI6ImU1MWNlOTAzLTljNjYtNDJlNi05MjY4LTM3ZDRiZjBhNTZmYiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImU1MWNlOTAzLTljNjYtNDJlNi05MjY4LTM3ZDRiZjBhNTZmYiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.Sj1isvIRVCvxk6u8o5dnPKV8MrJs-LzWIzi8hIbCrHpR69vfUclF9QlaQR6j0grLcksgJawPro6xmbxifYS0DChcvXTSMtXvixBnzd_7v4xd5mUflCf9plJKnGFcseOUiPtD1adLIiVfZB_0ZyFQZ1c2FZSLg2dYsisui7fTOjR0d41dJWKsRJlF9VqRhTsMEOHuNm_1_Hu3Iaj38JiLf7uXPdZEJcmsY90f0dFVZDzOdc24nRVYzEbUCLI3JJLyjHMLawWTQ_Pp35WauhUZl0Vxqae3N2jZJCOVu7-a9-tFedyacH1wf1LHD7agy6Tsnznw01QwCqTH5Dp-e8SplQ&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T12:02:01Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_1::integration_version_1::integration_ws_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T12:02:03Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T12:02:03Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T12:02:03Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:02:03Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:02:03Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:02:05Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T12:02:06Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T12:02:06Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:02:06Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:02:06Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:02:08Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzAwMjgsImlhdCI6MTY1MDM2OTcyOCwiYXV0aF90aW1lIjoxNjUwMzY5NzI1LCJqdGkiOiJiYjExNjk0OC1jMzhjLTQwNTktYjVhZC05YjIwMGY1Y2YyZGYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJQcnNSWWx0c0hjQXdlMFhZSGQydThnIiwic2Vzc2lvbl9zdGF0ZSI6IjlhYmJkYzA5LTg5YjktNDk4OS04NmU1LTllMGI3M2YxYzg5MCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjlhYmJkYzA5LTg5YjktNDk4OS04NmU1LTllMGI3M2YxYzg5MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.LqZ_MEKfwH1TmPFNPMNJKyapzszWFVSso66EE2vWxO3EyXZiTsaX-tmiYsqumfpKuaKTWntrg2quSMeJGGquD0StDrWLBYWV8rAXIGXUhZNbhWul4a-njFhBrHgDfoCLlIehAUTz12mrOuhKIwjdNILY9m91jTRXS1jlOtkezmbFJgaw4i2LRT_Fey2VG_qIRoM3n-hqzb1frfDYP5OLHPItv5-O_YRpX7Ix0hobZlofbetctLY1MTP5l2oP-0Z7CZf_69RhJoK9RkhQJeWCscdy3S7wnOVfrdW-nnDWZwY0I9YFrlndr8zKXOJwVykTudweb1qi0H4lzpAq-GDnww
[2022-04-19T12:02:08Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T12:02:08Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T12:02:08Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzAwMjgsImlhdCI6MTY1MDM2OTcyOCwiYXV0aF90aW1lIjoxNjUwMzY5NzI1LCJqdGkiOiJiYjExNjk0OC1jMzhjLTQwNTktYjVhZC05YjIwMGY1Y2YyZGYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJQcnNSWWx0c0hjQXdlMFhZSGQydThnIiwic2Vzc2lvbl9zdGF0ZSI6IjlhYmJkYzA5LTg5YjktNDk4OS04NmU1LTllMGI3M2YxYzg5MCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjlhYmJkYzA5LTg5YjktNDk4OS04NmU1LTllMGI3M2YxYzg5MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.LqZ_MEKfwH1TmPFNPMNJKyapzszWFVSso66EE2vWxO3EyXZiTsaX-tmiYsqumfpKuaKTWntrg2quSMeJGGquD0StDrWLBYWV8rAXIGXUhZNbhWul4a-njFhBrHgDfoCLlIehAUTz12mrOuhKIwjdNILY9m91jTRXS1jlOtkezmbFJgaw4i2LRT_Fey2VG_qIRoM3n-hqzb1frfDYP5OLHPItv5-O_YRpX7Ix0hobZlofbetctLY1MTP5l2oP-0Z7CZf_69RhJoK9RkhQJeWCscdy3S7wnOVfrdW-nnDWZwY0I9YFrlndr8zKXOJwVykTudweb1qi0H4lzpAq-GDnww&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T12:02:08Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_1::integration_version_2::integration_ws_1

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T12:02:11Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T12:02:11Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T12:02:11Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:02:11Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:02:11Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:02:12Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T12:02:13Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T12:02:13Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:02:13Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:02:13Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:02:15Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzAwMzUsImlhdCI6MTY1MDM2OTczNSwiYXV0aF90aW1lIjoxNjUwMzY5NzMyLCJqdGkiOiI1YmQ3MTIyZS0zNDNkLTRkNGQtYjdlYS05MGQwZTE2YzczYTIiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJqRjA1Yk45M1dLYjhreE4wdnFiRmxBIiwic2Vzc2lvbl9zdGF0ZSI6IjYzOWU1YmRhLWUzNTYtNDcxOC05MTYwLTE4MWI1ZTMyNjJmZCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjYzOWU1YmRhLWUzNTYtNDcxOC05MTYwLTE4MWI1ZTMyNjJmZCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.mmA50541kTBQzN8ziED1BUAJ5Iy4I8c_oSJJdjsG5Qdv4LH-5OqFzEKXg_coRevafATsHAifz-wNoOK2R4YG9s28P9s93ISo8chCgQPHVdnzf0L5KKPZiSoaQ1Rmb3EzaVZh6AxeYwaeUPRgdHviBy2Djg7Bs1VT52_6WTy62a0KFr8MMYcK7ZLd-B3lQQBv1rctbM2vWLd7iiFdH72ucnuVkm6eTKFRFizVNrUeIpOAxHKHJkLnrf7IHU57ZlbKfMmCvNdSQ7DiDodhnyKEomutqK7nmgkPdiV53AoWZR4-f2IIfnBaR_giliukadeEV9DQF9Ka8seBM4i9TtM-dA
[2022-04-19T12:02:15Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T12:02:15Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T12:02:15Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzAwMzUsImlhdCI6MTY1MDM2OTczNSwiYXV0aF90aW1lIjoxNjUwMzY5NzMyLCJqdGkiOiI1YmQ3MTIyZS0zNDNkLTRkNGQtYjdlYS05MGQwZTE2YzczYTIiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJqRjA1Yk45M1dLYjhreE4wdnFiRmxBIiwic2Vzc2lvbl9zdGF0ZSI6IjYzOWU1YmRhLWUzNTYtNDcxOC05MTYwLTE4MWI1ZTMyNjJmZCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjYzOWU1YmRhLWUzNTYtNDcxOC05MTYwLTE4MWI1ZTMyNjJmZCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.mmA50541kTBQzN8ziED1BUAJ5Iy4I8c_oSJJdjsG5Qdv4LH-5OqFzEKXg_coRevafATsHAifz-wNoOK2R4YG9s28P9s93ISo8chCgQPHVdnzf0L5KKPZiSoaQ1Rmb3EzaVZh6AxeYwaeUPRgdHviBy2Djg7Bs1VT52_6WTy62a0KFr8MMYcK7ZLd-B3lQQBv1rctbM2vWLd7iiFdH72ucnuVkm6eTKFRFizVNrUeIpOAxHKHJkLnrf7IHU57ZlbKfMmCvNdSQ7DiDodhnyKEomutqK7nmgkPdiV53AoWZR4-f2IIfnBaR_giliukadeEV9DQF9Ka8seBM4i9TtM-dA&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T12:02:15Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_1::integration_version_2::integration_ws_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T12:02:18Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T12:02:18Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T12:02:18Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:02:18Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:02:18Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:02:19Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T12:02:21Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T12:02:21Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:02:21Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:02:21Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:02:22Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzAwNDIsImlhdCI6MTY1MDM2OTc0MiwiYXV0aF90aW1lIjoxNjUwMzY5NzQwLCJqdGkiOiIyYjYzZmI4Mi1mNTUzLTQ4OTgtYTBlYy1iYmMzYmI1YjU3OGUiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJKNHdlSUxIZnNkdW0xamhVZ1haRUVnIiwic2Vzc2lvbl9zdGF0ZSI6IjE0ODFhOWFmLTA2OTAtNDAwOS04ODgwLTE1YjE2YjBkNzc2YSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjE0ODFhOWFmLTA2OTAtNDAwOS04ODgwLTE1YjE2YjBkNzc2YSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.gkxSleFSiZ7S_70zqwryNyXL64gCHo2l4KNbAiugsR9xxYOlaHFUwXtu9dd814b0Z7hMwxfrQ-SYMqOoB5tUGd6m9gZAtGV4qJuzNmaIhP8ydnQUJ4hcvGi_NTcDZuuyHhw-EMWF6v6n3SN-HrLy4dIfumwW4ZJB8PkkuX3wRoPb2XtjtyRpgwIGUdnIVVyJvbeaw_DSoTol6CtXwqtu-OX-eVB1RHIpWdUvSoNMmUpkLEQ5jJ6lJ7GTqSV512tYfMhpDp6hwgPpIv6LGc9pme2i-y2NC1U6yJJIPQ394_fjl4eT0uSLYMxtTCuEFAMNNGn4GPb7qQXuXaj2yDg6wQ
[2022-04-19T12:02:22Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T12:02:22Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T12:02:22Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzAwNDIsImlhdCI6MTY1MDM2OTc0MiwiYXV0aF90aW1lIjoxNjUwMzY5NzQwLCJqdGkiOiIyYjYzZmI4Mi1mNTUzLTQ4OTgtYTBlYy1iYmMzYmI1YjU3OGUiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJKNHdlSUxIZnNkdW0xamhVZ1haRUVnIiwic2Vzc2lvbl9zdGF0ZSI6IjE0ODFhOWFmLTA2OTAtNDAwOS04ODgwLTE1YjE2YjBkNzc2YSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjE0ODFhOWFmLTA2OTAtNDAwOS04ODgwLTE1YjE2YjBkNzc2YSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.gkxSleFSiZ7S_70zqwryNyXL64gCHo2l4KNbAiugsR9xxYOlaHFUwXtu9dd814b0Z7hMwxfrQ-SYMqOoB5tUGd6m9gZAtGV4qJuzNmaIhP8ydnQUJ4hcvGi_NTcDZuuyHhw-EMWF6v6n3SN-HrLy4dIfumwW4ZJB8PkkuX3wRoPb2XtjtyRpgwIGUdnIVVyJvbeaw_DSoTol6CtXwqtu-OX-eVB1RHIpWdUvSoNMmUpkLEQ5jJ6lJ7GTqSV512tYfMhpDp6hwgPpIv6LGc9pme2i-y2NC1U6yJJIPQ394_fjl4eT0uSLYMxtTCuEFAMNNGn4GPb7qQXuXaj2yDg6wQ&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T12:02:23Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_1::integration_version_3::integration_ws_1

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T12:02:25Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T12:02:25Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T12:02:25Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:02:25Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:02:25Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:02:26Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T12:02:28Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T12:02:28Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:02:28Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:02:28Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:02:30Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzAwNTAsImlhdCI6MTY1MDM2OTc1MCwiYXV0aF90aW1lIjoxNjUwMzY5NzQ3LCJqdGkiOiIwOWMyNGFjZC03NTlmLTQ1YjAtYWYyOC03ZDU1ZWVhNTM1NDYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJxOTUwVllCX05RNm1mV0d3c2dKVVZRIiwic2Vzc2lvbl9zdGF0ZSI6IjdkYTk3ZjZlLTI0NTQtNDczOS04OGNiLTFlYWJjMWZjOGY5ZCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjdkYTk3ZjZlLTI0NTQtNDczOS04OGNiLTFlYWJjMWZjOGY5ZCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.bjU2sPCKuNQ8m5sQM4zB6fs3loB9xM0GNZ6x5ImBUedU0SXBdjVfTOTbYaNYtKXE1YPDjXmag9H6cxl-ukBYbIKXxTmBX6fNuwlELD2khipnLHXwV0nEjP38HWd5UaWqd_ZppcsjB1athsfjdvX6sK_5Or65N-9vDMeVas5wqJo3pyK5kGKjQr77wScAsOMG9UAtDhiZTF3wZY4d_AVr0Kwel2kvVe_c2vzqGq6icHnoIVqIZAV13OyFCuVdgLaa7CoYgZZ4_RvLg4EFXFB7BDJT8pOSOXbY-oOKGz-50fhbos9da1K_qG-aooRwfG4Qwg3klJMmXdT4GUq8JTPitQ
[2022-04-19T12:02:30Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T12:02:30Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T12:02:30Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzAwNTAsImlhdCI6MTY1MDM2OTc1MCwiYXV0aF90aW1lIjoxNjUwMzY5NzQ3LCJqdGkiOiIwOWMyNGFjZC03NTlmLTQ1YjAtYWYyOC03ZDU1ZWVhNTM1NDYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJxOTUwVllCX05RNm1mV0d3c2dKVVZRIiwic2Vzc2lvbl9zdGF0ZSI6IjdkYTk3ZjZlLTI0NTQtNDczOS04OGNiLTFlYWJjMWZjOGY5ZCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjdkYTk3ZjZlLTI0NTQtNDczOS04OGNiLTFlYWJjMWZjOGY5ZCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.bjU2sPCKuNQ8m5sQM4zB6fs3loB9xM0GNZ6x5ImBUedU0SXBdjVfTOTbYaNYtKXE1YPDjXmag9H6cxl-ukBYbIKXxTmBX6fNuwlELD2khipnLHXwV0nEjP38HWd5UaWqd_ZppcsjB1athsfjdvX6sK_5Or65N-9vDMeVas5wqJo3pyK5kGKjQr77wScAsOMG9UAtDhiZTF3wZY4d_AVr0Kwel2kvVe_c2vzqGq6icHnoIVqIZAV13OyFCuVdgLaa7CoYgZZ4_RvLg4EFXFB7BDJT8pOSOXbY-oOKGz-50fhbos9da1K_qG-aooRwfG4Qwg3klJMmXdT4GUq8JTPitQ&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T12:02:30Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_1::integration_version_3::integration_ws_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T12:02:32Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T12:02:32Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T12:02:32Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:02:32Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:02:32Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:02:33Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T12:02:35Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T12:02:35Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:02:35Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:02:35Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:02:37Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzAwNTcsImlhdCI6MTY1MDM2OTc1NywiYXV0aF90aW1lIjoxNjUwMzY5NzU0LCJqdGkiOiIwMmQxMjlkOC1lYzgzLTRmNDItYmZmOS1iMjViZTk2MjhiN2MiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJuY09LQUg4OUlSR1BXM3RpeXNqZlpRIiwic2Vzc2lvbl9zdGF0ZSI6ImE2NGEzODU5LTFkMjktNDU4ZC05M2MyLTRlZTYwNzlkMDNiNyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImE2NGEzODU5LTFkMjktNDU4ZC05M2MyLTRlZTYwNzlkMDNiNyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.B8v-tJOvJyLJGsO24BVsXeI52-bWKGbv-R7J3kO6y3suw9pGzPuaYVDklDkcUTjwqLriKdyLfc4j34DQlnppstb8tep4Yve9r5izPOuDPP4--v_-P1Fx3H6grpTN9p1nbeMCXQvtJ5AfJGGKpSo0bLbSNmR04BvvlV0MW9D1TsGcIaMHHoGzUZo__k2V3KpXM5x4b4EeEa4Y5AXbwSWhwBGOq8kj1lLYqtaRSiRL_XZTXDndUDtQJtFVhSX-WKrq2rxymfsEqpu8Ahaz-H72BnhvdtUVvrJwVpCVuzo3PxpBXsEbNClnNfJB97DYCSfD7Dvd6GXUTc7CY8qj8bvlfg
[2022-04-19T12:02:37Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T12:02:37Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T12:02:37Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzAwNTcsImlhdCI6MTY1MDM2OTc1NywiYXV0aF90aW1lIjoxNjUwMzY5NzU0LCJqdGkiOiIwMmQxMjlkOC1lYzgzLTRmNDItYmZmOS1iMjViZTk2MjhiN2MiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJuY09LQUg4OUlSR1BXM3RpeXNqZlpRIiwic2Vzc2lvbl9zdGF0ZSI6ImE2NGEzODU5LTFkMjktNDU4ZC05M2MyLTRlZTYwNzlkMDNiNyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImE2NGEzODU5LTFkMjktNDU4ZC05M2MyLTRlZTYwNzlkMDNiNyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.B8v-tJOvJyLJGsO24BVsXeI52-bWKGbv-R7J3kO6y3suw9pGzPuaYVDklDkcUTjwqLriKdyLfc4j34DQlnppstb8tep4Yve9r5izPOuDPP4--v_-P1Fx3H6grpTN9p1nbeMCXQvtJ5AfJGGKpSo0bLbSNmR04BvvlV0MW9D1TsGcIaMHHoGzUZo__k2V3KpXM5x4b4EeEa4Y5AXbwSWhwBGOq8kj1lLYqtaRSiRL_XZTXDndUDtQJtFVhSX-WKrq2rxymfsEqpu8Ahaz-H72BnhvdtUVvrJwVpCVuzo3PxpBXsEbNClnNfJB97DYCSfD7Dvd6GXUTc7CY8qj8bvlfg&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T12:02:37Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_2::integration_version_1::integration_ws_1

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T12:02:40Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T12:02:40Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T12:02:40Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:02:40Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:02:40Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:02:41Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T12:02:42Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T12:02:42Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:02:42Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:02:42Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:02:44Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzAwNjQsImlhdCI6MTY1MDM2OTc2NCwiYXV0aF90aW1lIjoxNjUwMzY5NzYxLCJqdGkiOiI0MGM5OWU2NC0xYWMzLTQwY2EtYmQ4ZS04YmFhODU3NDVjZDMiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJDRXJNWkNpbXQ3bHdKd3djd3VuNkZ3Iiwic2Vzc2lvbl9zdGF0ZSI6ImZhZGJlNWNkLTg5YTAtNDg3MS05NDUzLWQ0ZGU0YzRlMGI4YyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImZhZGJlNWNkLTg5YTAtNDg3MS05NDUzLWQ0ZGU0YzRlMGI4YyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.g69g4Yxe8SHpAg9m5Jd3Vujta6k6PA_Gw6wyCOBtdieINlEg5vzsPFFuTs_4exlN4IyjvpS1KHGDJIFDMzwl276F33BWjqVc514ZsflyUTe_fzdrxM9e6mxynT9y3P9AmSYVARn5SLCTKJMaBJVgaDZbK8JuFo8ILUhp1C8XX7jRejJ7zkdI3VWOAuAtYBOVe271pJRjR_56IASX-YqM1P12LcUGD99dAK3Fl0ncDD85RgDvdmJOLDNGgCZpMvxDGmtE0ZPtNhwnB1ATs9Yi-My4F5VlrRYxEgYKdHPkpWUzxIVLgT3W0ePxw7H2kY5fTRfaVW-g-yfzR0pfRcGWcg
[2022-04-19T12:02:44Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T12:02:44Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T12:02:44Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzAwNjQsImlhdCI6MTY1MDM2OTc2NCwiYXV0aF90aW1lIjoxNjUwMzY5NzYxLCJqdGkiOiI0MGM5OWU2NC0xYWMzLTQwY2EtYmQ4ZS04YmFhODU3NDVjZDMiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJDRXJNWkNpbXQ3bHdKd3djd3VuNkZ3Iiwic2Vzc2lvbl9zdGF0ZSI6ImZhZGJlNWNkLTg5YTAtNDg3MS05NDUzLWQ0ZGU0YzRlMGI4YyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImZhZGJlNWNkLTg5YTAtNDg3MS05NDUzLWQ0ZGU0YzRlMGI4YyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.g69g4Yxe8SHpAg9m5Jd3Vujta6k6PA_Gw6wyCOBtdieINlEg5vzsPFFuTs_4exlN4IyjvpS1KHGDJIFDMzwl276F33BWjqVc514ZsflyUTe_fzdrxM9e6mxynT9y3P9AmSYVARn5SLCTKJMaBJVgaDZbK8JuFo8ILUhp1C8XX7jRejJ7zkdI3VWOAuAtYBOVe271pJRjR_56IASX-YqM1P12LcUGD99dAK3Fl0ncDD85RgDvdmJOLDNGgCZpMvxDGmtE0ZPtNhwnB1ATs9Yi-My4F5VlrRYxEgYKdHPkpWUzxIVLgT3W0ePxw7H2kY5fTRfaVW-g-yfzR0pfRcGWcg&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T12:02:44Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_2::integration_version_1::integration_ws_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T12:02:47Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T12:02:47Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T12:02:47Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:02:47Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:02:47Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:02:48Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T12:02:49Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T12:02:49Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:02:49Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:02:49Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:02:51Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzAwNzEsImlhdCI6MTY1MDM2OTc3MSwiYXV0aF90aW1lIjoxNjUwMzY5NzY4LCJqdGkiOiI2NDliZTQxOS1mZmQzLTQ2ZDYtOGY1Zi05ZTdhZjEzMDE4MzAiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJxN1k4S0N3NlYwLURvS2hFeC1JMUR3Iiwic2Vzc2lvbl9zdGF0ZSI6ImMyMmFjOTI3LTI4ZDktNDg3ZC04NzU0LWFiYzMxNWY4YjkwOSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImMyMmFjOTI3LTI4ZDktNDg3ZC04NzU0LWFiYzMxNWY4YjkwOSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.cpv5nV6FMbpw0PcS8aNGfvFE65YeB_256UV7KTschvXTrJpXhjFlHspkVesnJJX823ZylSS_lA6w58sHdYTp_Lxu-EZqDW9-X1R7neu0X1q2mO2XmT5XI0zOExBucB4QlgHEart8Xl0Ng5Eq6n9mMIGwzN4qY-6ttvoxrA37KpiSO2JHs-uBIIoTdPbxDFYC0uiGe9F3G3fgFC-GVdVWaP7ob0UDaleHODhw_04fcznZjTJx7WkN34rZv3gi05jhCiT-ZStambCidNZk_F27i4Vm0QcEmCzGuIgbAet_1n447HBs6S2JRLfagfJkjALPN6KEDnVU4va82OvLABz-SQ
[2022-04-19T12:02:51Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T12:02:51Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T12:02:51Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzAwNzEsImlhdCI6MTY1MDM2OTc3MSwiYXV0aF90aW1lIjoxNjUwMzY5NzY4LCJqdGkiOiI2NDliZTQxOS1mZmQzLTQ2ZDYtOGY1Zi05ZTdhZjEzMDE4MzAiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJxN1k4S0N3NlYwLURvS2hFeC1JMUR3Iiwic2Vzc2lvbl9zdGF0ZSI6ImMyMmFjOTI3LTI4ZDktNDg3ZC04NzU0LWFiYzMxNWY4YjkwOSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImMyMmFjOTI3LTI4ZDktNDg3ZC04NzU0LWFiYzMxNWY4YjkwOSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.cpv5nV6FMbpw0PcS8aNGfvFE65YeB_256UV7KTschvXTrJpXhjFlHspkVesnJJX823ZylSS_lA6w58sHdYTp_Lxu-EZqDW9-X1R7neu0X1q2mO2XmT5XI0zOExBucB4QlgHEart8Xl0Ng5Eq6n9mMIGwzN4qY-6ttvoxrA37KpiSO2JHs-uBIIoTdPbxDFYC0uiGe9F3G3fgFC-GVdVWaP7ob0UDaleHODhw_04fcznZjTJx7WkN34rZv3gi05jhCiT-ZStambCidNZk_F27i4Vm0QcEmCzGuIgbAet_1n447HBs6S2JRLfagfJkjALPN6KEDnVU4va82OvLABz-SQ&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T12:02:51Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_2::integration_version_2::integration_ws_1

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T12:02:54Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T12:02:54Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T12:02:54Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:02:54Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:02:54Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:02:55Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T12:02:57Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T12:02:57Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:02:57Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:02:57Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:02:59Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzAwNzksImlhdCI6MTY1MDM2OTc3OSwiYXV0aF90aW1lIjoxNjUwMzY5Nzc2LCJqdGkiOiIxODkyODc5OS0yMjYyLTRmMTItYjk0My00NjBiNWQzYzExNzkiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJUX1duVUFqX1FHcVRNdUxFTUpyTk5RIiwic2Vzc2lvbl9zdGF0ZSI6ImE0YmI5NThlLTMyM2UtNGI3Zi04ZmE0LWFiODQ4ZTc4ZGFkZSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImE0YmI5NThlLTMyM2UtNGI3Zi04ZmE0LWFiODQ4ZTc4ZGFkZSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.nSaWKmk3lwDPbfIY5cj4JhkgGlzzqg2PDTIrAxXEQ_lIFjV2EVvDCl_ozeHdas527gCFRTD272VUVF0UKDlfYNlW6y1lS_kJtC7Il4_Z0oIQgPIKvCXBeA-Ky8056tLhS8VRfmp4taCWa0H2pE6Ij3nEVEzM_50Z1q7YxPq1gu2paFEajhfgURZ2ex7I6jLNfO0gr7IRhYXJU5Ag1vfpTiIx87rP5Kl3VHTYhA-MBves2ouI6fZF3yYsejJ0UKoA2sLKL9vO8SF5PyexPFvBUJl2n1fUXtiI47oQZevsSvGhY5YCTJM7ECyKHQZdQpa1R0VVwpdE-TaYD8RQsnwr7w
[2022-04-19T12:02:59Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T12:02:59Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T12:02:59Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzAwNzksImlhdCI6MTY1MDM2OTc3OSwiYXV0aF90aW1lIjoxNjUwMzY5Nzc2LCJqdGkiOiIxODkyODc5OS0yMjYyLTRmMTItYjk0My00NjBiNWQzYzExNzkiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJUX1duVUFqX1FHcVRNdUxFTUpyTk5RIiwic2Vzc2lvbl9zdGF0ZSI6ImE0YmI5NThlLTMyM2UtNGI3Zi04ZmE0LWFiODQ4ZTc4ZGFkZSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImE0YmI5NThlLTMyM2UtNGI3Zi04ZmE0LWFiODQ4ZTc4ZGFkZSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.nSaWKmk3lwDPbfIY5cj4JhkgGlzzqg2PDTIrAxXEQ_lIFjV2EVvDCl_ozeHdas527gCFRTD272VUVF0UKDlfYNlW6y1lS_kJtC7Il4_Z0oIQgPIKvCXBeA-Ky8056tLhS8VRfmp4taCWa0H2pE6Ij3nEVEzM_50Z1q7YxPq1gu2paFEajhfgURZ2ex7I6jLNfO0gr7IRhYXJU5Ag1vfpTiIx87rP5Kl3VHTYhA-MBves2ouI6fZF3yYsejJ0UKoA2sLKL9vO8SF5PyexPFvBUJl2n1fUXtiI47oQZevsSvGhY5YCTJM7ECyKHQZdQpa1R0VVwpdE-TaYD8RQsnwr7w&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T12:02:59Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_2::integration_version_2::integration_ws_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T12:03:01Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T12:03:01Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T12:03:01Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:03:01Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:03:01Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:03:03Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T12:03:04Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T12:03:04Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:03:04Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:03:04Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:03:06Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzAwODYsImlhdCI6MTY1MDM2OTc4NiwiYXV0aF90aW1lIjoxNjUwMzY5NzgzLCJqdGkiOiI4ZGQ3NjFiZS1mYWFlLTQzY2UtODhmMi02YzM1YTBmYThkMzciLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJuem05ZUZxd3dYSldILXp1eWQyTEtRIiwic2Vzc2lvbl9zdGF0ZSI6ImIxNmJjNDg3LWUyODAtNDA1OS1hYzkwLTVhNzZlNGY5YTkyNiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImIxNmJjNDg3LWUyODAtNDA1OS1hYzkwLTVhNzZlNGY5YTkyNiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.im82l-BYAVtjrQV_p9zoLyXBPY9HCoe43scEGXxmpy_Mo4vR-TuNoIZ2ijLZmRxImwh6yEO4-3uKidnv0ld0bA7lKx4LTmAnDdCFYWSF5Z5yMcGrB74zwAIJCwtc0XIzaZoreUfhqOzttW3MyTr1x91OiES52W04OqZQh9IQpGcRz9QYcpqOLQDSYRpaaJwlHx6z8l8V6nlCrEDafTVqhzNOXaq5blCUasoExEtfp2Etn9pxTmu1eL9YRWMQRvmJsz4M8kX3oEV5tFeuIjzPXoQN1cLE12yapk21EEIP65uBlIXgMhkWAdZZZJ1eSwzIoxwmhx6i-oMCyz6i7UpJuA
[2022-04-19T12:03:06Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T12:03:06Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T12:03:06Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzAwODYsImlhdCI6MTY1MDM2OTc4NiwiYXV0aF90aW1lIjoxNjUwMzY5NzgzLCJqdGkiOiI4ZGQ3NjFiZS1mYWFlLTQzY2UtODhmMi02YzM1YTBmYThkMzciLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJuem05ZUZxd3dYSldILXp1eWQyTEtRIiwic2Vzc2lvbl9zdGF0ZSI6ImIxNmJjNDg3LWUyODAtNDA1OS1hYzkwLTVhNzZlNGY5YTkyNiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImIxNmJjNDg3LWUyODAtNDA1OS1hYzkwLTVhNzZlNGY5YTkyNiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.im82l-BYAVtjrQV_p9zoLyXBPY9HCoe43scEGXxmpy_Mo4vR-TuNoIZ2ijLZmRxImwh6yEO4-3uKidnv0ld0bA7lKx4LTmAnDdCFYWSF5Z5yMcGrB74zwAIJCwtc0XIzaZoreUfhqOzttW3MyTr1x91OiES52W04OqZQh9IQpGcRz9QYcpqOLQDSYRpaaJwlHx6z8l8V6nlCrEDafTVqhzNOXaq5blCUasoExEtfp2Etn9pxTmu1eL9YRWMQRvmJsz4M8kX3oEV5tFeuIjzPXoQN1cLE12yapk21EEIP65uBlIXgMhkWAdZZZJ1eSwzIoxwmhx6i-oMCyz6i7UpJuA&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T12:03:06Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_2::integration_version_3::integration_ws_1

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T12:03:09Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T12:03:09Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T12:03:09Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:03:09Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:03:09Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:03:10Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T12:03:12Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T12:03:12Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:03:12Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:03:12Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:03:14Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzAwOTMsImlhdCI6MTY1MDM2OTc5MywiYXV0aF90aW1lIjoxNjUwMzY5NzkxLCJqdGkiOiI4Y2UzZjQ4Mi0xZGM0LTQwYTItYTM0Ni1jMGNmNTZkNTIxZWEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJiLXZMYjloOXpjc3ZqcjV3ZEt6ZzhnIiwic2Vzc2lvbl9zdGF0ZSI6IjE5ZDI0NmNhLWE4OTMtNDM2ZC1iZmIzLTM3ZWM3NTY0YTM1MiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjE5ZDI0NmNhLWE4OTMtNDM2ZC1iZmIzLTM3ZWM3NTY0YTM1MiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.HPKGC6Q2P4x7A6pSdgmmoxLN-jUzPQ22ZnK1dfX_t-aNhcifQ1GZ81wvuD60-fCo9eQbvK7jsSi0nkusdpWDkNF3k4GlKmuW8yXS5WrVUqfK3uX2dsYlk78dUAnqJ1ewhU7i8mNvPbDQSmX5cmLA5AcWlVFLEx9Mgb2b4e2IZpsg6trMoUdWI-agyO3QwrlAqTRssJKyUTtekRtPxovLB8uu2nSToRxx_yVVTqIM92Qeh8UuxSWxHX1VIVsfPHYeF6wzDsVQhgGtDLp1uWz1gx5l2Z4GP3CUx_i8sCXDF5rDkgaE8jdyaLNqACtK5Pw2Xmi4byf-ds574elk2ORPcA
[2022-04-19T12:03:14Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T12:03:14Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T12:03:14Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzAwOTMsImlhdCI6MTY1MDM2OTc5MywiYXV0aF90aW1lIjoxNjUwMzY5NzkxLCJqdGkiOiI4Y2UzZjQ4Mi0xZGM0LTQwYTItYTM0Ni1jMGNmNTZkNTIxZWEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJiLXZMYjloOXpjc3ZqcjV3ZEt6ZzhnIiwic2Vzc2lvbl9zdGF0ZSI6IjE5ZDI0NmNhLWE4OTMtNDM2ZC1iZmIzLTM3ZWM3NTY0YTM1MiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjE5ZDI0NmNhLWE4OTMtNDM2ZC1iZmIzLTM3ZWM3NTY0YTM1MiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.HPKGC6Q2P4x7A6pSdgmmoxLN-jUzPQ22ZnK1dfX_t-aNhcifQ1GZ81wvuD60-fCo9eQbvK7jsSi0nkusdpWDkNF3k4GlKmuW8yXS5WrVUqfK3uX2dsYlk78dUAnqJ1ewhU7i8mNvPbDQSmX5cmLA5AcWlVFLEx9Mgb2b4e2IZpsg6trMoUdWI-agyO3QwrlAqTRssJKyUTtekRtPxovLB8uu2nSToRxx_yVVTqIM92Qeh8UuxSWxHX1VIVsfPHYeF6wzDsVQhgGtDLp1uWz1gx5l2Z4GP3CUx_i8sCXDF5rDkgaE8jdyaLNqACtK5Pw2Xmi4byf-ds574elk2ORPcA&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T12:03:14Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_2::integration_version_3::integration_ws_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T12:03:16Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T12:03:16Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T12:03:16Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:03:16Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:03:16Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:03:18Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T12:03:19Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T12:03:19Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:03:19Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:03:19Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:03:21Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzAxMDEsImlhdCI6MTY1MDM2OTgwMSwiYXV0aF90aW1lIjoxNjUwMzY5Nzk4LCJqdGkiOiI2OGFjODVjNC1lZWVlLTRiNjktYTQyNC05NzViNjgyOGZlOGMiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiI1Ry1PQnprcFhvWHMzYzdWLUFIQzdnIiwic2Vzc2lvbl9zdGF0ZSI6IjYwNGUxNWNhLWM4YmMtNGIzZC05MTg2LWIzODQ0NjE0MjE1ZCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjYwNGUxNWNhLWM4YmMtNGIzZC05MTg2LWIzODQ0NjE0MjE1ZCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.Xz3yHsQyCRm5OL-aA2WLzMyPjJFtqYRaEvjv5U4iODOIFKe3pmXw2H2HWVGAITgOLcoNfeAgNa3NCVUHZEwMMVo8AiRCvD_jzkSlA4EW7dzJKxt82HBdCtfa2hiD8iuDXBZbjVFucTpCLSO5F6OaYWyVCd0eb2Wcy5Wxw5URUUR0YwQfy42MS3fxkDYldhWlpSkE0uudHB7e4yc7ccIckqITpjhmjEi4AKO2QkQdHqVcw290qnnCW6ciqS-JRRohephnHsgrPtToaPtJ6MZCoEJbpjL-VyR-GO8uJ0fGzl2x5QfcAUPWK_vBFTCP-jZdnlYae5-BtYbKSIlGD-Bieg
[2022-04-19T12:03:21Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T12:03:21Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T12:03:21Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzAxMDEsImlhdCI6MTY1MDM2OTgwMSwiYXV0aF90aW1lIjoxNjUwMzY5Nzk4LCJqdGkiOiI2OGFjODVjNC1lZWVlLTRiNjktYTQyNC05NzViNjgyOGZlOGMiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiI1Ry1PQnprcFhvWHMzYzdWLUFIQzdnIiwic2Vzc2lvbl9zdGF0ZSI6IjYwNGUxNWNhLWM4YmMtNGIzZC05MTg2LWIzODQ0NjE0MjE1ZCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjYwNGUxNWNhLWM4YmMtNGIzZC05MTg2LWIzODQ0NjE0MjE1ZCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.Xz3yHsQyCRm5OL-aA2WLzMyPjJFtqYRaEvjv5U4iODOIFKe3pmXw2H2HWVGAITgOLcoNfeAgNa3NCVUHZEwMMVo8AiRCvD_jzkSlA4EW7dzJKxt82HBdCtfa2hiD8iuDXBZbjVFucTpCLSO5F6OaYWyVCd0eb2Wcy5Wxw5URUUR0YwQfy42MS3fxkDYldhWlpSkE0uudHB7e4yc7ccIckqITpjhmjEi4AKO2QkQdHqVcw290qnnCW6ciqS-JRRohephnHsgrPtToaPtJ6MZCoEJbpjL-VyR-GO8uJ0fGzl2x5QfcAUPWK_vBFTCP-jZdnlYae5-BtYbKSIlGD-Bieg&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T12:03:21Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_1::integration_version_1::integration_ws_1

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T12:03:24Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T12:03:24Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T12:03:24Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:03:24Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:03:24Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:03:25Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T12:03:26Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T12:03:26Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:03:26Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:03:26Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:03:28Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzAxMDgsImlhdCI6MTY1MDM2OTgwOCwiYXV0aF90aW1lIjoxNjUwMzY5ODA1LCJqdGkiOiIyYTJjM2ExYS05NGNiLTQ5YjYtYTUzMC01M2Q4NjAxMzM0MGEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiIyYUlfUjd5ZENIeVh5UzBoS3pJNTl3Iiwic2Vzc2lvbl9zdGF0ZSI6ImJiZjRmMzE0LTBlM2UtNGRjOS04OTM5LWViYjA3ZjA3OTA4ZSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImJiZjRmMzE0LTBlM2UtNGRjOS04OTM5LWViYjA3ZjA3OTA4ZSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.K8upr5o4dFuNI-EskgB0pRT8-3vn_AGw7n2CDNrjYKUxxlQzDtIzWy8We8tnGOisXHOMCCyQB2EtwC4lgsDcmntN38Jt4edkU4_3UCE9NGA4QKZ7Bt_zb2c267-UOq3rZHh68NjdwoEjnQBTTY5g80RBl18L_tEM5H5tgqNXgaVaE9z1PmyJQyAl3_1CmfvmvJPF49HpgKkW7YE9heghX-aINGhfC-KjwhnYrbsB0CQhYM6D6iamSMvlTggJ4jZPeGzD0hwuyfqSltea2Kdcs2pL9MFUNShPx1f8u33ucm62VDY4HVV_QzH9p6pVnWmsz1MQoHNXRzikQ1bzypXonw
[2022-04-19T12:03:28Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T12:03:28Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T12:03:28Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzAxMDgsImlhdCI6MTY1MDM2OTgwOCwiYXV0aF90aW1lIjoxNjUwMzY5ODA1LCJqdGkiOiIyYTJjM2ExYS05NGNiLTQ5YjYtYTUzMC01M2Q4NjAxMzM0MGEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiIyYUlfUjd5ZENIeVh5UzBoS3pJNTl3Iiwic2Vzc2lvbl9zdGF0ZSI6ImJiZjRmMzE0LTBlM2UtNGRjOS04OTM5LWViYjA3ZjA3OTA4ZSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImJiZjRmMzE0LTBlM2UtNGRjOS04OTM5LWViYjA3ZjA3OTA4ZSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.K8upr5o4dFuNI-EskgB0pRT8-3vn_AGw7n2CDNrjYKUxxlQzDtIzWy8We8tnGOisXHOMCCyQB2EtwC4lgsDcmntN38Jt4edkU4_3UCE9NGA4QKZ7Bt_zb2c267-UOq3rZHh68NjdwoEjnQBTTY5g80RBl18L_tEM5H5tgqNXgaVaE9z1PmyJQyAl3_1CmfvmvJPF49HpgKkW7YE9heghX-aINGhfC-KjwhnYrbsB0CQhYM6D6iamSMvlTggJ4jZPeGzD0hwuyfqSltea2Kdcs2pL9MFUNShPx1f8u33ucm62VDY4HVV_QzH9p6pVnWmsz1MQoHNXRzikQ1bzypXonw&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T12:03:28Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_1::integration_version_1::integration_ws_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T12:03:31Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T12:03:31Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T12:03:31Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:03:31Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:03:31Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:03:32Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T12:03:34Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T12:03:34Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:03:34Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:03:34Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:03:35Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzAxMTUsImlhdCI6MTY1MDM2OTgxNSwiYXV0aF90aW1lIjoxNjUwMzY5ODEzLCJqdGkiOiI1NWZhOTg4Yi01ODkxLTRjNDEtYTA0Ny1jZTQ1YmM0YmU5NDciLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJZclBwRFkwODdoQVA1VHVJd2lqWmxnIiwic2Vzc2lvbl9zdGF0ZSI6IjEyZTMzMWIwLWI3NGUtNDhkYS1hZmRlLTdjMGJhNjI1ZjdjYyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjEyZTMzMWIwLWI3NGUtNDhkYS1hZmRlLTdjMGJhNjI1ZjdjYyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.HBkH3G9Pvk7X87ntQww7zuR98WIIlj1fdbqcv3avIoYx8f4mg2Ln9Ab9JAZ4HHjTTXyq3MbDyh1tLtxlLqFWRY4lrkVJZf7Js8OZyis6YB9t-kcje3V6BAN-p6YPclAi6GUPYfK0AGxQIecSfuZ0nhprGcNCk95rF8MJWCANODbz47xGyZ0k7z0trMsJUvQZWgx8noMw9SaCTCAZyIG9O1WDAosmb-SM2Y5Bv_MTde-cuUaxsjqapd0_sW-O3AVskIN25steP9L_aUp-xtF6cGp810oPa1wcBCsmmuH0bJuix-S87CUCI60UXhn5WxqlPiObZitItMO5IcrUIHGt0A
[2022-04-19T12:03:35Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T12:03:35Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T12:03:35Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzAxMTUsImlhdCI6MTY1MDM2OTgxNSwiYXV0aF90aW1lIjoxNjUwMzY5ODEzLCJqdGkiOiI1NWZhOTg4Yi01ODkxLTRjNDEtYTA0Ny1jZTQ1YmM0YmU5NDciLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJZclBwRFkwODdoQVA1VHVJd2lqWmxnIiwic2Vzc2lvbl9zdGF0ZSI6IjEyZTMzMWIwLWI3NGUtNDhkYS1hZmRlLTdjMGJhNjI1ZjdjYyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjEyZTMzMWIwLWI3NGUtNDhkYS1hZmRlLTdjMGJhNjI1ZjdjYyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.HBkH3G9Pvk7X87ntQww7zuR98WIIlj1fdbqcv3avIoYx8f4mg2Ln9Ab9JAZ4HHjTTXyq3MbDyh1tLtxlLqFWRY4lrkVJZf7Js8OZyis6YB9t-kcje3V6BAN-p6YPclAi6GUPYfK0AGxQIecSfuZ0nhprGcNCk95rF8MJWCANODbz47xGyZ0k7z0trMsJUvQZWgx8noMw9SaCTCAZyIG9O1WDAosmb-SM2Y5Bv_MTde-cuUaxsjqapd0_sW-O3AVskIN25steP9L_aUp-xtF6cGp810oPa1wcBCsmmuH0bJuix-S87CUCI60UXhn5WxqlPiObZitItMO5IcrUIHGt0A&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T12:03:36Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_1::integration_version_2::integration_ws_1

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T12:03:38Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T12:03:38Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T12:03:38Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:03:38Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:03:38Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:03:39Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T12:03:41Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T12:03:41Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:03:41Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:03:41Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:03:43Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzAxMjIsImlhdCI6MTY1MDM2OTgyMiwiYXV0aF90aW1lIjoxNjUwMzY5ODIwLCJqdGkiOiJjMGQxZmFmMS1jMWJjLTRkYTQtYWVjZC1hYzRjZWNiOGUxMzAiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJGWU44d1owQ2VIaEExR2JFU0FwNnpBIiwic2Vzc2lvbl9zdGF0ZSI6IjMzZDg3OTc0LTI3NDMtNDEzNC1hY2ViLTcyY2EzZmQxNjVhYSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjMzZDg3OTc0LTI3NDMtNDEzNC1hY2ViLTcyY2EzZmQxNjVhYSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.OkzcM14YSDB3Wnc1IOGfDzV9tkXl7INWwIvrRuGHr5jjnQ1tvvieRf0GVzWvXe0Gc_NGm0joPwi7DQS_fu6OrGdyJbCWU-BiBYboNIVgvwZ0oAxLfglQhdy3wCmK04TEvqAQRFhzE6eTbLUIaEDNrjY0KFf8VOkGmpuVVWO0vHCzgz1-jPje4PjLsfXb5rSh6Z8hpnTCjqTEb9lJ1rr_bBZMuAfsEFHxbIu1BBUBVQu_VdR4NiNcxIbBpQmpKIuY_bCBtoXacmkKzR5b1hYpX8YuQhmXidZ740GGVjve5ErVL4hIhwTY6tWtp5O8RGt2BOb4_Tkiko9YM0OWJF4bNA
[2022-04-19T12:03:43Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T12:03:43Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T12:03:43Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzAxMjIsImlhdCI6MTY1MDM2OTgyMiwiYXV0aF90aW1lIjoxNjUwMzY5ODIwLCJqdGkiOiJjMGQxZmFmMS1jMWJjLTRkYTQtYWVjZC1hYzRjZWNiOGUxMzAiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJGWU44d1owQ2VIaEExR2JFU0FwNnpBIiwic2Vzc2lvbl9zdGF0ZSI6IjMzZDg3OTc0LTI3NDMtNDEzNC1hY2ViLTcyY2EzZmQxNjVhYSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjMzZDg3OTc0LTI3NDMtNDEzNC1hY2ViLTcyY2EzZmQxNjVhYSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.OkzcM14YSDB3Wnc1IOGfDzV9tkXl7INWwIvrRuGHr5jjnQ1tvvieRf0GVzWvXe0Gc_NGm0joPwi7DQS_fu6OrGdyJbCWU-BiBYboNIVgvwZ0oAxLfglQhdy3wCmK04TEvqAQRFhzE6eTbLUIaEDNrjY0KFf8VOkGmpuVVWO0vHCzgz1-jPje4PjLsfXb5rSh6Z8hpnTCjqTEb9lJ1rr_bBZMuAfsEFHxbIu1BBUBVQu_VdR4NiNcxIbBpQmpKIuY_bCBtoXacmkKzR5b1hYpX8YuQhmXidZ740GGVjve5ErVL4hIhwTY6tWtp5O8RGt2BOb4_Tkiko9YM0OWJF4bNA&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T12:03:43Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_1::integration_version_2::integration_ws_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T12:03:45Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T12:03:45Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T12:03:45Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:03:45Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:03:45Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:03:47Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T12:03:48Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T12:03:48Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:03:48Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:03:48Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:03:50Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzAxMzAsImlhdCI6MTY1MDM2OTgzMCwiYXV0aF90aW1lIjoxNjUwMzY5ODI3LCJqdGkiOiJjYzM1MDA0Zi0yM2NmLTQwMTUtODQ5NS1iMDEzYWViYTFjYzQiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJMYVJfU0R4eEVRa3hLc0J2WHJXUUtBIiwic2Vzc2lvbl9zdGF0ZSI6ImEyMTA3MDg0LWI3YTYtNGJlYy05YmQyLTU3YmViNDdiYWVmMCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImEyMTA3MDg0LWI3YTYtNGJlYy05YmQyLTU3YmViNDdiYWVmMCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.FtWWsc_AaK4Fh3AkYtMURPxE5mZtai_-SmN2oe1dBg5HPR8er5KctDSnHo795_lFkj27L7GQkzfoujFGIOm_9EzBOAbwoDZyFV05KMunsnl_rxn3v3Hvq0kTp613l-nHPboPlLZTD5Lq3rs5wFxtSobOw1qau9koYDvBnUJC2xECrEXJwPd3Ay4ngV32rUWWj31fNFIzK7AthOd0W030pjn__Tx2inly7-wFCOW01VaQ4uv87DLTazbof5ZQv6EMGkbXwSio15atLubTfxxHhC1NdfDWpCDpMMJHeBaOxoOX_InZKB1fKeEvZGNrBpDwiV9mVv838eUSMEmZo_F0HQ
[2022-04-19T12:03:50Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T12:03:50Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T12:03:50Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzAxMzAsImlhdCI6MTY1MDM2OTgzMCwiYXV0aF90aW1lIjoxNjUwMzY5ODI3LCJqdGkiOiJjYzM1MDA0Zi0yM2NmLTQwMTUtODQ5NS1iMDEzYWViYTFjYzQiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJMYVJfU0R4eEVRa3hLc0J2WHJXUUtBIiwic2Vzc2lvbl9zdGF0ZSI6ImEyMTA3MDg0LWI3YTYtNGJlYy05YmQyLTU3YmViNDdiYWVmMCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImEyMTA3MDg0LWI3YTYtNGJlYy05YmQyLTU3YmViNDdiYWVmMCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.FtWWsc_AaK4Fh3AkYtMURPxE5mZtai_-SmN2oe1dBg5HPR8er5KctDSnHo795_lFkj27L7GQkzfoujFGIOm_9EzBOAbwoDZyFV05KMunsnl_rxn3v3Hvq0kTp613l-nHPboPlLZTD5Lq3rs5wFxtSobOw1qau9koYDvBnUJC2xECrEXJwPd3Ay4ngV32rUWWj31fNFIzK7AthOd0W030pjn__Tx2inly7-wFCOW01VaQ4uv87DLTazbof5ZQv6EMGkbXwSio15atLubTfxxHhC1NdfDWpCDpMMJHeBaOxoOX_InZKB1fKeEvZGNrBpDwiV9mVv838eUSMEmZo_F0HQ&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T12:03:50Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_1::integration_version_3::integration_ws_1

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T12:03:53Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T12:03:53Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T12:03:53Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:03:53Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:03:53Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:03:54Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T12:03:56Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T12:03:56Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:03:56Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:03:56Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:03:57Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzAxMzcsImlhdCI6MTY1MDM2OTgzNywiYXV0aF90aW1lIjoxNjUwMzY5ODM0LCJqdGkiOiJjMzlhZGU4NS04ODNkLTRmOTItOGRkYS0wYmU1YzUxOGVmYzMiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJfdnNzaThPODdPQm0wRTNWWUV4bFR3Iiwic2Vzc2lvbl9zdGF0ZSI6ImM4MjZhZGYyLTM0N2QtNDAwZi05OTAzLWFhODJjNmYzOTlhMCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImM4MjZhZGYyLTM0N2QtNDAwZi05OTAzLWFhODJjNmYzOTlhMCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.NJxZ4VXli0nYpW1eG0frNphy52i5jzTpq2DqsP2Hw-A2C8QXPaBXQMUIob63aV_Faru1k8OId4Lwx-SlhXfM_4Jurt14kI-gpDzhH2nhxhbOfHoqR2Mo-APNo8hY1ULTI2UxTnh-HkO0PRiXerSY9ZVJqm_mC0wP9D60u8NsvO9Ffj8d7mln1AEVKIC6XPPjOdhRgdurIvtNcLRxMU3HAXpmd0_KyGhBCp7z3vb5QKQlYlInOLaAqso5_U0GA5BQf_sV33GTFZg1eXnr4cOkOOq92I-Uh1oWfes3jaBOrYyhBpwUTGRsQ2EYc0h1YogRyoes5qgmF0tKbfDP6q-2JA
[2022-04-19T12:03:57Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T12:03:57Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T12:03:57Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzAxMzcsImlhdCI6MTY1MDM2OTgzNywiYXV0aF90aW1lIjoxNjUwMzY5ODM0LCJqdGkiOiJjMzlhZGU4NS04ODNkLTRmOTItOGRkYS0wYmU1YzUxOGVmYzMiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJfdnNzaThPODdPQm0wRTNWWUV4bFR3Iiwic2Vzc2lvbl9zdGF0ZSI6ImM4MjZhZGYyLTM0N2QtNDAwZi05OTAzLWFhODJjNmYzOTlhMCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImM4MjZhZGYyLTM0N2QtNDAwZi05OTAzLWFhODJjNmYzOTlhMCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.NJxZ4VXli0nYpW1eG0frNphy52i5jzTpq2DqsP2Hw-A2C8QXPaBXQMUIob63aV_Faru1k8OId4Lwx-SlhXfM_4Jurt14kI-gpDzhH2nhxhbOfHoqR2Mo-APNo8hY1ULTI2UxTnh-HkO0PRiXerSY9ZVJqm_mC0wP9D60u8NsvO9Ffj8d7mln1AEVKIC6XPPjOdhRgdurIvtNcLRxMU3HAXpmd0_KyGhBCp7z3vb5QKQlYlInOLaAqso5_U0GA5BQf_sV33GTFZg1eXnr4cOkOOq92I-Uh1oWfes3jaBOrYyhBpwUTGRsQ2EYc0h1YogRyoes5qgmF0tKbfDP6q-2JA&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T12:03:58Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_1::integration_version_3::integration_ws_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T12:04:00Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T12:04:00Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T12:04:00Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:04:00Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:04:00Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:04:01Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T12:04:03Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T12:04:03Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:04:03Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:04:03Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:04:05Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzAxNDQsImlhdCI6MTY1MDM2OTg0NCwiYXV0aF90aW1lIjoxNjUwMzY5ODQyLCJqdGkiOiIxZDRkZmFmMC01ZjU5LTRhMDQtOGFiZi05YmRkZjAxMTk5ZTgiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJ3VVVvQkNld084MThFcUhlS2g3dmR3Iiwic2Vzc2lvbl9zdGF0ZSI6IjA4NjY1ZjA5LTdiMzktNDE4Mi1hNzE3LTMxYjYxYjAzZGMxZCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjA4NjY1ZjA5LTdiMzktNDE4Mi1hNzE3LTMxYjYxYjAzZGMxZCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.BJSYlMV7NOKCfVhePBVh3c8NeciDIr3ID2NOM6aOPIB5OQMIcNpuO1dG7Twuv2UvYC0g6llqIry8_KnjQG007TwefvuG0SNAOOyC1-3Py1U63ziGrfrGyJz0ne216Cx0i0EVSzHqEjm5htWd-JCASgmO3rJS7HjnBCOHAVVWkMz3hf7QAZ0QCEsuWZWBhJ-3R06wV4IE9Y1VXgqNJiO9yBAc4ml3LvjWKj7wKs3Ab-7JE2OLWtZkbcTecJT0BxnObaAfcYLytMfR-zL1lO3S8s_EnM_fnxlinxx8HcvFU23eS-IRGkhMTj8-0iQXLxPkTkne-7LN_3hzgLAbbUNj1A
[2022-04-19T12:04:05Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T12:04:05Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T12:04:05Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzAxNDQsImlhdCI6MTY1MDM2OTg0NCwiYXV0aF90aW1lIjoxNjUwMzY5ODQyLCJqdGkiOiIxZDRkZmFmMC01ZjU5LTRhMDQtOGFiZi05YmRkZjAxMTk5ZTgiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJ3VVVvQkNld084MThFcUhlS2g3dmR3Iiwic2Vzc2lvbl9zdGF0ZSI6IjA4NjY1ZjA5LTdiMzktNDE4Mi1hNzE3LTMxYjYxYjAzZGMxZCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjA4NjY1ZjA5LTdiMzktNDE4Mi1hNzE3LTMxYjYxYjAzZGMxZCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.BJSYlMV7NOKCfVhePBVh3c8NeciDIr3ID2NOM6aOPIB5OQMIcNpuO1dG7Twuv2UvYC0g6llqIry8_KnjQG007TwefvuG0SNAOOyC1-3Py1U63ziGrfrGyJz0ne216Cx0i0EVSzHqEjm5htWd-JCASgmO3rJS7HjnBCOHAVVWkMz3hf7QAZ0QCEsuWZWBhJ-3R06wV4IE9Y1VXgqNJiO9yBAc4ml3LvjWKj7wKs3Ab-7JE2OLWtZkbcTecJT0BxnObaAfcYLytMfR-zL1lO3S8s_EnM_fnxlinxx8HcvFU23eS-IRGkhMTj8-0iQXLxPkTkne-7LN_3hzgLAbbUNj1A&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T12:04:05Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_2::integration_version_1::integration_ws_1

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T12:04:07Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T12:04:07Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T12:04:07Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:04:07Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:04:07Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:04:08Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T12:04:10Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T12:04:10Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:04:10Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:04:10Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:04:12Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzAxNTIsImlhdCI6MTY1MDM2OTg1MiwiYXV0aF90aW1lIjoxNjUwMzY5ODQ5LCJqdGkiOiI3ZGFiNjE0NC1iYTVjLTRlNmUtODQ3NC1mOWZhM2RlNTUyMmUiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJYQzBCX05zNjNmaEZsbk1QSGg0Wmt3Iiwic2Vzc2lvbl9zdGF0ZSI6Ijg0MWY2N2NmLTNiN2UtNGFiOC1iOWViLTQ5Yjg1NmEyNjYyOCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6Ijg0MWY2N2NmLTNiN2UtNGFiOC1iOWViLTQ5Yjg1NmEyNjYyOCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.lVb-cdkxoXbuGp9MGD0EflYMLg0MbKdPGMcBbAd2HCGMCWFmrVLzosYyv1JHJnDVZ5J19heUkfTHwjbf_q-od_BT1sBr4ZSujoKnvwCjRc2y_1oND2fF_ab8AD8v0KGrhwekUCdvqu1K9s4DgK8Q_pVR9dfPZVi_Dvc8Rw6tIqDF7NT-pqhTlatDmAVOJfsg3uDb7MwBw1yc5MT0B67L8LQ2H3u6SPZ7-BANiTVaVRD1yRj8pgJ25SA-Bb4OtU-Qd8Nseytwopsdt9OnrqG9GICwYiPqk1P9-FxqiHZirRAFzAus-CapZga019XSpFV53vMKhKN9Bv8fELxcm7Ydjg
[2022-04-19T12:04:12Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T12:04:12Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T12:04:12Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzAxNTIsImlhdCI6MTY1MDM2OTg1MiwiYXV0aF90aW1lIjoxNjUwMzY5ODQ5LCJqdGkiOiI3ZGFiNjE0NC1iYTVjLTRlNmUtODQ3NC1mOWZhM2RlNTUyMmUiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJYQzBCX05zNjNmaEZsbk1QSGg0Wmt3Iiwic2Vzc2lvbl9zdGF0ZSI6Ijg0MWY2N2NmLTNiN2UtNGFiOC1iOWViLTQ5Yjg1NmEyNjYyOCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6Ijg0MWY2N2NmLTNiN2UtNGFiOC1iOWViLTQ5Yjg1NmEyNjYyOCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.lVb-cdkxoXbuGp9MGD0EflYMLg0MbKdPGMcBbAd2HCGMCWFmrVLzosYyv1JHJnDVZ5J19heUkfTHwjbf_q-od_BT1sBr4ZSujoKnvwCjRc2y_1oND2fF_ab8AD8v0KGrhwekUCdvqu1K9s4DgK8Q_pVR9dfPZVi_Dvc8Rw6tIqDF7NT-pqhTlatDmAVOJfsg3uDb7MwBw1yc5MT0B67L8LQ2H3u6SPZ7-BANiTVaVRD1yRj8pgJ25SA-Bb4OtU-Qd8Nseytwopsdt9OnrqG9GICwYiPqk1P9-FxqiHZirRAFzAus-CapZga019XSpFV53vMKhKN9Bv8fELxcm7Ydjg&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T12:04:12Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_2::integration_version_1::integration_ws_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T12:04:15Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T12:04:15Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T12:04:15Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:04:15Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:04:15Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:04:16Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T12:04:17Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T12:04:17Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:04:17Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:04:17Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:04:19Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzAxNTksImlhdCI6MTY1MDM2OTg1OSwiYXV0aF90aW1lIjoxNjUwMzY5ODU2LCJqdGkiOiI2NDk4MzkwNi00YzhjLTRiNWYtOTUzNy0xZGM0YzExMTA0N2QiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJzTEQyeHVHcTBianJoRGhEODF0RmJnIiwic2Vzc2lvbl9zdGF0ZSI6ImIxNGUwZWIzLWRjNzktNGNjNS04MGJmLWRiZGVkMTlmYWY5ZSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImIxNGUwZWIzLWRjNzktNGNjNS04MGJmLWRiZGVkMTlmYWY5ZSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.lEM7IkgRvHaeANwYbpMBm6Z3VVu4xXEU71zZrRz0z6wroz3s_DpH8i9j6-s989s5KuAoTj0o1jLiEH9NRLLXko8N5RhfxJ7p1A3Pt-zOGVAvJlxshp5Odnd7HEr8acrLTf8NXPE07xxJhDkDQnxo568tnCurLLhOLSVAob4rAfsP9MybrEyGQgPq_di_diLR-4kjr3Yl2T02QtBtXf0hzQBvk1Xas9TIk1eckbS82NKoEd5Ps2S9sgnbK4zlenQuF_rUMUGMAlh3c5QAtnqlYEmZlDTMuTeVQv76h4ZDD0soxF1IhEXkUK6SudJNLxe6cHJ2kb2TOG94WCGdWThg8Q
[2022-04-19T12:04:19Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T12:04:19Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T12:04:19Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzAxNTksImlhdCI6MTY1MDM2OTg1OSwiYXV0aF90aW1lIjoxNjUwMzY5ODU2LCJqdGkiOiI2NDk4MzkwNi00YzhjLTRiNWYtOTUzNy0xZGM0YzExMTA0N2QiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJzTEQyeHVHcTBianJoRGhEODF0RmJnIiwic2Vzc2lvbl9zdGF0ZSI6ImIxNGUwZWIzLWRjNzktNGNjNS04MGJmLWRiZGVkMTlmYWY5ZSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImIxNGUwZWIzLWRjNzktNGNjNS04MGJmLWRiZGVkMTlmYWY5ZSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.lEM7IkgRvHaeANwYbpMBm6Z3VVu4xXEU71zZrRz0z6wroz3s_DpH8i9j6-s989s5KuAoTj0o1jLiEH9NRLLXko8N5RhfxJ7p1A3Pt-zOGVAvJlxshp5Odnd7HEr8acrLTf8NXPE07xxJhDkDQnxo568tnCurLLhOLSVAob4rAfsP9MybrEyGQgPq_di_diLR-4kjr3Yl2T02QtBtXf0hzQBvk1Xas9TIk1eckbS82NKoEd5Ps2S9sgnbK4zlenQuF_rUMUGMAlh3c5QAtnqlYEmZlDTMuTeVQv76h4ZDD0soxF1IhEXkUK6SudJNLxe6cHJ2kb2TOG94WCGdWThg8Q&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T12:04:19Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_2::integration_version_2::integration_ws_1

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T12:04:22Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T12:04:22Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T12:04:22Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:04:22Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:04:22Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:04:23Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T12:04:25Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T12:04:25Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:04:25Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:04:25Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:04:27Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzAxNjcsImlhdCI6MTY1MDM2OTg2NywiYXV0aF90aW1lIjoxNjUwMzY5ODYzLCJqdGkiOiIxZDJhYmY3ZC01MjMxLTRlM2MtYTBlNi02YTc4N2QyOGMyOGIiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJBek51Z2cyV1A0VThMSkJHX01WNDVnIiwic2Vzc2lvbl9zdGF0ZSI6IjliMTdmMGJhLTg0NmUtNDBmMy1hNGYxLTRiYzg0ZGU5NDE1OSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjliMTdmMGJhLTg0NmUtNDBmMy1hNGYxLTRiYzg0ZGU5NDE1OSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.a6-3z5wra8JJOUl1VzoJeBuD0nxa6jWVlyU_aLW_1DKcTqspfr77821sa6YiiKqFH4O_6jnWpKO86SqyFJEZ8ccZS1a0troQ848fwUsstRs0JSYCEzmXcamk7VR3RqJBkJaAYmZ73Tl1LVrub3zrFPPJwn5jSfyKc2l35B-da04EYnPGjO-tkYMAN1iTFNRCwTgiYWy-JV5mH5iFKgJlUGIIb2JYW_9efOQ-vLPkkTgQ78CnjO-ggoQ9v1iHaS1hdcDQ42D-wo06u4qxyt_EJWCsn_pt-kzGSj9-eqEsKrDLdj3tbuv7yoUwQ1ANBnFD3VV9ZG_pKhVjwT8ablob_w
[2022-04-19T12:04:27Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T12:04:27Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T12:04:27Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzAxNjcsImlhdCI6MTY1MDM2OTg2NywiYXV0aF90aW1lIjoxNjUwMzY5ODYzLCJqdGkiOiIxZDJhYmY3ZC01MjMxLTRlM2MtYTBlNi02YTc4N2QyOGMyOGIiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJBek51Z2cyV1A0VThMSkJHX01WNDVnIiwic2Vzc2lvbl9zdGF0ZSI6IjliMTdmMGJhLTg0NmUtNDBmMy1hNGYxLTRiYzg0ZGU5NDE1OSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjliMTdmMGJhLTg0NmUtNDBmMy1hNGYxLTRiYzg0ZGU5NDE1OSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.a6-3z5wra8JJOUl1VzoJeBuD0nxa6jWVlyU_aLW_1DKcTqspfr77821sa6YiiKqFH4O_6jnWpKO86SqyFJEZ8ccZS1a0troQ848fwUsstRs0JSYCEzmXcamk7VR3RqJBkJaAYmZ73Tl1LVrub3zrFPPJwn5jSfyKc2l35B-da04EYnPGjO-tkYMAN1iTFNRCwTgiYWy-JV5mH5iFKgJlUGIIb2JYW_9efOQ-vLPkkTgQ78CnjO-ggoQ9v1iHaS1hdcDQ42D-wo06u4qxyt_EJWCsn_pt-kzGSj9-eqEsKrDLdj3tbuv7yoUwQ1ANBnFD3VV9ZG_pKhVjwT8ablob_w&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T12:04:27Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_2::integration_version_2::integration_ws_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T12:04:29Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T12:04:29Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T12:04:29Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:04:29Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:04:29Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:04:30Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T12:04:32Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T12:04:32Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:04:32Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:04:32Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:04:34Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzAxNzQsImlhdCI6MTY1MDM2OTg3NCwiYXV0aF90aW1lIjoxNjUwMzY5ODcxLCJqdGkiOiIyZjViN2VmYy04MTVmLTQyOTYtYTcyNS02ZTZjYmI2MDcyMjciLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJGbktXTkQ4THBBMjN4U2FXeEZzeTB3Iiwic2Vzc2lvbl9zdGF0ZSI6IjA4NjZkNWNhLTA0YmMtNDFkMS05NjAyLTFhYTRmMTliMDU5YiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjA4NjZkNWNhLTA0YmMtNDFkMS05NjAyLTFhYTRmMTliMDU5YiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.S2EVfPvzvWirgoVXfNlzEVklQFdlo2NzjVqY9JVss89o8PMybEwovTSgm5pH9qXNBL9wsyeuzhU4VlW7UeBqwLexnLweN1R_BDo8xwHvwCM3MDiYqs3-Wro4IBxoyrSbvL33hfPe4tNoWeeozSjYAxTxJgZsl3Q2SaQ6opnvq9MQ3TxmkZG-P_lekkmbPOn9beMzLP5rvrdXgOI_fVzmpGxbDPWj9OLRR4TBKPHgixAmGRRX03yW6c_IzUgbWyog-_P6Ns6RMiGlF_UWVMqHI5rfnwpKJBfeKhxWFRuT2eCnlVKJU6GJTFsdrQT4vb_k5MM7XCq3h9ROpFXVcmVxbw
[2022-04-19T12:04:34Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T12:04:34Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T12:04:34Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzAxNzQsImlhdCI6MTY1MDM2OTg3NCwiYXV0aF90aW1lIjoxNjUwMzY5ODcxLCJqdGkiOiIyZjViN2VmYy04MTVmLTQyOTYtYTcyNS02ZTZjYmI2MDcyMjciLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJGbktXTkQ4THBBMjN4U2FXeEZzeTB3Iiwic2Vzc2lvbl9zdGF0ZSI6IjA4NjZkNWNhLTA0YmMtNDFkMS05NjAyLTFhYTRmMTliMDU5YiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjA4NjZkNWNhLTA0YmMtNDFkMS05NjAyLTFhYTRmMTliMDU5YiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.S2EVfPvzvWirgoVXfNlzEVklQFdlo2NzjVqY9JVss89o8PMybEwovTSgm5pH9qXNBL9wsyeuzhU4VlW7UeBqwLexnLweN1R_BDo8xwHvwCM3MDiYqs3-Wro4IBxoyrSbvL33hfPe4tNoWeeozSjYAxTxJgZsl3Q2SaQ6opnvq9MQ3TxmkZG-P_lekkmbPOn9beMzLP5rvrdXgOI_fVzmpGxbDPWj9OLRR4TBKPHgixAmGRRX03yW6c_IzUgbWyog-_P6Ns6RMiGlF_UWVMqHI5rfnwpKJBfeKhxWFRuT2eCnlVKJU6GJTFsdrQT4vb_k5MM7XCq3h9ROpFXVcmVxbw&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T12:04:34Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_2::integration_version_3::integration_ws_1

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T12:04:36Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T12:04:36Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T12:04:36Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:04:36Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:04:36Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:04:38Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T12:04:39Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T12:04:39Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:04:39Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:04:39Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:04:41Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzAxODEsImlhdCI6MTY1MDM2OTg4MSwiYXV0aF90aW1lIjoxNjUwMzY5ODc4LCJqdGkiOiI4MjljN2M4Yy1iMGZjLTQxMGMtOTk1Yy02NzJiZWFmOWZhMmUiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJKVjhkWnhZUDlTZVE3bVBVTmRTOERnIiwic2Vzc2lvbl9zdGF0ZSI6IjBmNGVhMzM5LWI1Y2YtNGFmNi04OGUwLTFjZGMwYzhkZjc5ZiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjBmNGVhMzM5LWI1Y2YtNGFmNi04OGUwLTFjZGMwYzhkZjc5ZiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.ijA2qe9iBPHMdbCGG5nD6xKd86e7B9KbpWcmJSrc7flAOwRecR0b9ugCQZiYJ5IefcVBOiABUL-P1TYCvGZaBi1S8NuUybiPERfkereXfv-vSd8gj7TZNrZY1_o2x2hucrWmzDY8P_38jJ9Ft6L7m80fJhwwqM8Ul3og2-NJm4M23mp4-Dma9zzqaslXGCM5naiQ1QxPPjoB-pVn3ms2MYFmQckCp62TV0jNhVO9pUs7lDCzIO92QnM_vEXFfbKLWg9IzVRZN9hUtttusrK0yDmlpLKvo1UdNXrEAU2LI9rszCaoJI3CKqj3zf871kScsOO6dcvfC9FjP4mylkqMPQ
[2022-04-19T12:04:41Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T12:04:41Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T12:04:41Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzAxODEsImlhdCI6MTY1MDM2OTg4MSwiYXV0aF90aW1lIjoxNjUwMzY5ODc4LCJqdGkiOiI4MjljN2M4Yy1iMGZjLTQxMGMtOTk1Yy02NzJiZWFmOWZhMmUiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJKVjhkWnhZUDlTZVE3bVBVTmRTOERnIiwic2Vzc2lvbl9zdGF0ZSI6IjBmNGVhMzM5LWI1Y2YtNGFmNi04OGUwLTFjZGMwYzhkZjc5ZiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjBmNGVhMzM5LWI1Y2YtNGFmNi04OGUwLTFjZGMwYzhkZjc5ZiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.ijA2qe9iBPHMdbCGG5nD6xKd86e7B9KbpWcmJSrc7flAOwRecR0b9ugCQZiYJ5IefcVBOiABUL-P1TYCvGZaBi1S8NuUybiPERfkereXfv-vSd8gj7TZNrZY1_o2x2hucrWmzDY8P_38jJ9Ft6L7m80fJhwwqM8Ul3og2-NJm4M23mp4-Dma9zzqaslXGCM5naiQ1QxPPjoB-pVn3ms2MYFmQckCp62TV0jNhVO9pUs7lDCzIO92QnM_vEXFfbKLWg9IzVRZN9hUtttusrK0yDmlpLKvo1UdNXrEAU2LI9rszCaoJI3CKqj3zf871kScsOO6dcvfC9FjP4mylkqMPQ&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T12:04:41Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_2::integration_version_3::integration_ws_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T12:04:44Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T12:04:44Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T12:04:44Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:04:44Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:04:44Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:04:45Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T12:04:46Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T12:04:46Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:04:46Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:04:46Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:04:48Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzAxODgsImlhdCI6MTY1MDM2OTg4OCwiYXV0aF90aW1lIjoxNjUwMzY5ODg1LCJqdGkiOiI5YTJhNGM1Yy1jZWRmLTQxOTgtYWNkNC0xMWNmNDZhMzI0NjQiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJ6SU9BOWE3ZFVSSVRYVEtsYUkxUG5nIiwic2Vzc2lvbl9zdGF0ZSI6IjM4MzVmNjIxLTBiOTAtNDQyMi1hYjM1LWVmMWVmZjk2NzhkMiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjM4MzVmNjIxLTBiOTAtNDQyMi1hYjM1LWVmMWVmZjk2NzhkMiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.JEkAFeOK04d_dB0A5K6DFXQFCmkqagZhD6qmy2kqD4jSq9reazMsrJPBgucX8wGJwlOJEOLt2RWuIflLmYZcJmEjtNfelfwaOM35MHjagZGQgGecBDUMqdOXppsk8GXZV00dWbtU934vW0VViFz1uE7Hwg1kiO7pu_zzwSN8ikn2jVd0TnvC9YS__DaL_ovObUFjgSq9yaFz8AQYmeUVfuB7PKM7se2JafWVcXY7aWC90H8Z17M7GIJzh-VurRctwkRWnvk-ZokUpYUp6sfgHQUre6Vx5nHRPiHPRXj_SK6MKN2PVpdvldsiOumtUCnMSjYdCJ86CnDBcXg6GcuxZA
[2022-04-19T12:04:48Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T12:04:48Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T12:04:48Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzAxODgsImlhdCI6MTY1MDM2OTg4OCwiYXV0aF90aW1lIjoxNjUwMzY5ODg1LCJqdGkiOiI5YTJhNGM1Yy1jZWRmLTQxOTgtYWNkNC0xMWNmNDZhMzI0NjQiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJ6SU9BOWE3ZFVSSVRYVEtsYUkxUG5nIiwic2Vzc2lvbl9zdGF0ZSI6IjM4MzVmNjIxLTBiOTAtNDQyMi1hYjM1LWVmMWVmZjk2NzhkMiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjM4MzVmNjIxLTBiOTAtNDQyMi1hYjM1LWVmMWVmZjk2NzhkMiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.JEkAFeOK04d_dB0A5K6DFXQFCmkqagZhD6qmy2kqD4jSq9reazMsrJPBgucX8wGJwlOJEOLt2RWuIflLmYZcJmEjtNfelfwaOM35MHjagZGQgGecBDUMqdOXppsk8GXZV00dWbtU934vW0VViFz1uE7Hwg1kiO7pu_zzwSN8ikn2jVd0TnvC9YS__DaL_ovObUFjgSq9yaFz8AQYmeUVfuB7PKM7se2JafWVcXY7aWC90H8Z17M7GIJzh-VurRctwkRWnvk-ZokUpYUp6sfgHQUre6Vx5nHRPiHPRXj_SK6MKN2PVpdvldsiOumtUCnMSjYdCJ86CnDBcXg6GcuxZA&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T12:04:49Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_1::integration_version_1::integration_ws_1

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T12:04:51Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T12:04:51Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T12:04:51Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:04:51Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:04:51Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:04:52Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T12:04:54Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T12:04:54Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:04:54Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:04:54Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:04:56Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzAxOTYsImlhdCI6MTY1MDM2OTg5NiwiYXV0aF90aW1lIjoxNjUwMzY5ODkzLCJqdGkiOiI3MmVlOWNlYy1jNzQ5LTRjZjctYjQwZi05MTg3OWEyYWUzN2MiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJ1bVVUN1czQkJyYUdjTm1WTUxqTkN3Iiwic2Vzc2lvbl9zdGF0ZSI6IjFkZGY4OWVmLWNmNDktNGQxOS05ODgxLTdkOWE4OWY0Y2ZjYyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjFkZGY4OWVmLWNmNDktNGQxOS05ODgxLTdkOWE4OWY0Y2ZjYyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.M9-IIQTqbUWYlfgRNyog4GEyDlbAbgGG2UVeF3aMFDAv4XAinvbrAIaPBB9QFGKb7XaK9RXfE5LGdpMFXhgA4cvLJTxRwNCuoQ6bXtLlYBSMYYTYZwqHQRoRnFOP5n0cylJmgSzyGbMGyuofe9dxD533-ek1vTfUW55O0sBFW_vPBdlqNfFUAMGiWT_a_vU5AlbOVlbKRmL94foRuzyFlfdiZ69dPd9KVJznMNwqv0ZkzgI8uXHlNj4l8Oa5dR7xIiupYjxCUfVXOfg-Ek9YZzGZvZPecBAaLc3q8-YxOdxqp_799giwcJwmFfadK87vCh61D--Fz-vXJRdZH6U3-w
[2022-04-19T12:04:56Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T12:04:56Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T12:04:56Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzAxOTYsImlhdCI6MTY1MDM2OTg5NiwiYXV0aF90aW1lIjoxNjUwMzY5ODkzLCJqdGkiOiI3MmVlOWNlYy1jNzQ5LTRjZjctYjQwZi05MTg3OWEyYWUzN2MiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJ1bVVUN1czQkJyYUdjTm1WTUxqTkN3Iiwic2Vzc2lvbl9zdGF0ZSI6IjFkZGY4OWVmLWNmNDktNGQxOS05ODgxLTdkOWE4OWY0Y2ZjYyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjFkZGY4OWVmLWNmNDktNGQxOS05ODgxLTdkOWE4OWY0Y2ZjYyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.M9-IIQTqbUWYlfgRNyog4GEyDlbAbgGG2UVeF3aMFDAv4XAinvbrAIaPBB9QFGKb7XaK9RXfE5LGdpMFXhgA4cvLJTxRwNCuoQ6bXtLlYBSMYYTYZwqHQRoRnFOP5n0cylJmgSzyGbMGyuofe9dxD533-ek1vTfUW55O0sBFW_vPBdlqNfFUAMGiWT_a_vU5AlbOVlbKRmL94foRuzyFlfdiZ69dPd9KVJznMNwqv0ZkzgI8uXHlNj4l8Oa5dR7xIiupYjxCUfVXOfg-Ek9YZzGZvZPecBAaLc3q8-YxOdxqp_799giwcJwmFfadK87vCh61D--Fz-vXJRdZH6U3-w&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T12:04:56Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_1::integration_version_1::integration_ws_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T12:04:59Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T12:04:59Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T12:04:59Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:04:59Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:04:59Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:05:00Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T12:05:01Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T12:05:01Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:05:01Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:05:01Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:05:03Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzAyMDMsImlhdCI6MTY1MDM2OTkwMywiYXV0aF90aW1lIjoxNjUwMzY5OTAwLCJqdGkiOiIyNzg4Y2MxMC0yNDU0LTRiMjgtYjA2ZC0xODI4ZTA3ZTdjMDYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJsTE1IMndoRnRaZ1FSUUt0RlZCcGN3Iiwic2Vzc2lvbl9zdGF0ZSI6IjU5YTA1ZTk1LTk3NWEtNGY5NS05OGI1LTBhOThmYjE3ZTBmMiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjU5YTA1ZTk1LTk3NWEtNGY5NS05OGI1LTBhOThmYjE3ZTBmMiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.i9NRpnJz5izjoA9ozIKaSJ8u39HSDSpA6Jim5eBHWAfXn2XSnO9xxPCOXdjogPLxH1cCZ6gG38xodj5eHnzdDn8NN_1br064RU8A4wWQYyxwkQUVZtt9bOIbO86-Q1PwfJOd-yR5uUaXk28q3UMXzoebv3TY5DURBq4EBvK4YHLns0gYCiL_pukMnXCmN8YLOuWPlyW2Ak73Jsp7Q0XpObDQp8Mb2h00dIKuuDApGTtKT4fni6U9s2OpaRrm7gHdiJrgbeKXM_riUhzrzT2s8aqwNnLEqLOeq5ke12ieyu4ZcVN1Ohz5Yvsr6K2-vE9PCw-8gxUlhzrcyYp64_3laQ
[2022-04-19T12:05:03Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T12:05:03Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T12:05:03Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzAyMDMsImlhdCI6MTY1MDM2OTkwMywiYXV0aF90aW1lIjoxNjUwMzY5OTAwLCJqdGkiOiIyNzg4Y2MxMC0yNDU0LTRiMjgtYjA2ZC0xODI4ZTA3ZTdjMDYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJsTE1IMndoRnRaZ1FSUUt0RlZCcGN3Iiwic2Vzc2lvbl9zdGF0ZSI6IjU5YTA1ZTk1LTk3NWEtNGY5NS05OGI1LTBhOThmYjE3ZTBmMiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjU5YTA1ZTk1LTk3NWEtNGY5NS05OGI1LTBhOThmYjE3ZTBmMiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.i9NRpnJz5izjoA9ozIKaSJ8u39HSDSpA6Jim5eBHWAfXn2XSnO9xxPCOXdjogPLxH1cCZ6gG38xodj5eHnzdDn8NN_1br064RU8A4wWQYyxwkQUVZtt9bOIbO86-Q1PwfJOd-yR5uUaXk28q3UMXzoebv3TY5DURBq4EBvK4YHLns0gYCiL_pukMnXCmN8YLOuWPlyW2Ak73Jsp7Q0XpObDQp8Mb2h00dIKuuDApGTtKT4fni6U9s2OpaRrm7gHdiJrgbeKXM_riUhzrzT2s8aqwNnLEqLOeq5ke12ieyu4ZcVN1Ohz5Yvsr6K2-vE9PCw-8gxUlhzrcyYp64_3laQ&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T12:05:03Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_1::integration_version_2::integration_ws_1

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T12:05:06Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T12:05:06Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T12:05:06Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:05:06Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:05:06Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:05:07Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T12:05:09Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T12:05:09Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:05:09Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:05:09Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:05:11Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzAyMTEsImlhdCI6MTY1MDM2OTkxMSwiYXV0aF90aW1lIjoxNjUwMzY5OTA4LCJqdGkiOiIyZTE3OGI3Ny0yZGY0LTQ0N2YtOWQ1Yi0zMzc0YjhiYmRlZjQiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJ3VnFmVm5BazFPYXpJNDdXT2RvbFlBIiwic2Vzc2lvbl9zdGF0ZSI6IjJiNTViZDE5LTdkNmEtNDUyNC1hMDNlLTVjYjA3MzNjODYzMiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjJiNTViZDE5LTdkNmEtNDUyNC1hMDNlLTVjYjA3MzNjODYzMiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.QUr0LRB0xLOrbhnaOzcGC7zVYbN2T3MVG1Z7tgDUy1kYIVnWg0ESRQsSW7hE-PnbUA1Mec0LlYeUXn3WNIe4V_gjDXAPIp2Sh7AYB-kkRZRnZIlN3caQMHTgl53gIHudMZ7ucekp99UMD5SxTDW_MdYuPJohWsOt9rNu1KlmsZ_2MnFYDCabjBY5qcZxwcGfkXKuO4RSBF-P2CYpVCurCby6fYwOl-tX_Qvs2UhbrJQUlrcIXgQWYMSvx1S7WKopUEANNm-Xnd0wvOKCvogVDTqHq4imqM98AbuBLzpeSl_wrVhCbpq8Z-1FhKYXBWn8u7qLhGN2tgtOkU3cbjU24w
[2022-04-19T12:05:11Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T12:05:11Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T12:05:11Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzAyMTEsImlhdCI6MTY1MDM2OTkxMSwiYXV0aF90aW1lIjoxNjUwMzY5OTA4LCJqdGkiOiIyZTE3OGI3Ny0yZGY0LTQ0N2YtOWQ1Yi0zMzc0YjhiYmRlZjQiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJ3VnFmVm5BazFPYXpJNDdXT2RvbFlBIiwic2Vzc2lvbl9zdGF0ZSI6IjJiNTViZDE5LTdkNmEtNDUyNC1hMDNlLTVjYjA3MzNjODYzMiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjJiNTViZDE5LTdkNmEtNDUyNC1hMDNlLTVjYjA3MzNjODYzMiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.QUr0LRB0xLOrbhnaOzcGC7zVYbN2T3MVG1Z7tgDUy1kYIVnWg0ESRQsSW7hE-PnbUA1Mec0LlYeUXn3WNIe4V_gjDXAPIp2Sh7AYB-kkRZRnZIlN3caQMHTgl53gIHudMZ7ucekp99UMD5SxTDW_MdYuPJohWsOt9rNu1KlmsZ_2MnFYDCabjBY5qcZxwcGfkXKuO4RSBF-P2CYpVCurCby6fYwOl-tX_Qvs2UhbrJQUlrcIXgQWYMSvx1S7WKopUEANNm-Xnd0wvOKCvogVDTqHq4imqM98AbuBLzpeSl_wrVhCbpq8Z-1FhKYXBWn8u7qLhGN2tgtOkU3cbjU24w&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T12:05:11Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_1::integration_version_2::integration_ws_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T12:05:14Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T12:05:14Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T12:05:14Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:05:14Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:05:14Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:05:15Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T12:05:16Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T12:05:16Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:05:16Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:05:16Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:05:18Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzAyMTgsImlhdCI6MTY1MDM2OTkxOCwiYXV0aF90aW1lIjoxNjUwMzY5OTE1LCJqdGkiOiIzMTkwOTNjZi0zZjkxLTRhMzMtYjE5ZS02YjFmZGFhNzlmYmIiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJ4elNHMVBWUkRxLVdOcVozV0JBTGJ3Iiwic2Vzc2lvbl9zdGF0ZSI6ImUyZTY0OTJkLTZlOTItNDQ2NS04YjZkLTAwNDZjODE5YThhNSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImUyZTY0OTJkLTZlOTItNDQ2NS04YjZkLTAwNDZjODE5YThhNSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.O2S9N8CFOad5MlqONyuW9zD_sSIho-pRLIMeghC06F97v5rVcVMY_IdNbUl6XoTE4L-AcXc3qjY6p4gV4V1jM7tKjXpKrk2pxpe8CnV3Mfei8PwDOidHOeqWzIXpVUkGDLOcdViMwp_OWmmu774feXCcBZcF1Ox_vLjWQeOmGt92WSNvsXpr0AwrmkmB8Nl-JTU2zujVZ5lkcX_-A5B0bqAyZPs4vwbOoIJyW9CXrFvnHn9j604cZ5E8pkeHcgMnfh9tyb5A8ebPn7pTfMFbFjmgYAlasSHIqk3nYbCa9FKKyaVS6GJVKe0rxnXghz6If4Be9p-3ik237FE5wQJVmA
[2022-04-19T12:05:18Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T12:05:18Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T12:05:18Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzAyMTgsImlhdCI6MTY1MDM2OTkxOCwiYXV0aF90aW1lIjoxNjUwMzY5OTE1LCJqdGkiOiIzMTkwOTNjZi0zZjkxLTRhMzMtYjE5ZS02YjFmZGFhNzlmYmIiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJ4elNHMVBWUkRxLVdOcVozV0JBTGJ3Iiwic2Vzc2lvbl9zdGF0ZSI6ImUyZTY0OTJkLTZlOTItNDQ2NS04YjZkLTAwNDZjODE5YThhNSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImUyZTY0OTJkLTZlOTItNDQ2NS04YjZkLTAwNDZjODE5YThhNSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.O2S9N8CFOad5MlqONyuW9zD_sSIho-pRLIMeghC06F97v5rVcVMY_IdNbUl6XoTE4L-AcXc3qjY6p4gV4V1jM7tKjXpKrk2pxpe8CnV3Mfei8PwDOidHOeqWzIXpVUkGDLOcdViMwp_OWmmu774feXCcBZcF1Ox_vLjWQeOmGt92WSNvsXpr0AwrmkmB8Nl-JTU2zujVZ5lkcX_-A5B0bqAyZPs4vwbOoIJyW9CXrFvnHn9j604cZ5E8pkeHcgMnfh9tyb5A8ebPn7pTfMFbFjmgYAlasSHIqk3nYbCa9FKKyaVS6GJVKe0rxnXghz6If4Be9p-3ik237FE5wQJVmA&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T12:05:18Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_1::integration_version_3::integration_ws_1

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T12:05:21Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T12:05:21Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T12:05:21Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:05:21Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:05:21Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:05:22Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T12:05:23Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T12:05:23Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:05:23Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:05:23Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:05:25Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzAyMjUsImlhdCI6MTY1MDM2OTkyNSwiYXV0aF90aW1lIjoxNjUwMzY5OTIyLCJqdGkiOiI2OThlMDYzNy1hMzk4LTRhNGYtYTA1YS0zZjJhODFkYTU4MTUiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJubmg4aDQ2dDdDRUhmYzZMT2dmdUF3Iiwic2Vzc2lvbl9zdGF0ZSI6IjE4NzExM2ZhLTkxYTQtNDc1NS1iYzUxLTRlNDhhZWZiYWYzOCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjE4NzExM2ZhLTkxYTQtNDc1NS1iYzUxLTRlNDhhZWZiYWYzOCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.DliVrnHGIV83xmPmCApOgFOBfXSaHgkm408KNMnvJswVFTPuNlGynxN_3SFJdQcwAcdoO8Y04EcpHYMyR4YA-eIN1dVDHB2i78_qR5rSEwYjY_XvUeAfyqecVEd-3wNgjYZ0gAd_X-vrlSeYoI80sZCWG4Ja9D7cFcbDxxkAT6jcPO0mmlkAgzNYlYCGwRthpJCMLUuqx_n_S5vyDhXObJIxO-TmXynA-003bssSYHHF1BbP0kXWYMbb2WbqdtwCXyKNiLePx_V2m6536wbIb8w1N7JL_YJ21DVE5XYwoR3T8A9TGrzPsI7_u75f1DzSRnrK0HQFGhXfXX56UOhIuA
[2022-04-19T12:05:25Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T12:05:25Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T12:05:25Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzAyMjUsImlhdCI6MTY1MDM2OTkyNSwiYXV0aF90aW1lIjoxNjUwMzY5OTIyLCJqdGkiOiI2OThlMDYzNy1hMzk4LTRhNGYtYTA1YS0zZjJhODFkYTU4MTUiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJubmg4aDQ2dDdDRUhmYzZMT2dmdUF3Iiwic2Vzc2lvbl9zdGF0ZSI6IjE4NzExM2ZhLTkxYTQtNDc1NS1iYzUxLTRlNDhhZWZiYWYzOCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjE4NzExM2ZhLTkxYTQtNDc1NS1iYzUxLTRlNDhhZWZiYWYzOCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.DliVrnHGIV83xmPmCApOgFOBfXSaHgkm408KNMnvJswVFTPuNlGynxN_3SFJdQcwAcdoO8Y04EcpHYMyR4YA-eIN1dVDHB2i78_qR5rSEwYjY_XvUeAfyqecVEd-3wNgjYZ0gAd_X-vrlSeYoI80sZCWG4Ja9D7cFcbDxxkAT6jcPO0mmlkAgzNYlYCGwRthpJCMLUuqx_n_S5vyDhXObJIxO-TmXynA-003bssSYHHF1BbP0kXWYMbb2WbqdtwCXyKNiLePx_V2m6536wbIb8w1N7JL_YJ21DVE5XYwoR3T8A9TGrzPsI7_u75f1DzSRnrK0HQFGhXfXX56UOhIuA&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T12:05:25Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_1::integration_version_3::integration_ws_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T12:05:28Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T12:05:28Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T12:05:28Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:05:28Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:05:28Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:05:29Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T12:05:31Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T12:05:31Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:05:31Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:05:31Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:05:33Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzAyMzMsImlhdCI6MTY1MDM2OTkzMywiYXV0aF90aW1lIjoxNjUwMzY5OTMwLCJqdGkiOiI4NTlhMWM1MS0yOTg2LTRiMjktYWZiOS1jMzg0MzlhMzM2MTUiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJjdmZOV25sdWFfX1V0ZXlNdi1yWWNnIiwic2Vzc2lvbl9zdGF0ZSI6IjVkOTgwNGYyLWM3Y2MtNGE5My1iMjAzLTRlODZjNmI5OGIxMSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjVkOTgwNGYyLWM3Y2MtNGE5My1iMjAzLTRlODZjNmI5OGIxMSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.XCsLHh_0tc5RDwie2BejRix2TnaGjoF4EQeKMSD7wycWXhtY2UHdP4yYfI-DLMbGiTQhiJb9CtuqZqZVZo1yAXIL6shZ1es87areyrkKET26fYOQQmGRs0QJ3ZDFXGa6n36o9m3evGT9yhU6_eoiq0vu0CFlVdDMyzaDA2JfmbobFwtFKKDzwect95BprTofoLWZl9CMW1EB3vO1s1c8V3B5SQt_BS-nzgMGGz6Jv4x1jaEY_4lZozJuAH3X4L7DGRdNWttiH7iQwqoC0UpRp7rA3D8vkQAf6uZA92wJcVTHHQ_L31da6dX4TPM3FjPTmG2MABoMI2Q2hk91UX1daQ
[2022-04-19T12:05:33Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T12:05:33Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T12:05:33Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzAyMzMsImlhdCI6MTY1MDM2OTkzMywiYXV0aF90aW1lIjoxNjUwMzY5OTMwLCJqdGkiOiI4NTlhMWM1MS0yOTg2LTRiMjktYWZiOS1jMzg0MzlhMzM2MTUiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJjdmZOV25sdWFfX1V0ZXlNdi1yWWNnIiwic2Vzc2lvbl9zdGF0ZSI6IjVkOTgwNGYyLWM3Y2MtNGE5My1iMjAzLTRlODZjNmI5OGIxMSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjVkOTgwNGYyLWM3Y2MtNGE5My1iMjAzLTRlODZjNmI5OGIxMSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.XCsLHh_0tc5RDwie2BejRix2TnaGjoF4EQeKMSD7wycWXhtY2UHdP4yYfI-DLMbGiTQhiJb9CtuqZqZVZo1yAXIL6shZ1es87areyrkKET26fYOQQmGRs0QJ3ZDFXGa6n36o9m3evGT9yhU6_eoiq0vu0CFlVdDMyzaDA2JfmbobFwtFKKDzwect95BprTofoLWZl9CMW1EB3vO1s1c8V3B5SQt_BS-nzgMGGz6Jv4x1jaEY_4lZozJuAH3X4L7DGRdNWttiH7iQwqoC0UpRp7rA3D8vkQAf6uZA92wJcVTHHQ_L31da6dX4TPM3FjPTmG2MABoMI2Q2hk91UX1daQ&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T12:05:33Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_2::integration_version_1::integration_ws_1

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T12:05:35Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T12:05:35Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T12:05:35Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:05:35Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:05:35Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:05:37Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T12:05:38Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T12:05:38Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:05:38Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:05:38Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:05:40Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzAyNDAsImlhdCI6MTY1MDM2OTk0MCwiYXV0aF90aW1lIjoxNjUwMzY5OTM3LCJqdGkiOiIxN2I0MjBiNi1kYTc4LTRlOWEtYmQyNC1jOTgwMGFiNmNkNDEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJJUF8wdURHenR1X2xTdXl2U2hHYlNBIiwic2Vzc2lvbl9zdGF0ZSI6IjIxYTgyOWI1LWQwNjUtNDg4OS05OTQwLTY1Nzk2M2VmMjRkZiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjIxYTgyOWI1LWQwNjUtNDg4OS05OTQwLTY1Nzk2M2VmMjRkZiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.JqxD26r2BUQtlNQq9dRM8rw8rsSjbyAxpsnyTVn8ZDjA0qhL2SQS39sZMErIISAe4H4lhd6zsxn1E2CHbs6XNzFtQdSMovralCuKAy1EeOujrnANz2TN22XsFbG02959DbLZNCTpW1zdchGJy2-56EpIzykzvAKaP9p9rU9FDHp-HGooR_3-w2YzN4B9JKma4M2lv6foRx95vHmIxpsfjm5ct1bRiUCEd3Kr7rDUkQHLxYsqeD_bOtemFbP8LAUw_olShuWcFcaDA7XTWuuLtwgZgMh-iYmqqQOXrM_Jq1qQ_v7-VJmo-DTEq0oZtRSG_4KI43zvmd24LkEKPyiwPw
[2022-04-19T12:05:40Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T12:05:40Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T12:05:40Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzAyNDAsImlhdCI6MTY1MDM2OTk0MCwiYXV0aF90aW1lIjoxNjUwMzY5OTM3LCJqdGkiOiIxN2I0MjBiNi1kYTc4LTRlOWEtYmQyNC1jOTgwMGFiNmNkNDEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJJUF8wdURHenR1X2xTdXl2U2hHYlNBIiwic2Vzc2lvbl9zdGF0ZSI6IjIxYTgyOWI1LWQwNjUtNDg4OS05OTQwLTY1Nzk2M2VmMjRkZiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjIxYTgyOWI1LWQwNjUtNDg4OS05OTQwLTY1Nzk2M2VmMjRkZiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.JqxD26r2BUQtlNQq9dRM8rw8rsSjbyAxpsnyTVn8ZDjA0qhL2SQS39sZMErIISAe4H4lhd6zsxn1E2CHbs6XNzFtQdSMovralCuKAy1EeOujrnANz2TN22XsFbG02959DbLZNCTpW1zdchGJy2-56EpIzykzvAKaP9p9rU9FDHp-HGooR_3-w2YzN4B9JKma4M2lv6foRx95vHmIxpsfjm5ct1bRiUCEd3Kr7rDUkQHLxYsqeD_bOtemFbP8LAUw_olShuWcFcaDA7XTWuuLtwgZgMh-iYmqqQOXrM_Jq1qQ_v7-VJmo-DTEq0oZtRSG_4KI43zvmd24LkEKPyiwPw&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T12:05:40Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_2::integration_version_1::integration_ws_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T12:05:43Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T12:05:43Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T12:05:43Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:05:43Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:05:43Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:05:44Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T12:05:45Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T12:05:45Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:05:45Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:05:45Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:05:47Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzAyNDcsImlhdCI6MTY1MDM2OTk0NywiYXV0aF90aW1lIjoxNjUwMzY5OTQ0LCJqdGkiOiJiZDExYjRkNC1iMzZiLTQzOWYtYjI3ZC1hZjUzNGI0YWI4NzQiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJ0VU0za1JXOWh5akFSQ1U4YnExME9RIiwic2Vzc2lvbl9zdGF0ZSI6ImFlMTNmZTBjLWRiNzgtNGIzNC05OTRlLTRhZmQ2OTIyOTEwMCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImFlMTNmZTBjLWRiNzgtNGIzNC05OTRlLTRhZmQ2OTIyOTEwMCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.I3_ZQg2o9GhPggrW4Ga12zgkQcahedTCxYKnEahYaCrJUIu_L6fgVlFATtPiBG7_adw6FTE35P1LEscAjT9r4T3ePo1viaPlsHnmNDCArcSXEtxIyDyBHkVxCsSh1bU4GKw4DbVpGY5qG1tOO6O1XK0R4SRrn7KJIaT-6vcYDNX-DGQuNJgMfnBbKBGX95TSbwI5EWld-pnShojNhz7ojxa66OBOJN2K3jqZZqkbK9SMNArU_-mdK7sYjsMSqqTz2WU6p3kh2nUOqvabFE3Z0Ik0zo-iSfEDtCLpXOSpyFVpbaoCHgeRUY4rKulEOfKEDzw08VhUX9HdHJZwzxc9WQ
[2022-04-19T12:05:47Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T12:05:47Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T12:05:47Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzAyNDcsImlhdCI6MTY1MDM2OTk0NywiYXV0aF90aW1lIjoxNjUwMzY5OTQ0LCJqdGkiOiJiZDExYjRkNC1iMzZiLTQzOWYtYjI3ZC1hZjUzNGI0YWI4NzQiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJ0VU0za1JXOWh5akFSQ1U4YnExME9RIiwic2Vzc2lvbl9zdGF0ZSI6ImFlMTNmZTBjLWRiNzgtNGIzNC05OTRlLTRhZmQ2OTIyOTEwMCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImFlMTNmZTBjLWRiNzgtNGIzNC05OTRlLTRhZmQ2OTIyOTEwMCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.I3_ZQg2o9GhPggrW4Ga12zgkQcahedTCxYKnEahYaCrJUIu_L6fgVlFATtPiBG7_adw6FTE35P1LEscAjT9r4T3ePo1viaPlsHnmNDCArcSXEtxIyDyBHkVxCsSh1bU4GKw4DbVpGY5qG1tOO6O1XK0R4SRrn7KJIaT-6vcYDNX-DGQuNJgMfnBbKBGX95TSbwI5EWld-pnShojNhz7ojxa66OBOJN2K3jqZZqkbK9SMNArU_-mdK7sYjsMSqqTz2WU6p3kh2nUOqvabFE3Z0Ik0zo-iSfEDtCLpXOSpyFVpbaoCHgeRUY4rKulEOfKEDzw08VhUX9HdHJZwzxc9WQ&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T12:05:47Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_2::integration_version_2::integration_ws_1

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T12:05:50Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T12:05:50Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T12:05:50Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:05:50Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:05:50Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:05:51Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T12:05:53Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T12:05:53Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:05:53Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:05:53Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:05:55Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzAyNTUsImlhdCI6MTY1MDM2OTk1NSwiYXV0aF90aW1lIjoxNjUwMzY5OTUyLCJqdGkiOiIwNTFmZDBiZi02YWM2LTRlOWEtODIwMy0zMGFmNWZmNTM2OWMiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJVUDQ0bHhVUEJQdDVBOUc0d0EwZHdRIiwic2Vzc2lvbl9zdGF0ZSI6IjVmZDEyZjFkLWQ1ZjEtNGM0YS05NGI5LTlmNWJiNDk4OWRlNyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjVmZDEyZjFkLWQ1ZjEtNGM0YS05NGI5LTlmNWJiNDk4OWRlNyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.aUk8f2Ue8Fc-BXjvR00cQgmurhtN6qlr9mdEdTPd31SBceC5MTQxweGEBGsuPmewtx1oICyuZHixAHShoecp9-0Xf3GZpZL2h17Fl6xkG7p8ZwKe1HxliFLGgr8NHkAF_bGh4Db6Nt9eXuHAxp034ndoF2EnnM5CEqkZ4qILTbA8v3NFxzUHWWVECh6z9zBoOvJlxtrqQMkngZXJVKPGSe8LGxiyikPoAhU7B8IgSrTBukoGFRWezAkFen5hk-zqEMeK93DxyU7u9Pa5OHpwl6Obu3y2NLZgH0Wxj3A0jpKWTM6Y_e6FlDrmFCTK39t3vWwZLlzLE5soynrywIO9yg
[2022-04-19T12:05:55Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T12:05:55Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T12:05:55Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzAyNTUsImlhdCI6MTY1MDM2OTk1NSwiYXV0aF90aW1lIjoxNjUwMzY5OTUyLCJqdGkiOiIwNTFmZDBiZi02YWM2LTRlOWEtODIwMy0zMGFmNWZmNTM2OWMiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJVUDQ0bHhVUEJQdDVBOUc0d0EwZHdRIiwic2Vzc2lvbl9zdGF0ZSI6IjVmZDEyZjFkLWQ1ZjEtNGM0YS05NGI5LTlmNWJiNDk4OWRlNyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjVmZDEyZjFkLWQ1ZjEtNGM0YS05NGI5LTlmNWJiNDk4OWRlNyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.aUk8f2Ue8Fc-BXjvR00cQgmurhtN6qlr9mdEdTPd31SBceC5MTQxweGEBGsuPmewtx1oICyuZHixAHShoecp9-0Xf3GZpZL2h17Fl6xkG7p8ZwKe1HxliFLGgr8NHkAF_bGh4Db6Nt9eXuHAxp034ndoF2EnnM5CEqkZ4qILTbA8v3NFxzUHWWVECh6z9zBoOvJlxtrqQMkngZXJVKPGSe8LGxiyikPoAhU7B8IgSrTBukoGFRWezAkFen5hk-zqEMeK93DxyU7u9Pa5OHpwl6Obu3y2NLZgH0Wxj3A0jpKWTM6Y_e6FlDrmFCTK39t3vWwZLlzLE5soynrywIO9yg&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T12:05:55Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_2::integration_version_2::integration_ws_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T12:05:57Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T12:05:57Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T12:05:57Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:05:57Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:05:57Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:05:59Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T12:06:00Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T12:06:00Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:06:00Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:06:00Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:06:02Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzAyNjIsImlhdCI6MTY1MDM2OTk2MiwiYXV0aF90aW1lIjoxNjUwMzY5OTU5LCJqdGkiOiI0NWQ2N2RkYS1jNTg0LTQ4ZmUtYTU5ZS1lNDA2ZmNiY2E0Y2QiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiIyQS1VdGUyb0dSYkFfRW13ODUzc3VRIiwic2Vzc2lvbl9zdGF0ZSI6IjQ4ZjM0ZWE4LWFjYjItNGM0My04YzllLTgzODRmZjAxZDE4YiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjQ4ZjM0ZWE4LWFjYjItNGM0My04YzllLTgzODRmZjAxZDE4YiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.RPB7livR-VhuyyuDDPw2fwRfFz1FImCS83WAgQdGQR1SQtNYOsso4aKz3zeUs73nf7T_uSMqB2B-hutCsmMI_mtOjD8eyAWLz_k3NmS3LkuNFxxVM2CgVhSAA8R4E-90lgJqdM-ROUszTVU4Tiqb17_cxhaW8RroqkCllvXHMrTWzQkUqdtlibWsp891kqTtN8nIZN_WkSTqWMXQ-xcya-1RkYpib4ak1g7C-thFCEno2gtZijWxh7vssKo1cnEnNZZyiQ_liNyJUG0s_JyVOH03QqarmbwUDUfjyjV9bAVAV8iaLqdsZ_OOjPN_TzYfP3BXUyAX17hctnzbF_NqNg
[2022-04-19T12:06:02Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T12:06:02Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T12:06:02Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzAyNjIsImlhdCI6MTY1MDM2OTk2MiwiYXV0aF90aW1lIjoxNjUwMzY5OTU5LCJqdGkiOiI0NWQ2N2RkYS1jNTg0LTQ4ZmUtYTU5ZS1lNDA2ZmNiY2E0Y2QiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiIyQS1VdGUyb0dSYkFfRW13ODUzc3VRIiwic2Vzc2lvbl9zdGF0ZSI6IjQ4ZjM0ZWE4LWFjYjItNGM0My04YzllLTgzODRmZjAxZDE4YiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjQ4ZjM0ZWE4LWFjYjItNGM0My04YzllLTgzODRmZjAxZDE4YiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.RPB7livR-VhuyyuDDPw2fwRfFz1FImCS83WAgQdGQR1SQtNYOsso4aKz3zeUs73nf7T_uSMqB2B-hutCsmMI_mtOjD8eyAWLz_k3NmS3LkuNFxxVM2CgVhSAA8R4E-90lgJqdM-ROUszTVU4Tiqb17_cxhaW8RroqkCllvXHMrTWzQkUqdtlibWsp891kqTtN8nIZN_WkSTqWMXQ-xcya-1RkYpib4ak1g7C-thFCEno2gtZijWxh7vssKo1cnEnNZZyiQ_liNyJUG0s_JyVOH03QqarmbwUDUfjyjV9bAVAV8iaLqdsZ_OOjPN_TzYfP3BXUyAX17hctnzbF_NqNg&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T12:06:02Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_2::integration_version_3::integration_ws_1

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T12:06:05Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T12:06:05Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T12:06:05Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:06:05Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:06:05Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:06:06Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T12:06:07Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T12:06:07Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:06:07Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:06:07Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:06:09Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzAyNjksImlhdCI6MTY1MDM2OTk2OSwiYXV0aF90aW1lIjoxNjUwMzY5OTY2LCJqdGkiOiIzNjFmOGFlNy05ZWNkLTRkOTItYjk5MS1iOTE4YjQ5YzY4NmEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiI4TWFMOC1uQk5BMFBEVGprTWJQQWFBIiwic2Vzc2lvbl9zdGF0ZSI6ImZjMDRmYTYxLTkxNjUtNDk0Ni04YTUwLWMyOTkxMjZhMjNjYSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImZjMDRmYTYxLTkxNjUtNDk0Ni04YTUwLWMyOTkxMjZhMjNjYSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.OdR2f-721bWpARsVRqCLlkmGij1SYD0NRfryeYMQvnVb0APJ_X3xvaX1054mlqr765BvNqBo-zKEpkK2kWYsl_YuK6u32nbXI74iSuJehYJw949E-545clls6i0T2KlxhgXxmNDiTeDZ0XqncDXfllv4pXW1rXx2AMVbczNLORrqyKp-DxsNW-lTZbA3impM44wIn0ERt3Kf1IAVZaXhujb0ftqIBTZ7KIjev65epqlF81TQcWTXAkef2msZg3KZbPlDSrG0KCZLkKu0XlbVg6JusIx33-YOZ2NRfnRvJUPqQtleI_3-pLI2qP9d7bem-wrXBVTluGWmAleYnW8QCg
[2022-04-19T12:06:09Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T12:06:09Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T12:06:09Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzAyNjksImlhdCI6MTY1MDM2OTk2OSwiYXV0aF90aW1lIjoxNjUwMzY5OTY2LCJqdGkiOiIzNjFmOGFlNy05ZWNkLTRkOTItYjk5MS1iOTE4YjQ5YzY4NmEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiI4TWFMOC1uQk5BMFBEVGprTWJQQWFBIiwic2Vzc2lvbl9zdGF0ZSI6ImZjMDRmYTYxLTkxNjUtNDk0Ni04YTUwLWMyOTkxMjZhMjNjYSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImZjMDRmYTYxLTkxNjUtNDk0Ni04YTUwLWMyOTkxMjZhMjNjYSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.OdR2f-721bWpARsVRqCLlkmGij1SYD0NRfryeYMQvnVb0APJ_X3xvaX1054mlqr765BvNqBo-zKEpkK2kWYsl_YuK6u32nbXI74iSuJehYJw949E-545clls6i0T2KlxhgXxmNDiTeDZ0XqncDXfllv4pXW1rXx2AMVbczNLORrqyKp-DxsNW-lTZbA3impM44wIn0ERt3Kf1IAVZaXhujb0ftqIBTZ7KIjev65epqlF81TQcWTXAkef2msZg3KZbPlDSrG0KCZLkKu0XlbVg6JusIx33-YOZ2NRfnRvJUPqQtleI_3-pLI2qP9d7bem-wrXBVTluGWmAleYnW8QCg&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T12:06:09Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_2::integration_version_3::integration_ws_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T12:06:12Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T12:06:12Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T12:06:12Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:06:12Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:06:12Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:06:13Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T12:06:15Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T12:06:15Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:06:15Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:06:15Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:06:16Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzAyNzYsImlhdCI6MTY1MDM2OTk3NiwiYXV0aF90aW1lIjoxNjUwMzY5OTc0LCJqdGkiOiIzZTM5ZTBmYy1iM2YxLTQzNWQtOGVkNy1jZWRjNTMzOWMwMGYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiItREU5TVJEMUVnWUIwN2E5QjlRUEV3Iiwic2Vzc2lvbl9zdGF0ZSI6IjEyYjAyMmZhLWUxZjQtNGM5Mi05MjAzLTFhNTZhNDZiZDI4YSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjEyYjAyMmZhLWUxZjQtNGM5Mi05MjAzLTFhNTZhNDZiZDI4YSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.MvqHPfIDVaObV0HNfUgejvIBRPn18L23O4G7P3kjO9MiK6OHmIZPHJUUtcWx-MJguTGKjfkF2YfVnZUsZi4IVtlVnf3s28hTYEQ9cTARQMHFS4BODLiKvT7J6UWM_t6dJBBEV35L5MQPWJSiYlkORh8sbCLX1ga2bJZteJ-3inW7M2XR9DHnHK2AGQkb5onLQoK6mpMIqZK5KEd60UpN7X75XH1RTRHBsZej3jclbwLMy2B4R6rl6Q0kTvioF6Pxte01waWLQVMufPsKLB93pde-dZSFidCrxkM9mvxttr52IMVCXOzK9DMYVkszX4S4JMuroHQDNCEfOOgAPnHaew
[2022-04-19T12:06:17Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T12:06:17Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T12:06:17Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzAyNzYsImlhdCI6MTY1MDM2OTk3NiwiYXV0aF90aW1lIjoxNjUwMzY5OTc0LCJqdGkiOiIzZTM5ZTBmYy1iM2YxLTQzNWQtOGVkNy1jZWRjNTMzOWMwMGYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiItREU5TVJEMUVnWUIwN2E5QjlRUEV3Iiwic2Vzc2lvbl9zdGF0ZSI6IjEyYjAyMmZhLWUxZjQtNGM5Mi05MjAzLTFhNTZhNDZiZDI4YSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjEyYjAyMmZhLWUxZjQtNGM5Mi05MjAzLTFhNTZhNDZiZDI4YSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.MvqHPfIDVaObV0HNfUgejvIBRPn18L23O4G7P3kjO9MiK6OHmIZPHJUUtcWx-MJguTGKjfkF2YfVnZUsZi4IVtlVnf3s28hTYEQ9cTARQMHFS4BODLiKvT7J6UWM_t6dJBBEV35L5MQPWJSiYlkORh8sbCLX1ga2bJZteJ-3inW7M2XR9DHnHK2AGQkb5onLQoK6mpMIqZK5KEd60UpN7X75XH1RTRHBsZej3jclbwLMy2B4R6rl6Q0kTvioF6Pxte01waWLQVMufPsKLB93pde-dZSFidCrxkM9mvxttr52IMVCXOzK9DMYVkszX4S4JMuroHQDNCEfOOgAPnHaew&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T12:06:17Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_1::integration_version_1::integration_ws_1

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T12:06:19Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T12:06:19Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T12:06:19Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:06:19Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:06:19Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:06:20Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T12:06:22Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T12:06:22Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:06:22Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:06:22Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:06:24Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzAyODQsImlhdCI6MTY1MDM2OTk4NCwiYXV0aF90aW1lIjoxNjUwMzY5OTgxLCJqdGkiOiJhZWY0MDg4ZS0yYTg3LTQ3NTUtYTI0OS1iNDNkNzJmY2VjMzIiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiI2TDFlSzZnbWlGdV9Ob3FHa3pHTXlnIiwic2Vzc2lvbl9zdGF0ZSI6ImVjMTBiYmZjLTUyYTYtNGYyYi04MjkwLWMwODUzNzFmNTQ4MSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImVjMTBiYmZjLTUyYTYtNGYyYi04MjkwLWMwODUzNzFmNTQ4MSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.DZnan4JjdCoaBmURQv2WrzRf515fQKIb2B6BBkT1FQ1dfaRfRlmxZRVLhY0TWGCJ_wY67N4lFAhKlxUTI-nH_MvnWTGnhBKwyjsRc-laHefdZMlT7uPa7D_dkEJnzdQ2kaQ4qXazckNdlrLS-pgARbq06oAUujSfTN9fAYioCMtzySAuuLcL2z_YIZSmgIRxaoKGvnoeIyCW81YfykC1tiZ13jUNMhdaP1udtdrGQAwlZe3JOc_7CTNAZdRVy_-MgB-RlLwVZ6kuYfaqUWiOq5PWzQdWydsYBcSi1cG9GpAfFxNkg0WQRcmOMdVzB1cTqsOoglAk-2vm9KYyXgcBFA
[2022-04-19T12:06:24Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T12:06:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T12:06:24Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzAyODQsImlhdCI6MTY1MDM2OTk4NCwiYXV0aF90aW1lIjoxNjUwMzY5OTgxLCJqdGkiOiJhZWY0MDg4ZS0yYTg3LTQ3NTUtYTI0OS1iNDNkNzJmY2VjMzIiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiI2TDFlSzZnbWlGdV9Ob3FHa3pHTXlnIiwic2Vzc2lvbl9zdGF0ZSI6ImVjMTBiYmZjLTUyYTYtNGYyYi04MjkwLWMwODUzNzFmNTQ4MSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImVjMTBiYmZjLTUyYTYtNGYyYi04MjkwLWMwODUzNzFmNTQ4MSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.DZnan4JjdCoaBmURQv2WrzRf515fQKIb2B6BBkT1FQ1dfaRfRlmxZRVLhY0TWGCJ_wY67N4lFAhKlxUTI-nH_MvnWTGnhBKwyjsRc-laHefdZMlT7uPa7D_dkEJnzdQ2kaQ4qXazckNdlrLS-pgARbq06oAUujSfTN9fAYioCMtzySAuuLcL2z_YIZSmgIRxaoKGvnoeIyCW81YfykC1tiZ13jUNMhdaP1udtdrGQAwlZe3JOc_7CTNAZdRVy_-MgB-RlLwVZ6kuYfaqUWiOq5PWzQdWydsYBcSi1cG9GpAfFxNkg0WQRcmOMdVzB1cTqsOoglAk-2vm9KYyXgcBFA&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T12:06:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_1::integration_version_1::integration_ws_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T12:06:27Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T12:06:27Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T12:06:27Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:06:27Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:06:27Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:06:28Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T12:06:30Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T12:06:30Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:06:30Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:06:30Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:06:31Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzAyOTEsImlhdCI6MTY1MDM2OTk5MSwiYXV0aF90aW1lIjoxNjUwMzY5OTg5LCJqdGkiOiJiNGVmZmU5NS1iNTA1LTQwY2QtOGRhNi03OTA5NDUwZGFmOGYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJTcTRST1JTUWE2bkh2YVV2cXdCZHl3Iiwic2Vzc2lvbl9zdGF0ZSI6ImM0ZDQzODI4LTBlNzAtNDY5Ni04Yzk3LTQ3NGUzM2QyMWI5MiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImM0ZDQzODI4LTBlNzAtNDY5Ni04Yzk3LTQ3NGUzM2QyMWI5MiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.Y8w3nVVJu4KzIBn8YyYAQdvltxCjBIZoD__riCha2u5LJZukL8QHSEzNUNESNuar9PVz_hHJr_XaMdeRvdOCxm6qyNVjKSc7E9kgGv6e8sV1Mf3T2FVEb_ZNdGG3CuUiUObnJ2CbeGVObkzRKvlrhOVOkY5v4EWu0PmGn1o0ajPndQf7sZfblZtnrcPvVEuVbfcGpswuRYoPqzHNEtMzsSivU9j4aP5DlxhZXEhxnDIoL1O5AU3EshZUUg10LMact5EsVQk3JKnTcpyclGp9_p_T9YmPEpYl8GN4I-jwYBiMB9beOG07Ya2IBs_gqrLXWiGwDJy0jNnLLGW1lFWJkQ
[2022-04-19T12:06:31Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T12:06:31Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T12:06:31Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzAyOTEsImlhdCI6MTY1MDM2OTk5MSwiYXV0aF90aW1lIjoxNjUwMzY5OTg5LCJqdGkiOiJiNGVmZmU5NS1iNTA1LTQwY2QtOGRhNi03OTA5NDUwZGFmOGYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJTcTRST1JTUWE2bkh2YVV2cXdCZHl3Iiwic2Vzc2lvbl9zdGF0ZSI6ImM0ZDQzODI4LTBlNzAtNDY5Ni04Yzk3LTQ3NGUzM2QyMWI5MiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImM0ZDQzODI4LTBlNzAtNDY5Ni04Yzk3LTQ3NGUzM2QyMWI5MiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.Y8w3nVVJu4KzIBn8YyYAQdvltxCjBIZoD__riCha2u5LJZukL8QHSEzNUNESNuar9PVz_hHJr_XaMdeRvdOCxm6qyNVjKSc7E9kgGv6e8sV1Mf3T2FVEb_ZNdGG3CuUiUObnJ2CbeGVObkzRKvlrhOVOkY5v4EWu0PmGn1o0ajPndQf7sZfblZtnrcPvVEuVbfcGpswuRYoPqzHNEtMzsSivU9j4aP5DlxhZXEhxnDIoL1O5AU3EshZUUg10LMact5EsVQk3JKnTcpyclGp9_p_T9YmPEpYl8GN4I-jwYBiMB9beOG07Ya2IBs_gqrLXWiGwDJy0jNnLLGW1lFWJkQ&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T12:06:31Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_1::integration_version_2::integration_ws_1

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T12:06:34Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T12:06:34Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T12:06:34Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:06:34Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:06:34Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:06:35Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T12:06:37Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T12:06:37Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:06:37Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:06:37Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:06:39Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzAyOTksImlhdCI6MTY1MDM2OTk5OSwiYXV0aF90aW1lIjoxNjUwMzY5OTk2LCJqdGkiOiIwMzMxMzg0Zi1jODQ2LTQ0MWUtODgxYy1iYzUxNmYyMTQyYTIiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJIaG4zZFhsa05rN2NsZWZEZF80MVZ3Iiwic2Vzc2lvbl9zdGF0ZSI6ImY0MmU3NThkLTVjMjMtNDBjMi1hZWFiLTU2YmZhNTAwNjNlNSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImY0MmU3NThkLTVjMjMtNDBjMi1hZWFiLTU2YmZhNTAwNjNlNSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.Li7f_DpbbETTWqo6wv1SATtr0MjjPaUqa-tga5U_WJotuuHPKv9JputP3vSaQc69xJh72Cosrh0F3SZ4zg15jbT1uQyl4sYxa_IJZ3dL2OEY5ju8k0ayuiBblYHDWLQsvbZS_UAlBOr_4V57uCAbX2E-fmWzm7E1kbuajFB0wyRMnREsA3Be2mWJs9kYyAWyjZg9h6ULJZFKK2SFKtYmjtcJ9KyLZLaRH8V1MknPkrKnGMvGWzqPfbsuyoXDCMp8o7vIm7ufKkUTeB0VPblYwtRPfzfy0c6nmXSEQYHiDYNKLcYtRxDzH0XVhp4gw4To7Vq0oM-4lsP65c2HnoPhuQ
[2022-04-19T12:06:39Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T12:06:39Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T12:06:39Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzAyOTksImlhdCI6MTY1MDM2OTk5OSwiYXV0aF90aW1lIjoxNjUwMzY5OTk2LCJqdGkiOiIwMzMxMzg0Zi1jODQ2LTQ0MWUtODgxYy1iYzUxNmYyMTQyYTIiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJIaG4zZFhsa05rN2NsZWZEZF80MVZ3Iiwic2Vzc2lvbl9zdGF0ZSI6ImY0MmU3NThkLTVjMjMtNDBjMi1hZWFiLTU2YmZhNTAwNjNlNSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImY0MmU3NThkLTVjMjMtNDBjMi1hZWFiLTU2YmZhNTAwNjNlNSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.Li7f_DpbbETTWqo6wv1SATtr0MjjPaUqa-tga5U_WJotuuHPKv9JputP3vSaQc69xJh72Cosrh0F3SZ4zg15jbT1uQyl4sYxa_IJZ3dL2OEY5ju8k0ayuiBblYHDWLQsvbZS_UAlBOr_4V57uCAbX2E-fmWzm7E1kbuajFB0wyRMnREsA3Be2mWJs9kYyAWyjZg9h6ULJZFKK2SFKtYmjtcJ9KyLZLaRH8V1MknPkrKnGMvGWzqPfbsuyoXDCMp8o7vIm7ufKkUTeB0VPblYwtRPfzfy0c6nmXSEQYHiDYNKLcYtRxDzH0XVhp4gw4To7Vq0oM-4lsP65c2HnoPhuQ&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T12:06:39Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_1::integration_version_2::integration_ws_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T12:06:41Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T12:06:41Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T12:06:41Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:06:41Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:06:41Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:06:42Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T12:06:44Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T12:06:44Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:06:44Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:06:44Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:06:46Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzAzMDYsImlhdCI6MTY1MDM3MDAwNiwiYXV0aF90aW1lIjoxNjUwMzcwMDAzLCJqdGkiOiJhNTQ2YjY1MC0zMTA3LTQ1NmUtYjUzYi0xMWFmMGQ5YjhkMWQiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJfVjUzcUVJT21lbV9YazVKRG01a3B3Iiwic2Vzc2lvbl9zdGF0ZSI6IjQwNzJiZTNlLWZjYTUtNDcyYi04YWI1LWI3YjhkMDA4NzY2MCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjQwNzJiZTNlLWZjYTUtNDcyYi04YWI1LWI3YjhkMDA4NzY2MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.ZInfh0e17qPjTKKIqwu_SLOn0AZcGj00k_hnSJM7yns32d8AqqeeLbWTnqgwx52UuxN5WGUxx0kZjqxyZab-g6KjePZ7y4ZmQHGP0zNpEtj3LIstW3c2nvTvPA2abIVcnesuoreVqtm8w8JK35wHA3lRV_M7So6QKib_yevarYvnyREoAXY24abNGIBaGftN_fmn1O_SDuDhSCQbPFx0MuMkumi5pIlfJUX_SYtFmvyK7Sk8VRV8cI-UZt96OOZzrhZtTZVvpnOazXXlX3kvX7i5dHdQQoMdZ1tY8qIjBHrTHwwmQPp1h1ibzRy1MEsvOClaoDCBNTgvoYlZexLPWw
[2022-04-19T12:06:46Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T12:06:46Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T12:06:46Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzAzMDYsImlhdCI6MTY1MDM3MDAwNiwiYXV0aF90aW1lIjoxNjUwMzcwMDAzLCJqdGkiOiJhNTQ2YjY1MC0zMTA3LTQ1NmUtYjUzYi0xMWFmMGQ5YjhkMWQiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJfVjUzcUVJT21lbV9YazVKRG01a3B3Iiwic2Vzc2lvbl9zdGF0ZSI6IjQwNzJiZTNlLWZjYTUtNDcyYi04YWI1LWI3YjhkMDA4NzY2MCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjQwNzJiZTNlLWZjYTUtNDcyYi04YWI1LWI3YjhkMDA4NzY2MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.ZInfh0e17qPjTKKIqwu_SLOn0AZcGj00k_hnSJM7yns32d8AqqeeLbWTnqgwx52UuxN5WGUxx0kZjqxyZab-g6KjePZ7y4ZmQHGP0zNpEtj3LIstW3c2nvTvPA2abIVcnesuoreVqtm8w8JK35wHA3lRV_M7So6QKib_yevarYvnyREoAXY24abNGIBaGftN_fmn1O_SDuDhSCQbPFx0MuMkumi5pIlfJUX_SYtFmvyK7Sk8VRV8cI-UZt96OOZzrhZtTZVvpnOazXXlX3kvX7i5dHdQQoMdZ1tY8qIjBHrTHwwmQPp1h1ibzRy1MEsvOClaoDCBNTgvoYlZexLPWw&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T12:06:46Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_1::integration_version_3::integration_ws_1

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T12:06:49Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T12:06:49Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T12:06:49Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:06:49Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:06:49Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:06:50Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T12:06:51Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T12:06:51Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:06:51Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:06:51Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:06:53Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzAzMTMsImlhdCI6MTY1MDM3MDAxMywiYXV0aF90aW1lIjoxNjUwMzcwMDEwLCJqdGkiOiIwYTQxNGIzOS0yZjZjLTRmMTgtYTYxOC02MWI4NDllMjA1OGMiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJLSDA3Q2YyZzJDNDV5NHdMMjFSUUZBIiwic2Vzc2lvbl9zdGF0ZSI6IjA4M2ZlZjVhLTEwY2EtNGQwYi05YjA4LTMxMWRiMWNjMTA2ZiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjA4M2ZlZjVhLTEwY2EtNGQwYi05YjA4LTMxMWRiMWNjMTA2ZiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.Susko-n4d4ICksfO5ATGtTPqsYMIlLQhW1deUS6iFkLo8ljyK_c9bAl5mqxUj8LfKvvlh-Oqt86dcY9Sfjo9ZyV1QYHhkILUJ4kuTgJNdv6_8Nr0sl71gcw4ty07F_9Xiw_pzU32GNA58qgQ4JFLQXvCrALuEXp-2o6W0F2ME1zU6vHqn0IeELjUJ7b2iP274q2o2J16VaXuQfdvU_UjdA9MOHqTBwR6otoMSLq29UrEzKHxZXB61_QybB9LpzCAmYXdkhGeT8oomzJBQ8oBkb0GdCX5cBD5FrHmQiGbhYsbCdL-Y_P4ZGIDbAymBmbx6iayinUBVIFTKydLlKPHsw
[2022-04-19T12:06:53Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T12:06:53Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T12:06:53Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzAzMTMsImlhdCI6MTY1MDM3MDAxMywiYXV0aF90aW1lIjoxNjUwMzcwMDEwLCJqdGkiOiIwYTQxNGIzOS0yZjZjLTRmMTgtYTYxOC02MWI4NDllMjA1OGMiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJLSDA3Q2YyZzJDNDV5NHdMMjFSUUZBIiwic2Vzc2lvbl9zdGF0ZSI6IjA4M2ZlZjVhLTEwY2EtNGQwYi05YjA4LTMxMWRiMWNjMTA2ZiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjA4M2ZlZjVhLTEwY2EtNGQwYi05YjA4LTMxMWRiMWNjMTA2ZiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.Susko-n4d4ICksfO5ATGtTPqsYMIlLQhW1deUS6iFkLo8ljyK_c9bAl5mqxUj8LfKvvlh-Oqt86dcY9Sfjo9ZyV1QYHhkILUJ4kuTgJNdv6_8Nr0sl71gcw4ty07F_9Xiw_pzU32GNA58qgQ4JFLQXvCrALuEXp-2o6W0F2ME1zU6vHqn0IeELjUJ7b2iP274q2o2J16VaXuQfdvU_UjdA9MOHqTBwR6otoMSLq29UrEzKHxZXB61_QybB9LpzCAmYXdkhGeT8oomzJBQ8oBkb0GdCX5cBD5FrHmQiGbhYsbCdL-Y_P4ZGIDbAymBmbx6iayinUBVIFTKydLlKPHsw&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T12:06:53Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_1::integration_version_3::integration_ws_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T12:06:56Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T12:06:56Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T12:06:56Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:06:56Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:06:56Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:06:57Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T12:06:58Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T12:06:58Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:06:58Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:06:58Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:07:01Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzAzMjAsImlhdCI6MTY1MDM3MDAyMCwiYXV0aF90aW1lIjoxNjUwMzcwMDE4LCJqdGkiOiI2Zjc0MWY3Yi04NjU5LTQxNGMtYjFkMS03YTIzZWU2NDQ3NjUiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJLMUZscncxNlpPSnVZei1ZeXdLSWdRIiwic2Vzc2lvbl9zdGF0ZSI6IjhhMjBiMmIxLWQ1ODktNDg2Ny1hZDliLTZmODE5N2FiZjUxOCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjhhMjBiMmIxLWQ1ODktNDg2Ny1hZDliLTZmODE5N2FiZjUxOCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.ah9msoKmqfBS8QCxYp8sFr19hb7uN0A5aGU8pgqTwYX-0CldLP160LnPL3BarP9b5ht3SMNYh2vOEtdnH5uqZCJGZPqxtyYpPuhtjxDRNVmTchNX_KyeOz7xSjMUY5Q0ooxrwJ6DhqvjjXZuV00pEVdT3l4n80JmNbSAXmu2IXLYIv4vLiTdkrjx1az06d3hp7WFD27UgPeLFCvt7TLo0ouqb4QWV7uagI8BgG1t8-hjynmKMpFi14X7UX6JBTrOi5_GHu7OAzfeO10crMPiG1t3TiJp4UlbbzEveS9x8SNglNNt9_Ik86F9Iu0bzk9LeckZPT2UezUzfFfZYQM3zg
[2022-04-19T12:07:01Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T12:07:01Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T12:07:01Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzAzMjAsImlhdCI6MTY1MDM3MDAyMCwiYXV0aF90aW1lIjoxNjUwMzcwMDE4LCJqdGkiOiI2Zjc0MWY3Yi04NjU5LTQxNGMtYjFkMS03YTIzZWU2NDQ3NjUiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJLMUZscncxNlpPSnVZei1ZeXdLSWdRIiwic2Vzc2lvbl9zdGF0ZSI6IjhhMjBiMmIxLWQ1ODktNDg2Ny1hZDliLTZmODE5N2FiZjUxOCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjhhMjBiMmIxLWQ1ODktNDg2Ny1hZDliLTZmODE5N2FiZjUxOCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.ah9msoKmqfBS8QCxYp8sFr19hb7uN0A5aGU8pgqTwYX-0CldLP160LnPL3BarP9b5ht3SMNYh2vOEtdnH5uqZCJGZPqxtyYpPuhtjxDRNVmTchNX_KyeOz7xSjMUY5Q0ooxrwJ6DhqvjjXZuV00pEVdT3l4n80JmNbSAXmu2IXLYIv4vLiTdkrjx1az06d3hp7WFD27UgPeLFCvt7TLo0ouqb4QWV7uagI8BgG1t8-hjynmKMpFi14X7UX6JBTrOi5_GHu7OAzfeO10crMPiG1t3TiJp4UlbbzEveS9x8SNglNNt9_Ik86F9Iu0bzk9LeckZPT2UezUzfFfZYQM3zg&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T12:07:01Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_2::integration_version_1::integration_ws_1

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T12:07:03Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T12:07:03Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T12:07:03Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:07:03Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:07:03Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:07:04Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T12:07:06Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T12:07:06Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:07:06Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:07:06Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:07:09Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzAzMjksImlhdCI6MTY1MDM3MDAyOSwiYXV0aF90aW1lIjoxNjUwMzcwMDI1LCJqdGkiOiJiZmM4ZWM3Zi03YWYxLTRlYzAtOGE5OC0yODFjMDdmZWVhNmQiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJvT1UwR1ZNSExsWWhEb0I5WWRneWN3Iiwic2Vzc2lvbl9zdGF0ZSI6ImQ2YmQ0MmFhLTA1ODItNDEyYS05OTM1LTJlMTExZmYwYzcyMiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImQ2YmQ0MmFhLTA1ODItNDEyYS05OTM1LTJlMTExZmYwYzcyMiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.fNEsH4vTNjisCJw5j0E0xuoVWYh75WZZkH8MsMSknISuDB0NH_0Jr7KbZxS6FPwpHnzJpfiPGy_IijQWrIr7mCGZ_RvAo1lfEiMHRrz2F66OxxVo2RYYLcT7953kOdQDGeyLcyNBjvD8WRxx3zGdIHamTnuNQkDixfm3d6hfbHiL2saXbDZ7pl2ssYo1RjCDCRzMiy56lXuQkIHgSjnzssfK2e0N7tTMNt6GcuozLBEkklSNrWnzOZDIi-f_w77g4kKH4pJz8nE6Oz53vGBY2jzOPvsZIiSi0ElHCf9hTwl4gCcE750buxj-PcKC17IwZbPMI2C7kbVMsrVkGmfsyA
[2022-04-19T12:07:09Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T12:07:09Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T12:07:09Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzAzMjksImlhdCI6MTY1MDM3MDAyOSwiYXV0aF90aW1lIjoxNjUwMzcwMDI1LCJqdGkiOiJiZmM4ZWM3Zi03YWYxLTRlYzAtOGE5OC0yODFjMDdmZWVhNmQiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJvT1UwR1ZNSExsWWhEb0I5WWRneWN3Iiwic2Vzc2lvbl9zdGF0ZSI6ImQ2YmQ0MmFhLTA1ODItNDEyYS05OTM1LTJlMTExZmYwYzcyMiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImQ2YmQ0MmFhLTA1ODItNDEyYS05OTM1LTJlMTExZmYwYzcyMiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.fNEsH4vTNjisCJw5j0E0xuoVWYh75WZZkH8MsMSknISuDB0NH_0Jr7KbZxS6FPwpHnzJpfiPGy_IijQWrIr7mCGZ_RvAo1lfEiMHRrz2F66OxxVo2RYYLcT7953kOdQDGeyLcyNBjvD8WRxx3zGdIHamTnuNQkDixfm3d6hfbHiL2saXbDZ7pl2ssYo1RjCDCRzMiy56lXuQkIHgSjnzssfK2e0N7tTMNt6GcuozLBEkklSNrWnzOZDIi-f_w77g4kKH4pJz8nE6Oz53vGBY2jzOPvsZIiSi0ElHCf9hTwl4gCcE750buxj-PcKC17IwZbPMI2C7kbVMsrVkGmfsyA&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T12:07:09Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_2::integration_version_1::integration_ws_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T12:07:12Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T12:07:12Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T12:07:12Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:07:12Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:07:12Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:07:13Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T12:07:14Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T12:07:14Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:07:14Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:07:14Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:07:16Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzAzMzYsImlhdCI6MTY1MDM3MDAzNiwiYXV0aF90aW1lIjoxNjUwMzcwMDMzLCJqdGkiOiJlZWI1ZTE5Zi0wMGFiLTRiMjAtYTVhMi1kODAwN2ZlMGRhYTQiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJzeEVfTDFRWnFPMG5ROVVWYk51WTRRIiwic2Vzc2lvbl9zdGF0ZSI6IjU3YmYzYmRhLWQwYjktNDQxZi1hNzFjLWQ2NzVhOWZiZDcyNCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjU3YmYzYmRhLWQwYjktNDQxZi1hNzFjLWQ2NzVhOWZiZDcyNCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.HJF9D2p8U9Hn7r-bQ3dgUnt3plOkOU67SnGMJnU6zpSiovs8Bbe4iQ6G-l50gBEBuNgkNbkjBk07xSeqF3yVFVNw2-85cLJJPB2idLMvake1M6gEftvZMwQLdH0MhbvSPOjavOtSSVCdBbrjzgZXeCGwFbV8fhH0j_NsHsZnA_PJNr55YPHTKVM1oj4zcN2WwTGVgWYUhtll3QeNd-GsebcFvNmFApGVPV_nhb80j7ClwPOdP7NbL7ka7U1KYhYr_b1jzdCwKjNHhNizsBEJ3Y_3Qvg7EStCNxopraZuLsS3M7hDJaTmJxEphNmPVkngy2Ffqi6dkOP1UoABU43mag
[2022-04-19T12:07:16Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T12:07:16Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T12:07:16Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzAzMzYsImlhdCI6MTY1MDM3MDAzNiwiYXV0aF90aW1lIjoxNjUwMzcwMDMzLCJqdGkiOiJlZWI1ZTE5Zi0wMGFiLTRiMjAtYTVhMi1kODAwN2ZlMGRhYTQiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJzeEVfTDFRWnFPMG5ROVVWYk51WTRRIiwic2Vzc2lvbl9zdGF0ZSI6IjU3YmYzYmRhLWQwYjktNDQxZi1hNzFjLWQ2NzVhOWZiZDcyNCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjU3YmYzYmRhLWQwYjktNDQxZi1hNzFjLWQ2NzVhOWZiZDcyNCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.HJF9D2p8U9Hn7r-bQ3dgUnt3plOkOU67SnGMJnU6zpSiovs8Bbe4iQ6G-l50gBEBuNgkNbkjBk07xSeqF3yVFVNw2-85cLJJPB2idLMvake1M6gEftvZMwQLdH0MhbvSPOjavOtSSVCdBbrjzgZXeCGwFbV8fhH0j_NsHsZnA_PJNr55YPHTKVM1oj4zcN2WwTGVgWYUhtll3QeNd-GsebcFvNmFApGVPV_nhb80j7ClwPOdP7NbL7ka7U1KYhYr_b1jzdCwKjNHhNizsBEJ3Y_3Qvg7EStCNxopraZuLsS3M7hDJaTmJxEphNmPVkngy2Ffqi6dkOP1UoABU43mag&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T12:07:16Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_2::integration_version_2::integration_ws_1

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T12:07:19Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T12:07:19Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T12:07:19Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:07:19Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:07:19Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:07:20Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T12:07:21Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T12:07:21Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:07:21Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:07:21Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:07:23Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzAzNDMsImlhdCI6MTY1MDM3MDA0MywiYXV0aF90aW1lIjoxNjUwMzcwMDQwLCJqdGkiOiIyNjA1Y2UxNi0xMjQ3LTRkOTQtOTg1NS0yZmIwNmM1YjUxZmIiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJDb0RfT2xBRzczSXFTNjBEdTlZeDRBIiwic2Vzc2lvbl9zdGF0ZSI6ImU5MzA2NTM5LWNiZjEtNGEzOS04NWM2LTNjYjVmNWMzYzY5MSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImU5MzA2NTM5LWNiZjEtNGEzOS04NWM2LTNjYjVmNWMzYzY5MSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.IW-yXFLFo-VXw6NV7CViFEIHGDylsTJtsJ_kx2zvK5Qc-gHCg9rmavpAGPED-R0ZAhIbtHTJ1UUeKbVRAW94xYcv2C_78tfuRL6p0Jo2ohU8F071ukF-xPPGxfCo9wqJltGect7K9edOsZRK2ulWxdRzEVJ1fDAWE3px4OhLVjEpNd0rUTRdxInjRA6eBbrjW2LkzCO6NHd19Jj8L6R9-xO3b4gcVXNIu5bTVtdzRvX7sMUYAej_Rpo_pH9rqx9jIVf6qKBZKdjDsjqcsv_Z56aMgP1cJQa-wUpiL9ubwl-pswWN6BfQRpDt3BCBLp9ty_zk1gJ4qum9hSGQK6OoAg
[2022-04-19T12:07:23Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T12:07:23Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T12:07:23Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzAzNDMsImlhdCI6MTY1MDM3MDA0MywiYXV0aF90aW1lIjoxNjUwMzcwMDQwLCJqdGkiOiIyNjA1Y2UxNi0xMjQ3LTRkOTQtOTg1NS0yZmIwNmM1YjUxZmIiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJDb0RfT2xBRzczSXFTNjBEdTlZeDRBIiwic2Vzc2lvbl9zdGF0ZSI6ImU5MzA2NTM5LWNiZjEtNGEzOS04NWM2LTNjYjVmNWMzYzY5MSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImU5MzA2NTM5LWNiZjEtNGEzOS04NWM2LTNjYjVmNWMzYzY5MSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.IW-yXFLFo-VXw6NV7CViFEIHGDylsTJtsJ_kx2zvK5Qc-gHCg9rmavpAGPED-R0ZAhIbtHTJ1UUeKbVRAW94xYcv2C_78tfuRL6p0Jo2ohU8F071ukF-xPPGxfCo9wqJltGect7K9edOsZRK2ulWxdRzEVJ1fDAWE3px4OhLVjEpNd0rUTRdxInjRA6eBbrjW2LkzCO6NHd19Jj8L6R9-xO3b4gcVXNIu5bTVtdzRvX7sMUYAej_Rpo_pH9rqx9jIVf6qKBZKdjDsjqcsv_Z56aMgP1cJQa-wUpiL9ubwl-pswWN6BfQRpDt3BCBLp9ty_zk1gJ4qum9hSGQK6OoAg&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T12:07:23Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_2::integration_version_2::integration_ws_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T12:07:26Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T12:07:26Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T12:07:26Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:07:26Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:07:26Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:07:27Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T12:07:29Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T12:07:29Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:07:29Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:07:29Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:07:31Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzAzNTAsImlhdCI6MTY1MDM3MDA1MCwiYXV0aF90aW1lIjoxNjUwMzcwMDQ4LCJqdGkiOiI3ODRlMjExZC1kY2RjLTQ5NjgtYjY5OC1mZDkxNzQyZWQxY2EiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiI0MW0wUnFKbjJtWFdma3lsa3hhdmRRIiwic2Vzc2lvbl9zdGF0ZSI6ImE5OTg1MjVjLWU2OTEtNDY2NS04ZDQ3LWU4MzU0YzFmM2VlMiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImE5OTg1MjVjLWU2OTEtNDY2NS04ZDQ3LWU4MzU0YzFmM2VlMiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.XMV12RjNhdNYwcyzO0XEVMRLzQ1M0YbxWZTLz_bc2hgJs1m5HfrleTSgUeGug1iT3x3aJXttiYTU4CKSLT9hMxuc2vhRynedTmkqGEMsT331eHylT920JPjZK0KRHG_e5U5VEjX4A1fzbdWFWhRfotg1X2VERmZ2JTxGyxfUaG8Faiqh55A18Q6RAhsVdOtbHeKuft7a8Efumn-sXpQGaVcvA4DtYbiXuboKbg8KlSFde-yXABJ49pBX1YT-QpPh0VvfdWcch5hwZ8w_fJlmX8XtoXxejJ2G5s1ux7sZqux1O0thpuapMNI-HWylrNRNo0CnnaY64yPyX2aofoZPBw
[2022-04-19T12:07:31Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T12:07:31Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T12:07:31Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzAzNTAsImlhdCI6MTY1MDM3MDA1MCwiYXV0aF90aW1lIjoxNjUwMzcwMDQ4LCJqdGkiOiI3ODRlMjExZC1kY2RjLTQ5NjgtYjY5OC1mZDkxNzQyZWQxY2EiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiI0MW0wUnFKbjJtWFdma3lsa3hhdmRRIiwic2Vzc2lvbl9zdGF0ZSI6ImE5OTg1MjVjLWU2OTEtNDY2NS04ZDQ3LWU4MzU0YzFmM2VlMiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImE5OTg1MjVjLWU2OTEtNDY2NS04ZDQ3LWU4MzU0YzFmM2VlMiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.XMV12RjNhdNYwcyzO0XEVMRLzQ1M0YbxWZTLz_bc2hgJs1m5HfrleTSgUeGug1iT3x3aJXttiYTU4CKSLT9hMxuc2vhRynedTmkqGEMsT331eHylT920JPjZK0KRHG_e5U5VEjX4A1fzbdWFWhRfotg1X2VERmZ2JTxGyxfUaG8Faiqh55A18Q6RAhsVdOtbHeKuft7a8Efumn-sXpQGaVcvA4DtYbiXuboKbg8KlSFde-yXABJ49pBX1YT-QpPh0VvfdWcch5hwZ8w_fJlmX8XtoXxejJ2G5s1ux7sZqux1O0thpuapMNI-HWylrNRNo0CnnaY64yPyX2aofoZPBw&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T12:07:31Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_2::integration_version_3::integration_ws_1

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T12:07:33Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T12:07:33Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T12:07:33Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:07:33Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:07:33Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:07:34Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T12:07:36Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T12:07:36Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:07:36Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:07:36Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:07:38Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzAzNTcsImlhdCI6MTY1MDM3MDA1NywiYXV0aF90aW1lIjoxNjUwMzcwMDU1LCJqdGkiOiJhMzdjOTM5Ni0zMGFkLTQyZTUtODA1ZS1hNTA3MmJmZGNlYmMiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJNdzhZODhWRWFvZ3ZKbThXWk4zY0dRIiwic2Vzc2lvbl9zdGF0ZSI6IjM3YTRhZGMxLTc1YTMtNDcwZC05MjE3LTAyNDFlN2JkOTQwNSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjM3YTRhZGMxLTc1YTMtNDcwZC05MjE3LTAyNDFlN2JkOTQwNSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.X5W_5oFrNL-Ic8d8-rNbsw6hRyjBUb3kqSE69SqcOCD9cJejYzyGj270g5KuKq_qlGTy5Qt6mBhtJ6rbVB6NySKPM-KMYqmn7TVETQ-O-avZNfSY3cm_gIm2kd-7vo0n2CW1KnFrDq6pHvUrI60P2ip244DC55IiRmDRuJ1zrq6BjAxo2lzuOhgEGDgfEsnF373PqGOUZ6274eh29CI9qdqXo0YvLC_tpnZjljAW1HZjvsrKh8GPSljFJIgFOdY3nJPbHRByGgagH9Mz6oJOHXK6GAsiSrSWv-dCbXeQIBEZD7tfn-02NIvj_n10V2rCXbeKJWLB8CNcMj-7TBzHbg
[2022-04-19T12:07:38Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T12:07:38Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T12:07:38Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzAzNTcsImlhdCI6MTY1MDM3MDA1NywiYXV0aF90aW1lIjoxNjUwMzcwMDU1LCJqdGkiOiJhMzdjOTM5Ni0zMGFkLTQyZTUtODA1ZS1hNTA3MmJmZGNlYmMiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJNdzhZODhWRWFvZ3ZKbThXWk4zY0dRIiwic2Vzc2lvbl9zdGF0ZSI6IjM3YTRhZGMxLTc1YTMtNDcwZC05MjE3LTAyNDFlN2JkOTQwNSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjM3YTRhZGMxLTc1YTMtNDcwZC05MjE3LTAyNDFlN2JkOTQwNSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.X5W_5oFrNL-Ic8d8-rNbsw6hRyjBUb3kqSE69SqcOCD9cJejYzyGj270g5KuKq_qlGTy5Qt6mBhtJ6rbVB6NySKPM-KMYqmn7TVETQ-O-avZNfSY3cm_gIm2kd-7vo0n2CW1KnFrDq6pHvUrI60P2ip244DC55IiRmDRuJ1zrq6BjAxo2lzuOhgEGDgfEsnF373PqGOUZ6274eh29CI9qdqXo0YvLC_tpnZjljAW1HZjvsrKh8GPSljFJIgFOdY3nJPbHRByGgagH9Mz6oJOHXK6GAsiSrSWv-dCbXeQIBEZD7tfn-02NIvj_n10V2rCXbeKJWLB8CNcMj-7TBzHbg&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T12:07:38Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_2::integration_version_3::integration_ws_2

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T12:07:40Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T12:07:40Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T12:07:40Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:07:40Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:07:40Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:07:42Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T12:07:43Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T12:07:43Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:07:43Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:07:43Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:07:46Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzAzNjYsImlhdCI6MTY1MDM3MDA2NiwiYXV0aF90aW1lIjoxNjUwMzcwMDYyLCJqdGkiOiI1MDg2OWZjZS0wNDg1LTRkMWYtYWYyZi1kMTQ2MjBjMGE3MzgiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJYXzhEVDdSRjJFa3VONFBGeFpvQVRRIiwic2Vzc2lvbl9zdGF0ZSI6Ijg2NjgwOWNhLTAzMDctNGU3Yy1iYTMyLWI5YmJjZjMzNGQyZSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6Ijg2NjgwOWNhLTAzMDctNGU3Yy1iYTMyLWI5YmJjZjMzNGQyZSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.fkPBcd8MAPRUZV4wC4xR3Eal7LhyuWbSiSVezPsMay97n9BagkVg1PXejFNvnBvpaN4h_LsHd5IW9U_GpUTXM46w9MhotKdYYRLFJlykpXVO4ouS-XDWDlU1NTO3AlbIi8GZ-z625d3U2hchA2EZACJtAzkeQEwSv6SULn5933o_CwEPP2B7Psco152Abc5OCU9XUI0pJwXyoUW3AlPuTmXA-YC4HtWQ5-GGSBA3EgnQQym9Coo2BqnlSHYSI9VsDiOdhLHw-7y87MW4W1S8pHgawxTp20Vd90qLJRMPH6St6A1AJpsHe8rV_SZvns0LjfyQ4HwDDUh0pviNXSyziA
[2022-04-19T12:07:46Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T12:07:46Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T12:07:46Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzAzNjYsImlhdCI6MTY1MDM3MDA2NiwiYXV0aF90aW1lIjoxNjUwMzcwMDYyLCJqdGkiOiI1MDg2OWZjZS0wNDg1LTRkMWYtYWYyZi1kMTQ2MjBjMGE3MzgiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJYXzhEVDdSRjJFa3VONFBGeFpvQVRRIiwic2Vzc2lvbl9zdGF0ZSI6Ijg2NjgwOWNhLTAzMDctNGU3Yy1iYTMyLWI5YmJjZjMzNGQyZSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6Ijg2NjgwOWNhLTAzMDctNGU3Yy1iYTMyLWI5YmJjZjMzNGQyZSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.fkPBcd8MAPRUZV4wC4xR3Eal7LhyuWbSiSVezPsMay97n9BagkVg1PXejFNvnBvpaN4h_LsHd5IW9U_GpUTXM46w9MhotKdYYRLFJlykpXVO4ouS-XDWDlU1NTO3AlbIi8GZ-z625d3U2hchA2EZACJtAzkeQEwSv6SULn5933o_CwEPP2B7Psco152Abc5OCU9XUI0pJwXyoUW3AlPuTmXA-YC4HtWQ5-GGSBA3EgnQQym9Coo2BqnlSHYSI9VsDiOdhLHw-7y87MW4W1S8pHgawxTp20Vd90qLJRMPH6St6A1AJpsHe8rV_SZvns0LjfyQ4HwDDUh0pviNXSyziA&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T12:07:46Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_1::integration_version_1::integration_ws_1

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T12:07:49Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T12:07:49Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T12:07:49Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:07:49Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:07:49Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:07:50Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T12:07:51Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T12:07:51Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:07:51Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:07:51Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:07:53Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzAzNzMsImlhdCI6MTY1MDM3MDA3MywiYXV0aF90aW1lIjoxNjUwMzcwMDcwLCJqdGkiOiI2MDhjMzg4Yi0xNjIyLTRlNGEtOWVjYy03YTJiODQzZGZhNmQiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJOaExsbEd0TUtaZ0xwQ2hBV0JBcmN3Iiwic2Vzc2lvbl9zdGF0ZSI6IjhmZmEyM2FmLWJiZmMtNDRhNy04M2U3LWE3Y2E1OGM0NmYyMyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjhmZmEyM2FmLWJiZmMtNDRhNy04M2U3LWE3Y2E1OGM0NmYyMyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.jm_OBWEjOLQG1gnOWCWvNm7M4kDoR4Bv698OHQvIjVQmIEhpKjB_xwmhpdFjTGJF10WXtstDUDgxAstlUyv8PUSZuPQUn3VwpIxb2LQJq5bIgkjusgU1YZzKUyjHIWcHIhc9L19NxFf5b_tw7H0pUpmm3WSCjwiUo9z8S-hDmk0MJ7QCoIuvZbqN02NXv1WqByFmrPRy_mVTu5SBVYcFxSVi0cNkKQztyHRHsHsZ-podrYzkXpZg9TOriDHxuWDHBpfZxII-QI0G_QiA7PeT-y6s9ZbWrhrrefqXwKYnShX3HwPJEdxi9etKxqvVM1Ekryeobe_aAehuHWCtbKrtuQ
[2022-04-19T12:07:53Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T12:07:53Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T12:07:53Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzAzNzMsImlhdCI6MTY1MDM3MDA3MywiYXV0aF90aW1lIjoxNjUwMzcwMDcwLCJqdGkiOiI2MDhjMzg4Yi0xNjIyLTRlNGEtOWVjYy03YTJiODQzZGZhNmQiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJOaExsbEd0TUtaZ0xwQ2hBV0JBcmN3Iiwic2Vzc2lvbl9zdGF0ZSI6IjhmZmEyM2FmLWJiZmMtNDRhNy04M2U3LWE3Y2E1OGM0NmYyMyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjhmZmEyM2FmLWJiZmMtNDRhNy04M2U3LWE3Y2E1OGM0NmYyMyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.jm_OBWEjOLQG1gnOWCWvNm7M4kDoR4Bv698OHQvIjVQmIEhpKjB_xwmhpdFjTGJF10WXtstDUDgxAstlUyv8PUSZuPQUn3VwpIxb2LQJq5bIgkjusgU1YZzKUyjHIWcHIhc9L19NxFf5b_tw7H0pUpmm3WSCjwiUo9z8S-hDmk0MJ7QCoIuvZbqN02NXv1WqByFmrPRy_mVTu5SBVYcFxSVi0cNkKQztyHRHsHsZ-podrYzkXpZg9TOriDHxuWDHBpfZxII-QI0G_QiA7PeT-y6s9ZbWrhrrefqXwKYnShX3HwPJEdxi9etKxqvVM1Ekryeobe_aAehuHWCtbKrtuQ&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T12:07:53Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_1::integration_version_1::integration_ws_2

**Duration**: 6s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T12:07:56Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T12:07:56Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T12:07:56Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:07:56Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:07:56Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:07:57Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T12:07:58Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T12:07:58Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:07:58Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:07:58Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:08:00Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzAzODAsImlhdCI6MTY1MDM3MDA4MCwiYXV0aF90aW1lIjoxNjUwMzcwMDc3LCJqdGkiOiJlOTA5Zjg0Mi0wYjE0LTQ2YWEtODA4MS05NTRjMWQ0YWQyZWEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJQaFJtc01QcGFpZzZDZVNncGtaczl3Iiwic2Vzc2lvbl9zdGF0ZSI6ImMyMThlOTE1LTUxZDItNGI3Ni1iMTNkLWQ5ZDAxMTBmYTEyZiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImMyMThlOTE1LTUxZDItNGI3Ni1iMTNkLWQ5ZDAxMTBmYTEyZiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.kVaONuMDbYGovxovP7HL5oT5W--jJmncejy2FYEJcofCECONEKK0OroPRnCbk9mQlikSSw4k7QQPwvmte12JJIvY8HoQKF2CJizxf4Bp45JdoapS-I2V_jp37tbXBrBUlgMyz6budalLQ7NPt1ntvRD5QLYDJSGv4gFSFhZMUr2N4shO4xtpC95FUCrXOcSGiiHOiRDPcu346UQOad9hh26pXao0lvcVMb1ts201nHHTEYgrRm4PEfy6pCBvG1ipl3UEc_C1n_K_2QxbsCsqA-qW_73H2mS-H7cb8E8lq7MKfmAL-tBRxs34LcA5gL4cFwAji4NVXdyvchyYMf6QtA
[2022-04-19T12:08:00Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T12:08:00Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T12:08:00Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzAzODAsImlhdCI6MTY1MDM3MDA4MCwiYXV0aF90aW1lIjoxNjUwMzcwMDc3LCJqdGkiOiJlOTA5Zjg0Mi0wYjE0LTQ2YWEtODA4MS05NTRjMWQ0YWQyZWEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJQaFJtc01QcGFpZzZDZVNncGtaczl3Iiwic2Vzc2lvbl9zdGF0ZSI6ImMyMThlOTE1LTUxZDItNGI3Ni1iMTNkLWQ5ZDAxMTBmYTEyZiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImMyMThlOTE1LTUxZDItNGI3Ni1iMTNkLWQ5ZDAxMTBmYTEyZiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.kVaONuMDbYGovxovP7HL5oT5W--jJmncejy2FYEJcofCECONEKK0OroPRnCbk9mQlikSSw4k7QQPwvmte12JJIvY8HoQKF2CJizxf4Bp45JdoapS-I2V_jp37tbXBrBUlgMyz6budalLQ7NPt1ntvRD5QLYDJSGv4gFSFhZMUr2N4shO4xtpC95FUCrXOcSGiiHOiRDPcu346UQOad9hh26pXao0lvcVMb1ts201nHHTEYgrRm4PEfy6pCBvG1ipl3UEc_C1n_K_2QxbsCsqA-qW_73H2mS-H7cb8E8lq7MKfmAL-tBRxs34LcA5gL4cFwAji4NVXdyvchyYMf6QtA&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T12:08:00Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_1::integration_version_2::integration_ws_1

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T12:08:03Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T12:08:03Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T12:08:03Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:08:03Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:08:03Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:08:04Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T12:08:06Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T12:08:06Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:08:06Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:08:06Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:08:07Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzAzODcsImlhdCI6MTY1MDM3MDA4NywiYXV0aF90aW1lIjoxNjUwMzcwMDg1LCJqdGkiOiI2MTFhMjNhZi1mZjJhLTQ4MmYtYmFmMy04ZjZiMTQwZTZkNmEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJfZTRlN2ppV2ExWVdFVDRzWHpmMmVnIiwic2Vzc2lvbl9zdGF0ZSI6ImVmZWMwZWU3LTg1NDUtNDViYS1iNjJjLTBkN2I1OTk0ZTMzNCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImVmZWMwZWU3LTg1NDUtNDViYS1iNjJjLTBkN2I1OTk0ZTMzNCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.I4_XXjccv9x5c1czAWX7dJHSaLda6S9-EgkG8fV__TlNvjGC6TpY5w-NpXwz8U_VU6iT5VTz_ivXaeG8wvJqb3miQVQFqp4P9DzxR4j8XmDvINyjv-O7DB97oM_1QO3MN7uol3aHi8TMYPzUgQIgYbGipsLyJDW8_i27GxKl47P31PYKOQYsRC0ccWO5sxZavvqCh2x3ygEksCjlCsdZou3PxVsdIDSYKJnzdwuAEpMQ564V74kW58XhmNESf_urnUY3WdR2bRvzykUlw9a8Yop3eg3YokDspLf8mQrrY9RmOkeVn8lvLrVgLjOlknWBoVpxr41f46kh1uIkI6sQGw
[2022-04-19T12:08:07Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T12:08:07Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T12:08:07Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzAzODcsImlhdCI6MTY1MDM3MDA4NywiYXV0aF90aW1lIjoxNjUwMzcwMDg1LCJqdGkiOiI2MTFhMjNhZi1mZjJhLTQ4MmYtYmFmMy04ZjZiMTQwZTZkNmEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJfZTRlN2ppV2ExWVdFVDRzWHpmMmVnIiwic2Vzc2lvbl9zdGF0ZSI6ImVmZWMwZWU3LTg1NDUtNDViYS1iNjJjLTBkN2I1OTk0ZTMzNCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImVmZWMwZWU3LTg1NDUtNDViYS1iNjJjLTBkN2I1OTk0ZTMzNCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.I4_XXjccv9x5c1czAWX7dJHSaLda6S9-EgkG8fV__TlNvjGC6TpY5w-NpXwz8U_VU6iT5VTz_ivXaeG8wvJqb3miQVQFqp4P9DzxR4j8XmDvINyjv-O7DB97oM_1QO3MN7uol3aHi8TMYPzUgQIgYbGipsLyJDW8_i27GxKl47P31PYKOQYsRC0ccWO5sxZavvqCh2x3ygEksCjlCsdZou3PxVsdIDSYKJnzdwuAEpMQ564V74kW58XhmNESf_urnUY3WdR2bRvzykUlw9a8Yop3eg3YokDspLf8mQrrY9RmOkeVn8lvLrVgLjOlknWBoVpxr41f46kh1uIkI6sQGw&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T12:08:07Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_1::integration_version_2::integration_ws_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T12:08:10Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T12:08:10Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T12:08:10Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:08:10Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:08:10Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:08:11Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T12:08:13Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T12:08:13Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:08:13Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:08:13Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:08:15Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzAzOTQsImlhdCI6MTY1MDM3MDA5NCwiYXV0aF90aW1lIjoxNjUwMzcwMDkyLCJqdGkiOiIxNTlmOTMxNy1hZDNiLTRiMDQtOGFjMy1jMDFhOGQyMjViYzAiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJEZ2V3S2pjRXVpaTRtdzlTN0JjVDFnIiwic2Vzc2lvbl9zdGF0ZSI6IjczYzM2YTAwLTYzMzQtNDBlZC1hMDI2LTk5NjA2MzhkNmExYSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjczYzM2YTAwLTYzMzQtNDBlZC1hMDI2LTk5NjA2MzhkNmExYSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.P6noTpd9VK-jH09xQMN6MuYd089u85X7_ISgYxugsm8_9-rkZrjLYFihvOI6orwAFIvGOvRHqMw5a8MCFtGYjVnnDg1FhA0q9RAssa1CjB6n4MmTFDyATmeuoQNl6ck1FzAcSbYeFyhGB55hJfjx2xjHgJJOqp-j2n9KWR6EVFHZWM_SDBQVfQqqFHME_uHNIkKH7uuM_cltkInbT28uGJSUADJU5rlsgjrRYDkHlX5XaN0pbKPaQxCtr3sVvccwDRREthqgl24LAcNqySk1kWggj8QZRkZxuVeONgpw0uC6zPa5sDHr2bP_NopaGO4c1luUrYBQSIzOJsio9Liwkg
[2022-04-19T12:08:15Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T12:08:15Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T12:08:15Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzAzOTQsImlhdCI6MTY1MDM3MDA5NCwiYXV0aF90aW1lIjoxNjUwMzcwMDkyLCJqdGkiOiIxNTlmOTMxNy1hZDNiLTRiMDQtOGFjMy1jMDFhOGQyMjViYzAiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJEZ2V3S2pjRXVpaTRtdzlTN0JjVDFnIiwic2Vzc2lvbl9zdGF0ZSI6IjczYzM2YTAwLTYzMzQtNDBlZC1hMDI2LTk5NjA2MzhkNmExYSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjczYzM2YTAwLTYzMzQtNDBlZC1hMDI2LTk5NjA2MzhkNmExYSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.P6noTpd9VK-jH09xQMN6MuYd089u85X7_ISgYxugsm8_9-rkZrjLYFihvOI6orwAFIvGOvRHqMw5a8MCFtGYjVnnDg1FhA0q9RAssa1CjB6n4MmTFDyATmeuoQNl6ck1FzAcSbYeFyhGB55hJfjx2xjHgJJOqp-j2n9KWR6EVFHZWM_SDBQVfQqqFHME_uHNIkKH7uuM_cltkInbT28uGJSUADJU5rlsgjrRYDkHlX5XaN0pbKPaQxCtr3sVvccwDRREthqgl24LAcNqySk1kWggj8QZRkZxuVeONgpw0uC6zPa5sDHr2bP_NopaGO4c1luUrYBQSIzOJsio9Liwkg&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T12:08:15Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_1::integration_version_3::integration_ws_1

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T12:08:17Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T12:08:17Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T12:08:17Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:08:17Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:08:17Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:08:18Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T12:08:20Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T12:08:20Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:08:20Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:08:20Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:08:22Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzA0MDIsImlhdCI6MTY1MDM3MDEwMiwiYXV0aF90aW1lIjoxNjUwMzcwMDk5LCJqdGkiOiJjOWNiZTlmOS1mOGI0LTQ5NGEtOTRlZi1hNjJkZDgwOTJiMDQiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJZSTBMUXNWTmRWSERyYzFvSE55NDdRIiwic2Vzc2lvbl9zdGF0ZSI6IjMzNGVhMzhjLWE5NGUtNGE1ZC1hN2E0LTI3YTA4YTE0MWU2YyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjMzNGVhMzhjLWE5NGUtNGE1ZC1hN2E0LTI3YTA4YTE0MWU2YyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.F2_2aOpgGQexXkxEINAmNicdqDSY63g9Dru9DqKekU80bKYqdUy7avYUmHXyXTXbgmUPj9c8ZTTu0QXdCgm32WooxvTiifYAFsMKMWhZeCHJMznzypOTQP83aKCBlKCTjVAguMgMGg8ooN3s94tpaOMcPQLAK9kR1c9Lpbg66VjoM3qWdKb_E3qwd5DqInQC8JVUfs6uQiWtgpe75gIEna8KijjRglfENK8h76Ly3-lvySDmCFyr987aPAJgN3RelUGMVpRkzE84gbkm9opn_ZMxjiDI-i96-HuTlRnYjVyFMgIFA9lU9UEgE_3Ozpf8T6pOOlvPMiRrBhH97DUjbg
[2022-04-19T12:08:22Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T12:08:22Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T12:08:22Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzA0MDIsImlhdCI6MTY1MDM3MDEwMiwiYXV0aF90aW1lIjoxNjUwMzcwMDk5LCJqdGkiOiJjOWNiZTlmOS1mOGI0LTQ5NGEtOTRlZi1hNjJkZDgwOTJiMDQiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJZSTBMUXNWTmRWSERyYzFvSE55NDdRIiwic2Vzc2lvbl9zdGF0ZSI6IjMzNGVhMzhjLWE5NGUtNGE1ZC1hN2E0LTI3YTA4YTE0MWU2YyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjMzNGVhMzhjLWE5NGUtNGE1ZC1hN2E0LTI3YTA4YTE0MWU2YyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.F2_2aOpgGQexXkxEINAmNicdqDSY63g9Dru9DqKekU80bKYqdUy7avYUmHXyXTXbgmUPj9c8ZTTu0QXdCgm32WooxvTiifYAFsMKMWhZeCHJMznzypOTQP83aKCBlKCTjVAguMgMGg8ooN3s94tpaOMcPQLAK9kR1c9Lpbg66VjoM3qWdKb_E3qwd5DqInQC8JVUfs6uQiWtgpe75gIEna8KijjRglfENK8h76Ly3-lvySDmCFyr987aPAJgN3RelUGMVpRkzE84gbkm9opn_ZMxjiDI-i96-HuTlRnYjVyFMgIFA9lU9UEgE_3Ozpf8T6pOOlvPMiRrBhH97DUjbg&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T12:08:22Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_1::integration_version_3::integration_ws_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T12:08:24Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T12:08:24Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T12:08:24Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:08:24Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:08:24Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:08:26Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T12:08:27Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T12:08:27Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:08:27Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:08:27Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:08:29Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzA0MDksImlhdCI6MTY1MDM3MDEwOSwiYXV0aF90aW1lIjoxNjUwMzcwMTA2LCJqdGkiOiIyOGE0NTc2YS0wNDhjLTQ1MDUtYjc3MS1mYmJmYjM0YjRhZTEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJtdjh5ampycGs3NUxFeERnTTBQQlRBIiwic2Vzc2lvbl9zdGF0ZSI6ImVmZjBiYzRjLWZlZTktNGIxOC05OTBjLWY2N2IxMzYzMWY5ZiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImVmZjBiYzRjLWZlZTktNGIxOC05OTBjLWY2N2IxMzYzMWY5ZiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.dS1O5AiQ9WHVkg2DdUA89-A6gqlOxgdoW3xTICYwgQ9XUJ6P1bB-hNUJzH_jDivIxTuz9ym7xYPK7MJdjKq-pPgyKUdtwV6sugF6B3aL-1Nuz2TL3aQVf8CEvLV8u8SDvIW-yEwUBF8-MgldiZl8oVnpIyyXM-RnmneRIaQpsMHO5PMTjTX_3Eu13m6HkfXGBTMs90yT6XSnOdyzltih5WBv3y80tnEDCODMqW0EiqsBrWx6QdX7PfqSFaaGzwzSPyI2OC3F8mMtY2dL-WIguKqRluFmIi5CQf8YfSONwPhGFTpIIMWqPpNRgCrZH1NsIT4vlVP7VyGI3-GQ4Jh4Mg
[2022-04-19T12:08:29Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T12:08:29Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T12:08:29Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzA0MDksImlhdCI6MTY1MDM3MDEwOSwiYXV0aF90aW1lIjoxNjUwMzcwMTA2LCJqdGkiOiIyOGE0NTc2YS0wNDhjLTQ1MDUtYjc3MS1mYmJmYjM0YjRhZTEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJtdjh5ampycGs3NUxFeERnTTBQQlRBIiwic2Vzc2lvbl9zdGF0ZSI6ImVmZjBiYzRjLWZlZTktNGIxOC05OTBjLWY2N2IxMzYzMWY5ZiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImVmZjBiYzRjLWZlZTktNGIxOC05OTBjLWY2N2IxMzYzMWY5ZiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.dS1O5AiQ9WHVkg2DdUA89-A6gqlOxgdoW3xTICYwgQ9XUJ6P1bB-hNUJzH_jDivIxTuz9ym7xYPK7MJdjKq-pPgyKUdtwV6sugF6B3aL-1Nuz2TL3aQVf8CEvLV8u8SDvIW-yEwUBF8-MgldiZl8oVnpIyyXM-RnmneRIaQpsMHO5PMTjTX_3Eu13m6HkfXGBTMs90yT6XSnOdyzltih5WBv3y80tnEDCODMqW0EiqsBrWx6QdX7PfqSFaaGzwzSPyI2OC3F8mMtY2dL-WIguKqRluFmIi5CQf8YfSONwPhGFTpIIMWqPpNRgCrZH1NsIT4vlVP7VyGI3-GQ4Jh4Mg&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T12:08:29Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_2::integration_version_1::integration_ws_1

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T12:08:31Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T12:08:31Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T12:08:31Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:08:31Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:08:31Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:08:33Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T12:08:34Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T12:08:34Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:08:34Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:08:34Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:08:36Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzA0MTYsImlhdCI6MTY1MDM3MDExNiwiYXV0aF90aW1lIjoxNjUwMzcwMTEzLCJqdGkiOiIyZGZmN2M0Zi00NTY5LTQ4ZTYtOTE5YS05OTYxOTFmODJlMzgiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJHY3Y3bzFKUi04ZUVsTTE3aFBGMGV3Iiwic2Vzc2lvbl9zdGF0ZSI6ImI4Mjg1MzNkLTU5ZWMtNDZhMi05M2VlLWE5MjhjODYwYWQ5ZSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImI4Mjg1MzNkLTU5ZWMtNDZhMi05M2VlLWE5MjhjODYwYWQ5ZSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.F-47JUaLEX3RykYAPs_8nSC3Q7yKP3f4idDBe7GmFa09ObJHRyNrq1sRTiNqUhcdC9KqyIBxG99lDcdXt3caYD2GXVcHf1vEppsZmgJSwBLPCbmxelvOBeGRKl0dwlgJ9NLfCWRFfbiHqnw6yj_Ofs6Bowd7YmEw9MsRbByLCG_8yiOrlY2Ww_N1IFBiYelNAhiUdawXHuGvcGYu9wlTPCoRmQxiTv1OYEOfgjO3i5on6WinbyLGpW_rikIP-TdTCIA9SJE5lC_7fu4ycNRneW-c8LajwzUc-ZwG_OgkpeIQEsolToeXEjUFkyQ2LwUuK0mq2ICyuXy70fFfG1wlyQ
[2022-04-19T12:08:36Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T12:08:36Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T12:08:36Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzA0MTYsImlhdCI6MTY1MDM3MDExNiwiYXV0aF90aW1lIjoxNjUwMzcwMTEzLCJqdGkiOiIyZGZmN2M0Zi00NTY5LTQ4ZTYtOTE5YS05OTYxOTFmODJlMzgiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJHY3Y3bzFKUi04ZUVsTTE3aFBGMGV3Iiwic2Vzc2lvbl9zdGF0ZSI6ImI4Mjg1MzNkLTU5ZWMtNDZhMi05M2VlLWE5MjhjODYwYWQ5ZSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImI4Mjg1MzNkLTU5ZWMtNDZhMi05M2VlLWE5MjhjODYwYWQ5ZSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.F-47JUaLEX3RykYAPs_8nSC3Q7yKP3f4idDBe7GmFa09ObJHRyNrq1sRTiNqUhcdC9KqyIBxG99lDcdXt3caYD2GXVcHf1vEppsZmgJSwBLPCbmxelvOBeGRKl0dwlgJ9NLfCWRFfbiHqnw6yj_Ofs6Bowd7YmEw9MsRbByLCG_8yiOrlY2Ww_N1IFBiYelNAhiUdawXHuGvcGYu9wlTPCoRmQxiTv1OYEOfgjO3i5on6WinbyLGpW_rikIP-TdTCIA9SJE5lC_7fu4ycNRneW-c8LajwzUc-ZwG_OgkpeIQEsolToeXEjUFkyQ2LwUuK0mq2ICyuXy70fFfG1wlyQ&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T12:08:36Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_2::integration_version_1::integration_ws_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T12:08:39Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T12:08:39Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T12:08:39Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:08:39Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:08:39Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:08:40Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T12:08:41Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T12:08:41Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:08:41Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:08:41Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:08:43Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzA0MjMsImlhdCI6MTY1MDM3MDEyMywiYXV0aF90aW1lIjoxNjUwMzcwMTIwLCJqdGkiOiI4MWJmMTkzMi01YjZmLTQwOGItODE4Yi0yNWZlZDk4Y2RkYTciLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJfY0lSeUI1Vm9BT2lnNllGNndKelB3Iiwic2Vzc2lvbl9zdGF0ZSI6Ijc3OTYyZTRjLWQ1NmEtNGE1Yi05MzQzLWIwMzk0NWFiODMyMSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6Ijc3OTYyZTRjLWQ1NmEtNGE1Yi05MzQzLWIwMzk0NWFiODMyMSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.ItNjCWhIhcQzKKuckK0-3NOoKV243dXfJ85fbTx4k_RRV3tXCk_pvrdHdQBzY4HJzJ8-G95BP6lyMb0fqPCW5E53RjEAc2Cc4kzlrXSReUOBwzAjNovf5N_35WUED7CwOQe-U7jKVbHmknLfN-w5tJzqSuXgl6gIBBvTirTrL7peIbi24CdJYq3XbLe_qb-XQeTri4hAaDlQEA6M6mFPQDEBeRB5pm-7Go-kbf24iBHgirPMqt-xnr_CRhsZf2CHoTlo-_94uppjspTxl1pJ31-B7NX7xl8AaYWt2KH0dElmeWZvvkrp1x1fBTTq1T1K0kFdxkWy8QHKKIJJKWV4pA
[2022-04-19T12:08:43Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T12:08:43Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T12:08:43Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzA0MjMsImlhdCI6MTY1MDM3MDEyMywiYXV0aF90aW1lIjoxNjUwMzcwMTIwLCJqdGkiOiI4MWJmMTkzMi01YjZmLTQwOGItODE4Yi0yNWZlZDk4Y2RkYTciLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJfY0lSeUI1Vm9BT2lnNllGNndKelB3Iiwic2Vzc2lvbl9zdGF0ZSI6Ijc3OTYyZTRjLWQ1NmEtNGE1Yi05MzQzLWIwMzk0NWFiODMyMSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6Ijc3OTYyZTRjLWQ1NmEtNGE1Yi05MzQzLWIwMzk0NWFiODMyMSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.ItNjCWhIhcQzKKuckK0-3NOoKV243dXfJ85fbTx4k_RRV3tXCk_pvrdHdQBzY4HJzJ8-G95BP6lyMb0fqPCW5E53RjEAc2Cc4kzlrXSReUOBwzAjNovf5N_35WUED7CwOQe-U7jKVbHmknLfN-w5tJzqSuXgl6gIBBvTirTrL7peIbi24CdJYq3XbLe_qb-XQeTri4hAaDlQEA6M6mFPQDEBeRB5pm-7Go-kbf24iBHgirPMqt-xnr_CRhsZf2CHoTlo-_94uppjspTxl1pJ31-B7NX7xl8AaYWt2KH0dElmeWZvvkrp1x1fBTTq1T1K0kFdxkWy8QHKKIJJKWV4pA&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T12:08:43Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_2::integration_version_2::integration_ws_1

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T12:08:46Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T12:08:46Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T12:08:46Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:08:46Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:08:46Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:08:47Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T12:08:49Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T12:08:49Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:08:49Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:08:49Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:08:51Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzA0MzEsImlhdCI6MTY1MDM3MDEzMSwiYXV0aF90aW1lIjoxNjUwMzcwMTI4LCJqdGkiOiI2NTYyYTA1Zi05NTk0LTRkOTEtOTZlZi1iN2NhZDM4ZmRmMDciLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJ6ZEp3X29wZXdDMDVPM3owQkR5YmpBIiwic2Vzc2lvbl9zdGF0ZSI6IjZlZGZmNjZmLTM4ZWItNDRiYy1hNDk1LTQyMTJhYWUwOGM5YiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjZlZGZmNjZmLTM4ZWItNDRiYy1hNDk1LTQyMTJhYWUwOGM5YiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.ZR341RHZEiDi7ChIqR5kWMSYAnHKwDSLtgc6g0rq3rPFRYm_qK80baNHy4PkMbFeubLjGW4Vk5fs-KUn770fvvYMF74Q-cpzLt80_0aNJ0S-qHuOqanhZrP2LFgtNa21Yj6spFiS-a54jHdf7ACvh-saIddB2rc7YWy1PSbThbJkvUZvAxDDjB08yPnyRAWbB7gEdl4HJ4vqVR3yV_6RXvJ69IrTccQ_fkSnlUzM1VIoxrBaUHh2zTiqhT3MvcmForo7ussSpL7sZ6iASmXEi9DPOfi7XtKiRyzRxb4sBM_2WtOdJ3M3E7wityxdNPhPNWzM9GUzdYsLG2LQ3Ua-MA
[2022-04-19T12:08:51Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T12:08:51Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T12:08:51Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzA0MzEsImlhdCI6MTY1MDM3MDEzMSwiYXV0aF90aW1lIjoxNjUwMzcwMTI4LCJqdGkiOiI2NTYyYTA1Zi05NTk0LTRkOTEtOTZlZi1iN2NhZDM4ZmRmMDciLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJ6ZEp3X29wZXdDMDVPM3owQkR5YmpBIiwic2Vzc2lvbl9zdGF0ZSI6IjZlZGZmNjZmLTM4ZWItNDRiYy1hNDk1LTQyMTJhYWUwOGM5YiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjZlZGZmNjZmLTM4ZWItNDRiYy1hNDk1LTQyMTJhYWUwOGM5YiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.ZR341RHZEiDi7ChIqR5kWMSYAnHKwDSLtgc6g0rq3rPFRYm_qK80baNHy4PkMbFeubLjGW4Vk5fs-KUn770fvvYMF74Q-cpzLt80_0aNJ0S-qHuOqanhZrP2LFgtNa21Yj6spFiS-a54jHdf7ACvh-saIddB2rc7YWy1PSbThbJkvUZvAxDDjB08yPnyRAWbB7gEdl4HJ4vqVR3yV_6RXvJ69IrTccQ_fkSnlUzM1VIoxrBaUHh2zTiqhT3MvcmForo7ussSpL7sZ6iASmXEi9DPOfi7XtKiRyzRxb4sBM_2WtOdJ3M3E7wityxdNPhPNWzM9GUzdYsLG2LQ3Ua-MA&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T12:08:51Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_2::integration_version_2::integration_ws_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T12:08:53Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T12:08:53Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T12:08:53Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:08:53Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:08:53Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:08:54Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T12:08:56Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T12:08:56Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:08:56Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:08:56Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:08:58Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzA0MzgsImlhdCI6MTY1MDM3MDEzOCwiYXV0aF90aW1lIjoxNjUwMzcwMTM1LCJqdGkiOiI1ZTNjMmZhMS1iMGQyLTQ1ODEtOTFhNS02OWJlZTQ2Nzc1OTMiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJZb2RyaEVXcjA1bEtTRVFzZmtOX3h3Iiwic2Vzc2lvbl9zdGF0ZSI6IjhjNjNjZjJmLTdjM2MtNDc1NS04ZjQxLWQ3NjY4ODJjMmIyMiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjhjNjNjZjJmLTdjM2MtNDc1NS04ZjQxLWQ3NjY4ODJjMmIyMiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.ofUYY3Akor2VAG2brbTPR76RO1S_SIjiMbH-ymxRHmr8SA_usIDjWs5mZE-nyAzs0yvHhUo5LJWMeQ2EzRcqlmLEWLKmck8SeGYz4ZpOlYmFgUT68W91RiecM3pacpSVrMwJJpkOEi-vkMCbXva_sv1rwoq3y6Qdu3nH8ZhBt9kZyK8V7IB6GrJYbuGHqbFxbMhMrPDaPxYZ5g7v1FZM6HKJzQEjjZYlLSJtSCglWJqM1TTv99_B21dzDT45O0-BkH9ULwboGfMnvi3SNa16R7_kuUkVnXKfIMKpogSEXWFEk38A5hSWxhPWaX8CIlSm49Y7yjwU2Er_HGvS0HJCZA
[2022-04-19T12:08:58Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T12:08:58Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T12:08:58Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzA0MzgsImlhdCI6MTY1MDM3MDEzOCwiYXV0aF90aW1lIjoxNjUwMzcwMTM1LCJqdGkiOiI1ZTNjMmZhMS1iMGQyLTQ1ODEtOTFhNS02OWJlZTQ2Nzc1OTMiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJZb2RyaEVXcjA1bEtTRVFzZmtOX3h3Iiwic2Vzc2lvbl9zdGF0ZSI6IjhjNjNjZjJmLTdjM2MtNDc1NS04ZjQxLWQ3NjY4ODJjMmIyMiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjhjNjNjZjJmLTdjM2MtNDc1NS04ZjQxLWQ3NjY4ODJjMmIyMiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.ofUYY3Akor2VAG2brbTPR76RO1S_SIjiMbH-ymxRHmr8SA_usIDjWs5mZE-nyAzs0yvHhUo5LJWMeQ2EzRcqlmLEWLKmck8SeGYz4ZpOlYmFgUT68W91RiecM3pacpSVrMwJJpkOEi-vkMCbXva_sv1rwoq3y6Qdu3nH8ZhBt9kZyK8V7IB6GrJYbuGHqbFxbMhMrPDaPxYZ5g7v1FZM6HKJzQEjjZYlLSJtSCglWJqM1TTv99_B21dzDT45O0-BkH9ULwboGfMnvi3SNa16R7_kuUkVnXKfIMKpogSEXWFEk38A5hSWxhPWaX8CIlSm49Y7yjwU2Er_HGvS0HJCZA&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T12:08:58Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_2::integration_version_3::integration_ws_1

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T12:09:00Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T12:09:00Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T12:09:01Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:09:01Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:09:01Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:09:02Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T12:09:03Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T12:09:03Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:09:03Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:09:03Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:09:05Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzA0NDUsImlhdCI6MTY1MDM3MDE0NSwiYXV0aF90aW1lIjoxNjUwMzcwMTQyLCJqdGkiOiI4OTUyMjE4Zi04NjRlLTQ2MDMtYWQwYS04NTNhYTRkZjA3NmMiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJybmZOck81UktoNFBNNjZSNTBZT0lRIiwic2Vzc2lvbl9zdGF0ZSI6IjkwMTNhYzU3LTExZTYtNDI0YS1iMjE2LTc1ZTZlMTQ3NDU3NSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjkwMTNhYzU3LTExZTYtNDI0YS1iMjE2LTc1ZTZlMTQ3NDU3NSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.dQ0AACWCoPr62FtIgu6EE10-nCVs8pd5LjVXBNC1IBKR_9Rw5oZkvjqONnNLTSrs5ixYcJ5IGPYc-3BwilVlN_diXwOY0uwXm6OhxQYy4bn7aYZmY39v2NyjCK0lJZS1reyg_8MV5dRgg6RX0aoSQWuF0X46XqhRwTuVEUFZew9xB5bMhky5KKg-5NwiTHOll7KX8EjTKdg7JsmGATrYy8t9iOCIOVphyE72tBii-IheyIqqzmsugKdx5IycxwgzXbuGiLu6jwbcQpHR-ELhvY0ZdNqHjm8U4OD8wHmYNtcpe-EwnYOL1m8bzffgZ6lBw48EMt9-ZpbSgnXIu-a1ww
[2022-04-19T12:09:05Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T12:09:05Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T12:09:05Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzA0NDUsImlhdCI6MTY1MDM3MDE0NSwiYXV0aF90aW1lIjoxNjUwMzcwMTQyLCJqdGkiOiI4OTUyMjE4Zi04NjRlLTQ2MDMtYWQwYS04NTNhYTRkZjA3NmMiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJybmZOck81UktoNFBNNjZSNTBZT0lRIiwic2Vzc2lvbl9zdGF0ZSI6IjkwMTNhYzU3LTExZTYtNDI0YS1iMjE2LTc1ZTZlMTQ3NDU3NSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjkwMTNhYzU3LTExZTYtNDI0YS1iMjE2LTc1ZTZlMTQ3NDU3NSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.dQ0AACWCoPr62FtIgu6EE10-nCVs8pd5LjVXBNC1IBKR_9Rw5oZkvjqONnNLTSrs5ixYcJ5IGPYc-3BwilVlN_diXwOY0uwXm6OhxQYy4bn7aYZmY39v2NyjCK0lJZS1reyg_8MV5dRgg6RX0aoSQWuF0X46XqhRwTuVEUFZew9xB5bMhky5KKg-5NwiTHOll7KX8EjTKdg7JsmGATrYy8t9iOCIOVphyE72tBii-IheyIqqzmsugKdx5IycxwgzXbuGiLu6jwbcQpHR-ELhvY0ZdNqHjm8U4OD8wHmYNtcpe-EwnYOL1m8bzffgZ6lBw48EMt9-ZpbSgnXIu-a1ww&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T12:09:05Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_2::integration_version_3::integration_ws_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T12:09:08Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T12:09:08Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T12:09:08Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:09:08Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:09:08Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:09:09Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T12:09:11Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T12:09:11Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:09:11Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:09:11Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:09:12Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzA0NTIsImlhdCI6MTY1MDM3MDE1MiwiYXV0aF90aW1lIjoxNjUwMzcwMTUwLCJqdGkiOiJkODI3ZDhjNi02NDAwLTQ4MTgtYmJmNi02Nzg2YmNlZDU1N2EiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiIzM0VncS0wVUx3REdaTUVINFpYQnhRIiwic2Vzc2lvbl9zdGF0ZSI6ImMzMzA0OTJmLWYxYjMtNDhhYy05MmQ3LTRiNmU4MTAwZmQxNSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImMzMzA0OTJmLWYxYjMtNDhhYy05MmQ3LTRiNmU4MTAwZmQxNSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.KvKpJRLzOr_s2arxnd5s9YrXaYe2f-oaTgAzOscjSiab5mWNkRSFfXE66ZR9UDKO5neOYDqmDtWPBzmQcht03CzNoZ_YQn3KvR95hlxfRdwulRpQ8qKcOU9chAJNCIHn_-papy2JEf_1th2SsWlovIzWZkJJDGto6vzQcWMCsbeVJDDmIFG36xk0_Nz56hnm8FrknGmZGUN37wf1tQAtOA5qnrEGZotyoIpED4lcZrJSdZ0FHjo1OT_ScOQzMT5CNkexGDTWXc6oloxCPT-Te4xbKUbJat-kZCTf6yWscTf13K4qskiWY93lFMQQRYg1pCZmkpXK2ubAwrPYb2WEcw
[2022-04-19T12:09:12Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T12:09:12Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T12:09:12Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzA0NTIsImlhdCI6MTY1MDM3MDE1MiwiYXV0aF90aW1lIjoxNjUwMzcwMTUwLCJqdGkiOiJkODI3ZDhjNi02NDAwLTQ4MTgtYmJmNi02Nzg2YmNlZDU1N2EiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiIzM0VncS0wVUx3REdaTUVINFpYQnhRIiwic2Vzc2lvbl9zdGF0ZSI6ImMzMzA0OTJmLWYxYjMtNDhhYy05MmQ3LTRiNmU4MTAwZmQxNSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImMzMzA0OTJmLWYxYjMtNDhhYy05MmQ3LTRiNmU4MTAwZmQxNSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.KvKpJRLzOr_s2arxnd5s9YrXaYe2f-oaTgAzOscjSiab5mWNkRSFfXE66ZR9UDKO5neOYDqmDtWPBzmQcht03CzNoZ_YQn3KvR95hlxfRdwulRpQ8qKcOU9chAJNCIHn_-papy2JEf_1th2SsWlovIzWZkJJDGto6vzQcWMCsbeVJDDmIFG36xk0_Nz56hnm8FrknGmZGUN37wf1tQAtOA5qnrEGZotyoIpED4lcZrJSdZ0FHjo1OT_ScOQzMT5CNkexGDTWXc6oloxCPT-Te4xbKUbJat-kZCTf6yWscTf13K4qskiWY93lFMQQRYg1pCZmkpXK2ubAwrPYb2WEcw&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T12:09:12Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::registry::api::test_registry_create_app

**Duration**: 14s

<details>

<summary>Test output</summary>

<pre>
[2022-04-19T12:09:13Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T12:09:15Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:09:15Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:09:15Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:09:16Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T12:09:18Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T12:09:18Z INFO  drogue_cloud_tests::init::web] Creating screenshot: screenshots/create_access_token_web/before-goto/6.png
[2022-04-19T12:09:18Z INFO  drogue_cloud_tests::init::web] Creating screenshot: screenshots/create_access_token_web/after-goto/7.png
[2022-04-19T12:09:20Z DEBUG drogue_cloud_tests::init::access_token] Got button (Element { client: Client { tx: UnboundedSender { chan: Tx { inner: Chan { tx: Tx { block_tail: 0x561ba0c3adf0, tail_position: 26 }, semaphore: 0, rx_waker: AtomicWaker, tx_count: 3, rx_fields: &quot;...&quot; } } }, is_legacy: false }, element: WebElement(&quot;76e5c77d-4788-4fca-ae44-a03f4f72b30e&quot;) }), clicking it ...
[2022-04-19T12:09:20Z INFO  drogue_cloud_tests::init::web] Creating screenshot: screenshots/create_access_token_web/before-click/8.png
[2022-04-19T12:09:25Z INFO  drogue_cloud_tests::init::web] Creating screenshot: screenshots/create_access_token_web/before-click-2/9.png
[2022-04-19T12:09:25Z INFO  drogue_cloud_tests::init::web] Creating screenshot: screenshots/create_access_token_web/after-click/10.png
[2022-04-19T12:09:25Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-04-19T12:09:25Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T12:09:25Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T12:09:25Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T12:09:25Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:09:25Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:09:25Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:09:26Z INFO  drogue_cloud_tests::init::login] Found login button
Error: Get registry client

Caused by:
    no element found matching selector: Unable to locate element: //*[@id=&quot;kc-form-login&quot;]
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::registry::drg::test_registry_create_and_delete

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
[2022-04-19T12:09:29Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T12:09:29Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T12:09:29Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:09:29Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:09:29Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:09:30Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T12:09:32Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T12:09:32Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:09:32Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:09:32Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:09:34Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzA0NzQsImlhdCI6MTY1MDM3MDE3NCwiYXV0aF90aW1lIjoxNjUwMzcwMTcxLCJqdGkiOiIwYTE2ZDlhMy02ZWE3LTRmYmYtOTE5MS03M2E3M2E0YmNiODkiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJianN4MzZLNWtVN0l0XzE5VmdYdVJRIiwic2Vzc2lvbl9zdGF0ZSI6IjliMjNiN2IyLTdiZTYtNGI4OS1iYTAyLTI4ZjY5ZWY0NGQ4YyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjliMjNiN2IyLTdiZTYtNGI4OS1iYTAyLTI4ZjY5ZWY0NGQ4YyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.JD7FpEIXHyowiAiqzqDWwmIP7osnwxAoN0z6Sibnvd95YvkTW-U1IHcg-pI9MsqQLMoDbNvS06bTWEknnjPBJfCKEtT7vRJrD2_uNN2-1hcvE4P5-Tskpm6YBW5hJ2MtN4Aiywca-YVXYbcFbmEmmF37jkvH8c2lwXXGmslME6DNu8_zazPCaFb5ZcF_CnRftWZ32tsJudwVuFp3Bw2SFdWXz8ENktr57eLZbM_jPjiUb2EdkIeAchCURcyzdi47usDkzoonG13UfgQayzs9BfD4TZZfEoA2mPmdF-vGKX-6UJgH8XgCYNY1mCPa9mSmkz8eYZstmMiVKKkZ5bhluA
[2022-04-19T12:09:34Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T12:09:34Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T12:09:34Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzA0NzQsImlhdCI6MTY1MDM3MDE3NCwiYXV0aF90aW1lIjoxNjUwMzcwMTcxLCJqdGkiOiIwYTE2ZDlhMy02ZWE3LTRmYmYtOTE5MS03M2E3M2E0YmNiODkiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJianN4MzZLNWtVN0l0XzE5VmdYdVJRIiwic2Vzc2lvbl9zdGF0ZSI6IjliMjNiN2IyLTdiZTYtNGI4OS1iYTAyLTI4ZjY5ZWY0NGQ4YyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjliMjNiN2IyLTdiZTYtNGI4OS1iYTAyLTI4ZjY5ZWY0NGQ4YyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.JD7FpEIXHyowiAiqzqDWwmIP7osnwxAoN0z6Sibnvd95YvkTW-U1IHcg-pI9MsqQLMoDbNvS06bTWEknnjPBJfCKEtT7vRJrD2_uNN2-1hcvE4P5-Tskpm6YBW5hJ2MtN4Aiywca-YVXYbcFbmEmmF37jkvH8c2lwXXGmslME6DNu8_zazPCaFb5ZcF_CnRftWZ32tsJudwVuFp3Bw2SFdWXz8ENktr57eLZbM_jPjiUb2EdkIeAchCURcyzdi47usDkzoonG13UfgQayzs9BfD4TZZfEoA2mPmdF-vGKX-6UJgH8XgCYNY1mCPa9mSmkz8eYZstmMiVKKkZ5bhluA&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T12:09:34Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
thread &#x27;main&#x27; panicked at &#x27;called `Result::unwrap()` on an `Err` value: Command was not successful - rc = exit status: 1&#x27;, src/tests/registry/drg.rs:35:31

</pre>

</details>

## ❌ tests::registry::drg::test_registry_create_app

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
[2022-04-19T12:09:36Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T12:09:36Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T12:09:36Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:09:36Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:09:36Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:09:38Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T12:09:39Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T12:09:39Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:09:39Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:09:39Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:09:41Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzA0ODEsImlhdCI6MTY1MDM3MDE4MSwiYXV0aF90aW1lIjoxNjUwMzcwMTc4LCJqdGkiOiI3OTg0ODlmZS0xOTljLTQxYjMtODhhMS01OGNjNTQ4OTg2OTIiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJPWk02UVV1bkVQYVU3a1ctNnI2YmtBIiwic2Vzc2lvbl9zdGF0ZSI6IjU0NWM3MjVkLTg4MGYtNGE0OS05OWE0LTE5Y2NmZTVhMTkzNiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjU0NWM3MjVkLTg4MGYtNGE0OS05OWE0LTE5Y2NmZTVhMTkzNiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.Zg4djRsEBI1glHIjnu6Hcgoq7saGK24XQePcIN0OA7uutk92LgcQk6SZer231gTsIJCL5PMRp_Hiyl1wPn5R0ox5CetanCLJTTzl9upirlQtRCpU-hZhSgBGpqywbtp8w4Id-wxRAPlZuObFDinkvRBfDvb1eOJ_lbu8klBd6ruON0YDAJPtJ30Y4Ay-CR_56TXsg-VlbcKPhZ5i6O12jdWWv_g2awM2Hcn9jYcqLMzDRyLYAx_-IPtk5FimMDK4ssf7AfC-RJFxMbsHF8lD8iOU4JR4dS89Yvw4gsTBjSSKQLiYq7q0kRtJcw7BrPXYR3jZXtaC1m7BL2jJQtjpyQ
[2022-04-19T12:09:41Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T12:09:41Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T12:09:41Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzA0ODEsImlhdCI6MTY1MDM3MDE4MSwiYXV0aF90aW1lIjoxNjUwMzcwMTc4LCJqdGkiOiI3OTg0ODlmZS0xOTljLTQxYjMtODhhMS01OGNjNTQ4OTg2OTIiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJPWk02UVV1bkVQYVU3a1ctNnI2YmtBIiwic2Vzc2lvbl9zdGF0ZSI6IjU0NWM3MjVkLTg4MGYtNGE0OS05OWE0LTE5Y2NmZTVhMTkzNiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjU0NWM3MjVkLTg4MGYtNGE0OS05OWE0LTE5Y2NmZTVhMTkzNiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.Zg4djRsEBI1glHIjnu6Hcgoq7saGK24XQePcIN0OA7uutk92LgcQk6SZer231gTsIJCL5PMRp_Hiyl1wPn5R0ox5CetanCLJTTzl9upirlQtRCpU-hZhSgBGpqywbtp8w4Id-wxRAPlZuObFDinkvRBfDvb1eOJ_lbu8klBd6ruON0YDAJPtJ30Y4Ay-CR_56TXsg-VlbcKPhZ5i6O12jdWWv_g2awM2Hcn9jYcqLMzDRyLYAx_-IPtk5FimMDK4ssf7AfC-RJFxMbsHF8lD8iOU4JR4dS89Yvw4gsTBjSSKQLiYq7q0kRtJcw7BrPXYR3jZXtaC1m7BL2jJQtjpyQ&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T12:09:41Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
thread &#x27;main&#x27; panicked at &#x27;called `Result::unwrap()` on an `Err` value: Command was not successful - rc = exit status: 1&#x27;, src/tests/registry/drg.rs:11:38

</pre>

</details>

## ❌ tests::registry::drg::test_registry_create_app_and_device

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
[2022-04-19T12:09:44Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T12:09:44Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T12:09:44Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:09:44Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:09:44Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:09:45Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T12:09:46Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T12:09:46Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:09:46Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:09:46Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:09:48Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzA0ODgsImlhdCI6MTY1MDM3MDE4OCwiYXV0aF90aW1lIjoxNjUwMzcwMTg1LCJqdGkiOiIzNjM3MzExMC04YWQ2LTQ3ZDctOWViYi0xNDlkYTEzMjI0ZmMiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJBRm81dEg1aF9jLUZSaHFJcV9zOVhnIiwic2Vzc2lvbl9zdGF0ZSI6Ijk1MmZlOGJmLTg1NTAtNDA1Yi1hOTg0LTkwY2U0NjMwMzA1MyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6Ijk1MmZlOGJmLTg1NTAtNDA1Yi1hOTg0LTkwY2U0NjMwMzA1MyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.Z3kkyQ-W9CLv3I6QPn059qfa93BNWZBE60RRrNaNT98qKGUH-dK5Jgkh_MHA-NnlU_vhCdGBZNUEL2cX6ZGdXDlC6KB2hA-uHh3X2TFEs9D0bj5USHfsssVmHNUIb4SI3Zvx4BmsV-B1Fj-VCvWeg9OOen_amt2YUmmSABeB4rB-sYsG1ONP6zA6TkktQgHypX8Dvv4BAJwO7OjjSKT8Ss6yIOOQyCGAY96-9Y7pn_xkBWVzHDjrd7b6VBYqfLV8mL_xJudrCbxOd4biqqYFfbSqbiDvB8JV6w5tvLSFARf_3gTr1BEGpm86EB4oNGNIA_3yIvf-_T0McgqYLh8n4w
[2022-04-19T12:09:48Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T12:09:48Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T12:09:48Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzA0ODgsImlhdCI6MTY1MDM3MDE4OCwiYXV0aF90aW1lIjoxNjUwMzcwMTg1LCJqdGkiOiIzNjM3MzExMC04YWQ2LTQ3ZDctOWViYi0xNDlkYTEzMjI0ZmMiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJBRm81dEg1aF9jLUZSaHFJcV9zOVhnIiwic2Vzc2lvbl9zdGF0ZSI6Ijk1MmZlOGJmLTg1NTAtNDA1Yi1hOTg0LTkwY2U0NjMwMzA1MyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6Ijk1MmZlOGJmLTg1NTAtNDA1Yi1hOTg0LTkwY2U0NjMwMzA1MyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.Z3kkyQ-W9CLv3I6QPn059qfa93BNWZBE60RRrNaNT98qKGUH-dK5Jgkh_MHA-NnlU_vhCdGBZNUEL2cX6ZGdXDlC6KB2hA-uHh3X2TFEs9D0bj5USHfsssVmHNUIb4SI3Zvx4BmsV-B1Fj-VCvWeg9OOen_amt2YUmmSABeB4rB-sYsG1ONP6zA6TkktQgHypX8Dvv4BAJwO7OjjSKT8Ss6yIOOQyCGAY96-9Y7pn_xkBWVzHDjrd7b6VBYqfLV8mL_xJudrCbxOd4biqqYFfbSqbiDvB8JV6w5tvLSFARf_3gTr1BEGpm86EB4oNGNIA_3yIvf-_T0McgqYLh8n4w&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T12:09:48Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
thread &#x27;main&#x27; panicked at &#x27;called `Result::unwrap()` on an `Err` value: Command was not successful - rc = exit status: 1&#x27;, src/tests/registry/drg.rs:58:48

</pre>

</details>

## ❌ tests::registry::drg::test_registry_create_app_and_device_twice

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
[2022-04-19T12:09:51Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T12:09:51Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T12:09:51Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:09:51Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:09:51Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:09:52Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T12:09:54Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T12:09:54Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:09:54Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:09:54Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:09:56Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzA0OTYsImlhdCI6MTY1MDM3MDE5NiwiYXV0aF90aW1lIjoxNjUwMzcwMTkyLCJqdGkiOiJmZjUxYjQ3Zi1kZDNlLTRiY2EtYjkyYi0xNTg3OGI3ZTUyNmIiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJOYTk3b3NuaUx1U3N0eERFSzJuTVR3Iiwic2Vzc2lvbl9zdGF0ZSI6ImJlMWRiM2FmLTgxN2YtNGNjNi04YTk3LTlhMmM2NWYyYjRkZiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImJlMWRiM2FmLTgxN2YtNGNjNi04YTk3LTlhMmM2NWYyYjRkZiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.R7Q3ejG-FomLdWslBHtKkRkEM3desZnpH_vD3ylbdFdL6BtNmdBBeCBFCec3P66huKoE4KppPe1jVxENzm5dvenrp84sNOcuM5k0LHxvNIrznWK2AWnU3MOv3W59istW4mUNxOnu6Uw5z28lBwFehiELzvjwEer4NrFLFDqg1bOjg5aKUUmTExabTSWkzuw6dARcVlJkgCXCYyo6tC5LOlOKvmK51k0KmHJTsBRYuauZz0UNUywHNBEogcYeUBz7l_n5j_Oe1WqDeSoCZEQnG1vIrj-CjUP0hhNUrBFuG92zwhLSoiDWJa5OIB90IVOexRIdYZ-OJcVY1ERGoPg1gA
[2022-04-19T12:09:56Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T12:09:56Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T12:09:56Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzA0OTYsImlhdCI6MTY1MDM3MDE5NiwiYXV0aF90aW1lIjoxNjUwMzcwMTkyLCJqdGkiOiJmZjUxYjQ3Zi1kZDNlLTRiY2EtYjkyYi0xNTg3OGI3ZTUyNmIiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJOYTk3b3NuaUx1U3N0eERFSzJuTVR3Iiwic2Vzc2lvbl9zdGF0ZSI6ImJlMWRiM2FmLTgxN2YtNGNjNi04YTk3LTlhMmM2NWYyYjRkZiIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImJlMWRiM2FmLTgxN2YtNGNjNi04YTk3LTlhMmM2NWYyYjRkZiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.R7Q3ejG-FomLdWslBHtKkRkEM3desZnpH_vD3ylbdFdL6BtNmdBBeCBFCec3P66huKoE4KppPe1jVxENzm5dvenrp84sNOcuM5k0LHxvNIrznWK2AWnU3MOv3W59istW4mUNxOnu6Uw5z28lBwFehiELzvjwEer4NrFLFDqg1bOjg5aKUUmTExabTSWkzuw6dARcVlJkgCXCYyo6tC5LOlOKvmK51k0KmHJTsBRYuauZz0UNUywHNBEogcYeUBz7l_n5j_Oe1WqDeSoCZEQnG1vIrj-CjUP0hhNUrBFuG92zwhLSoiDWJa5OIB90IVOexRIdYZ-OJcVY1ERGoPg1gA&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T12:09:56Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
thread &#x27;main&#x27; panicked at &#x27;called `Result::unwrap()` on an `Err` value: Command was not successful - rc = exit status: 1&#x27;, src/tests/registry/drg.rs:76:48

</pre>

</details>

## ❌ tests::registry::drg::test_registry_create_app_twice

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
[2022-04-19T12:09:58Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T12:09:58Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T12:09:58Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:09:58Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:09:58Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:10:00Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T12:10:01Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T12:10:01Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:10:01Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:10:01Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:10:03Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzA1MDMsImlhdCI6MTY1MDM3MDIwMywiYXV0aF90aW1lIjoxNjUwMzcwMjAwLCJqdGkiOiJhMzU0YWQzNS05NWE2LTQ4YzgtOGQ0Mi00MjhmZjVhMjNmZWQiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJIMi1CR3V6YjMzLVZ2bDNkQTdhaUxnIiwic2Vzc2lvbl9zdGF0ZSI6IjY2MGU5MmIyLWQ3ZjUtNGYzMy1iNDJiLWZmMmY3ODk0Y2JkNCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjY2MGU5MmIyLWQ3ZjUtNGYzMy1iNDJiLWZmMmY3ODk0Y2JkNCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.Ta5ZlQAiGwknUS36UrRITmdBf0J3JURd3Cdly8HEqweaVKUekm9KRt5BpsAJ39iZwThM9guAoIF22zouQ8Fk8gYRsWISPahbELysVS4xIdgpLinIimUl4vs_pYMKStzHryPtTdD73luesMdJLBLza4sIWHZ_dM31PuI19HGtvApoRi-KB3T1NtXRAKQ6a2-yvViypwWwNZnhvt4X8RrNi0S6uWtJW8PgfCyF-Y1_4Np5Vcfx4jgZl32M3ZbJnWwLNt_g0nZuk2SuW1YI9a3bVyM3gctkyQRg0QQ06AHdjWHRtoPZkB7KrAwZKBIsyb2P7RrD2a9ryaFbvXENsqpByA
[2022-04-19T12:10:03Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T12:10:03Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T12:10:03Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzA1MDMsImlhdCI6MTY1MDM3MDIwMywiYXV0aF90aW1lIjoxNjUwMzcwMjAwLCJqdGkiOiJhMzU0YWQzNS05NWE2LTQ4YzgtOGQ0Mi00MjhmZjVhMjNmZWQiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJIMi1CR3V6YjMzLVZ2bDNkQTdhaUxnIiwic2Vzc2lvbl9zdGF0ZSI6IjY2MGU5MmIyLWQ3ZjUtNGYzMy1iNDJiLWZmMmY3ODk0Y2JkNCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjY2MGU5MmIyLWQ3ZjUtNGYzMy1iNDJiLWZmMmY3ODk0Y2JkNCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.Ta5ZlQAiGwknUS36UrRITmdBf0J3JURd3Cdly8HEqweaVKUekm9KRt5BpsAJ39iZwThM9guAoIF22zouQ8Fk8gYRsWISPahbELysVS4xIdgpLinIimUl4vs_pYMKStzHryPtTdD73luesMdJLBLza4sIWHZ_dM31PuI19HGtvApoRi-KB3T1NtXRAKQ6a2-yvViypwWwNZnhvt4X8RrNi0S6uWtJW8PgfCyF-Y1_4Np5Vcfx4jgZl32M3ZbJnWwLNt_g0nZuk2SuW1YI9a3bVyM3gctkyQRg0QQ06AHdjWHRtoPZkB7KrAwZKBIsyb2P7RrD2a9ryaFbvXENsqpByA&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T12:10:03Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
thread &#x27;main&#x27; panicked at &#x27;called `Result::unwrap()` on an `Err` value: Command was not successful - rc = exit status: 1&#x27;, src/tests/registry/drg.rs:23:50

</pre>

</details>

## ❌ tests::registry::drg::test_registry_device_create_and_delete

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
[2022-04-19T12:10:05Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T12:10:05Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T12:10:05Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:10:05Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:10:05Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:10:07Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T12:10:08Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T12:10:08Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:10:08Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:10:08Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:10:10Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzA1MTAsImlhdCI6MTY1MDM3MDIxMCwiYXV0aF90aW1lIjoxNjUwMzcwMjA3LCJqdGkiOiJlYzRlOGZkMi0yOWYwLTQ0MzQtYTYyNi1lMmZjOTA3ODI5NjIiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJOUThXMEFFQ2h3MVh0Mjd6OEVxbFlRIiwic2Vzc2lvbl9zdGF0ZSI6IjgxMjRlNzBmLWNiMjMtNDY0NS04MGExLTM1NjJmNjY1ZjkwNyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjgxMjRlNzBmLWNiMjMtNDY0NS04MGExLTM1NjJmNjY1ZjkwNyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.Diq-7CYCoWoOv54eknBUrzioXKxNHFoIS6qwAosZtC-hLVuGo6bUqvGvt9DYTnU5TXyOXrDhiW-NEYaxilP0Gs_N2nk02HuNRgjvcZ0WaK9C6oUkH8kwoZrqsiYf2LYl830OsvaOagjDbaff8T7C22aghzxj9_nPpETvTmefXrxTN0QpzHArcNhpzD7k735_MYP3Y4KIIPmul5IA4xVl6DVOnWBXoAYB3qyuRM20xeSTl8mGOtyTZlcqCAw7vZTv9FG6k3CZ1VMgEtsxNgrq76y1-Ra1MfjqoQaFR_paAXDTgEJRg4StlVCUowrSZcnM1c87klJI7Bxn3aKr8i_IuQ
[2022-04-19T12:10:10Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T12:10:10Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T12:10:10Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzA1MTAsImlhdCI6MTY1MDM3MDIxMCwiYXV0aF90aW1lIjoxNjUwMzcwMjA3LCJqdGkiOiJlYzRlOGZkMi0yOWYwLTQ0MzQtYTYyNi1lMmZjOTA3ODI5NjIiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJOUThXMEFFQ2h3MVh0Mjd6OEVxbFlRIiwic2Vzc2lvbl9zdGF0ZSI6IjgxMjRlNzBmLWNiMjMtNDY0NS04MGExLTM1NjJmNjY1ZjkwNyIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjgxMjRlNzBmLWNiMjMtNDY0NS04MGExLTM1NjJmNjY1ZjkwNyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.Diq-7CYCoWoOv54eknBUrzioXKxNHFoIS6qwAosZtC-hLVuGo6bUqvGvt9DYTnU5TXyOXrDhiW-NEYaxilP0Gs_N2nk02HuNRgjvcZ0WaK9C6oUkH8kwoZrqsiYf2LYl830OsvaOagjDbaff8T7C22aghzxj9_nPpETvTmefXrxTN0QpzHArcNhpzD7k735_MYP3Y4KIIPmul5IA4xVl6DVOnWBXoAYB3qyuRM20xeSTl8mGOtyTZlcqCAw7vZTv9FG6k3CZ1VMgEtsxNgrq76y1-Ra1MfjqoQaFR_paAXDTgEJRg4StlVCUowrSZcnM1c87klJI7Bxn3aKr8i_IuQ&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T12:10:10Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
thread &#x27;main&#x27; panicked at &#x27;called `Result::unwrap()` on an `Err` value: Command was not successful - rc = exit status: 1&#x27;, src/tests/registry/drg.rs:96:31

</pre>

</details>

## ❌ tests::websocket::telemetry::test_send_telemetry_pass

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T12:10:13Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T12:10:13Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T12:10:13Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:10:13Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:10:13Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:10:14Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T12:10:15Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T12:10:16Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:10:16Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:10:16Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:10:17Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzA1MTcsImlhdCI6MTY1MDM3MDIxNywiYXV0aF90aW1lIjoxNjUwMzcwMjE0LCJqdGkiOiI4NGFiZDIxYi1kMzk0LTQwOGYtYWU1ZC03NzUyN2EzYjE3ZmEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJoUjVURnFKdlAtSlRsYmsyVmkzOWN3Iiwic2Vzc2lvbl9zdGF0ZSI6IjAzNmMwNzYyLTNiNDAtNGYyYy04MGY3LTYwYzA3MzE5MTY3MSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjAzNmMwNzYyLTNiNDAtNGYyYy04MGY3LTYwYzA3MzE5MTY3MSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.IBF8Yvagss8EpGVgdD1HVPcCYUUgJCgmVoSXKtdh6KmNWwbTIoNq5BlVhkkAXiHMafzs3oSVh4uQ_XqpCSrE40_Ygbv9nJ3-OC_pIWEnI463P8XKyQrgcTBh3vFZCb3pEteAuW33cJIJIMdu7qvTLrMTMt8YX11pUHrbjAYxcjwkPi8z_JhXRfJjdyENHF3EwSi75KCCqf58368uno9jzJAaQpyRDheywiAivf4vZOA3lOWrBlPvcDlAm6oZQczgRT-YU_Tt1XZDET-MyoK3cabQkJTXHJAgiuc3J1eDWuykrPsX30vmpx8oG95jR1kl10157rhq03dhSvapnn-_3A
[2022-04-19T12:10:17Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T12:10:17Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T12:10:17Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzA1MTcsImlhdCI6MTY1MDM3MDIxNywiYXV0aF90aW1lIjoxNjUwMzcwMjE0LCJqdGkiOiI4NGFiZDIxYi1kMzk0LTQwOGYtYWU1ZC03NzUyN2EzYjE3ZmEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJoUjVURnFKdlAtSlRsYmsyVmkzOWN3Iiwic2Vzc2lvbl9zdGF0ZSI6IjAzNmMwNzYyLTNiNDAtNGYyYy04MGY3LTYwYzA3MzE5MTY3MSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6IjAzNmMwNzYyLTNiNDAtNGYyYy04MGY3LTYwYzA3MzE5MTY3MSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.IBF8Yvagss8EpGVgdD1HVPcCYUUgJCgmVoSXKtdh6KmNWwbTIoNq5BlVhkkAXiHMafzs3oSVh4uQ_XqpCSrE40_Ygbv9nJ3-OC_pIWEnI463P8XKyQrgcTBh3vFZCb3pEteAuW33cJIJIMdu7qvTLrMTMt8YX11pUHrbjAYxcjwkPi8z_JhXRfJjdyENHF3EwSi75KCCqf58368uno9jzJAaQpyRDheywiAivf4vZOA3lOWrBlPvcDlAm6oZQczgRT-YU_Tt1XZDET-MyoK3cabQkJTXHJAgiuc3J1eDWuykrPsX30vmpx8oG95jR1kl10157rhq03dhSvapnn-_3A&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T12:10:17Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::websocket::telemetry::test_send_telemetry_user

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T12:10:20Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T12:10:20Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T12:10:20Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:10:20Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:10:20Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:10:21Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T12:10:23Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T12:10:23Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:10:23Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:10:23Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:10:24Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzA1MjQsImlhdCI6MTY1MDM3MDIyNCwiYXV0aF90aW1lIjoxNjUwMzcwMjIyLCJqdGkiOiJiODQxYTYwOS1lMDU0LTQxOTQtYWFiNS0zZGJlY2MyZDI5MzYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJhNXRPMGhWQ2RKSTVjSllreU1tenNBIiwic2Vzc2lvbl9zdGF0ZSI6ImE2ZjRjZDEwLTk2NmQtNDU2YS1iMmJjLTgwNzQyNGI3NjRiNCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImE2ZjRjZDEwLTk2NmQtNDU2YS1iMmJjLTgwNzQyNGI3NjRiNCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.G-Hu2dle-sgN5RUVN8-RrY1dFHtONMhtRes0rmj_Jq3-4UnUjmoPM9vUVC6mqrTeoLvVNC6b-yfuLGXIFpGkAhZb8EeVUVtqdRbIhCCkMkqMu2_cm5XbvORq-uipBDe5SMbUhHBNWotpTF1zz37A6eczziULQ2ZOvBBgAQ9MnumAywpfSnvfho_tu6TFaxAi93uXLidpphBP42sNfntng6kD4VksdWKki6spS-8QEQaFD9ogb-UAUpWeFB6xO0xWrOGDYn4oKV_F9S5s0Ligkr7XWXjAfQsguUpGHB8nGcxowDEfwr2njAMm44rgVcH24dmp9qQgwo3fYJ5Zt6tDkw
[2022-04-19T12:10:24Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T12:10:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T12:10:24Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzA1MjQsImlhdCI6MTY1MDM3MDIyNCwiYXV0aF90aW1lIjoxNjUwMzcwMjIyLCJqdGkiOiJiODQxYTYwOS1lMDU0LTQxOTQtYWFiNS0zZGJlY2MyZDI5MzYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJhNXRPMGhWQ2RKSTVjSllreU1tenNBIiwic2Vzc2lvbl9zdGF0ZSI6ImE2ZjRjZDEwLTk2NmQtNDU2YS1iMmJjLTgwNzQyNGI3NjRiNCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImE2ZjRjZDEwLTk2NmQtNDU2YS1iMmJjLTgwNzQyNGI3NjRiNCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.G-Hu2dle-sgN5RUVN8-RrY1dFHtONMhtRes0rmj_Jq3-4UnUjmoPM9vUVC6mqrTeoLvVNC6b-yfuLGXIFpGkAhZb8EeVUVtqdRbIhCCkMkqMu2_cm5XbvORq-uipBDe5SMbUhHBNWotpTF1zz37A6eczziULQ2ZOvBBgAQ9MnumAywpfSnvfho_tu6TFaxAi93uXLidpphBP42sNfntng6kD4VksdWKki6spS-8QEQaFD9ogb-UAUpWeFB6xO0xWrOGDYn4oKV_F9S5s0Ligkr7XWXjAfQsguUpGHB8nGcxowDEfwr2njAMm44rgVcH24dmp9qQgwo3fYJ5Zt6tDkw&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T12:10:25Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::websocket::telemetry::test_send_telemetry_user_alias

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T12:10:27Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T12:10:27Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T12:10:27Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:10:27Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:10:27Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:10:28Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T12:10:30Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T12:10:30Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:10:30Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:10:30Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:10:32Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzA1MzIsImlhdCI6MTY1MDM3MDIzMiwiYXV0aF90aW1lIjoxNjUwMzcwMjI5LCJqdGkiOiI5Yjk2NmMyMy00M2FiLTQxOTAtODgwNC0yZjg1MDM1NTk5OTciLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiIxUDBLUHhnRG5ra2gyR2xKa3A4VWhRIiwic2Vzc2lvbl9zdGF0ZSI6Ijk1MzQyNzNmLTFjYWMtNDE5ZC1iYjAzLWVmMTE3Y2FjZGEyOCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6Ijk1MzQyNzNmLTFjYWMtNDE5ZC1iYjAzLWVmMTE3Y2FjZGEyOCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.asSJS1Id5LyCZxG8eKfW9hq85jhA4Mgsg4TtuqjxwnAQ1CqsexsyiKK0LKWoNHBGZwhc3hEAvJ9-7L_TKqTNjOcGfwwJaMP_pGzOH0lzZphx9Ih9t9AIA221j2bj36FlwgMYU69ixUu_CP4p-Zbo-NR3QAZs6TXMnxdHkfRHhw3iPAXGVAvDHwEX9Et2eBY32qHus_SrXsHya-r3Hw3rRbnzDyb9hwFk34-4x0uZK2yPxRbX3qdBopVARFXOpCSouMql9Qy44hacQGDuBw3eIWQK2C7m9HI0egK5U7X8Q5O92l-TJB1s7QH2BlCdaFFxmDEEIO9vxeJTjs9fXlh2gA
[2022-04-19T12:10:32Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T12:10:32Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T12:10:32Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzA1MzIsImlhdCI6MTY1MDM3MDIzMiwiYXV0aF90aW1lIjoxNjUwMzcwMjI5LCJqdGkiOiI5Yjk2NmMyMy00M2FiLTQxOTAtODgwNC0yZjg1MDM1NTk5OTciLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiIxUDBLUHhnRG5ra2gyR2xKa3A4VWhRIiwic2Vzc2lvbl9zdGF0ZSI6Ijk1MzQyNzNmLTFjYWMtNDE5ZC1iYjAzLWVmMTE3Y2FjZGEyOCIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6Ijk1MzQyNzNmLTFjYWMtNDE5ZC1iYjAzLWVmMTE3Y2FjZGEyOCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.asSJS1Id5LyCZxG8eKfW9hq85jhA4Mgsg4TtuqjxwnAQ1CqsexsyiKK0LKWoNHBGZwhc3hEAvJ9-7L_TKqTNjOcGfwwJaMP_pGzOH0lzZphx9Ih9t9AIA221j2bj36FlwgMYU69ixUu_CP4p-Zbo-NR3QAZs6TXMnxdHkfRHhw3iPAXGVAvDHwEX9Et2eBY32qHus_SrXsHya-r3Hw3rRbnzDyb9hwFk34-4x0uZK2yPxRbX3qdBopVARFXOpCSouMql9Qy44hacQGDuBw3eIWQK2C7m9HI0egK5U7X8Q5O92l-TJB1s7QH2BlCdaFFxmDEEIO9vxeJTjs9fXlh2gA&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T12:10:32Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>

## ❌ tests::websocket::telemetry::test_send_telemetry_user_only

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-04-19T12:10:34Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-04-19T12:10:34Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-04-19T12:10:34Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:10:34Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:10:34Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:10:35Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-04-19T12:10:37Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-04-19T12:10:37Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-04-19T12:10:37Z DEBUG reqwest::async_impl::client] response &#x27;200 OK&#x27; for http://api.172.18.0.2.nip.io/.well-known/drogue-endpoints
[2022-04-19T12:10:37Z INFO  drogue_cloud_tests::init::config] Endpoints: Object({
        &quot;api&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;console&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;coap&quot;: Object({
            &quot;url&quot;: String(
                &quot;coap://coap-endpoint.172.18.0.2.nip.io:30003&quot;,
            ),
        }),
        &quot;http&quot;: Object({
            &quot;url&quot;: String(
                &quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;,
            ),
        }),
        &quot;mqtt&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-endpoint.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30001,
            ),
        }),
        &quot;mqtt_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;,
            ),
        }),
        &quot;mqtt_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;,
            ),
        }),
        &quot;mqtt_integration&quot;: Object({
            &quot;host&quot;: String(
                &quot;mqtt-integration.172.18.0.2.nip.io&quot;,
            ),
            &quot;port&quot;: Number(
                30002,
            ),
        }),
        &quot;mqtt_integration_ws&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;,
            ),
        }),
        &quot;mqtt_integration_ws_browser&quot;: Object({
            &quot;url&quot;: String(
                &quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;,
            ),
        }),
        &quot;websocket_integration&quot;: Object({
            &quot;url&quot;: String(
                &quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;,
            ),
        }),
        &quot;sso&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io&quot;,
        ),
        &quot;issuer_url&quot;: String(
            &quot;http://sso.172.18.0.2.nip.io/auth/realms/drogue&quot;,
        ),
        &quot;redirect_url&quot;: String(
            &quot;http://console.172.18.0.2.nip.io&quot;,
        ),
        &quot;registry&quot;: Object({
            &quot;url&quot;: String(
                &quot;http://api.172.18.0.2.nip.io&quot;,
            ),
        }),
        &quot;command_url&quot;: String(
            &quot;http://api.172.18.0.2.nip.io&quot;,
        ),
        &quot;local_certs&quot;: Bool(
            true,
        ),
        &quot;kafka_bootstrap_servers&quot;: String(
            &quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;,
        ),
    })
[2022-04-19T12:10:39Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzA1MzksImlhdCI6MTY1MDM3MDIzOSwiYXV0aF90aW1lIjoxNjUwMzcwMjM2LCJqdGkiOiI2ZDc4NmIyYS0wYjI2LTRhYzUtOWRlYy1mMzQ0NzMxMjBiZWEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJHcHlhcVhYc2haR25LMTdVVldaTXFRIiwic2Vzc2lvbl9zdGF0ZSI6ImU2Yjg3MzA1LTIzYzUtNDllOC1iNmIxLTAyNGRkMjEyMzMwYSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImU2Yjg3MzA1LTIzYzUtNDllOC1iNmIxLTAyNGRkMjEyMzMwYSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.JMbrVFFDD7jXMbkN7StX1rAQb93h5EBkKqGiyD8su7PnJMHohD1yJdoQW1jQcR9jmMek2J6j8wcd-_3_nv-3iO4AvqCKvMVuP8bBsAkGC3IXu9lfmLe_igrOW0M2NvvV9eCzcZhXN_p3-aGVOtJhURM8HDJ60dq6ELieZ6UpFmBcvfj-aGIP7bPcmtbY1EzeLM2-TbCX0kSiLAtCIZT8un1-H1faR7rWHk8x-ixHw8Gk7icbT1yR0v6cmjos032_O1X8uzLN0IBMsoa86LomZyRa0MPrIw9VD0bh95atQC675pigYsiKs0OfBL8KxP-Xtf6QVC4YR3ItzfWJ-JX7Kw
[2022-04-19T12:10:39Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-04-19T12:10:39Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n&quot; })
[2022-04-19T12:10:39Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJsZzVyMjVKeDlra0pQZjhiWEVuMVk5aVZTVDlqUU9xYlQ4LW5YM3V0cmZ3In0.eyJleHAiOjE2NTAzNzA1MzksImlhdCI6MTY1MDM3MDIzOSwiYXV0aF90aW1lIjoxNjUwMzcwMjM2LCJqdGkiOiI2ZDc4NmIyYS0wYjI2LTRhYzUtOWRlYy1mMzQ0NzMxMjBiZWEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiZ3JhZmFuYSIsImFjY291bnQiXSwic3ViIjoiYjEwNjBmN2YtYzU0Yy00YTRjLWEwZjItMzk3YWM1NDVjOTFjIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiZHJvZ3VlIiwibm9uY2UiOiJHcHlhcVhYc2haR25LMTdVVldaTXFRIiwic2Vzc2lvbl9zdGF0ZSI6ImU2Yjg3MzA1LTIzYzUtNDllOC1iNmIxLTAyNGRkMjEyMzMwYSIsImFjciI6IjAiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJncmFmYW5hIjp7InJvbGVzIjpbImdyYWZhbmEtZWRpdG9yIiwiZ3JhZmFuYS1hZG1pbiJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIl19fSwic2NvcGUiOiJvcGVuaWQgZW1haWwgcHJvZmlsZSIsInNpZCI6ImU2Yjg3MzA1LTIzYzUtNDllOC1iNmIxLTAyNGRkMjEyMzMwYSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwibmFtZSI6IlN5c3RlbSBBZG1pbiIsInByZWZlcnJlZF91c2VybmFtZSI6ImFkbWluIiwiZ2l2ZW5fbmFtZSI6IlN5c3RlbSIsImZhbWlseV9uYW1lIjoiQWRtaW4iLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20ifQ.JMbrVFFDD7jXMbkN7StX1rAQb93h5EBkKqGiyD8su7PnJMHohD1yJdoQW1jQcR9jmMek2J6j8wcd-_3_nv-3iO4AvqCKvMVuP8bBsAkGC3IXu9lfmLe_igrOW0M2NvvV9eCzcZhXN_p3-aGVOtJhURM8HDJ60dq6ELieZ6UpFmBcvfj-aGIP7bPcmtbY1EzeLM2-TbCX0kSiLAtCIZT8un1-H1faR7rWHk8x-ixHw8Gk7icbT1yR0v6cmjos032_O1X8uzLN0IBMsoa86LomZyRa0MPrIw9VD0bh95atQC675pigYsiKs0OfBL8KxP-Xtf6QVC4YR3ItzfWJ-JX7Kw&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-04-19T12:10:39Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: While refreshing token : Server returned error response\n&quot; })
Error: Command was not successful - rc = exit status: 1
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /rustc/7737e0b5c4103216d6fd8cf941b7ab9bdbaace7c/library/test/src/lib.rs:187:5

</pre>

</details>
