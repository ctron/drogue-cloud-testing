---
title: "❌ Test Result 2021-09-16 17:10 UTC"
date: 2021-09-16T17:10:41.811002654+00:00
categories: test-report
---


| | Total | Passed | Failed | Ignored | Filtered | Duration |
| --- | ----- | -------| ------ | ------- | -------- | -------- |
| ❌ | 51 | 47 | 4 | 0 | 0 | 798.411029888s |


**Job:** https://github.com/drogue-iot/drogue-cloud-testing/actions/runs/1242375324


# Index

| Name | Result | Duration |
| ---- | ------ | -------- |
| [init::web::test::test_web_destroy](#initwebtesttest_web_destroy) | ✅ | 5.684605424s | 
| [init::web::test::test_web_test](#initwebtesttest_web_test) | ✅ | 6.047564777s | 
| [tests::coap::command::test_command::version_1](#testscoapcommandtest_commandversion_1) | ❌ | 52.27463801s | 
| [tests::coap::command::test_command::version_2](#testscoapcommandtest_commandversion_2) | ❌ | 50.774001707s | 
| [tests::coap::command::test_command::version_3](#testscoapcommandtest_commandversion_3) | ❌ | 49.438829087s | 
| [tests::coap::telemetry::test_send_telemetry_pass::version_1](#testscoaptelemetrytest_send_telemetry_passversion_1) | ✅ | 15.708868133s | 
| [tests::coap::telemetry::test_send_telemetry_pass::version_2](#testscoaptelemetrytest_send_telemetry_passversion_2) | ✅ | 14.427709135s | 
| [tests::coap::telemetry::test_send_telemetry_pass::version_3](#testscoaptelemetrytest_send_telemetry_passversion_3) | ✅ | 15.911576932s | 
| [tests::coap::telemetry::test_send_telemetry_user::version_1](#testscoaptelemetrytest_send_telemetry_userversion_1) | ✅ | 16.042218623s | 
| [tests::coap::telemetry::test_send_telemetry_user::version_2](#testscoaptelemetrytest_send_telemetry_userversion_2) | ✅ | 16.727744254s | 
| [tests::coap::telemetry::test_send_telemetry_user::version_3](#testscoaptelemetrytest_send_telemetry_userversion_3) | ✅ | 15.991098322s | 
| [tests::coap::telemetry::test_send_telemetry_user_alias::version_1](#testscoaptelemetrytest_send_telemetry_user_aliasversion_1) | ✅ | 16.054731651s | 
| [tests::coap::telemetry::test_send_telemetry_user_alias::version_2](#testscoaptelemetrytest_send_telemetry_user_aliasversion_2) | ✅ | 15.992072412s | 
| [tests::coap::telemetry::test_send_telemetry_user_alias::version_3](#testscoaptelemetrytest_send_telemetry_user_aliasversion_3) | ✅ | 16.314299845s | 
| [tests::coap::telemetry::test_send_telemetry_user_only::version_1](#testscoaptelemetrytest_send_telemetry_user_onlyversion_1) | ✅ | 15.747470268s | 
| [tests::coap::telemetry::test_send_telemetry_user_only::version_2](#testscoaptelemetrytest_send_telemetry_user_onlyversion_2) | ✅ | 15.02462007s | 
| [tests::coap::telemetry::test_send_telemetry_user_only::version_3](#testscoaptelemetrytest_send_telemetry_user_onlyversion_3) | ✅ | 14.95347751s | 
| [tests::drg::test_drg_version](#testsdrgtest_drg_version) | ✅ | 7.711963148s | 
| [tests::http::command::test_command::version_1](#testshttpcommandtest_commandversion_1) | ✅ | 15.601000705s | 
| [tests::http::command::test_command::version_2](#testshttpcommandtest_commandversion_2) | ✅ | 15.016597929s | 
| [tests::http::command::test_command::version_3](#testshttpcommandtest_commandversion_3) | ✅ | 14.202050376s | 
| [tests::http::telemetry::test_send_telemetry_pass::version_1](#testshttptelemetrytest_send_telemetry_passversion_1) | ✅ | 15.138767243s | 
| [tests::http::telemetry::test_send_telemetry_pass::version_2](#testshttptelemetrytest_send_telemetry_passversion_2) | ✅ | 14.68890072s | 
| [tests::http::telemetry::test_send_telemetry_pass::version_3](#testshttptelemetrytest_send_telemetry_passversion_3) | ✅ | 13.832923872s | 
| [tests::http::telemetry::test_send_telemetry_user::version_1](#testshttptelemetrytest_send_telemetry_userversion_1) | ✅ | 14.514310122s | 
| [tests::http::telemetry::test_send_telemetry_user::version_2](#testshttptelemetrytest_send_telemetry_userversion_2) | ✅ | 14.937848171s | 
| [tests::http::telemetry::test_send_telemetry_user::version_3](#testshttptelemetrytest_send_telemetry_userversion_3) | ✅ | 15.795046496s | 
| [tests::http::telemetry::test_send_telemetry_user_alias::version_1](#testshttptelemetrytest_send_telemetry_user_aliasversion_1) | ✅ | 15.308903908s | 
| [tests::http::telemetry::test_send_telemetry_user_alias::version_2](#testshttptelemetrytest_send_telemetry_user_aliasversion_2) | ✅ | 13.889685023s | 
| [tests::http::telemetry::test_send_telemetry_user_alias::version_3](#testshttptelemetrytest_send_telemetry_user_aliasversion_3) | ✅ | 15.124508139s | 
| [tests::http::telemetry::test_send_telemetry_user_only::version_1](#testshttptelemetrytest_send_telemetry_user_onlyversion_1) | ✅ | 13.964063099s | 
| [tests::http::telemetry::test_send_telemetry_user_only::version_2](#testshttptelemetrytest_send_telemetry_user_onlyversion_2) | ✅ | 15.744138879s | 
| [tests::http::telemetry::test_send_telemetry_user_only::version_3](#testshttptelemetrytest_send_telemetry_user_onlyversion_3) | ✅ | 14.28325762s | 
| [tests::mqtt::command::test_command::version_1](#testsmqttcommandtest_commandversion_1) | ✅ | 9.926948469s | 
| [tests::mqtt::command::test_command::version_2](#testsmqttcommandtest_commandversion_2) | ✅ | 9.925403844s | 
| [tests::mqtt::command::test_command::version_3](#testsmqttcommandtest_commandversion_3) | ✅ | 9.943189555s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::integration_version_1](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_1integration_version_1) | ✅ | 14.455040995s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::integration_version_2](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_1integration_version_2) | ✅ | 13.988596592s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::integration_version_3](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_1integration_version_3) | ✅ | 15.7357431s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::integration_version_1](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_2integration_version_1) | ✅ | 15.2976436s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::integration_version_2](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_2integration_version_2) | ✅ | 13.888850668s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::integration_version_3](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_2integration_version_3) | ✅ | 14.101305073s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::integration_version_1](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_3integration_version_1) | ✅ | 15.886927965s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::integration_version_2](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_3integration_version_2) | ✅ | 14.228930273s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::integration_version_3](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_3integration_version_3) | ✅ | 15.572653594s | 
| [tests::registry::test_registry_create_and_delete](#testsregistrytest_registry_create_and_delete) | ❌ | 8.839058013s | 
| [tests::registry::test_registry_create_app](#testsregistrytest_registry_create_app) | ✅ | 8.657587018s | 
| [tests::registry::test_registry_create_app_and_device](#testsregistrytest_registry_create_app_and_device) | ✅ | 8.901203137s | 
| [tests::registry::test_registry_create_app_and_device_twice](#testsregistrytest_registry_create_app_and_device_twice) | ✅ | 8.577236988s | 
| [tests::registry::test_registry_create_app_twice](#testsregistrytest_registry_create_app_twice) | ✅ | 8.715389674s | 
| [tests::registry::test_registry_device_create_and_delete](#testsregistrytest_registry_device_create_and_delete) | ✅ | 8.888247504s | 


# Details

## ✅ init::web::test::test_web_destroy

**Duration**: 5.684605424s

## ✅ init::web::test::test_web_test

**Duration**: 6.047564777s

## ❌ tests::coap::command::test_command::version_1

**Duration**: 52.27463801s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2021-09-16T16:57:36Z INFO  drogue_cloud_tests::init::drg] Endpoints: Object({
        "api": String(
            "http://api.172.18.0.2.nip.io",
        ),
        "console": String(
            "http://console.172.18.0.2.nip.io",
        ),
        "issuer_url": String(
            "http://sso.172.18.0.2.nip.io/auth/realms/drogue",
        ),
        "registry": Object({
            "url": String(
                "http://api.172.18.0.2.nip.io",
            ),
        }),
        "sso": String(
            "http://sso.172.18.0.2.nip.io",
        ),
    })
[2021-09-16T16:57:41Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJlMGZjNThhZS1mOTcxLTRiNzgtODJlYi1kOWU2MzA1NTY1YjUifQ.eyJleHAiOjE2MzE4MTMyNjEsImlhdCI6MTYzMTgxMTQ2MSwianRpIjoiYmE3NTAyZmUtMWJjNy00OWViLTk5NGYtYjU2NzM2ZGMyYjI5IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMzYWQ0YTg2LTI1MGMtNDBlYi1iMTRmLWY5ZTY3ZTYyOTQ4YiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJzZXNzaW9uX3N0YXRlIjoiZjcxMzEwYWItNjJhZC00Y2VmLTgwY2YtZDU2MjA2YzMyZmRiIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImY3MTMxMGFiLTYyYWQtNGNlZi04MGNmLWQ1NjIwNmMzMmZkYiJ9.eGRLTdkjNe2euRI04q4oPUUzjHgeNlVms7bqN5QmoNY
[2021-09-16T16:57:41Z INFO  drogue_cloud_tests::init::drg] Running: "drg" "context" "delete" "system-tests"
[2021-09-16T16:57:41Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(ExitStatus(256)), stdout: "", stderr: "Error: Error loading config file\n\nCaused by:\n    0: Unable to open configuration file. Did you log into a drogue cloud cluster ?\n    1: No such file or directory (os error 2)\n" })
[2021-09-16T16:57:41Z INFO  drogue_cloud_tests::init::drg] Running: "drg" "login" "http://api.172.18.0.2.nip.io/" "-t" "eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJlMGZjNThhZS1mOTcxLTRiNzgtODJlYi1kOWU2MzA1NTY1YjUifQ.eyJleHAiOjE2MzE4MTMyNjEsImlhdCI6MTYzMTgxMTQ2MSwianRpIjoiYmE3NTAyZmUtMWJjNy00OWViLTk5NGYtYjU2NzM2ZGMyYjI5IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMzYWQ0YTg2LTI1MGMtNDBlYi1iMTRmLWY5ZTY3ZTYyOTQ4YiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJzZXNzaW9uX3N0YXRlIjoiZjcxMzEwYWItNjJhZC00Y2VmLTgwY2YtZDU2MjA2YzMyZmRiIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImY3MTMxMGFiLTYyYWQtNGNlZi04MGNmLWQ1NjIwNmMzMmZkYiJ9.eGRLTdkjNe2euRI04q4oPUUzjHgeNlVms7bqN5QmoNY" "--context" "system-tests"
[2021-09-16T16:57:42Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(ExitStatus(0)), stdout: "\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n", stderr: "" })
[2021-09-16T16:57:42Z INFO  drogue_cloud_tests::context] Adding root certificate
[2021-09-16T16:57:42Z INFO  drogue_cloud_tests::init::drg] Running: "drg" "whoami" "-t"
[2021-09-16T16:57:42Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(ExitStatus(0)), stdout: "eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIzYU1LVldvQkxIRkEyNk9wZW1QRGNGdmxodFM5MlF4TTdqVzY2SmFrNGEwIn0.eyJleHAiOjE2MzE4MTE3NjEsImlhdCI6MTYzMTgxMTQ2MSwiYXV0aF90aW1lIjoxNjMxODExNDU5LCJqdGkiOiI1Yzk0YmZkZC0yNjkwLTQwZWItOGIzZi1kNzA3M2FmYWM5MGMiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiYWNjb3VudCJdLCJzdWIiOiIzM2FkNGE4Ni0yNTBjLTQwZWItYjE0Zi1mOWU2N2U2Mjk0OGIiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJzZXNzaW9uX3N0YXRlIjoiZjcxMzEwYWItNjJhZC00Y2VmLTgwY2YtZDU2MjA2YzMyZmRiIiwiYWNyIjoiMSIsImFsbG93ZWQtb3JpZ2lucyI6WyJodHRwOi8vY29uc29sZS4xNzIuMTguMC4yLm5pcC5pbyIsImh0dHA6Ly9sb2NhbGhvc3Q6KiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJhY2NvdW50Ijp7InJvbGVzIjpbIm1hbmFnZS1hY2NvdW50IiwibWFuYWdlLWFjY291bnQtbGlua3MiXX19LCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiZjcxMzEwYWItNjJhZC00Y2VmLTgwY2YtZDU2MjA2YzMyZmRiIiwiZW1haWxfdmVyaWZpZWQiOmZhbHNlLCJuYW1lIjoiU3lzdGVtIEFkbWluIiwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4iLCJnaXZlbl9uYW1lIjoiU3lzdGVtIiwiZmFtaWx5X25hbWUiOiJBZG1pbiIsImVtYWlsIjoidXNlckBleGFtcGxlLmNvbSJ9.nUmbO2a9cdDjKKqvoIw2wJyzbTZa-XediZqooZ12lqQsFbGVoI-rCCZhJK947NfevycoQjiqu1d1K84JKTJVg3ivMass8r7opE6hKonaBJldVWz7GNaFHCU5sONdlejY5L94Af7_jIbqabO-qbq3IBF3Nea0PG6NYMUxcjcPq4kk0urYSMwDO5ZIh0H4LUHY3CNN7a-Tz7ves7K_2kCnc4U9tO4wJe0eqb4wBWK7e78a96JYWoGT5ZlYTaH1O5Pt-vXhYK9ytLeTG7BIXqhqoCDs7dxxnyh3S2F4T0j3cGU1Ga7Ra1IbSY8T9K_moYYny1w_mNCM51R_3HoWrSQznA\n", stderr: "" })
[2021-09-16T16:57:42Z INFO  drogue_cloud_tests::resources::apps] Create application: 2c512fca-2e8b-4e09-99b9-1de3e0e7e038
[2021-09-16T16:57:42Z INFO  drogue_cloud_tests::init::drg] Running: "drg" "create" "app" "2c512fca-2e8b-4e09-99b9-1de3e0e7e038"
[2021-09-16T16:57:43Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(ExitStatus(0)), stdout: "App 2c512fca-2e8b-4e09-99b9-1de3e0e7e038 created.\n", stderr: "" })
[2021-09-16T16:57:43Z INFO  drogue_cloud_tests::init::drg] Running: "drg" "get" "app" "2c512fca-2e8b-4e09-99b9-1de3e0e7e038"
[2021-09-16T16:57:43Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(ExitStatus(0)), stdout: "{\n  \"metadata\": {\n    \"creationTimestamp\": \"2021-09-16T16:57:42.665784Z\",\n    \"generation\": 0,\n    \"name\": \"2c512fca-2e8b-4e09-99b9-1de3e0e7e038\",\n    \"resourceVersion\": \"1f348869-0090-4b83-bc1a-64e967df36c3\",\n    \"uid\": \"f5236eb3-8def-4ad2-9228-34c3d591db70\"\n  }\n}", stderr: "" })
[2021-09-16T16:57:44Z INFO  drogue_cloud_tests::init::drg] Running: "drg" "get" "app" "2c512fca-2e8b-4e09-99b9-1de3e0e7e038"
[2021-09-16T16:57:44Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(ExitStatus(0)), stdout: "{\n  \"metadata\": {\n    \"creationTimestamp\": \"2021-09-16T16:57:42.665784Z\",\n    \"finalizers\": [\n      \"kafka\"\n    ],\n    \"generation\": 8,\n    \"name\": \"2c512fca-2e8b-4e09-99b9-1de3e0e7e038\",\n    \"resourceVersion\": \"977aba12-4195-4d43-880b-10bbf6ebe20f\",\n    \"uid\": \"f5236eb3-8def-4ad2-9228-34c3d591db70\"\n  },\n  \"status\": {\n    \"conditions\": [\n      {\n        \"lastTransitionTime\": \"2021-09-16T16:57:44.014274079Z\",\n        \"status\": \"True\",\n        \"type\": \"KafkaReady\"\n      },\n      {\n        \"lastTransitionTime\": \"2021-09-16T16:57:44.014308472Z\",\n        \"status\": \"True\",\n        \"type\": \"Ready\"\n      }\n    ],\n    \"kafka\": {\n      \"conditions\": [\n        {\n          \"lastTransitionTime\": \"2021-09-16T16:57:43.650588928Z\",\n          \"status\": \"True\",\n          \"type\": \"HasFinalizer\"\n        },\n        {\n          \"lastTransitionTime\": \"2021-09-16T16:57:43.662944437Z\",\n          \"status\": \"True\",\n          \"type\": \"CreateTopics\"\n        },\n        {\n          \"lastTransitionTime\": \"2021-09-16T16:57:43.833329276Z\",\n          \"status\": \"True\",\n          \"type\": \"TopicsReady\"\n        },\n        {\n          \"lastTransitionTime\": \"2021-09-16T16:57:43.843388064Z\",\n          \"status\": \"True\",\n          \"type\": \"CreateUser\"\n        },\n        {\n          \"lastTransitionTime\": \"2021-09-16T16:57:44.014246277Z\",\n          \"status\": \"True\",\n          \"type\": \"UserReady\"\n        },\n        {\n          \"lastTransitionTime\": \"2021-09-16T16:57:44.014247960Z\",\n          \"reason\": \"AsExpected\",\n          \"status\": \"True\",\n          \"type\": \"Reconciled\"\n        }\n      ],\n      \"observedGeneration\": 7,\n      \"user\": {\n        \"mechanism\": \"SCRAM-SHA-512\",\n        \"password\": \"dkhakNUHhkgO\",\n        \"username\": \"user-2c512fca-2e8b-4e09-99b9-1de3e0e7e038\"\n      }\n    }\n  }\n}", stderr: "" })
[2021-09-16T16:57:44Z INFO  drogue_cloud_tests::init::drg] Running: "drg" "get" "app" "2c512fca-2e8b-4e09-99b9-1de3e0e7e038"
[2021-09-16T16:57:44Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(ExitStatus(0)), stdout: "{\n  \"metadata\": {\n    \"creationTimestamp\": \"2021-09-16T16:57:42.665784Z\",\n    \"finalizers\": [\n      \"kafka\"\n    ],\n    \"generation\": 8,\n    \"name\": \"2c512fca-2e8b-4e09-99b9-1de3e0e7e038\",\n    \"resourceVersion\": \"977aba12-4195-4d43-880b-10bbf6ebe20f\",\n    \"uid\": \"f5236eb3-8def-4ad2-9228-34c3d591db70\"\n  },\n  \"status\": {\n    \"conditions\": [\n      {\n        \"lastTransitionTime\": \"2021-09-16T16:57:44.014274079Z\",\n        \"status\": \"True\",\n        \"type\": \"KafkaReady\"\n      },\n      {\n        \"lastTransitionTime\": \"2021-09-16T16:57:44.014308472Z\",\n        \"status\": \"True\",\n        \"type\": \"Ready\"\n      }\n    ],\n    \"kafka\": {\n      \"conditions\": [\n        {\n          \"lastTransitionTime\": \"2021-09-16T16:57:43.650588928Z\",\n          \"status\": \"True\",\n          \"type\": \"HasFinalizer\"\n        },\n        {\n          \"lastTransitionTime\": \"2021-09-16T16:57:43.662944437Z\",\n          \"status\": \"True\",\n          \"type\": \"CreateTopics\"\n        },\n        {\n          \"lastTransitionTime\": \"2021-09-16T16:57:43.833329276Z\",\n          \"status\": \"True\",\n          \"type\": \"TopicsReady\"\n        },\n        {\n          \"lastTransitionTime\": \"2021-09-16T16:57:43.843388064Z\",\n          \"status\": \"True\",\n          \"type\": \"CreateUser\"\n        },\n        {\n          \"lastTransitionTime\": \"2021-09-16T16:57:44.014246277Z\",\n          \"status\": \"True\",\n          \"type\": \"UserReady\"\n        },\n        {\n          \"lastTransitionTime\": \"2021-09-16T16:57:44.014247960Z\",\n          \"reason\": \"AsExpected\",\n          \"status\": \"True\",\n          \"type\": \"Reconciled\"\n        }\n      ],\n      \"observedGeneration\": 7,\n      \"user\": {\n        \"mechanism\": \"SCRAM-SHA-512\",\n        \"password\": \"dkhakNUHhkgO\",\n        \"username\": \"user-2c512fca-2e8b-4e09-99b9-1de3e0e7e038\"\n      }\n    }\n  }\n}", stderr: "" })
[2021-09-16T16:57:44Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2021-09-16T16:57:44Z INFO  drogue_cloud_tests::init::drg] Running: "drg" "create" "device" "--app" "2c512fca-2e8b-4e09-99b9-1de3e0e7e038" "device1" "--spec" "{\"credentials\":{\"credentials\":[{\"pass\":\"foo\"}]}}"
[2021-09-16T16:57:44Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(ExitStatus(0)), stdout: "Device device1 created.\n", stderr: "" })
[2021-09-16T16:57:44Z INFO  drogue_cloud_tests::tests::coap::command] Sending payload
[2021-09-16T16:57:44Z INFO  drogue_cloud_tests::tests::coap::command] MQTT integration URL: ssl://mqtt-integration.172.18.0.2.nip.io:30002
[2021-09-16T16:57:44Z INFO  drogue_cloud_tests::init::drg] Running: "drg" "whoami" "-t"
[2021-09-16T16:57:44Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(ExitStatus(0)), stdout: "eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIzYU1LVldvQkxIRkEyNk9wZW1QRGNGdmxodFM5MlF4TTdqVzY2SmFrNGEwIn0.eyJleHAiOjE2MzE4MTE3NjEsImlhdCI6MTYzMTgxMTQ2MSwiYXV0aF90aW1lIjoxNjMxODExNDU5LCJqdGkiOiI1Yzk0YmZkZC0yNjkwLTQwZWItOGIzZi1kNzA3M2FmYWM5MGMiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiYWNjb3VudCJdLCJzdWIiOiIzM2FkNGE4Ni0yNTBjLTQwZWItYjE0Zi1mOWU2N2U2Mjk0OGIiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJzZXNzaW9uX3N0YXRlIjoiZjcxMzEwYWItNjJhZC00Y2VmLTgwY2YtZDU2MjA2YzMyZmRiIiwiYWNyIjoiMSIsImFsbG93ZWQtb3JpZ2lucyI6WyJodHRwOi8vY29uc29sZS4xNzIuMTguMC4yLm5pcC5pbyIsImh0dHA6Ly9sb2NhbGhvc3Q6KiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJhY2NvdW50Ijp7InJvbGVzIjpbIm1hbmFnZS1hY2NvdW50IiwibWFuYWdlLWFjY291bnQtbGlua3MiXX19LCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiZjcxMzEwYWItNjJhZC00Y2VmLTgwY2YtZDU2MjA2YzMyZmRiIiwiZW1haWxfdmVyaWZpZWQiOmZhbHNlLCJuYW1lIjoiU3lzdGVtIEFkbWluIiwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4iLCJnaXZlbl9uYW1lIjoiU3lzdGVtIiwiZmFtaWx5X25hbWUiOiJBZG1pbiIsImVtYWlsIjoidXNlckBleGFtcGxlLmNvbSJ9.nUmbO2a9cdDjKKqvoIw2wJyzbTZa-XediZqooZ12lqQsFbGVoI-rCCZhJK947NfevycoQjiqu1d1K84JKTJVg3ivMass8r7opE6hKonaBJldVWz7GNaFHCU5sONdlejY5L94Af7_jIbqabO-qbq3IBF3Nea0PG6NYMUxcjcPq4kk0urYSMwDO5ZIh0H4LUHY3CNN7a-Tz7ves7K_2kCnc4U9tO4wJe0eqb4wBWK7e78a96JYWoGT5ZlYTaH1O5Pt-vXhYK9ytLeTG7BIXqhqoCDs7dxxnyh3S2F4T0j3cGU1Ga7Ra1IbSY8T9K_moYYny1w_mNCM51R_3HoWrSQznA\n", stderr: "" })
[2021-09-16T16:57:44Z INFO  drogue_cloud_tests::context] Adding root certificate
[2021-09-16T16:57:44Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2021-09-16T16:57:44Z INFO  drogue_cloud_tests::tools::http] Sending payload
[2021-09-16T16:57:46Z INFO  drogue_cloud_tests::context] Adding root certificate
[2021-09-16T16:57:46Z INFO  drogue_cloud_tests::tools::http] Sending payload
[2021-09-16T16:57:47Z INFO  drogue_cloud_tests::context] Adding root certificate
[2021-09-16T16:57:47Z INFO  drogue_cloud_tests::tools::http] Sending payload
[2021-09-16T16:57:48Z INFO  drogue_cloud_tests::context] Adding root certificate
[2021-09-16T16:57:48Z INFO  drogue_cloud_tests::tools::http] Sending payload
[2021-09-16T16:57:49Z INFO  drogue_cloud_tests::context] Adding root certificate
[2021-09-16T16:57:49Z INFO  drogue_cloud_tests::tools::http] Sending payload
[2021-09-16T16:57:49Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 443, payload: 0x7f4fa4015b80, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: "app/2c512fca-2e8b-4e09-99b9-1de3e0e7e038", payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 54, 57, 54, 50, 98, 55, 100, 52, 45, 52, 57, 50, 51, 45, 52, 98, 97, 48, 45, 57, 51, 52, 53, 45, 57, 48, 56, 57, 102, 102, 99, 50, 101, 100, 100, 53, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 50, 99, 53, 49, 50, 102, 99, 97, 37, 50, 68, 50, 101, 56, 98, 37, 50, 68, 52, 101, 48, 57, 37, 50, 68, 57, 57, 98, 57, 37, 50, 68, 49, 100, 101, 51, 101, 48, 101, 55, 101, 48, 51, 56, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 119, 97, 114, 109, 117, 112, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 49, 45, 48, 57, 45, 49, 54, 84, 49, 54, 58, 53, 55, 58, 52, 57, 46, 54, 53, 50, 49, 50, 51, 48, 56, 53, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 105, 110, 100, 101, 120, 34, 58, 52, 125, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 50, 99, 53, 49, 50, 102, 99, 97, 45, 50, 101, 56, 98, 45, 52, 101, 48, 57, 45, 57, 57, 98, 57, 45, 49, 100, 101, 51, 101, 48, 101, 55, 101, 48, 51, 56, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 50, 99, 53, 49, 50, 102, 99, 97, 37, 50, 68, 50, 101, 56, 98, 37, 50, 68, 52, 101, 48, 57, 37, 50, 68, 57, 57, 98, 57, 37, 50, 68, 49, 100, 101, 51, 101, 48, 101, 55, 101, 48, 51, 56, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2021-09-16T16:57:49Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: "app/2c512fca-2e8b-4e09-99b9-1de3e0e7e038", content_type: None, user_properties: {}, payload: "{\"specversion\":\"1.0\",\"id\":\"6962b7d4-4923-4ba0-9345-9089ffc2edd5\",\"type\":\"io.drogue.event.v1\",\"source\":\"drogue://2c512fca%2D2e8b%2D4e09%2D99b9%2D1de3e0e7e038/device1\",\"datacontenttype\":\"application/json\",\"subject\":\"warmup\",\"time\":\"2021-09-16T16:57:49.652123085Z\",\"data\":{\"index\":4},\"instance\":\"drogue\",\"application\":\"2c512fca-2e8b-4e09-99b9-1de3e0e7e038\",\"partitionkey\":\"2c512fca%2D2e8b%2D4e09%2D99b9%2D1de3e0e7e038/device1\",\"device\":\"device1\"}" }
[2021-09-16T16:57:50Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 4 attempts
[2021-09-16T16:57:50Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2021-09-16T16:57:51Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 452, payload: 0x7f4fa401f3f0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } }, data: MessageData { topic: "app/2c512fca-2e8b-4e09-99b9-1de3e0e7e038", payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 57, 57, 49, 99, 98, 57, 51, 51, 45, 100, 102, 101, 48, 45, 52, 100, 50, 102, 45, 57, 55, 52, 55, 45, 97, 51, 101, 52, 57, 55, 57, 52, 55, 54, 57, 102, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 50, 99, 53, 49, 50, 102, 99, 97, 37, 50, 68, 50, 101, 56, 98, 37, 50, 68, 52, 101, 48, 57, 37, 50, 68, 57, 57, 98, 57, 37, 50, 68, 49, 100, 101, 51, 101, 48, 101, 55, 101, 48, 51, 56, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 111, 99, 116, 101, 116, 45, 115, 116, 114, 101, 97, 109, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 116, 101, 108, 101, 109, 101, 116, 114, 121, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 49, 45, 48, 57, 45, 49, 54, 84, 49, 54, 58, 53, 55, 58, 53, 48, 46, 55, 50, 50, 49, 49, 54, 57, 54, 56, 90, 34, 44, 34, 100, 97, 116, 97, 95, 98, 97, 115, 101, 54, 52, 34, 58, 34, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 50, 99, 53, 49, 50, 102, 99, 97, 37, 50, 68, 50, 101, 56, 98, 37, 50, 68, 52, 101, 48, 57, 37, 50, 68, 57, 57, 98, 57, 37, 50, 68, 49, 100, 101, 51, 101, 48, 101, 55, 101, 48, 51, 56, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 50, 99, 53, 49, 50, 102, 99, 97, 45, 50, 101, 56, 98, 45, 52, 101, 48, 57, 45, 57, 57, 98, 57, 45, 49, 100, 101, 51, 101, 48, 101, 55, 101, 48, 51, 56, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 0, max_count: 0, length: 0, array: 0x0 } } } }
[2021-09-16T16:57:51Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: "app/2c512fca-2e8b-4e09-99b9-1de3e0e7e038", content_type: None, user_properties: {}, payload: "{\"specversion\":\"1.0\",\"id\":\"991cb933-dfe0-4d2f-9747-a3e49794769f\",\"type\":\"io.drogue.event.v1\",\"source\":\"drogue://2c512fca%2D2e8b%2D4e09%2D99b9%2D1de3e0e7e038/device1\",\"datacontenttype\":\"application/octet-stream\",\"subject\":\"telemetry\",\"time\":\"2021-09-16T16:57:50.722116968Z\",\"data_base64\":\"\",\"partitionkey\":\"2c512fca%2D2e8b%2D4e09%2D99b9%2D1de3e0e7e038/device1\",\"instance\":\"drogue\",\"application\":\"2c512fca-2e8b-4e09-99b9-1de3e0e7e038\",\"device\":\"device1\"}" }
[2021-09-16T16:58:25Z INFO  drogue_cloud_tests::init::drg] Running: "drg" "whoami" "-t"
[2021-09-16T16:58:25Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(ExitStatus(0)), stdout: "eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIzYU1LVldvQkxIRkEyNk9wZW1QRGNGdmxodFM5MlF4TTdqVzY2SmFrNGEwIn0.eyJleHAiOjE2MzE4MTE3NjEsImlhdCI6MTYzMTgxMTQ2MSwiYXV0aF90aW1lIjoxNjMxODExNDU5LCJqdGkiOiI1Yzk0YmZkZC0yNjkwLTQwZWItOGIzZi1kNzA3M2FmYWM5MGMiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiYWNjb3VudCJdLCJzdWIiOiIzM2FkNGE4Ni0yNTBjLTQwZWItYjE0Zi1mOWU2N2U2Mjk0OGIiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJzZXNzaW9uX3N0YXRlIjoiZjcxMzEwYWItNjJhZC00Y2VmLTgwY2YtZDU2MjA2YzMyZmRiIiwiYWNyIjoiMSIsImFsbG93ZWQtb3JpZ2lucyI6WyJodHRwOi8vY29uc29sZS4xNzIuMTguMC4yLm5pcC5pbyIsImh0dHA6Ly9sb2NhbGhvc3Q6KiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJhY2NvdW50Ijp7InJvbGVzIjpbIm1hbmFnZS1hY2NvdW50IiwibWFuYWdlLWFjY291bnQtbGlua3MiXX19LCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiZjcxMzEwYWItNjJhZC00Y2VmLTgwY2YtZDU2MjA2YzMyZmRiIiwiZW1haWxfdmVyaWZpZWQiOmZhbHNlLCJuYW1lIjoiU3lzdGVtIEFkbWluIiwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4iLCJnaXZlbl9uYW1lIjoiU3lzdGVtIiwiZmFtaWx5X25hbWUiOiJBZG1pbiIsImVtYWlsIjoidXNlckBleGFtcGxlLmNvbSJ9.nUmbO2a9cdDjKKqvoIw2wJyzbTZa-XediZqooZ12lqQsFbGVoI-rCCZhJK947NfevycoQjiqu1d1K84JKTJVg3ivMass8r7opE6hKonaBJldVWz7GNaFHCU5sONdlejY5L94Af7_jIbqabO-qbq3IBF3Nea0PG6NYMUxcjcPq4kk0urYSMwDO5ZIh0H4LUHY3CNN7a-Tz7ves7K_2kCnc4U9tO4wJe0eqb4wBWK7e78a96JYWoGT5ZlYTaH1O5Pt-vXhYK9ytLeTG7BIXqhqoCDs7dxxnyh3S2F4T0j3cGU1Ga7Ra1IbSY8T9K_moYYny1w_mNCM51R_3HoWrSQznA\n", stderr: "" })
thread 'main' panicked at 'Failed to get CoAP response: Resource temporarily unavailable (os error 11)', src/tests/coap/command.rs:131:31
[2021-09-16T16:58:26Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2021-09-16T16:58:26Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
[2021-09-16T16:58:26Z INFO  drogue_cloud_tests::resources::devices] Destroy application 'device1'
[2021-09-16T16:58:26Z INFO  drogue_cloud_tests::init::drg] Running: "drg" "delete" "device" "--app" "2c512fca-2e8b-4e09-99b9-1de3e0e7e038" "device1"
[2021-09-16T16:58:26Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(ExitStatus(0)), stdout: "Device device1 deleted.\n", stderr: "" })
[2021-09-16T16:58:26Z INFO  drogue_cloud_tests::resources::apps] Destroy application '2c512fca-2e8b-4e09-99b9-1de3e0e7e038'
[2021-09-16T16:58:26Z INFO  drogue_cloud_tests::init::drg] Running: "drg" "delete" "app" "2c512fca-2e8b-4e09-99b9-1de3e0e7e038"
[2021-09-16T16:58:26Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(ExitStatus(0)), stdout: "App 2c512fca-2e8b-4e09-99b9-1de3e0e7e038 deleted.\n", stderr: "" })

</pre>

</details>

## ❌ tests::coap::command::test_command::version_2

**Duration**: 50.774001707s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2021-09-16T16:58:29Z INFO  drogue_cloud_tests::init::drg] Endpoints: Object({
        "api": String(
            "http://api.172.18.0.2.nip.io",
        ),
        "console": String(
            "http://console.172.18.0.2.nip.io",
        ),
        "issuer_url": String(
            "http://sso.172.18.0.2.nip.io/auth/realms/drogue",
        ),
        "registry": Object({
            "url": String(
                "http://api.172.18.0.2.nip.io",
            ),
        }),
        "sso": String(
            "http://sso.172.18.0.2.nip.io",
        ),
    })
[2021-09-16T16:58:33Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJlMGZjNThhZS1mOTcxLTRiNzgtODJlYi1kOWU2MzA1NTY1YjUifQ.eyJleHAiOjE2MzE4MTMzMTMsImlhdCI6MTYzMTgxMTUxMywianRpIjoiOTgwOWMwYzMtZGVlNy00ZjQ5LWI1ZTEtM2ViM2NkMzNmMWZmIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMzYWQ0YTg2LTI1MGMtNDBlYi1iMTRmLWY5ZTY3ZTYyOTQ4YiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJzZXNzaW9uX3N0YXRlIjoiZjliZDYzMzgtZmY5Yi00NDcxLTlkMDYtZjMyYTdhOWE3YjIyIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImY5YmQ2MzM4LWZmOWItNDQ3MS05ZDA2LWYzMmE3YTlhN2IyMiJ9.hjnC4o_oYHU9rmUbG_DNsIN-PyyekpzQ11ECgf0klhw
[2021-09-16T16:58:33Z INFO  drogue_cloud_tests::init::drg] Running: "drg" "context" "delete" "system-tests"
[2021-09-16T16:58:33Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(ExitStatus(0)), stdout: "", stderr: "" })
[2021-09-16T16:58:33Z INFO  drogue_cloud_tests::init::drg] Running: "drg" "login" "http://api.172.18.0.2.nip.io/" "-t" "eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJlMGZjNThhZS1mOTcxLTRiNzgtODJlYi1kOWU2MzA1NTY1YjUifQ.eyJleHAiOjE2MzE4MTMzMTMsImlhdCI6MTYzMTgxMTUxMywianRpIjoiOTgwOWMwYzMtZGVlNy00ZjQ5LWI1ZTEtM2ViM2NkMzNmMWZmIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMzYWQ0YTg2LTI1MGMtNDBlYi1iMTRmLWY5ZTY3ZTYyOTQ4YiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJzZXNzaW9uX3N0YXRlIjoiZjliZDYzMzgtZmY5Yi00NDcxLTlkMDYtZjMyYTdhOWE3YjIyIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImY5YmQ2MzM4LWZmOWItNDQ3MS05ZDA2LWYzMmE3YTlhN2IyMiJ9.hjnC4o_oYHU9rmUbG_DNsIN-PyyekpzQ11ECgf0klhw" "--context" "system-tests"
[2021-09-16T16:58:33Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(ExitStatus(0)), stdout: "\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n", stderr: "" })
[2021-09-16T16:58:34Z INFO  drogue_cloud_tests::context] Adding root certificate
[2021-09-16T16:58:34Z INFO  drogue_cloud_tests::init::drg] Running: "drg" "whoami" "-t"
[2021-09-16T16:58:34Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(ExitStatus(0)), stdout: "eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIzYU1LVldvQkxIRkEyNk9wZW1QRGNGdmxodFM5MlF4TTdqVzY2SmFrNGEwIn0.eyJleHAiOjE2MzE4MTE4MTMsImlhdCI6MTYzMTgxMTUxMywiYXV0aF90aW1lIjoxNjMxODExNTExLCJqdGkiOiIyMzk0NWNiYS0zNDliLTRjNzUtYTI1Zi1lOTJiNmEwZTM3MGUiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiYWNjb3VudCJdLCJzdWIiOiIzM2FkNGE4Ni0yNTBjLTQwZWItYjE0Zi1mOWU2N2U2Mjk0OGIiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJzZXNzaW9uX3N0YXRlIjoiZjliZDYzMzgtZmY5Yi00NDcxLTlkMDYtZjMyYTdhOWE3YjIyIiwiYWNyIjoiMSIsImFsbG93ZWQtb3JpZ2lucyI6WyJodHRwOi8vY29uc29sZS4xNzIuMTguMC4yLm5pcC5pbyIsImh0dHA6Ly9sb2NhbGhvc3Q6KiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJhY2NvdW50Ijp7InJvbGVzIjpbIm1hbmFnZS1hY2NvdW50IiwibWFuYWdlLWFjY291bnQtbGlua3MiXX19LCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiZjliZDYzMzgtZmY5Yi00NDcxLTlkMDYtZjMyYTdhOWE3YjIyIiwiZW1haWxfdmVyaWZpZWQiOmZhbHNlLCJuYW1lIjoiU3lzdGVtIEFkbWluIiwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4iLCJnaXZlbl9uYW1lIjoiU3lzdGVtIiwiZmFtaWx5X25hbWUiOiJBZG1pbiIsImVtYWlsIjoidXNlckBleGFtcGxlLmNvbSJ9.qTqJ4W_4uRCf8msIPwY8Qnby7AlCUJuIfKNYHuWRc1KjdVgEYLZIMIBel3YLz2zcsXffYVLCDrf9Jk2NuRik_00JMkkop-wh40WTqPq_pSDRc2DYVy0znB3PpQdt4vnRL8vx30rSrioZNfd_jdXA65RwDBiBUWR59PYfZvzTD-HFeCiOfsOCCV5X7-yiaryxP1t1WSJoHW3kRzHJfWhXh_iYCZOjdorpFOKZjI4wWqurI9vP074UGhr2GzFE06VgV6IrPKzoAMrhq7qQrPwo4oFM5xnyA_HLdgmdPNgXbbc4x5WFmueN8NFWLK7v1fbCEWvpsWhhcQ0ROzc47iEdWg\n", stderr: "" })
[2021-09-16T16:58:34Z INFO  drogue_cloud_tests::resources::apps] Create application: e61debbf-9225-48e8-867c-b43f28768079
[2021-09-16T16:58:34Z INFO  drogue_cloud_tests::init::drg] Running: "drg" "create" "app" "e61debbf-9225-48e8-867c-b43f28768079"
[2021-09-16T16:58:34Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(ExitStatus(0)), stdout: "App e61debbf-9225-48e8-867c-b43f28768079 created.\n", stderr: "" })
[2021-09-16T16:58:34Z INFO  drogue_cloud_tests::init::drg] Running: "drg" "get" "app" "e61debbf-9225-48e8-867c-b43f28768079"
[2021-09-16T16:58:34Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(ExitStatus(0)), stdout: "{\n  \"metadata\": {\n    \"creationTimestamp\": \"2021-09-16T16:58:34.648722Z\",\n    \"generation\": 1,\n    \"name\": \"e61debbf-9225-48e8-867c-b43f28768079\",\n    \"resourceVersion\": \"a0df5f4e-a71c-4c01-9970-98aea6902ad7\",\n    \"uid\": \"84666cbf-e15e-421c-aaa4-a369db73ab2b\"\n  },\n  \"status\": {\n    \"conditions\": [\n      {\n        \"lastTransitionTime\": \"2021-09-16T16:58:34.663848540Z\",\n        \"status\": \"True\",\n        \"type\": \"Ready\"\n      }\n    ]\n  }\n}", stderr: "" })
[2021-09-16T16:58:35Z INFO  drogue_cloud_tests::init::drg] Running: "drg" "get" "app" "e61debbf-9225-48e8-867c-b43f28768079"
[2021-09-16T16:58:35Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(ExitStatus(0)), stdout: "{\n  \"metadata\": {\n    \"creationTimestamp\": \"2021-09-16T16:58:34.648722Z\",\n    \"finalizers\": [\n      \"kafka\"\n    ],\n    \"generation\": 9,\n    \"name\": \"e61debbf-9225-48e8-867c-b43f28768079\",\n    \"resourceVersion\": \"6ee20fe0-e0a4-4623-af70-5409ee5d86a6\",\n    \"uid\": \"84666cbf-e15e-421c-aaa4-a369db73ab2b\"\n  },\n  \"status\": {\n    \"conditions\": [\n      {\n        \"lastTransitionTime\": \"2021-09-16T16:58:35.036893349Z\",\n        \"status\": \"True\",\n        \"type\": \"Ready\"\n      },\n      {\n        \"lastTransitionTime\": \"2021-09-16T16:58:35.036857954Z\",\n        \"status\": \"True\",\n        \"type\": \"KafkaReady\"\n      }\n    ],\n    \"kafka\": {\n      \"conditions\": [\n        {\n          \"lastTransitionTime\": \"2021-09-16T16:58:34.711300138Z\",\n          \"status\": \"True\",\n          \"type\": \"HasFinalizer\"\n        },\n        {\n          \"lastTransitionTime\": \"2021-09-16T16:58:34.720992397Z\",\n          \"status\": \"True\",\n          \"type\": \"CreateTopics\"\n        },\n        {\n          \"lastTransitionTime\": \"2021-09-16T16:58:34.846091597Z\",\n          \"status\": \"True\",\n          \"type\": \"TopicsReady\"\n        },\n        {\n          \"lastTransitionTime\": \"2021-09-16T16:58:34.857986593Z\",\n          \"status\": \"True\",\n          \"type\": \"CreateUser\"\n        },\n        {\n          \"lastTransitionTime\": \"2021-09-16T16:58:35.036771253Z\",\n          \"status\": \"True\",\n          \"type\": \"UserReady\"\n        },\n        {\n          \"lastTransitionTime\": \"2021-09-16T16:58:35.036773516Z\",\n          \"reason\": \"AsExpected\",\n          \"status\": \"True\",\n          \"type\": \"Reconciled\"\n        }\n      ],\n      \"observedGeneration\": 8,\n      \"user\": {\n        \"mechanism\": \"SCRAM-SHA-512\",\n        \"password\": \"nC52EXzQin9g\",\n        \"username\": \"user-e61debbf-9225-48e8-867c-b43f28768079\"\n      }\n    }\n  }\n}", stderr: "" })
[2021-09-16T16:58:35Z INFO  drogue_cloud_tests::init::drg] Running: "drg" "get" "app" "e61debbf-9225-48e8-867c-b43f28768079"
[2021-09-16T16:58:35Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(ExitStatus(0)), stdout: "{\n  \"metadata\": {\n    \"creationTimestamp\": \"2021-09-16T16:58:34.648722Z\",\n    \"finalizers\": [\n      \"kafka\"\n    ],\n    \"generation\": 9,\n    \"name\": \"e61debbf-9225-48e8-867c-b43f28768079\",\n    \"resourceVersion\": \"6ee20fe0-e0a4-4623-af70-5409ee5d86a6\",\n    \"uid\": \"84666cbf-e15e-421c-aaa4-a369db73ab2b\"\n  },\n  \"status\": {\n    \"conditions\": [\n      {\n        \"lastTransitionTime\": \"2021-09-16T16:58:35.036893349Z\",\n        \"status\": \"True\",\n        \"type\": \"Ready\"\n      },\n      {\n        \"lastTransitionTime\": \"2021-09-16T16:58:35.036857954Z\",\n        \"status\": \"True\",\n        \"type\": \"KafkaReady\"\n      }\n    ],\n    \"kafka\": {\n      \"conditions\": [\n        {\n          \"lastTransitionTime\": \"2021-09-16T16:58:34.711300138Z\",\n          \"status\": \"True\",\n          \"type\": \"HasFinalizer\"\n        },\n        {\n          \"lastTransitionTime\": \"2021-09-16T16:58:34.720992397Z\",\n          \"status\": \"True\",\n          \"type\": \"CreateTopics\"\n        },\n        {\n          \"lastTransitionTime\": \"2021-09-16T16:58:34.846091597Z\",\n          \"status\": \"True\",\n          \"type\": \"TopicsReady\"\n        },\n        {\n          \"lastTransitionTime\": \"2021-09-16T16:58:34.857986593Z\",\n          \"status\": \"True\",\n          \"type\": \"CreateUser\"\n        },\n        {\n          \"lastTransitionTime\": \"2021-09-16T16:58:35.036771253Z\",\n          \"status\": \"True\",\n          \"type\": \"UserReady\"\n        },\n        {\n          \"lastTransitionTime\": \"2021-09-16T16:58:35.036773516Z\",\n          \"reason\": \"AsExpected\",\n          \"status\": \"True\",\n          \"type\": \"Reconciled\"\n        }\n      ],\n      \"observedGeneration\": 8,\n      \"user\": {\n        \"mechanism\": \"SCRAM-SHA-512\",\n        \"password\": \"nC52EXzQin9g\",\n        \"username\": \"user-e61debbf-9225-48e8-867c-b43f28768079\"\n      }\n    }\n  }\n}", stderr: "" })
[2021-09-16T16:58:35Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2021-09-16T16:58:35Z INFO  drogue_cloud_tests::init::drg] Running: "drg" "create" "device" "--app" "e61debbf-9225-48e8-867c-b43f28768079" "device1" "--spec" "{\"credentials\":{\"credentials\":[{\"pass\":\"foo\"}]}}"
[2021-09-16T16:58:35Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(ExitStatus(0)), stdout: "Device device1 created.\n", stderr: "" })
[2021-09-16T16:58:35Z INFO  drogue_cloud_tests::tests::coap::command] Sending payload
[2021-09-16T16:58:35Z INFO  drogue_cloud_tests::tests::coap::command] MQTT integration URL: ssl://mqtt-integration.172.18.0.2.nip.io:30002
[2021-09-16T16:58:35Z INFO  drogue_cloud_tests::init::drg] Running: "drg" "whoami" "-t"
[2021-09-16T16:58:35Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(ExitStatus(0)), stdout: "eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIzYU1LVldvQkxIRkEyNk9wZW1QRGNGdmxodFM5MlF4TTdqVzY2SmFrNGEwIn0.eyJleHAiOjE2MzE4MTE4MTMsImlhdCI6MTYzMTgxMTUxMywiYXV0aF90aW1lIjoxNjMxODExNTExLCJqdGkiOiIyMzk0NWNiYS0zNDliLTRjNzUtYTI1Zi1lOTJiNmEwZTM3MGUiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiYWNjb3VudCJdLCJzdWIiOiIzM2FkNGE4Ni0yNTBjLTQwZWItYjE0Zi1mOWU2N2U2Mjk0OGIiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJzZXNzaW9uX3N0YXRlIjoiZjliZDYzMzgtZmY5Yi00NDcxLTlkMDYtZjMyYTdhOWE3YjIyIiwiYWNyIjoiMSIsImFsbG93ZWQtb3JpZ2lucyI6WyJodHRwOi8vY29uc29sZS4xNzIuMTguMC4yLm5pcC5pbyIsImh0dHA6Ly9sb2NhbGhvc3Q6KiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJhY2NvdW50Ijp7InJvbGVzIjpbIm1hbmFnZS1hY2NvdW50IiwibWFuYWdlLWFjY291bnQtbGlua3MiXX19LCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiZjliZDYzMzgtZmY5Yi00NDcxLTlkMDYtZjMyYTdhOWE3YjIyIiwiZW1haWxfdmVyaWZpZWQiOmZhbHNlLCJuYW1lIjoiU3lzdGVtIEFkbWluIiwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4iLCJnaXZlbl9uYW1lIjoiU3lzdGVtIiwiZmFtaWx5X25hbWUiOiJBZG1pbiIsImVtYWlsIjoidXNlckBleGFtcGxlLmNvbSJ9.qTqJ4W_4uRCf8msIPwY8Qnby7AlCUJuIfKNYHuWRc1KjdVgEYLZIMIBel3YLz2zcsXffYVLCDrf9Jk2NuRik_00JMkkop-wh40WTqPq_pSDRc2DYVy0znB3PpQdt4vnRL8vx30rSrioZNfd_jdXA65RwDBiBUWR59PYfZvzTD-HFeCiOfsOCCV5X7-yiaryxP1t1WSJoHW3kRzHJfWhXh_iYCZOjdorpFOKZjI4wWqurI9vP074UGhr2GzFE06VgV6IrPKzoAMrhq7qQrPwo4oFM5xnyA_HLdgmdPNgXbbc4x5WFmueN8NFWLK7v1fbCEWvpsWhhcQ0ROzc47iEdWg\n", stderr: "" })
[2021-09-16T16:58:35Z INFO  drogue_cloud_tests::context] Adding root certificate
[2021-09-16T16:58:35Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2021-09-16T16:58:35Z INFO  drogue_cloud_tests::tools::http] Sending payload
[2021-09-16T16:58:37Z INFO  drogue_cloud_tests::context] Adding root certificate
[2021-09-16T16:58:37Z INFO  drogue_cloud_tests::tools::http] Sending payload
[2021-09-16T16:58:38Z INFO  drogue_cloud_tests::context] Adding root certificate
[2021-09-16T16:58:38Z INFO  drogue_cloud_tests::tools::http] Sending payload
[2021-09-16T16:58:39Z INFO  drogue_cloud_tests::context] Adding root certificate
[2021-09-16T16:58:39Z INFO  drogue_cloud_tests::tools::http] Sending payload
[2021-09-16T16:58:39Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 443, payload: 0x7f4fa4014f30, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4fa4015100 } }, data: MessageData { topic: "app/e61debbf-9225-48e8-867c-b43f28768079", payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 56, 53, 50, 101, 56, 99, 49, 99, 45, 54, 102, 55, 56, 45, 52, 55, 56, 53, 45, 97, 52, 49, 54, 45, 48, 97, 57, 100, 49, 100, 52, 54, 101, 102, 49, 97, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 101, 54, 49, 100, 101, 98, 98, 102, 37, 50, 68, 57, 50, 50, 53, 37, 50, 68, 52, 56, 101, 56, 37, 50, 68, 56, 54, 55, 99, 37, 50, 68, 98, 52, 51, 102, 50, 56, 55, 54, 56, 48, 55, 57, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 106, 115, 111, 110, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 119, 97, 114, 109, 117, 112, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 49, 45, 48, 57, 45, 49, 54, 84, 49, 54, 58, 53, 56, 58, 51, 57, 46, 54, 57, 49, 48, 52, 57, 56, 57, 48, 90, 34, 44, 34, 100, 97, 116, 97, 34, 58, 123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 101, 54, 49, 100, 101, 98, 98, 102, 45, 57, 50, 50, 53, 45, 52, 56, 101, 56, 45, 56, 54, 55, 99, 45, 98, 52, 51, 102, 50, 56, 55, 54, 56, 48, 55, 57, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 101, 54, 49, 100, 101, 98, 98, 102, 37, 50, 68, 57, 50, 50, 53, 37, 50, 68, 52, 56, 101, 56, 37, 50, 68, 56, 54, 55, 99, 37, 50, 68, 98, 52, 51, 102, 50, 56, 55, 54, 56, 48, 55, 57, 47, 100, 101, 118, 105, 99, 101, 49, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4fa4015100 } } } }
[2021-09-16T16:58:39Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: "app/e61debbf-9225-48e8-867c-b43f28768079", content_type: Some("application/cloudevents+json; charset=utf-8"), user_properties: {}, payload: "{\"specversion\":\"1.0\",\"id\":\"852e8c1c-6f78-4785-a416-0a9d1d46ef1a\",\"type\":\"io.drogue.event.v1\",\"source\":\"drogue://e61debbf%2D9225%2D48e8%2D867c%2Db43f28768079/device1\",\"datacontenttype\":\"application/json\",\"subject\":\"warmup\",\"time\":\"2021-09-16T16:58:39.691049890Z\",\"data\":{\"index\":3},\"instance\":\"drogue\",\"application\":\"e61debbf-9225-48e8-867c-b43f28768079\",\"device\":\"device1\",\"partitionkey\":\"e61debbf%2D9225%2D48e8%2D867c%2Db43f28768079/device1\"}" }
[2021-09-16T16:58:40Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2021-09-16T16:58:40Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2021-09-16T16:58:41Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 452, payload: 0x7f4fa40152f0, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4fa40154c0 } }, data: MessageData { topic: "app/e61debbf-9225-48e8-867c-b43f28768079", payload: [123, 34, 115, 112, 101, 99, 118, 101, 114, 115, 105, 111, 110, 34, 58, 34, 49, 46, 48, 34, 44, 34, 105, 100, 34, 58, 34, 48, 53, 56, 53, 102, 49, 52, 102, 45, 48, 57, 53, 56, 45, 52, 100, 51, 102, 45, 56, 49, 51, 97, 45, 99, 100, 56, 97, 57, 98, 98, 49, 99, 99, 54, 50, 34, 44, 34, 116, 121, 112, 101, 34, 58, 34, 105, 111, 46, 100, 114, 111, 103, 117, 101, 46, 101, 118, 101, 110, 116, 46, 118, 49, 34, 44, 34, 115, 111, 117, 114, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 58, 47, 47, 101, 54, 49, 100, 101, 98, 98, 102, 37, 50, 68, 57, 50, 50, 53, 37, 50, 68, 52, 56, 101, 56, 37, 50, 68, 56, 54, 55, 99, 37, 50, 68, 98, 52, 51, 102, 50, 56, 55, 54, 56, 48, 55, 57, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 97, 116, 97, 99, 111, 110, 116, 101, 110, 116, 116, 121, 112, 101, 34, 58, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 111, 99, 116, 101, 116, 45, 115, 116, 114, 101, 97, 109, 34, 44, 34, 115, 117, 98, 106, 101, 99, 116, 34, 58, 34, 116, 101, 108, 101, 109, 101, 116, 114, 121, 34, 44, 34, 116, 105, 109, 101, 34, 58, 34, 50, 48, 50, 49, 45, 48, 57, 45, 49, 54, 84, 49, 54, 58, 53, 56, 58, 52, 48, 46, 55, 48, 55, 52, 49, 54, 55, 50, 49, 90, 34, 44, 34, 100, 97, 116, 97, 95, 98, 97, 115, 101, 54, 52, 34, 58, 34, 34, 44, 34, 105, 110, 115, 116, 97, 110, 99, 101, 34, 58, 34, 100, 114, 111, 103, 117, 101, 34, 44, 34, 112, 97, 114, 116, 105, 116, 105, 111, 110, 107, 101, 121, 34, 58, 34, 101, 54, 49, 100, 101, 98, 98, 102, 37, 50, 68, 57, 50, 50, 53, 37, 50, 68, 52, 56, 101, 56, 37, 50, 68, 56, 54, 55, 99, 37, 50, 68, 98, 52, 51, 102, 50, 56, 55, 54, 56, 48, 55, 57, 47, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 100, 101, 118, 105, 99, 101, 34, 58, 34, 100, 101, 118, 105, 99, 101, 49, 34, 44, 34, 97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 34, 58, 34, 101, 54, 49, 100, 101, 98, 98, 102, 45, 57, 50, 50, 53, 45, 52, 56, 101, 56, 45, 56, 54, 55, 99, 45, 98, 52, 51, 102, 50, 56, 55, 54, 56, 48, 55, 57, 34, 125], props: Properties { cprops: MQTTProperties { count: 2, max_count: 10, length: 48, array: 0x7f4fa40154c0 } } } }
[2021-09-16T16:58:41Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: "app/e61debbf-9225-48e8-867c-b43f28768079", content_type: Some("application/cloudevents+json; charset=utf-8"), user_properties: {}, payload: "{\"specversion\":\"1.0\",\"id\":\"0585f14f-0958-4d3f-813a-cd8a9bb1cc62\",\"type\":\"io.drogue.event.v1\",\"source\":\"drogue://e61debbf%2D9225%2D48e8%2D867c%2Db43f28768079/device1\",\"datacontenttype\":\"application/octet-stream\",\"subject\":\"telemetry\",\"time\":\"2021-09-16T16:58:40.707416721Z\",\"data_base64\":\"\",\"instance\":\"drogue\",\"partitionkey\":\"e61debbf%2D9225%2D48e8%2D867c%2Db43f28768079/device1\",\"device\":\"device1\",\"application\":\"e61debbf-9225-48e8-867c-b43f28768079\"}" }
[2021-09-16T16:59:17Z INFO  drogue_cloud_tests::init::drg] Running: "drg" "whoami" "-t"
[2021-09-16T16:59:17Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(ExitStatus(0)), stdout: "eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIzYU1LVldvQkxIRkEyNk9wZW1QRGNGdmxodFM5MlF4TTdqVzY2SmFrNGEwIn0.eyJleHAiOjE2MzE4MTE4MTMsImlhdCI6MTYzMTgxMTUxMywiYXV0aF90aW1lIjoxNjMxODExNTExLCJqdGkiOiIyMzk0NWNiYS0zNDliLTRjNzUtYTI1Zi1lOTJiNmEwZTM3MGUiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiYWNjb3VudCJdLCJzdWIiOiIzM2FkNGE4Ni0yNTBjLTQwZWItYjE0Zi1mOWU2N2U2Mjk0OGIiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJzZXNzaW9uX3N0YXRlIjoiZjliZDYzMzgtZmY5Yi00NDcxLTlkMDYtZjMyYTdhOWE3YjIyIiwiYWNyIjoiMSIsImFsbG93ZWQtb3JpZ2lucyI6WyJodHRwOi8vY29uc29sZS4xNzIuMTguMC4yLm5pcC5pbyIsImh0dHA6Ly9sb2NhbGhvc3Q6KiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJhY2NvdW50Ijp7InJvbGVzIjpbIm1hbmFnZS1hY2NvdW50IiwibWFuYWdlLWFjY291bnQtbGlua3MiXX19LCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiZjliZDYzMzgtZmY5Yi00NDcxLTlkMDYtZjMyYTdhOWE3YjIyIiwiZW1haWxfdmVyaWZpZWQiOmZhbHNlLCJuYW1lIjoiU3lzdGVtIEFkbWluIiwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4iLCJnaXZlbl9uYW1lIjoiU3lzdGVtIiwiZmFtaWx5X25hbWUiOiJBZG1pbiIsImVtYWlsIjoidXNlckBleGFtcGxlLmNvbSJ9.qTqJ4W_4uRCf8msIPwY8Qnby7AlCUJuIfKNYHuWRc1KjdVgEYLZIMIBel3YLz2zcsXffYVLCDrf9Jk2NuRik_00JMkkop-wh40WTqPq_pSDRc2DYVy0znB3PpQdt4vnRL8vx30rSrioZNfd_jdXA65RwDBiBUWR59PYfZvzTD-HFeCiOfsOCCV5X7-yiaryxP1t1WSJoHW3kRzHJfWhXh_iYCZOjdorpFOKZjI4wWqurI9vP074UGhr2GzFE06VgV6IrPKzoAMrhq7qQrPwo4oFM5xnyA_HLdgmdPNgXbbc4x5WFmueN8NFWLK7v1fbCEWvpsWhhcQ0ROzc47iEdWg\n", stderr: "" })
thread 'main' panicked at 'Failed to get CoAP response: Resource temporarily unavailable (os error 11)', src/tests/coap/command.rs:131:31
[2021-09-16T16:59:17Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2021-09-16T16:59:17Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
[2021-09-16T16:59:17Z INFO  drogue_cloud_tests::resources::devices] Destroy application 'device1'
[2021-09-16T16:59:17Z INFO  drogue_cloud_tests::init::drg] Running: "drg" "delete" "device" "--app" "e61debbf-9225-48e8-867c-b43f28768079" "device1"
[2021-09-16T16:59:17Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(ExitStatus(0)), stdout: "Device device1 deleted.\n", stderr: "" })
[2021-09-16T16:59:17Z INFO  drogue_cloud_tests::resources::apps] Destroy application 'e61debbf-9225-48e8-867c-b43f28768079'
[2021-09-16T16:59:17Z INFO  drogue_cloud_tests::init::drg] Running: "drg" "delete" "app" "e61debbf-9225-48e8-867c-b43f28768079"
[2021-09-16T16:59:17Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(ExitStatus(0)), stdout: "App e61debbf-9225-48e8-867c-b43f28768079 deleted.\n", stderr: "" })

</pre>

</details>

## ❌ tests::coap::command::test_command::version_3

**Duration**: 49.438829087s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2021-09-16T16:59:19Z INFO  drogue_cloud_tests::init::drg] Endpoints: Object({
        "api": String(
            "http://api.172.18.0.2.nip.io",
        ),
        "console": String(
            "http://console.172.18.0.2.nip.io",
        ),
        "issuer_url": String(
            "http://sso.172.18.0.2.nip.io/auth/realms/drogue",
        ),
        "registry": Object({
            "url": String(
                "http://api.172.18.0.2.nip.io",
            ),
        }),
        "sso": String(
            "http://sso.172.18.0.2.nip.io",
        ),
    })
[2021-09-16T16:59:24Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJlMGZjNThhZS1mOTcxLTRiNzgtODJlYi1kOWU2MzA1NTY1YjUifQ.eyJleHAiOjE2MzE4MTMzNjMsImlhdCI6MTYzMTgxMTU2MywianRpIjoiMmZmMTcxNDctYzZjNi00ZTM1LTllM2ItNTEwNzhmZmUwNTA1IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMzYWQ0YTg2LTI1MGMtNDBlYi1iMTRmLWY5ZTY3ZTYyOTQ4YiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJzZXNzaW9uX3N0YXRlIjoiMGYzNDliNDEtZGU5MS00MWI4LTk1MDgtNmU1ZTc3ZDA2NTQ4Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjBmMzQ5YjQxLWRlOTEtNDFiOC05NTA4LTZlNWU3N2QwNjU0OCJ9.svJbNiy-hr0bJuf3qiBgqjpFJxG4kg8mBdudhFMWIYI
[2021-09-16T16:59:24Z INFO  drogue_cloud_tests::init::drg] Running: "drg" "context" "delete" "system-tests"
[2021-09-16T16:59:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(ExitStatus(0)), stdout: "", stderr: "" })
[2021-09-16T16:59:24Z INFO  drogue_cloud_tests::init::drg] Running: "drg" "login" "http://api.172.18.0.2.nip.io/" "-t" "eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJlMGZjNThhZS1mOTcxLTRiNzgtODJlYi1kOWU2MzA1NTY1YjUifQ.eyJleHAiOjE2MzE4MTMzNjMsImlhdCI6MTYzMTgxMTU2MywianRpIjoiMmZmMTcxNDctYzZjNi00ZTM1LTllM2ItNTEwNzhmZmUwNTA1IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMzYWQ0YTg2LTI1MGMtNDBlYi1iMTRmLWY5ZTY3ZTYyOTQ4YiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJzZXNzaW9uX3N0YXRlIjoiMGYzNDliNDEtZGU5MS00MWI4LTk1MDgtNmU1ZTc3ZDA2NTQ4Iiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjBmMzQ5YjQxLWRlOTEtNDFiOC05NTA4LTZlNWU3N2QwNjU0OCJ9.svJbNiy-hr0bJuf3qiBgqjpFJxG4kg8mBdudhFMWIYI" "--context" "system-tests"
[2021-09-16T16:59:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(ExitStatus(0)), stdout: "\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n", stderr: "" })
[2021-09-16T16:59:24Z INFO  drogue_cloud_tests::context] Adding root certificate
[2021-09-16T16:59:24Z INFO  drogue_cloud_tests::init::drg] Running: "drg" "whoami" "-t"
[2021-09-16T16:59:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(ExitStatus(0)), stdout: "eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIzYU1LVldvQkxIRkEyNk9wZW1QRGNGdmxodFM5MlF4TTdqVzY2SmFrNGEwIn0.eyJleHAiOjE2MzE4MTE4NjQsImlhdCI6MTYzMTgxMTU2NCwiYXV0aF90aW1lIjoxNjMxODExNTYxLCJqdGkiOiJmNzg5MDYzYi0wNjZhLTQ3MTMtYTcyNS1hMjgxZWE2ODA1MDQiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiYWNjb3VudCJdLCJzdWIiOiIzM2FkNGE4Ni0yNTBjLTQwZWItYjE0Zi1mOWU2N2U2Mjk0OGIiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJzZXNzaW9uX3N0YXRlIjoiMGYzNDliNDEtZGU5MS00MWI4LTk1MDgtNmU1ZTc3ZDA2NTQ4IiwiYWNyIjoiMSIsImFsbG93ZWQtb3JpZ2lucyI6WyJodHRwOi8vY29uc29sZS4xNzIuMTguMC4yLm5pcC5pbyIsImh0dHA6Ly9sb2NhbGhvc3Q6KiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJhY2NvdW50Ijp7InJvbGVzIjpbIm1hbmFnZS1hY2NvdW50IiwibWFuYWdlLWFjY291bnQtbGlua3MiXX19LCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMGYzNDliNDEtZGU5MS00MWI4LTk1MDgtNmU1ZTc3ZDA2NTQ4IiwiZW1haWxfdmVyaWZpZWQiOmZhbHNlLCJuYW1lIjoiU3lzdGVtIEFkbWluIiwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4iLCJnaXZlbl9uYW1lIjoiU3lzdGVtIiwiZmFtaWx5X25hbWUiOiJBZG1pbiIsImVtYWlsIjoidXNlckBleGFtcGxlLmNvbSJ9.BvGn5xAmBRQjpKrmXNJ7e4L6IbibRuOBuL4Xa6Uwq7llm4RMW-KyT8ISBy3lSScG18VWr8nDQhSbs6Pm9uM1veWljRGB433mjGYx_44xKodumRyi2Ax_vyaC10u7e-mgaRIWL0ZTWMY4K0gdtMuC5HiAhiUidsaI4rZ4bld5eZxKE_sWyBoSFiEK8IgRbqyoODfaEdteXZQp9T9aKI_Gfj5d53Mt0cwNkuaAXX0cB5ISaZ4ty073gcU87jNDsLmGlPHixvQx8AAJl8_OWZNZWTqVuM84L_NezVi5YgweIgDVKD9BW8PeWZIGLP1UyoIB8wQp9bvpt4tlhXfR0Ty7Qg\n", stderr: "" })
[2021-09-16T16:59:24Z INFO  drogue_cloud_tests::resources::apps] Create application: 378f086f-1787-4860-b9b2-9ae20f779c8c
[2021-09-16T16:59:24Z INFO  drogue_cloud_tests::init::drg] Running: "drg" "create" "app" "378f086f-1787-4860-b9b2-9ae20f779c8c"
[2021-09-16T16:59:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(ExitStatus(0)), stdout: "App 378f086f-1787-4860-b9b2-9ae20f779c8c created.\n", stderr: "" })
[2021-09-16T16:59:24Z INFO  drogue_cloud_tests::init::drg] Running: "drg" "get" "app" "378f086f-1787-4860-b9b2-9ae20f779c8c"
[2021-09-16T16:59:25Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(ExitStatus(0)), stdout: "{\n  \"metadata\": {\n    \"creationTimestamp\": \"2021-09-16T16:59:24.986159Z\",\n    \"finalizers\": [\n      \"kafka\"\n    ],\n    \"generation\": 1,\n    \"name\": \"378f086f-1787-4860-b9b2-9ae20f779c8c\",\n    \"resourceVersion\": \"3ecbae52-2c85-4132-b23d-0c5ee207f743\",\n    \"uid\": \"ffe9445d-d2e5-487a-b94d-ae723a85460c\"\n  },\n  \"status\": {\n    \"conditions\": [\n      {\n        \"lastTransitionTime\": \"2021-09-16T16:59:25.002768476Z\",\n        \"message\": \"Waiting to become ready: HasFinalizer\",\n        \"reason\": \"WaitingForReady\",\n        \"status\": \"False\",\n        \"type\": \"KafkaReady\"\n      },\n      {\n        \"lastTransitionTime\": \"2021-09-16T16:59:25.002783554Z\",\n        \"reason\": \"NonReadyConditions\",\n        \"status\": \"False\",\n        \"type\": \"Ready\"\n      }\n    ],\n    \"kafka\": {\n      \"conditions\": [\n        {\n          \"lastTransitionTime\": \"2021-09-16T16:59:25.002740162Z\",\n          \"status\": \"False\",\n          \"type\": \"HasFinalizer\"\n        },\n        {\n          \"lastTransitionTime\": \"2021-09-16T16:59:25.002742176Z\",\n          \"status\": \"Unknown\",\n          \"type\": \"CreateTopics\"\n        },\n        {\n          \"lastTransitionTime\": \"2021-09-16T16:59:25.002742767Z\",\n          \"status\": \"Unknown\",\n          \"type\": \"TopicsReady\"\n        },\n        {\n          \"lastTransitionTime\": \"2021-09-16T16:59:25.002743649Z\",\n          \"status\": \"Unknown\",\n          \"type\": \"CreateUser\"\n        },\n        {\n          \"lastTransitionTime\": \"2021-09-16T16:59:25.002744070Z\",\n          \"status\": \"Unknown\",\n          \"type\": \"UserReady\"\n        },\n        {\n          \"lastTransitionTime\": \"2021-09-16T16:59:25.002746585Z\",\n          \"reason\": \"Progressing\",\n          \"status\": \"False\",\n          \"type\": \"Reconciled\"\n        }\n      ],\n      \"observedGeneration\": 0\n    }\n  }\n}", stderr: "" })
[2021-09-16T16:59:26Z INFO  drogue_cloud_tests::init::drg] Running: "drg" "get" "app" "378f086f-1787-4860-b9b2-9ae20f779c8c"
[2021-09-16T16:59:26Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(ExitStatus(0)), stdout: "{\n  \"metadata\": {\n    \"creationTimestamp\": \"2021-09-16T16:59:24.986159Z\",\n    \"finalizers\": [\n      \"kafka\"\n    ],\n    \"generation\": 8,\n    \"name\": \"378f086f-1787-4860-b9b2-9ae20f779c8c\",\n    \"resourceVersion\": \"99a55b41-c016-4e27-85a2-4da34726a310\",\n    \"uid\": \"ffe9445d-d2e5-487a-b94d-ae723a85460c\"\n  },\n  \"status\": {\n    \"conditions\": [\n      {\n        \"lastTransitionTime\": \"2021-09-16T16:59:25.646439860Z\",\n        \"status\": \"True\",\n        \"type\": \"KafkaReady\"\n      },\n      {\n        \"lastTransitionTime\": \"2021-09-16T16:59:25.646474624Z\",\n        \"status\": \"True\",\n        \"type\": \"Ready\"\n      }\n    ],\n    \"kafka\": {\n      \"conditions\": [\n        {\n          \"lastTransitionTime\": \"2021-09-16T16:59:25.028840915Z\",\n          \"status\": \"True\",\n          \"type\": \"HasFinalizer\"\n        },\n        {\n          \"lastTransitionTime\": \"2021-09-16T16:59:25.037630705Z\",\n          \"status\": \"True\",\n          \"type\": \"CreateTopics\"\n        },\n        {\n          \"lastTransitionTime\": \"2021-09-16T16:59:25.165271067Z\",\n          \"status\": \"True\",\n          \"type\": \"TopicsReady\"\n        },\n        {\n          \"lastTransitionTime\": \"2021-09-16T16:59:25.178760802Z\",\n          \"status\": \"True\",\n          \"type\": \"CreateUser\"\n        },\n        {\n          \"lastTransitionTime\": \"2021-09-16T16:59:25.646411947Z\",\n          \"status\": \"True\",\n          \"type\": \"UserReady\"\n        },\n        {\n          \"lastTransitionTime\": \"2021-09-16T16:59:25.646413721Z\",\n          \"reason\": \"AsExpected\",\n          \"status\": \"True\",\n          \"type\": \"Reconciled\"\n        }\n      ],\n      \"observedGeneration\": 7,\n      \"user\": {\n        \"mechanism\": \"SCRAM-SHA-512\",\n        \"password\": \"XUq74rFPjpT2\",\n        \"username\": \"user-378f086f-1787-4860-b9b2-9ae20f779c8c\"\n      }\n    }\n  }\n}", stderr: "" })
[2021-09-16T16:59:26Z INFO  drogue_cloud_tests::init::drg] Running: "drg" "get" "app" "378f086f-1787-4860-b9b2-9ae20f779c8c"
[2021-09-16T16:59:26Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(ExitStatus(0)), stdout: "{\n  \"metadata\": {\n    \"creationTimestamp\": \"2021-09-16T16:59:24.986159Z\",\n    \"finalizers\": [\n      \"kafka\"\n    ],\n    \"generation\": 8,\n    \"name\": \"378f086f-1787-4860-b9b2-9ae20f779c8c\",\n    \"resourceVersion\": \"99a55b41-c016-4e27-85a2-4da34726a310\",\n    \"uid\": \"ffe9445d-d2e5-487a-b94d-ae723a85460c\"\n  },\n  \"status\": {\n    \"conditions\": [\n      {\n        \"lastTransitionTime\": \"2021-09-16T16:59:25.646439860Z\",\n        \"status\": \"True\",\n        \"type\": \"KafkaReady\"\n      },\n      {\n        \"lastTransitionTime\": \"2021-09-16T16:59:25.646474624Z\",\n        \"status\": \"True\",\n        \"type\": \"Ready\"\n      }\n    ],\n    \"kafka\": {\n      \"conditions\": [\n        {\n          \"lastTransitionTime\": \"2021-09-16T16:59:25.028840915Z\",\n          \"status\": \"True\",\n          \"type\": \"HasFinalizer\"\n        },\n        {\n          \"lastTransitionTime\": \"2021-09-16T16:59:25.037630705Z\",\n          \"status\": \"True\",\n          \"type\": \"CreateTopics\"\n        },\n        {\n          \"lastTransitionTime\": \"2021-09-16T16:59:25.165271067Z\",\n          \"status\": \"True\",\n          \"type\": \"TopicsReady\"\n        },\n        {\n          \"lastTransitionTime\": \"2021-09-16T16:59:25.178760802Z\",\n          \"status\": \"True\",\n          \"type\": \"CreateUser\"\n        },\n        {\n          \"lastTransitionTime\": \"2021-09-16T16:59:25.646411947Z\",\n          \"status\": \"True\",\n          \"type\": \"UserReady\"\n        },\n        {\n          \"lastTransitionTime\": \"2021-09-16T16:59:25.646413721Z\",\n          \"reason\": \"AsExpected\",\n          \"status\": \"True\",\n          \"type\": \"Reconciled\"\n        }\n      ],\n      \"observedGeneration\": 7,\n      \"user\": {\n        \"mechanism\": \"SCRAM-SHA-512\",\n        \"password\": \"XUq74rFPjpT2\",\n        \"username\": \"user-378f086f-1787-4860-b9b2-9ae20f779c8c\"\n      }\n    }\n  }\n}", stderr: "" })
[2021-09-16T16:59:26Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2021-09-16T16:59:26Z INFO  drogue_cloud_tests::init::drg] Running: "drg" "create" "device" "--app" "378f086f-1787-4860-b9b2-9ae20f779c8c" "device1" "--spec" "{\"credentials\":{\"credentials\":[{\"pass\":\"foo\"}]}}"
[2021-09-16T16:59:26Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(ExitStatus(0)), stdout: "Device device1 created.\n", stderr: "" })
[2021-09-16T16:59:26Z INFO  drogue_cloud_tests::tests::coap::command] Sending payload
[2021-09-16T16:59:26Z INFO  drogue_cloud_tests::tests::coap::command] MQTT integration URL: ssl://mqtt-integration.172.18.0.2.nip.io:30002
[2021-09-16T16:59:26Z INFO  drogue_cloud_tests::init::drg] Running: "drg" "whoami" "-t"
[2021-09-16T16:59:26Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(ExitStatus(0)), stdout: "eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIzYU1LVldvQkxIRkEyNk9wZW1QRGNGdmxodFM5MlF4TTdqVzY2SmFrNGEwIn0.eyJleHAiOjE2MzE4MTE4NjQsImlhdCI6MTYzMTgxMTU2NCwiYXV0aF90aW1lIjoxNjMxODExNTYxLCJqdGkiOiJmNzg5MDYzYi0wNjZhLTQ3MTMtYTcyNS1hMjgxZWE2ODA1MDQiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiYWNjb3VudCJdLCJzdWIiOiIzM2FkNGE4Ni0yNTBjLTQwZWItYjE0Zi1mOWU2N2U2Mjk0OGIiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJzZXNzaW9uX3N0YXRlIjoiMGYzNDliNDEtZGU5MS00MWI4LTk1MDgtNmU1ZTc3ZDA2NTQ4IiwiYWNyIjoiMSIsImFsbG93ZWQtb3JpZ2lucyI6WyJodHRwOi8vY29uc29sZS4xNzIuMTguMC4yLm5pcC5pbyIsImh0dHA6Ly9sb2NhbGhvc3Q6KiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJhY2NvdW50Ijp7InJvbGVzIjpbIm1hbmFnZS1hY2NvdW50IiwibWFuYWdlLWFjY291bnQtbGlua3MiXX19LCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMGYzNDliNDEtZGU5MS00MWI4LTk1MDgtNmU1ZTc3ZDA2NTQ4IiwiZW1haWxfdmVyaWZpZWQiOmZhbHNlLCJuYW1lIjoiU3lzdGVtIEFkbWluIiwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4iLCJnaXZlbl9uYW1lIjoiU3lzdGVtIiwiZmFtaWx5X25hbWUiOiJBZG1pbiIsImVtYWlsIjoidXNlckBleGFtcGxlLmNvbSJ9.BvGn5xAmBRQjpKrmXNJ7e4L6IbibRuOBuL4Xa6Uwq7llm4RMW-KyT8ISBy3lSScG18VWr8nDQhSbs6Pm9uM1veWljRGB433mjGYx_44xKodumRyi2Ax_vyaC10u7e-mgaRIWL0ZTWMY4K0gdtMuC5HiAhiUidsaI4rZ4bld5eZxKE_sWyBoSFiEK8IgRbqyoODfaEdteXZQp9T9aKI_Gfj5d53Mt0cwNkuaAXX0cB5ISaZ4ty073gcU87jNDsLmGlPHixvQx8AAJl8_OWZNZWTqVuM84L_NezVi5YgweIgDVKD9BW8PeWZIGLP1UyoIB8wQp9bvpt4tlhXfR0Ty7Qg\n", stderr: "" })
[2021-09-16T16:59:26Z INFO  drogue_cloud_tests::context] Adding root certificate
[2021-09-16T16:59:26Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Starting message stream...
[2021-09-16T16:59:26Z INFO  drogue_cloud_tests::tools::http] Sending payload
[2021-09-16T16:59:27Z INFO  drogue_cloud_tests::context] Adding root certificate
[2021-09-16T16:59:27Z INFO  drogue_cloud_tests::tools::http] Sending payload
[2021-09-16T16:59:28Z INFO  drogue_cloud_tests::context] Adding root certificate
[2021-09-16T16:59:28Z INFO  drogue_cloud_tests::tools::http] Sending payload
[2021-09-16T16:59:29Z INFO  drogue_cloud_tests::context] Adding root certificate
[2021-09-16T16:59:29Z INFO  drogue_cloud_tests::tools::http] Sending payload
[2021-09-16T16:59:29Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 11, payload: 0x7f4fa0016090, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 11, max_count: 20, length: 400, array: 0x5593627cd460 } }, data: MessageData { topic: "app/378f086f-1787-4860-b9b2-9ae20f779c8c", payload: [123, 34, 105, 110, 100, 101, 120, 34, 58, 51, 125], props: Properties { cprops: MQTTProperties { count: 11, max_count: 20, length: 400, array: 0x5593627cd460 } } } }
[2021-09-16T16:59:29Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: "app/378f086f-1787-4860-b9b2-9ae20f779c8c", content_type: Some("application/json"), user_properties: {"specversion": "1.0", "application": "378f086f-1787-4860-b9b2-9ae20f779c8c", "id": "a2762b75-3185-4167-9ab0-7bcc7fe108a0", "time": "2021-09-16T16:59:29.680968005+00:00", "partitionkey": "378f086f%2D1787%2D4860%2Db9b2%2D9ae20f779c8c/device1", "instance": "drogue", "source": "drogue://378f086f%2D1787%2D4860%2Db9b2%2D9ae20f779c8c/device1", "device": "device1", "subject": "warmup", "type": "io.drogue.event.v1"}, payload: "{\"index\":3}" }
[2021-09-16T16:59:30Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received first message after 3 attempts
[2021-09-16T16:59:30Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received most recent messages ... warmed up!
[2021-09-16T16:59:31Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Raw message: Message { cmsg: MQTTAsync_message { struct_id: [77, 81, 84, 77], struct_version: 1, payloadlen: 0, payload: 0x1, qos: 0, retained: 0, dup: 0, msgid: 0, properties: MQTTProperties { count: 11, max_count: 20, length: 411, array: 0x5593626b8a10 } }, data: MessageData { topic: "app/378f086f-1787-4860-b9b2-9ae20f779c8c", payload: [], props: Properties { cprops: MQTTProperties { count: 11, max_count: 20, length: 411, array: 0x5593626b8a10 } } } }
[2021-09-16T16:59:31Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Received: MqttMessage { topic: "app/378f086f-1787-4860-b9b2-9ae20f779c8c", content_type: Some("application/octet-stream"), user_properties: {"id": "a5bd8660-c499-421e-99fd-56e35ba3bfc3", "time": "2021-09-16T16:59:30.697254149+00:00", "subject": "telemetry", "source": "drogue://378f086f%2D1787%2D4860%2Db9b2%2D9ae20f779c8c/device1", "partitionkey": "378f086f%2D1787%2D4860%2Db9b2%2D9ae20f779c8c/device1", "instance": "drogue", "device": "device1", "application": "378f086f-1787-4860-b9b2-9ae20f779c8c", "specversion": "1.0", "type": "io.drogue.event.v1"}, payload: "" }
[2021-09-16T17:00:06Z INFO  drogue_cloud_tests::init::drg] Running: "drg" "whoami" "-t"
[2021-09-16T17:00:06Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(ExitStatus(0)), stdout: "eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIzYU1LVldvQkxIRkEyNk9wZW1QRGNGdmxodFM5MlF4TTdqVzY2SmFrNGEwIn0.eyJleHAiOjE2MzE4MTE4NjQsImlhdCI6MTYzMTgxMTU2NCwiYXV0aF90aW1lIjoxNjMxODExNTYxLCJqdGkiOiJmNzg5MDYzYi0wNjZhLTQ3MTMtYTcyNS1hMjgxZWE2ODA1MDQiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsImF1ZCI6WyJkcm9ndWUiLCJyZWFsbS1tYW5hZ2VtZW50IiwiYWNjb3VudCJdLCJzdWIiOiIzM2FkNGE4Ni0yNTBjLTQwZWItYjE0Zi1mOWU2N2U2Mjk0OGIiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJzZXNzaW9uX3N0YXRlIjoiMGYzNDliNDEtZGU5MS00MWI4LTk1MDgtNmU1ZTc3ZDA2NTQ4IiwiYWNyIjoiMSIsImFsbG93ZWQtb3JpZ2lucyI6WyJodHRwOi8vY29uc29sZS4xNzIuMTguMC4yLm5pcC5pbyIsImh0dHA6Ly9sb2NhbGhvc3Q6KiJdLCJyZWFsbV9hY2Nlc3MiOnsicm9sZXMiOlsiZHJvZ3VlLXVzZXIiLCJkcm9ndWUtYWRtaW4iLCJvZmZsaW5lX2FjY2VzcyJdfSwicmVzb3VyY2VfYWNjZXNzIjp7InJlYWxtLW1hbmFnZW1lbnQiOnsicm9sZXMiOlsibWFuYWdlLXVzZXJzIl19LCJhY2NvdW50Ijp7InJvbGVzIjpbIm1hbmFnZS1hY2NvdW50IiwibWFuYWdlLWFjY291bnQtbGlua3MiXX19LCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMGYzNDliNDEtZGU5MS00MWI4LTk1MDgtNmU1ZTc3ZDA2NTQ4IiwiZW1haWxfdmVyaWZpZWQiOmZhbHNlLCJuYW1lIjoiU3lzdGVtIEFkbWluIiwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4iLCJnaXZlbl9uYW1lIjoiU3lzdGVtIiwiZmFtaWx5X25hbWUiOiJBZG1pbiIsImVtYWlsIjoidXNlckBleGFtcGxlLmNvbSJ9.BvGn5xAmBRQjpKrmXNJ7e4L6IbibRuOBuL4Xa6Uwq7llm4RMW-KyT8ISBy3lSScG18VWr8nDQhSbs6Pm9uM1veWljRGB433mjGYx_44xKodumRyi2Ax_vyaC10u7e-mgaRIWL0ZTWMY4K0gdtMuC5HiAhiUidsaI4rZ4bld5eZxKE_sWyBoSFiEK8IgRbqyoODfaEdteXZQp9T9aKI_Gfj5d53Mt0cwNkuaAXX0cB5ISaZ4ty073gcU87jNDsLmGlPHixvQx8AAJl8_OWZNZWTqVuM84L_NezVi5YgweIgDVKD9BW8PeWZIGLP1UyoIB8wQp9bvpt4tlhXfR0Ty7Qg\n", stderr: "" })
thread 'main' panicked at 'Failed to get CoAP response: Resource temporarily unavailable (os error 11)', src/tests/coap/command.rs:131:31
[2021-09-16T17:00:06Z INFO  drogue_cloud_tests::tools::mqtt::receiver] Dropping MQTT receiver
[2021-09-16T17:00:06Z ERROR paho_mqtt::async_client] Stream error: TrySendError { kind: Disconnected }
[2021-09-16T17:00:06Z INFO  drogue_cloud_tests::resources::devices] Destroy application 'device1'
[2021-09-16T17:00:06Z INFO  drogue_cloud_tests::init::drg] Running: "drg" "delete" "device" "--app" "378f086f-1787-4860-b9b2-9ae20f779c8c" "device1"
[2021-09-16T17:00:06Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(ExitStatus(0)), stdout: "Device device1 deleted.\n", stderr: "" })
[2021-09-16T17:00:06Z INFO  drogue_cloud_tests::resources::apps] Destroy application '378f086f-1787-4860-b9b2-9ae20f779c8c'
[2021-09-16T17:00:06Z INFO  drogue_cloud_tests::init::drg] Running: "drg" "delete" "app" "378f086f-1787-4860-b9b2-9ae20f779c8c"
[2021-09-16T17:00:06Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(ExitStatus(0)), stdout: "App 378f086f-1787-4860-b9b2-9ae20f779c8c deleted.\n", stderr: "" })

</pre>

</details>

## ✅ tests::coap::telemetry::test_send_telemetry_pass::version_1

**Duration**: 15.708868133s

## ✅ tests::coap::telemetry::test_send_telemetry_pass::version_2

**Duration**: 14.427709135s

## ✅ tests::coap::telemetry::test_send_telemetry_pass::version_3

**Duration**: 15.911576932s

## ✅ tests::coap::telemetry::test_send_telemetry_user::version_1

**Duration**: 16.042218623s

## ✅ tests::coap::telemetry::test_send_telemetry_user::version_2

**Duration**: 16.727744254s

## ✅ tests::coap::telemetry::test_send_telemetry_user::version_3

**Duration**: 15.991098322s

## ✅ tests::coap::telemetry::test_send_telemetry_user_alias::version_1

**Duration**: 16.054731651s

## ✅ tests::coap::telemetry::test_send_telemetry_user_alias::version_2

**Duration**: 15.992072412s

## ✅ tests::coap::telemetry::test_send_telemetry_user_alias::version_3

**Duration**: 16.314299845s

## ✅ tests::coap::telemetry::test_send_telemetry_user_only::version_1

**Duration**: 15.747470268s

## ✅ tests::coap::telemetry::test_send_telemetry_user_only::version_2

**Duration**: 15.02462007s

## ✅ tests::coap::telemetry::test_send_telemetry_user_only::version_3

**Duration**: 14.95347751s

## ✅ tests::drg::test_drg_version

**Duration**: 7.711963148s

## ✅ tests::http::command::test_command::version_1

**Duration**: 15.601000705s

## ✅ tests::http::command::test_command::version_2

**Duration**: 15.016597929s

## ✅ tests::http::command::test_command::version_3

**Duration**: 14.202050376s

## ✅ tests::http::telemetry::test_send_telemetry_pass::version_1

**Duration**: 15.138767243s

## ✅ tests::http::telemetry::test_send_telemetry_pass::version_2

**Duration**: 14.68890072s

## ✅ tests::http::telemetry::test_send_telemetry_pass::version_3

**Duration**: 13.832923872s

## ✅ tests::http::telemetry::test_send_telemetry_user::version_1

**Duration**: 14.514310122s

## ✅ tests::http::telemetry::test_send_telemetry_user::version_2

**Duration**: 14.937848171s

## ✅ tests::http::telemetry::test_send_telemetry_user::version_3

**Duration**: 15.795046496s

## ✅ tests::http::telemetry::test_send_telemetry_user_alias::version_1

**Duration**: 15.308903908s

## ✅ tests::http::telemetry::test_send_telemetry_user_alias::version_2

**Duration**: 13.889685023s

## ✅ tests::http::telemetry::test_send_telemetry_user_alias::version_3

**Duration**: 15.124508139s

## ✅ tests::http::telemetry::test_send_telemetry_user_only::version_1

**Duration**: 13.964063099s

## ✅ tests::http::telemetry::test_send_telemetry_user_only::version_2

**Duration**: 15.744138879s

## ✅ tests::http::telemetry::test_send_telemetry_user_only::version_3

**Duration**: 14.28325762s

## ✅ tests::mqtt::command::test_command::version_1

**Duration**: 9.926948469s

## ✅ tests::mqtt::command::test_command::version_2

**Duration**: 9.925403844s

## ✅ tests::mqtt::command::test_command::version_3

**Duration**: 9.943189555s

## ✅ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::integration_version_1

**Duration**: 14.455040995s

## ✅ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::integration_version_2

**Duration**: 13.988596592s

## ✅ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::integration_version_3

**Duration**: 15.7357431s

## ✅ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::integration_version_1

**Duration**: 15.2976436s

## ✅ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::integration_version_2

**Duration**: 13.888850668s

## ✅ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::integration_version_3

**Duration**: 14.101305073s

## ✅ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::integration_version_1

**Duration**: 15.886927965s

## ✅ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::integration_version_2

**Duration**: 14.228930273s

## ✅ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::integration_version_3

**Duration**: 15.572653594s

## ❌ tests::registry::test_registry_create_and_delete

**Duration**: 8.839058013s

<details>

<summary>Test output</summary>

<pre>
[2021-09-16T17:09:50Z INFO  drogue_cloud_tests::init::drg] Endpoints: Object({
        "api": String(
            "http://api.172.18.0.2.nip.io",
        ),
        "console": String(
            "http://console.172.18.0.2.nip.io",
        ),
        "issuer_url": String(
            "http://sso.172.18.0.2.nip.io/auth/realms/drogue",
        ),
        "registry": Object({
            "url": String(
                "http://api.172.18.0.2.nip.io",
            ),
        }),
        "sso": String(
            "http://sso.172.18.0.2.nip.io",
        ),
    })
[2021-09-16T17:09:55Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJlMGZjNThhZS1mOTcxLTRiNzgtODJlYi1kOWU2MzA1NTY1YjUifQ.eyJleHAiOjE2MzE4MTM5OTUsImlhdCI6MTYzMTgxMjE5NSwianRpIjoiOGY4NzExZTItNzhkOC00MTRjLThjN2MtMTBjNzkzNGYxZGFlIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMzYWQ0YTg2LTI1MGMtNDBlYi1iMTRmLWY5ZTY3ZTYyOTQ4YiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJzZXNzaW9uX3N0YXRlIjoiNGM3NjQ1NmYtOGU2Ni00MjU1LTg0ZDEtNjMwM2YxNWViNjcwIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjRjNzY0NTZmLThlNjYtNDI1NS04NGQxLTYzMDNmMTVlYjY3MCJ9.x8xTupG4MLgSA_f2jxPnUTJ-YRzLefpmD_lPQCZU390
[2021-09-16T17:09:55Z INFO  drogue_cloud_tests::init::drg] Running: "drg" "context" "delete" "system-tests"
[2021-09-16T17:09:55Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(ExitStatus(0)), stdout: "", stderr: "" })
[2021-09-16T17:09:55Z INFO  drogue_cloud_tests::init::drg] Running: "drg" "login" "http://api.172.18.0.2.nip.io/" "-t" "eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJlMGZjNThhZS1mOTcxLTRiNzgtODJlYi1kOWU2MzA1NTY1YjUifQ.eyJleHAiOjE2MzE4MTM5OTUsImlhdCI6MTYzMTgxMjE5NSwianRpIjoiOGY4NzExZTItNzhkOC00MTRjLThjN2MtMTBjNzkzNGYxZGFlIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9hdXRoL3JlYWxtcy9kcm9ndWUiLCJhdWQiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL2F1dGgvcmVhbG1zL2Ryb2d1ZSIsInN1YiI6IjMzYWQ0YTg2LTI1MGMtNDBlYi1iMTRmLWY5ZTY3ZTYyOTQ4YiIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJkcm9ndWUiLCJzZXNzaW9uX3N0YXRlIjoiNGM3NjQ1NmYtOGU2Ni00MjU1LTg0ZDEtNjMwM2YxNWViNjcwIiwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjRjNzY0NTZmLThlNjYtNDI1NS04NGQxLTYzMDNmMTVlYjY3MCJ9.x8xTupG4MLgSA_f2jxPnUTJ-YRzLefpmD_lPQCZU390" "--context" "system-tests"
[2021-09-16T17:09:55Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(ExitStatus(0)), stdout: "\nSuccessfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSwitched active context to: system-tests\n", stderr: "" })
[2021-09-16T17:09:56Z INFO  drogue_cloud_tests::resources::apps] Create application: 7b07b4e3-169c-499a-bc53-f5bbaf509b10
[2021-09-16T17:09:56Z INFO  drogue_cloud_tests::init::drg] Running: "drg" "create" "app" "7b07b4e3-169c-499a-bc53-f5bbaf509b10"
[2021-09-16T17:09:56Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(ExitStatus(0)), stdout: "App 7b07b4e3-169c-499a-bc53-f5bbaf509b10 created.\n", stderr: "" })
[2021-09-16T17:09:56Z INFO  drogue_cloud_tests::init::drg] Running: "drg" "get" "app" "7b07b4e3-169c-499a-bc53-f5bbaf509b10"
[2021-09-16T17:09:56Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(ExitStatus(0)), stdout: "{\n  \"metadata\": {\n    \"creationTimestamp\": \"2021-09-16T17:09:56.218190Z\",\n    \"generation\": 1,\n    \"name\": \"7b07b4e3-169c-499a-bc53-f5bbaf509b10\",\n    \"resourceVersion\": \"08b3f761-2f0f-452a-95b5-8b45a7d81a41\",\n    \"uid\": \"1dcac091-e066-44c1-ba68-c87fc7a66dde\"\n  },\n  \"status\": {\n    \"conditions\": [\n      {\n        \"lastTransitionTime\": \"2021-09-16T17:09:56.233376299Z\",\n        \"status\": \"True\",\n        \"type\": \"Ready\"\n      }\n    ]\n  }\n}", stderr: "" })
[2021-09-16T17:09:57Z INFO  drogue_cloud_tests::init::drg] Running: "drg" "get" "app" "7b07b4e3-169c-499a-bc53-f5bbaf509b10"
[2021-09-16T17:09:57Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(ExitStatus(0)), stdout: "{\n  \"metadata\": {\n    \"creationTimestamp\": \"2021-09-16T17:09:56.218190Z\",\n    \"finalizers\": [\n      \"kafka\"\n    ],\n    \"generation\": 10,\n    \"name\": \"7b07b4e3-169c-499a-bc53-f5bbaf509b10\",\n    \"resourceVersion\": \"37578ec1-a442-4458-bb68-40a8d9414520\",\n    \"uid\": \"1dcac091-e066-44c1-ba68-c87fc7a66dde\"\n  },\n  \"status\": {\n    \"conditions\": [\n      {\n        \"lastTransitionTime\": \"2021-09-16T17:09:56.595125437Z\",\n        \"status\": \"True\",\n        \"type\": \"Ready\"\n      },\n      {\n        \"lastTransitionTime\": \"2021-09-16T17:09:56.595090982Z\",\n        \"status\": \"True\",\n        \"type\": \"KafkaReady\"\n      }\n    ],\n    \"kafka\": {\n      \"conditions\": [\n        {\n          \"lastTransitionTime\": \"2021-09-16T17:09:56.278952107Z\",\n          \"status\": \"True\",\n          \"type\": \"HasFinalizer\"\n        },\n        {\n          \"lastTransitionTime\": \"2021-09-16T17:09:56.284792153Z\",\n          \"status\": \"True\",\n          \"type\": \"CreateTopics\"\n        },\n        {\n          \"lastTransitionTime\": \"2021-09-16T17:09:56.370056233Z\",\n          \"status\": \"True\",\n          \"type\": \"TopicsReady\"\n        },\n        {\n          \"lastTransitionTime\": \"2021-09-16T17:09:56.385727672Z\",\n          \"status\": \"True\",\n          \"type\": \"CreateUser\"\n        },\n        {\n          \"lastTransitionTime\": \"2021-09-16T17:09:56.595062618Z\",\n          \"status\": \"True\",\n          \"type\": \"UserReady\"\n        },\n        {\n          \"lastTransitionTime\": \"2021-09-16T17:09:56.595064152Z\",\n          \"reason\": \"AsExpected\",\n          \"status\": \"True\",\n          \"type\": \"Reconciled\"\n        }\n      ],\n      \"observedGeneration\": 9,\n      \"user\": {\n        \"mechanism\": \"SCRAM-SHA-512\",\n        \"password\": \"gqPp3ytTD7ol\",\n        \"username\": \"user-7b07b4e3-169c-499a-bc53-f5bbaf509b10\"\n      }\n    }\n  }\n}", stderr: "" })
[2021-09-16T17:09:57Z INFO  drogue_cloud_tests::init::drg] Running: "drg" "get" "app" "7b07b4e3-169c-499a-bc53-f5bbaf509b10"
[2021-09-16T17:09:57Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(ExitStatus(0)), stdout: "{\n  \"metadata\": {\n    \"creationTimestamp\": \"2021-09-16T17:09:56.218190Z\",\n    \"finalizers\": [\n      \"kafka\"\n    ],\n    \"generation\": 10,\n    \"name\": \"7b07b4e3-169c-499a-bc53-f5bbaf509b10\",\n    \"resourceVersion\": \"37578ec1-a442-4458-bb68-40a8d9414520\",\n    \"uid\": \"1dcac091-e066-44c1-ba68-c87fc7a66dde\"\n  },\n  \"status\": {\n    \"conditions\": [\n      {\n        \"lastTransitionTime\": \"2021-09-16T17:09:56.595125437Z\",\n        \"status\": \"True\",\n        \"type\": \"Ready\"\n      },\n      {\n        \"lastTransitionTime\": \"2021-09-16T17:09:56.595090982Z\",\n        \"status\": \"True\",\n        \"type\": \"KafkaReady\"\n      }\n    ],\n    \"kafka\": {\n      \"conditions\": [\n        {\n          \"lastTransitionTime\": \"2021-09-16T17:09:56.278952107Z\",\n          \"status\": \"True\",\n          \"type\": \"HasFinalizer\"\n        },\n        {\n          \"lastTransitionTime\": \"2021-09-16T17:09:56.284792153Z\",\n          \"status\": \"True\",\n          \"type\": \"CreateTopics\"\n        },\n        {\n          \"lastTransitionTime\": \"2021-09-16T17:09:56.370056233Z\",\n          \"status\": \"True\",\n          \"type\": \"TopicsReady\"\n        },\n        {\n          \"lastTransitionTime\": \"2021-09-16T17:09:56.385727672Z\",\n          \"status\": \"True\",\n          \"type\": \"CreateUser\"\n        },\n        {\n          \"lastTransitionTime\": \"2021-09-16T17:09:56.595062618Z\",\n          \"status\": \"True\",\n          \"type\": \"UserReady\"\n        },\n        {\n          \"lastTransitionTime\": \"2021-09-16T17:09:56.595064152Z\",\n          \"reason\": \"AsExpected\",\n          \"status\": \"True\",\n          \"type\": \"Reconciled\"\n        }\n      ],\n      \"observedGeneration\": 9,\n      \"user\": {\n        \"mechanism\": \"SCRAM-SHA-512\",\n        \"password\": \"gqPp3ytTD7ol\",\n        \"username\": \"user-7b07b4e3-169c-499a-bc53-f5bbaf509b10\"\n      }\n    }\n  }\n}", stderr: "" })
[2021-09-16T17:09:57Z INFO  drogue_cloud_tests::init::drg] Running: "drg" "delete" "app" "7b07b4e3-169c-499a-bc53-f5bbaf509b10"
[2021-09-16T17:09:57Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(ExitStatus(0)), stdout: "App 7b07b4e3-169c-499a-bc53-f5bbaf509b10 deleted.\n", stderr: "" })
[2021-09-16T17:09:57Z INFO  drogue_cloud_tests::init::drg] Running: "drg" "delete" "app" "7b07b4e3-169c-499a-bc53-f5bbaf509b10"
[2021-09-16T17:09:57Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(ExitStatus(0)), stdout: "App 7b07b4e3-169c-499a-bc53-f5bbaf509b10 deleted.\n", stderr: "" })
thread 'main' panicked at 'assertion failed: r.is_err()', src/tests/registry/mod.rs:53:5
[2021-09-16T17:09:57Z INFO  drogue_cloud_tests::resources::apps] Destroy application '7b07b4e3-169c-499a-bc53-f5bbaf509b10'
[2021-09-16T17:09:57Z INFO  drogue_cloud_tests::init::drg] Running: "drg" "delete" "app" "7b07b4e3-169c-499a-bc53-f5bbaf509b10"
[2021-09-16T17:09:57Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(ExitStatus(512)), stdout: "ERROR [drg::util] Error : 404 Not Found\n", stderr: "" })
[2021-09-16T17:09:57Z ERROR drogue_cloud_tests::resources::apps] Failed to delete: Command was not successful - rc = exit status: 2

</pre>

</details>

## ✅ tests::registry::test_registry_create_app

**Duration**: 8.657587018s

## ✅ tests::registry::test_registry_create_app_and_device

**Duration**: 8.901203137s

## ✅ tests::registry::test_registry_create_app_and_device_twice

**Duration**: 8.577236988s

## ✅ tests::registry::test_registry_create_app_twice

**Duration**: 8.715389674s

## ✅ tests::registry::test_registry_device_create_and_delete

**Duration**: 8.888247504s
