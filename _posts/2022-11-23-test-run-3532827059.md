---
title: "❌ Test Result 2022-11-23 15:11 UTC"
date: 2022-11-23T15:11:11.200178811+00:00
categories: test-report
excerpt_separator: <!--more-->
---


| | Total | Passed | Failed | Ignored | Filtered | Duration |
| --- | ----- | -------| ------ | ------- | -------- | -------- |
| ❌ | 148 | 10 | 138 | 0 | 0 | 20m 23s |


**Git:** `https://github.com/drogue-iot/drogue-cloud` @ `refs/heads/refactor/drop_whoami`

    Commit: 699dd200bcd9ba053872df2e2b3d172b1b024b0a
    Author: jbtrystram <jbtrystram@redhat.com>
    Date: Wed, 23 Nov 2022 10:01:30 -0100

        [refactor] drop unused whoami path and drop redundant endpoints info resources

**Job:** [https://github.com/drogue-iot/drogue-cloud-testing/actions/runs/3532827059](https://github.com/drogue-iot/drogue-cloud-testing/actions/runs/3532827059)

<!--more-->

# Index

| Name | Result | Duration |
| ---- | ------ | -------- |
| [init::web::test::test_web_destroy](#initwebtesttest_web_destroy) | ✅ | 4s | 
| [init::web::test::test_web_test](#initwebtesttest_web_test) | ✅ | 4s | 
| [tests::api::test_create_access_token_web](#testsapitest_create_access_token_web) | ✅ | 12s | 
| [tests::coap::command::test_command::version_1](#testscoapcommandtest_commandversion_1) | ❌ | 7s | 
| [tests::coap::command::test_command::version_2](#testscoapcommandtest_commandversion_2) | ❌ | 7s | 
| [tests::coap::command::test_command::version_3](#testscoapcommandtest_commandversion_3) | ❌ | 8s | 
| [tests::coap::telemetry::test_send_telemetry_pass::version_1](#testscoaptelemetrytest_send_telemetry_passversion_1) | ❌ | 7s | 
| [tests::coap::telemetry::test_send_telemetry_pass::version_2](#testscoaptelemetrytest_send_telemetry_passversion_2) | ❌ | 7s | 
| [tests::coap::telemetry::test_send_telemetry_pass::version_3](#testscoaptelemetrytest_send_telemetry_passversion_3) | ❌ | 7s | 
| [tests::coap::telemetry::test_send_telemetry_user::version_1](#testscoaptelemetrytest_send_telemetry_userversion_1) | ❌ | 7s | 
| [tests::coap::telemetry::test_send_telemetry_user::version_2](#testscoaptelemetrytest_send_telemetry_userversion_2) | ❌ | 7s | 
| [tests::coap::telemetry::test_send_telemetry_user::version_3](#testscoaptelemetrytest_send_telemetry_userversion_3) | ❌ | 7s | 
| [tests::coap::telemetry::test_send_telemetry_user_alias::version_1](#testscoaptelemetrytest_send_telemetry_user_aliasversion_1) | ❌ | 7s | 
| [tests::coap::telemetry::test_send_telemetry_user_alias::version_2](#testscoaptelemetrytest_send_telemetry_user_aliasversion_2) | ❌ | 7s | 
| [tests::coap::telemetry::test_send_telemetry_user_alias::version_3](#testscoaptelemetrytest_send_telemetry_user_aliasversion_3) | ❌ | 6s | 
| [tests::coap::telemetry::test_send_telemetry_user_only::version_1](#testscoaptelemetrytest_send_telemetry_user_onlyversion_1) | ❌ | 6s | 
| [tests::coap::telemetry::test_send_telemetry_user_only::version_2](#testscoaptelemetrytest_send_telemetry_user_onlyversion_2) | ❌ | 7s | 
| [tests::coap::telemetry::test_send_telemetry_user_only::version_3](#testscoaptelemetrytest_send_telemetry_user_onlyversion_3) | ❌ | 7s | 
| [tests::drg::test_drg_version](#testsdrgtest_drg_version) | ✅ | 6s | 
| [tests::http::command::test_command::version_1](#testshttpcommandtest_commandversion_1) | ❌ | 7s | 
| [tests::http::command::test_command::version_2](#testshttpcommandtest_commandversion_2) | ❌ | 7s | 
| [tests::http::command::test_command::version_3](#testshttpcommandtest_commandversion_3) | ❌ | 7s | 
| [tests::http::telemetry::test_send_telemetry_pass::version_1](#testshttptelemetrytest_send_telemetry_passversion_1) | ❌ | 8s | 
| [tests::http::telemetry::test_send_telemetry_pass::version_2](#testshttptelemetrytest_send_telemetry_passversion_2) | ❌ | 7s | 
| [tests::http::telemetry::test_send_telemetry_pass::version_3](#testshttptelemetrytest_send_telemetry_passversion_3) | ❌ | 7s | 
| [tests::http::telemetry::test_send_telemetry_user::version_1](#testshttptelemetrytest_send_telemetry_userversion_1) | ❌ | 6s | 
| [tests::http::telemetry::test_send_telemetry_user::version_2](#testshttptelemetrytest_send_telemetry_userversion_2) | ❌ | 6s | 
| [tests::http::telemetry::test_send_telemetry_user::version_3](#testshttptelemetrytest_send_telemetry_userversion_3) | ❌ | 7s | 
| [tests::http::telemetry::test_send_telemetry_user_alias::version_1](#testshttptelemetrytest_send_telemetry_user_aliasversion_1) | ❌ | 6s | 
| [tests::http::telemetry::test_send_telemetry_user_alias::version_2](#testshttptelemetrytest_send_telemetry_user_aliasversion_2) | ❌ | 7s | 
| [tests::http::telemetry::test_send_telemetry_user_alias::version_3](#testshttptelemetrytest_send_telemetry_user_aliasversion_3) | ❌ | 6s | 
| [tests::http::telemetry::test_send_telemetry_user_only::version_1](#testshttptelemetrytest_send_telemetry_user_onlyversion_1) | ❌ | 6s | 
| [tests::http::telemetry::test_send_telemetry_user_only::version_2](#testshttptelemetrytest_send_telemetry_user_onlyversion_2) | ❌ | 7s | 
| [tests::http::telemetry::test_send_telemetry_user_only::version_3](#testshttptelemetrytest_send_telemetry_user_onlyversion_3) | ❌ | 6s | 
| [tests::integration::test_qos_1_dropping](#testsintegrationtest_qos_1_dropping) | ❌ | 6s | 
| [tests::mqtt::command::gateway::version_1::ws_1](#testsmqttcommandgatewayversion_1ws_1) | ❌ | 8s | 
| [tests::mqtt::command::gateway::version_1::ws_2](#testsmqttcommandgatewayversion_1ws_2) | ❌ | 8s | 
| [tests::mqtt::command::gateway::version_2::ws_1](#testsmqttcommandgatewayversion_2ws_1) | ❌ | 8s | 
| [tests::mqtt::command::gateway::version_2::ws_2](#testsmqttcommandgatewayversion_2ws_2) | ❌ | 9s | 
| [tests::mqtt::command::gateway::version_3::ws_1](#testsmqttcommandgatewayversion_3ws_1) | ❌ | 8s | 
| [tests::mqtt::command::gateway::version_3::ws_2](#testsmqttcommandgatewayversion_3ws_2) | ❌ | 8s | 
| [tests::mqtt::command::gateway_direct::version_1::ws_1](#testsmqttcommandgateway_directversion_1ws_1) | ❌ | 8s | 
| [tests::mqtt::command::gateway_direct::version_1::ws_2](#testsmqttcommandgateway_directversion_1ws_2) | ❌ | 8s | 
| [tests::mqtt::command::gateway_direct::version_2::ws_1](#testsmqttcommandgateway_directversion_2ws_1) | ❌ | 8s | 
| [tests::mqtt::command::gateway_direct::version_2::ws_2](#testsmqttcommandgateway_directversion_2ws_2) | ❌ | 8s | 
| [tests::mqtt::command::gateway_direct::version_3::ws_1](#testsmqttcommandgateway_directversion_3ws_1) | ❌ | 8s | 
| [tests::mqtt::command::gateway_direct::version_3::ws_2](#testsmqttcommandgateway_directversion_3ws_2) | ❌ | 8s | 
| [tests::mqtt::command::simple::version_1::ws_1](#testsmqttcommandsimpleversion_1ws_1) | ❌ | 8s | 
| [tests::mqtt::command::simple::version_1::ws_2](#testsmqttcommandsimpleversion_1ws_2) | ❌ | 8s | 
| [tests::mqtt::command::simple::version_2::ws_1](#testsmqttcommandsimpleversion_2ws_1) | ❌ | 8s | 
| [tests::mqtt::command::simple::version_2::ws_2](#testsmqttcommandsimpleversion_2ws_2) | ❌ | 8s | 
| [tests::mqtt::command::simple::version_3::ws_1](#testsmqttcommandsimpleversion_3ws_1) | ❌ | 8s | 
| [tests::mqtt::command::simple::version_3::ws_2](#testsmqttcommandsimpleversion_3ws_2) | ❌ | 9s | 
| [tests::mqtt::command::simple_direct::version_1::ws_1](#testsmqttcommandsimple_directversion_1ws_1) | ❌ | 8s | 
| [tests::mqtt::command::simple_direct::version_1::ws_2](#testsmqttcommandsimple_directversion_1ws_2) | ❌ | 8s | 
| [tests::mqtt::command::simple_direct::version_2::ws_1](#testsmqttcommandsimple_directversion_2ws_1) | ❌ | 8s | 
| [tests::mqtt::command::simple_direct::version_2::ws_2](#testsmqttcommandsimple_directversion_2ws_2) | ❌ | 8s | 
| [tests::mqtt::command::simple_direct::version_3::ws_1](#testsmqttcommandsimple_directversion_3ws_1) | ❌ | 8s | 
| [tests::mqtt::command::simple_direct::version_3::ws_2](#testsmqttcommandsimple_directversion_3ws_2) | ❌ | 8s | 
| [tests::mqtt::command::simple_me::version_1::ws_1](#testsmqttcommandsimple_meversion_1ws_1) | ❌ | 8s | 
| [tests::mqtt::command::simple_me::version_1::ws_2](#testsmqttcommandsimple_meversion_1ws_2) | ❌ | 8s | 
| [tests::mqtt::command::simple_me::version_2::ws_1](#testsmqttcommandsimple_meversion_2ws_1) | ❌ | 8s | 
| [tests::mqtt::command::simple_me::version_2::ws_2](#testsmqttcommandsimple_meversion_2ws_2) | ❌ | 8s | 
| [tests::mqtt::command::simple_me::version_3::ws_1](#testsmqttcommandsimple_meversion_3ws_1) | ❌ | 8s | 
| [tests::mqtt::command::simple_me::version_3::ws_2](#testsmqttcommandsimple_meversion_3ws_2) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_1::integration_version_1::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_1endpoint_ws_1integration_version_1integration_ws_1) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_1::integration_version_1::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_1endpoint_ws_1integration_version_1integration_ws_2) | ❌ | 9s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_1::integration_version_2::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_1endpoint_ws_1integration_version_2integration_ws_1) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_1::integration_version_2::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_1endpoint_ws_1integration_version_2integration_ws_2) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_1::integration_version_3::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_1endpoint_ws_1integration_version_3integration_ws_1) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_1::integration_version_3::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_1endpoint_ws_1integration_version_3integration_ws_2) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_2::integration_version_1::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_1endpoint_ws_2integration_version_1integration_ws_1) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_2::integration_version_1::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_1endpoint_ws_2integration_version_1integration_ws_2) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_2::integration_version_2::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_1endpoint_ws_2integration_version_2integration_ws_1) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_2::integration_version_2::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_1endpoint_ws_2integration_version_2integration_ws_2) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_2::integration_version_3::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_1endpoint_ws_2integration_version_3integration_ws_1) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_2::integration_version_3::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_1endpoint_ws_2integration_version_3integration_ws_2) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_1::integration_version_1::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_2endpoint_ws_1integration_version_1integration_ws_1) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_1::integration_version_1::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_2endpoint_ws_1integration_version_1integration_ws_2) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_1::integration_version_2::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_2endpoint_ws_1integration_version_2integration_ws_1) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_1::integration_version_2::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_2endpoint_ws_1integration_version_2integration_ws_2) | ❌ | 9s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_1::integration_version_3::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_2endpoint_ws_1integration_version_3integration_ws_1) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_1::integration_version_3::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_2endpoint_ws_1integration_version_3integration_ws_2) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_2::integration_version_1::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_2endpoint_ws_2integration_version_1integration_ws_1) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_2::integration_version_1::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_2endpoint_ws_2integration_version_1integration_ws_2) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_2::integration_version_2::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_2endpoint_ws_2integration_version_2integration_ws_1) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_2::integration_version_2::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_2endpoint_ws_2integration_version_2integration_ws_2) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_2::integration_version_3::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_2endpoint_ws_2integration_version_3integration_ws_1) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_2::integration_version_3::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_2endpoint_ws_2integration_version_3integration_ws_2) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_1::integration_version_1::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_3endpoint_ws_1integration_version_1integration_ws_1) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_1::integration_version_1::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_3endpoint_ws_1integration_version_1integration_ws_2) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_1::integration_version_2::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_3endpoint_ws_1integration_version_2integration_ws_1) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_1::integration_version_2::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_3endpoint_ws_1integration_version_2integration_ws_2) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_1::integration_version_3::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_3endpoint_ws_1integration_version_3integration_ws_1) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_1::integration_version_3::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_3endpoint_ws_1integration_version_3integration_ws_2) | ❌ | 9s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_2::integration_version_1::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_3endpoint_ws_2integration_version_1integration_ws_1) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_2::integration_version_1::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_3endpoint_ws_2integration_version_1integration_ws_2) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_2::integration_version_2::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_3endpoint_ws_2integration_version_2integration_ws_1) | ❌ | 9s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_2::integration_version_2::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_3endpoint_ws_2integration_version_2integration_ws_2) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_2::integration_version_3::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_3endpoint_ws_2integration_version_3integration_ws_1) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_2::integration_version_3::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_gateway_passendpoint_version_3endpoint_ws_2integration_version_3integration_ws_2) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_1::integration_version_1::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_1endpoint_ws_1integration_version_1integration_ws_1) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_1::integration_version_1::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_1endpoint_ws_1integration_version_1integration_ws_2) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_1::integration_version_2::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_1endpoint_ws_1integration_version_2integration_ws_1) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_1::integration_version_2::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_1endpoint_ws_1integration_version_2integration_ws_2) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_1::integration_version_3::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_1endpoint_ws_1integration_version_3integration_ws_1) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_1::integration_version_3::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_1endpoint_ws_1integration_version_3integration_ws_2) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_2::integration_version_1::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_1endpoint_ws_2integration_version_1integration_ws_1) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_2::integration_version_1::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_1endpoint_ws_2integration_version_1integration_ws_2) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_2::integration_version_2::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_1endpoint_ws_2integration_version_2integration_ws_1) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_2::integration_version_2::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_1endpoint_ws_2integration_version_2integration_ws_2) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_2::integration_version_3::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_1endpoint_ws_2integration_version_3integration_ws_1) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_2::integration_version_3::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_1endpoint_ws_2integration_version_3integration_ws_2) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_1::integration_version_1::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_2endpoint_ws_1integration_version_1integration_ws_1) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_1::integration_version_1::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_2endpoint_ws_1integration_version_1integration_ws_2) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_1::integration_version_2::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_2endpoint_ws_1integration_version_2integration_ws_1) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_1::integration_version_2::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_2endpoint_ws_1integration_version_2integration_ws_2) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_1::integration_version_3::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_2endpoint_ws_1integration_version_3integration_ws_1) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_1::integration_version_3::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_2endpoint_ws_1integration_version_3integration_ws_2) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_2::integration_version_1::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_2endpoint_ws_2integration_version_1integration_ws_1) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_2::integration_version_1::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_2endpoint_ws_2integration_version_1integration_ws_2) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_2::integration_version_2::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_2endpoint_ws_2integration_version_2integration_ws_1) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_2::integration_version_2::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_2endpoint_ws_2integration_version_2integration_ws_2) | ❌ | 9s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_2::integration_version_3::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_2endpoint_ws_2integration_version_3integration_ws_1) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_2::integration_version_3::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_2endpoint_ws_2integration_version_3integration_ws_2) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_1::integration_version_1::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_3endpoint_ws_1integration_version_1integration_ws_1) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_1::integration_version_1::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_3endpoint_ws_1integration_version_1integration_ws_2) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_1::integration_version_2::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_3endpoint_ws_1integration_version_2integration_ws_1) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_1::integration_version_2::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_3endpoint_ws_1integration_version_2integration_ws_2) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_1::integration_version_3::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_3endpoint_ws_1integration_version_3integration_ws_1) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_1::integration_version_3::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_3endpoint_ws_1integration_version_3integration_ws_2) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_2::integration_version_1::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_3endpoint_ws_2integration_version_1integration_ws_1) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_2::integration_version_1::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_3endpoint_ws_2integration_version_1integration_ws_2) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_2::integration_version_2::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_3endpoint_ws_2integration_version_2integration_ws_1) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_2::integration_version_2::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_3endpoint_ws_2integration_version_2integration_ws_2) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_2::integration_version_3::integration_ws_1](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_3endpoint_ws_2integration_version_3integration_ws_1) | ❌ | 8s | 
| [tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_2::integration_version_3::integration_ws_2](#testsmqtttelemetrytest_send_telemetry_passendpoint_version_3endpoint_ws_2integration_version_3integration_ws_2) | ❌ | 9s | 
| [tests::registry::api::test_registry_create_app](#testsregistryapitest_registry_create_app) | ❌ | 16s | 
| [tests::registry::drg::test_registry_create_and_delete](#testsregistrydrgtest_registry_create_and_delete) | ✅ | 8s | 
| [tests::registry::drg::test_registry_create_app](#testsregistrydrgtest_registry_create_app) | ✅ | 8s | 
| [tests::registry::drg::test_registry_create_app_and_device](#testsregistrydrgtest_registry_create_app_and_device) | ✅ | 8s | 
| [tests::registry::drg::test_registry_create_app_and_device_twice](#testsregistrydrgtest_registry_create_app_and_device_twice) | ✅ | 8s | 
| [tests::registry::drg::test_registry_create_app_twice](#testsregistrydrgtest_registry_create_app_twice) | ✅ | 8s | 
| [tests::registry::drg::test_registry_device_create_and_delete](#testsregistrydrgtest_registry_device_create_and_delete) | ✅ | 8s | 
| [tests::websocket::telemetry::test_send_telemetry_pass](#testswebsockettelemetrytest_send_telemetry_pass) | ❌ | 6s | 
| [tests::websocket::telemetry::test_send_telemetry_user](#testswebsockettelemetrytest_send_telemetry_user) | ❌ | 6s | 
| [tests::websocket::telemetry::test_send_telemetry_user_alias](#testswebsockettelemetrytest_send_telemetry_user_alias) | ❌ | 6s | 
| [tests::websocket::telemetry::test_send_telemetry_user_only](#testswebsockettelemetrytest_send_telemetry_user_only) | ❌ | 7s | 


# Details

## ✅ init::web::test::test_web_destroy

**Duration**: 4s

## ✅ init::web::test::test_web_test

**Duration**: 4s

## ✅ tests::api::test_create_access_token_web

**Duration**: 12s

## ❌ tests::coap::command::test_command::version_1

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T14:51:10Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T14:51:10Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:51:10Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:51:10Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:51:11Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T14:51:12Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T14:51:12Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:51:12Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:51:14Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTY4NzQsImlhdCI6MTY2OTIxNTA3NCwianRpIjoiZmMyODhkYzgtMWI2Ni00MjZkLTg0M2EtMDQyZjg0NGY5NDc1IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiVS1BdVFqbmJCLWJRRVFmWFZneW1iZyIsInNlc3Npb25fc3RhdGUiOiJjNDAwMzQzYi1lODdmLTRmZGUtYTQyYi0wZDY5MjBmMmIxZDUiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiYzQwMDM0M2ItZTg3Zi00ZmRlLWE0MmItMGQ2OTIwZjJiMWQ1In0.H6iXawddRsBZ8haTuhREoS_Y2o8foWMnUshKM5Wrk1Q
[2022-11-23T14:51:14Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T14:51:14Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(256)), stdout: &quot;&quot;, stderr: &quot;Error: There is an issue in drg configuration: Cannot open config file. Did you log in into a drogue-cloud instance? No such file or directory (os error 2)\n&quot; })
[2022-11-23T14:51:14Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTY4NzQsImlhdCI6MTY2OTIxNTA3NCwianRpIjoiZmMyODhkYzgtMWI2Ni00MjZkLTg0M2EtMDQyZjg0NGY5NDc1IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiVS1BdVFqbmJCLWJRRVFmWFZneW1iZyIsInNlc3Npb25fc3RhdGUiOiJjNDAwMzQzYi1lODdmLTRmZGUtYTQyYi0wZDY5MjBmMmIxZDUiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiYzQwMDM0M2ItZTg3Zi00ZmRlLWE0MmItMGQ2OTIwZjJiMWQ1In0.H6iXawddRsBZ8haTuhREoS_Y2o8foWMnUshKM5Wrk1Q&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T14:51:14Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:51:15Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T14:51:15Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:51:15Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T14:51:15Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTUzNzQsImlhdCI6MTY2OTIxNTA3NCwiYXV0aF90aW1lIjoxNjY5MjE1MDcxLCJqdGkiOiJhMTk0NDAyOC0xNWNhLTQ2YzItODU4Zi0wNmJjOTI5YTJjNTgiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlUtQXVRam5iQi1iUUVRZlhWZ3ltYmciLCJzZXNzaW9uX3N0YXRlIjoiYzQwMDM0M2ItZTg3Zi00ZmRlLWE0MmItMGQ2OTIwZjJiMWQ1IiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImM0MDAzNDNiLWU4N2YtNGZkZS1hNDJiLTBkNjkyMGYyYjFkNSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.dekOrTsapK7ReDsfzVpye0M5Jdl8ZMug8fQtGKnhtNpQo1mOeBzMY0VTeFKlrmJ347VxdfonR0GOJiVQezJvLBYMQn4Ku9TgbPleA2lWxMWkeAUrbiH1o8e8zSAHCTMuV1pjSAC5aFrTmoP_wh_pbPvXSmgzEocOvP1VyS7S6RQdhV9ddUgsLJY23N7B-mOFz2mu71qShS4D1VUmeaNNwshDb396IMWKtq6OTTEtjzxAbgVjFFv9gpPaxizeDeP5wF0jUA8NgbOtFOa9geCMoHBNfDvgRnWcjjCV1k0Xtd_65lltwxRrxxn3AP3P03CeUzxonUESgZb5hL5FRGvQhg\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:51:15Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::coap::command::test_command::version_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T14:51:17Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T14:51:17Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:51:17Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:51:17Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:51:18Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T14:51:19Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T14:51:19Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:51:19Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:51:21Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTY4ODEsImlhdCI6MTY2OTIxNTA4MSwianRpIjoiNTU3M2Q3OGUtYzM5Ni00MzY1LWIzNWQtYTAxYjkwZmI2ZjFmIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiSjVDZHhYRnV1cU5xX2M2QWw1a29sZyIsInNlc3Npb25fc3RhdGUiOiJjNDY3YTY3MC01ZDYxLTQyYzAtOTNkMS0zMjBlY2RkYmQ2YzEiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiYzQ2N2E2NzAtNWQ2MS00MmMwLTkzZDEtMzIwZWNkZGJkNmMxIn0.xq80sJFNXPD2BSylUh0W4dlGT_UXWUpGHCotITX3qg0
[2022-11-23T14:51:21Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T14:51:21Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:51:21Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTY4ODEsImlhdCI6MTY2OTIxNTA4MSwianRpIjoiNTU3M2Q3OGUtYzM5Ni00MzY1LWIzNWQtYTAxYjkwZmI2ZjFmIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiSjVDZHhYRnV1cU5xX2M2QWw1a29sZyIsInNlc3Npb25fc3RhdGUiOiJjNDY3YTY3MC01ZDYxLTQyYzAtOTNkMS0zMjBlY2RkYmQ2YzEiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiYzQ2N2E2NzAtNWQ2MS00MmMwLTkzZDEtMzIwZWNkZGJkNmMxIn0.xq80sJFNXPD2BSylUh0W4dlGT_UXWUpGHCotITX3qg0&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T14:51:22Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:51:22Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T14:51:22Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:51:22Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T14:51:22Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTUzODIsImlhdCI6MTY2OTIxNTA4MiwiYXV0aF90aW1lIjoxNjY5MjE1MDc4LCJqdGkiOiJjNjE5NjM0My02OGI5LTQ3NDUtOTQxYS01ZWFmNWE1NjQ2ZmMiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Iko1Q2R4WEZ1dXFOcV9jNkFsNWtvbGciLCJzZXNzaW9uX3N0YXRlIjoiYzQ2N2E2NzAtNWQ2MS00MmMwLTkzZDEtMzIwZWNkZGJkNmMxIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImM0NjdhNjcwLTVkNjEtNDJjMC05M2QxLTMyMGVjZGRiZDZjMSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.nT6U4gCOpp_SUihim1mkXXngRiTjXABBloQBtpzKIgWBNUBgXSjKY6bjFND0I2myM8j51eeKF90B4XSvoKWzE43LEkp9WgRa32wk01QS6a3WOPB4_cFm8058dhheikaVLzkSjRJVS-KnulfUxSzry6UHtP536ya4k77D8-IzDWH9RxcdAApj4JfnWkfeKi3oSh1a-iLQKR1b66sH2FdHz3pHWDn9zbuBMD80w6Ucof8hfOaF_lzKYPPsb28Kfmqjvr6i-W0c-8p480Qp7zWzT9DYmkwooevZrQsGKDWDwM1UKf_hm8EOiPZGHgHCd0KSnwk49BoO5L08xdtMpAJf5A\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:51:22Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::coap::command::test_command::version_3

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T14:51:24Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T14:51:24Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:51:24Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:51:24Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:51:25Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T14:51:27Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T14:51:27Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:51:27Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:51:29Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTY4ODksImlhdCI6MTY2OTIxNTA4OSwianRpIjoiMTljMWVhN2UtNzlmZC00ODI1LTg4M2YtN2QxNTMxYTY0YzlkIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiRW03NFR6SFJ4Vi1faDdSVExSalotZyIsInNlc3Npb25fc3RhdGUiOiJmZmNjZjVmYy00ODRiLTRhNDUtOWIyMy05NTg0ZGFhMWViODIiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiZmZjY2Y1ZmMtNDg0Yi00YTQ1LTliMjMtOTU4NGRhYTFlYjgyIn0.Ptxb69YB51OKI9u2KgfxZG6Ly9sQ2y28CkaZrUVwCNM
[2022-11-23T14:51:29Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T14:51:29Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:51:29Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTY4ODksImlhdCI6MTY2OTIxNTA4OSwianRpIjoiMTljMWVhN2UtNzlmZC00ODI1LTg4M2YtN2QxNTMxYTY0YzlkIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiRW03NFR6SFJ4Vi1faDdSVExSalotZyIsInNlc3Npb25fc3RhdGUiOiJmZmNjZjVmYy00ODRiLTRhNDUtOWIyMy05NTg0ZGFhMWViODIiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiZmZjY2Y1ZmMtNDg0Yi00YTQ1LTliMjMtOTU4NGRhYTFlYjgyIn0.Ptxb69YB51OKI9u2KgfxZG6Ly9sQ2y28CkaZrUVwCNM&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T14:51:30Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:51:30Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T14:51:30Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:51:30Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T14:51:30Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTUzOTAsImlhdCI6MTY2OTIxNTA5MCwiYXV0aF90aW1lIjoxNjY5MjE1MDg2LCJqdGkiOiI0YjhiZDBjOS0xNGMxLTQ3NzgtOWM3My1iOTcwNzRlZjZlZGYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IkVtNzRUekhSeFYtX2g3UlRMUmpaLWciLCJzZXNzaW9uX3N0YXRlIjoiZmZjY2Y1ZmMtNDg0Yi00YTQ1LTliMjMtOTU4NGRhYTFlYjgyIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImZmY2NmNWZjLTQ4NGItNGE0NS05YjIzLTk1ODRkYWExZWI4MiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.FCreHaLgG9GNNccD-8pc8Po6Dbuak3hGt58bQwwYSEZ9G5lkbWiEQt71fV4t8eTkDHtwm9kVp5zJxw9c7anr6syykx7Oouir1T1mXw1PEDeaEVKm6rV6X7lbT7ey_VI1t5ya3Z_9DmrDMextOobuETe5hMogmOLKltKJ1qZrHzkQxJHsrhsarlQtAA39vtfcLQZy_qc01EUa8OeR4jRgAojI1OAS9-KFXeNpwf7g4gwPUDvWV9mh8OxG98OTHFbbhTLEVn0Vhhzjm_XsvNtCm80Il7YDERPlP8hnYYOx7PEY5AGYr2hSWYelwUq2WM018HAWPHtMi2KmGjHukSGPag\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:51:30Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::coap::telemetry::test_send_telemetry_pass::version_1

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T14:51:30Z INFO  drogue_cloud_tests::tests::coap] entered coap_to_mqtt!
[2022-11-23T14:51:33Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T14:51:33Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:51:33Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:51:33Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:51:33Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T14:51:35Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T14:51:35Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:51:35Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:51:37Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTY4OTcsImlhdCI6MTY2OTIxNTA5NywianRpIjoiN2E2ZWIxNjUtYzgwMC00ZGQ1LTg3MDgtZGU4YTYzZDRiMDA0IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoicHFYYTRISE83SGFWSWFGZ2l5ZERwdyIsInNlc3Npb25fc3RhdGUiOiI2MWI0YzIxYy1jNzlhLTQwNzAtYTllYi1jOTJiNmNmMWZiNGIiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiNjFiNGMyMWMtYzc5YS00MDcwLWE5ZWItYzkyYjZjZjFmYjRiIn0.AmkdgsIeXiHOYvUJ5I2vuCOT0Xzw3vT2z8ODyGI0WRw
[2022-11-23T14:51:37Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T14:51:37Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:51:37Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTY4OTcsImlhdCI6MTY2OTIxNTA5NywianRpIjoiN2E2ZWIxNjUtYzgwMC00ZGQ1LTg3MDgtZGU4YTYzZDRiMDA0IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoicHFYYTRISE83SGFWSWFGZ2l5ZERwdyIsInNlc3Npb25fc3RhdGUiOiI2MWI0YzIxYy1jNzlhLTQwNzAtYTllYi1jOTJiNmNmMWZiNGIiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiNjFiNGMyMWMtYzc5YS00MDcwLWE5ZWItYzkyYjZjZjFmYjRiIn0.AmkdgsIeXiHOYvUJ5I2vuCOT0Xzw3vT2z8ODyGI0WRw&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T14:51:37Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:51:37Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T14:51:37Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:51:37Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T14:51:37Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTUzOTcsImlhdCI6MTY2OTIxNTA5NywiYXV0aF90aW1lIjoxNjY5MjE1MDk0LCJqdGkiOiI1MGY5NWFlNi0wMDAxLTQxYzgtOWM4MC0zODFmMTA2NTZiY2YiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InBxWGE0SEhPN0hhVklhRmdpeWREcHciLCJzZXNzaW9uX3N0YXRlIjoiNjFiNGMyMWMtYzc5YS00MDcwLWE5ZWItYzkyYjZjZjFmYjRiIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjYxYjRjMjFjLWM3OWEtNDA3MC1hOWViLWM5MmI2Y2YxZmI0YiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.St5rBDJNNOCr93H1eH3Z9nLK27p0OPwaa5z6MnjUK_dLf90x2PuL8etGNtqVitO8Q_1h_hEel0viEFGKblx8ydhuYjFEDJpnwD7W7tSdq8kXCYDyEGnMKPV4D_SVPGzifV-vKIuqXT-uF9s5ElZ_tYe7a_vMAs8rZtmqjHlKlXGaE-1vaCSJnQHDzoXn9Y9-qBl_7nT_O5h9olxuI9nP8jNqyxfyBSiUPN3RX21f4ODsOd3zR32wQNGJp4uhTvfB6aSLC217ZsyC3WsymR17GqkPtUfvtlBZgR39Fl0r4QXCfFPMEpESGvWPv_bgiPfIMOKRntpzVIuymoVxLsvnmQ\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:51:37Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::coap::telemetry::test_send_telemetry_pass::version_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T14:51:38Z INFO  drogue_cloud_tests::tests::coap] entered coap_to_mqtt!
[2022-11-23T14:51:40Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T14:51:40Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:51:40Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:51:40Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:51:40Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T14:51:42Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T14:51:42Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:51:42Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:51:44Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTY5MDQsImlhdCI6MTY2OTIxNTEwNCwianRpIjoiOGRmNjZlY2ItMTJiZi00ZDk4LWFhZTktNzQ3ZThmODAzNGI1IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiVkZMZ2VJNWRNWW4xUlM3TXVKUlNQdyIsInNlc3Npb25fc3RhdGUiOiI0MGU4MGY3YS0xZWYyLTRiZTUtYTkzYy0wZDM3NzY0YTRiY2QiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiNDBlODBmN2EtMWVmMi00YmU1LWE5M2MtMGQzNzc2NGE0YmNkIn0.OGRmGAAgEWopf_0pwYXbt6rGdr9z-uCekpfYU4xhdCM
[2022-11-23T14:51:44Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T14:51:44Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:51:44Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTY5MDQsImlhdCI6MTY2OTIxNTEwNCwianRpIjoiOGRmNjZlY2ItMTJiZi00ZDk4LWFhZTktNzQ3ZThmODAzNGI1IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiVkZMZ2VJNWRNWW4xUlM3TXVKUlNQdyIsInNlc3Npb25fc3RhdGUiOiI0MGU4MGY3YS0xZWYyLTRiZTUtYTkzYy0wZDM3NzY0YTRiY2QiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiNDBlODBmN2EtMWVmMi00YmU1LWE5M2MtMGQzNzc2NGE0YmNkIn0.OGRmGAAgEWopf_0pwYXbt6rGdr9z-uCekpfYU4xhdCM&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T14:51:44Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:51:45Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T14:51:45Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:51:45Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T14:51:45Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTU0MDQsImlhdCI6MTY2OTIxNTEwNCwiYXV0aF90aW1lIjoxNjY5MjE1MTAxLCJqdGkiOiIxMTUwM2FkYS01N2Q2LTQ3MmQtOWZhNy02NzRhOGI4ZGZiZWIiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlZGTGdlSTVkTVluMVJTN011SlJTUHciLCJzZXNzaW9uX3N0YXRlIjoiNDBlODBmN2EtMWVmMi00YmU1LWE5M2MtMGQzNzc2NGE0YmNkIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjQwZTgwZjdhLTFlZjItNGJlNS1hOTNjLTBkMzc3NjRhNGJjZCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.MH7zscOSr3IglfH2drAybUiPlNenb5S6p3eJGIuH92hLQwsdkaDJiPWmKoM7hYCUsFuDEWU2dQJVHyVOa5EQ6qDrwtjIH2zFSI_DamwLF0IpPfWWW9cjPIfe_CMwHi2aTeTyiJmQhkZBnzVFAPtTn3nTYA2q3q0Ur_XbLXy84JntnZXoatpWwRRyNfIfKBEnd19A2RoI-jB5BdvlWMIM03IrSnBe7WKnaA_3Fb8_XY7Aj_o9aficdJIsp7dOsW8Ji6i-_N_cqS0RO3HLuN-wmmZVsFnshH2G_buMO5rI_zju1QbVU1OND1Yd1GtX6Z9JGa5VPD2KYJKOan9kKFq1XA\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:51:45Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::coap::telemetry::test_send_telemetry_pass::version_3

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T14:51:45Z INFO  drogue_cloud_tests::tests::coap] entered coap_to_mqtt!
[2022-11-23T14:51:47Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T14:51:47Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:51:47Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:51:47Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:51:48Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T14:51:49Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T14:51:49Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:51:49Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:51:51Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTY5MTEsImlhdCI6MTY2OTIxNTExMSwianRpIjoiYzFhZDIzOTEtZWU1OC00Mzg0LWIyMTQtZmYwZDJiYWM2ZWIyIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiVmFxMUhBY213dEpYZ05CMVpfR0htdyIsInNlc3Npb25fc3RhdGUiOiJmY2Y4ZDBjZS1iM2U5LTRlYjEtOWY5NS01NDY5YTNiY2RjOWUiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiZmNmOGQwY2UtYjNlOS00ZWIxLTlmOTUtNTQ2OWEzYmNkYzllIn0.CH3kLxFTTk5KZWgRbJjh3Sbs8HTp-1tPQQHZbn94v-c
[2022-11-23T14:51:51Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T14:51:51Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:51:51Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTY5MTEsImlhdCI6MTY2OTIxNTExMSwianRpIjoiYzFhZDIzOTEtZWU1OC00Mzg0LWIyMTQtZmYwZDJiYWM2ZWIyIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiVmFxMUhBY213dEpYZ05CMVpfR0htdyIsInNlc3Npb25fc3RhdGUiOiJmY2Y4ZDBjZS1iM2U5LTRlYjEtOWY5NS01NDY5YTNiY2RjOWUiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiZmNmOGQwY2UtYjNlOS00ZWIxLTlmOTUtNTQ2OWEzYmNkYzllIn0.CH3kLxFTTk5KZWgRbJjh3Sbs8HTp-1tPQQHZbn94v-c&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T14:51:51Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:51:52Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T14:51:52Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:51:52Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T14:51:52Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTU0MTEsImlhdCI6MTY2OTIxNTExMSwiYXV0aF90aW1lIjoxNjY5MjE1MTA4LCJqdGkiOiIyOGE0ZGY4My1hZGVjLTQwNTgtYjg1Yy1kYWMxMmY3M2FhZjciLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlZhcTFIQWNtd3RKWGdOQjFaX0dIbXciLCJzZXNzaW9uX3N0YXRlIjoiZmNmOGQwY2UtYjNlOS00ZWIxLTlmOTUtNTQ2OWEzYmNkYzllIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImZjZjhkMGNlLWIzZTktNGViMS05Zjk1LTU0NjlhM2JjZGM5ZSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.kAYceM7axFuZRNyO--gu0AwZvUyEKX7cXP0DCRCJAFiMMiG6YcEHRGHgMMKo1ZjdieoYRqZSM8GpUc_gD1_kCKnb30ObWlQTH7DPmjXo4HXeYd8w4c0roKJDavZrJ-4-lusv71PfsgyF5K0ryF6ao27SgUa6Aflzvb_Kc0cSDiDD21p-Xkd3hHKe8mxRhCezfIzRSX_a38yR3DXnzRufIZwAi9sj8caUrzvzc4R4kMGXP-U1-jFe83pxRCvOTTkExK0tlNTuSmFr_YWmDxjqO1B5kHxSmOrXVHB8SU_CQDzGG7g6a8SzRymvyd1yc2Kq6NqWaGprcGCi3Y6ErYTpEQ\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:51:52Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::coap::telemetry::test_send_telemetry_user::version_1

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T14:51:52Z INFO  drogue_cloud_tests::tests::coap] entered coap_to_mqtt!
[2022-11-23T14:51:54Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T14:51:54Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:51:54Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:51:54Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:51:55Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T14:51:56Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T14:51:57Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:51:57Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:51:58Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTY5MTgsImlhdCI6MTY2OTIxNTExOCwianRpIjoiYWQ2MDMyNjktY2NhNi00OTRjLWI2MzUtODkyOGQwYjVmZmViIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoicktlUmMyd1pvTVRmTUlycl9uczVaZyIsInNlc3Npb25fc3RhdGUiOiIzZGU1OWMyOC0wNDAyLTRhZDYtYmY0Yy03YmJkN2Y2ZDU2ZDkiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiM2RlNTljMjgtMDQwMi00YWQ2LWJmNGMtN2JiZDdmNmQ1NmQ5In0.If5fN3w9VszFv1SeLkA8t382WeX-3Aa2hdO-HzD-KPw
[2022-11-23T14:51:58Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T14:51:58Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:51:58Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTY5MTgsImlhdCI6MTY2OTIxNTExOCwianRpIjoiYWQ2MDMyNjktY2NhNi00OTRjLWI2MzUtODkyOGQwYjVmZmViIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoicktlUmMyd1pvTVRmTUlycl9uczVaZyIsInNlc3Npb25fc3RhdGUiOiIzZGU1OWMyOC0wNDAyLTRhZDYtYmY0Yy03YmJkN2Y2ZDU2ZDkiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiM2RlNTljMjgtMDQwMi00YWQ2LWJmNGMtN2JiZDdmNmQ1NmQ5In0.If5fN3w9VszFv1SeLkA8t382WeX-3Aa2hdO-HzD-KPw&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T14:51:58Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:51:59Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T14:51:59Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:51:59Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T14:51:59Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTU0MTgsImlhdCI6MTY2OTIxNTExOCwiYXV0aF90aW1lIjoxNjY5MjE1MTE1LCJqdGkiOiIxMGRkNzM0Ny1iMzA5LTRiMGItYjJlNy00NzU3YzRiODNmOWMiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InJLZVJjMndab01UZk1JcnJfbnM1WmciLCJzZXNzaW9uX3N0YXRlIjoiM2RlNTljMjgtMDQwMi00YWQ2LWJmNGMtN2JiZDdmNmQ1NmQ5IiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjNkZTU5YzI4LTA0MDItNGFkNi1iZjRjLTdiYmQ3ZjZkNTZkOSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.PeBycdTVtDB7np5tElBFhcEllX8wZNhsZoPjuUNo_s18NGxN5LKK9thfF9Px7q5D72MG6uQ6BNukZCA9UYohtH3hjL7F85TPY_B7qYHzQtmMgre0Ia1LocqNq930_GCz6np91gXUP2nfCRy2T2dm06u1Gnq8OihyAFLxxCSZFw4oxIQaMMPlrhv1_8_fm_BYFykGF62kTkFbK6V25-6qwMsUDS-H4h454tAKvuflIqBr9ffGRymEwfEtKtkTJ66D2H7yLwMuO5X_v5i3DS6HzSQlpsaJywuqTaBFUx9trTNzFMX4WV3ClR_XgNOkmosV6I7qcodJl_6xzRHcEQsSBA\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:51:59Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::coap::telemetry::test_send_telemetry_user::version_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T14:51:59Z INFO  drogue_cloud_tests::tests::coap] entered coap_to_mqtt!
[2022-11-23T14:52:01Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T14:52:01Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:52:01Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:52:01Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:52:02Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T14:52:04Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T14:52:04Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:52:04Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:52:05Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTY5MjUsImlhdCI6MTY2OTIxNTEyNSwianRpIjoiOTljM2MxZTYtZWQ5Ny00NGRhLWIyZjUtZGQ2ZjQ4YmM0ZTk5IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiRERBQ0dUbHctTFVnR21FamtZcld4ZyIsInNlc3Npb25fc3RhdGUiOiIyODdiYmM5OC1mMjBlLTRiYTAtYjI0OS01NWY2ODZlNmQ5NjUiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMjg3YmJjOTgtZjIwZS00YmEwLWIyNDktNTVmNjg2ZTZkOTY1In0.FnIrSqIH2QHuln6HQ6bH75Zq4h8Ii3Ou0VXpw_ouLeQ
[2022-11-23T14:52:05Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T14:52:05Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:52:05Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTY5MjUsImlhdCI6MTY2OTIxNTEyNSwianRpIjoiOTljM2MxZTYtZWQ5Ny00NGRhLWIyZjUtZGQ2ZjQ4YmM0ZTk5IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiRERBQ0dUbHctTFVnR21FamtZcld4ZyIsInNlc3Npb25fc3RhdGUiOiIyODdiYmM5OC1mMjBlLTRiYTAtYjI0OS01NWY2ODZlNmQ5NjUiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMjg3YmJjOTgtZjIwZS00YmEwLWIyNDktNTVmNjg2ZTZkOTY1In0.FnIrSqIH2QHuln6HQ6bH75Zq4h8Ii3Ou0VXpw_ouLeQ&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T14:52:06Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:52:06Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T14:52:06Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:52:06Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T14:52:06Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTU0MjYsImlhdCI6MTY2OTIxNTEyNiwiYXV0aF90aW1lIjoxNjY5MjE1MTIzLCJqdGkiOiJjY2MyMTJiNy00OGYwLTQwOGItYmQyZS1lZWEyZDRmYWZmYTciLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IkREQUNHVGx3LUxVZ0dtRWprWXJXeGciLCJzZXNzaW9uX3N0YXRlIjoiMjg3YmJjOTgtZjIwZS00YmEwLWIyNDktNTVmNjg2ZTZkOTY1IiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjI4N2JiYzk4LWYyMGUtNGJhMC1iMjQ5LTU1ZjY4NmU2ZDk2NSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.UTJuJmsUJQqtsSLtdVCDvpZE-40lDJKD_0QgeJUQFuxrfnypz10HkJ_NTs1j0EndZyXQQq43GByglviOkdMdJwBOvcRX6oKMR_q54pRrkgPm4TGQVVVNnkEQxVPEa7nCYold3PS8TQj4Y-lTtGf-XF9I6g_gOFMSAp0N_6e4fpS1b95oP281XZEDTgNyCAs5kcSK2oDY5DImrARmyZWb56agUZlsrcYX_3SbfyzgoFHM-p0wEZQRKpgCH1fmMbz5kfYXedss_c6pfIvRz2tVgmWYydp26S2alDPbSMuhYfB7JM2oqW6jVkUgESLM3qMb0sR8qy8G9iW-2vcEMOnhXQ\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:52:06Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::coap::telemetry::test_send_telemetry_user::version_3

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T14:52:06Z INFO  drogue_cloud_tests::tests::coap] entered coap_to_mqtt!
[2022-11-23T14:52:08Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T14:52:08Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:52:08Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:52:08Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:52:09Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T14:52:11Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T14:52:11Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:52:11Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:52:13Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTY5MzIsImlhdCI6MTY2OTIxNTEzMiwianRpIjoiNzRmNzNjZTAtZTk4NC00NWRiLTkxNDItN2E3YmEyZDczYjRmIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiYVpDVlY1d2Q4WHBBNFZSYzczbGpzQSIsInNlc3Npb25fc3RhdGUiOiI2MGMwNWE5ZS0wM2E3LTRhYjItYWI1Yi0zZDc1NGFkYmFjMzQiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiNjBjMDVhOWUtMDNhNy00YWIyLWFiNWItM2Q3NTRhZGJhYzM0In0.1qM-cKDyj1SkTVByaFO-x72Pvg4SWHIGr8Hge4yHJH4
[2022-11-23T14:52:13Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T14:52:13Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:52:13Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTY5MzIsImlhdCI6MTY2OTIxNTEzMiwianRpIjoiNzRmNzNjZTAtZTk4NC00NWRiLTkxNDItN2E3YmEyZDczYjRmIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiYVpDVlY1d2Q4WHBBNFZSYzczbGpzQSIsInNlc3Npb25fc3RhdGUiOiI2MGMwNWE5ZS0wM2E3LTRhYjItYWI1Yi0zZDc1NGFkYmFjMzQiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiNjBjMDVhOWUtMDNhNy00YWIyLWFiNWItM2Q3NTRhZGJhYzM0In0.1qM-cKDyj1SkTVByaFO-x72Pvg4SWHIGr8Hge4yHJH4&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T14:52:13Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:52:13Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T14:52:13Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:52:13Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T14:52:13Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTU0MzMsImlhdCI6MTY2OTIxNTEzMywiYXV0aF90aW1lIjoxNjY5MjE1MTMwLCJqdGkiOiJiNWRlYjBkMy1kMzZhLTRjODctOTY4Ni04MzcxNTk0ZWI3OWMiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImFaQ1ZWNXdkOFhwQTRWUmM3M2xqc0EiLCJzZXNzaW9uX3N0YXRlIjoiNjBjMDVhOWUtMDNhNy00YWIyLWFiNWItM2Q3NTRhZGJhYzM0IiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjYwYzA1YTllLTAzYTctNGFiMi1hYjViLTNkNzU0YWRiYWMzNCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.MT7gbPNjhraRNCEROHxNLEGcCG8gcbnI1Uy8p-bdZB2WjwEDaW6SJZIzov7VDq9DGh6qt9oam7SpLFwrFFcSpwP4E1q1eLm2czwB6qXSj2aJqqo-vb8n0ICGLFESmRC-hqAFhJ11Uli-Uey_GCWUS33A1Lf-swY3J8Zllv1ub1kpvcM5uGsXlvqTNiNjjwtMhtLKT-XIdT4ad7qyUSITxjdupDJVhLdHNa3suvpuMdFx7eY54i7Mj8whW4YsFznmDwBrEHKPt7Ye4klZFly7rQG5lxdKCP2DGeOERzKeP5NqqUdY7eCPd9LMXemFiRxKUdDoasfA7UUjH4AWyfRQnw\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:52:13Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::coap::telemetry::test_send_telemetry_user_alias::version_1

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T14:52:13Z INFO  drogue_cloud_tests::tests::coap] entered coap_to_mqtt!
[2022-11-23T14:52:15Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T14:52:15Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:52:15Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:52:15Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:52:16Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T14:52:18Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T14:52:18Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:52:18Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:52:20Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTY5NDAsImlhdCI6MTY2OTIxNTE0MCwianRpIjoiN2VkYzRjNjEtYjg3Ny00OTUyLWE2ODktYWVhZTAyZTE3NmY2IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiLXIxdFR3MWZJa3h1Mnd0RTVmRXJmZyIsInNlc3Npb25fc3RhdGUiOiJjZTI2NzMyMS1lZGEyLTQxMDctODI1Ny1iM2EwNzBlODAwMmUiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiY2UyNjczMjEtZWRhMi00MTA3LTgyNTctYjNhMDcwZTgwMDJlIn0.ab_8JrcwdliYisIN-av_ibnyadyg4zcgnwx2sX0VLS4
[2022-11-23T14:52:20Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T14:52:20Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:52:20Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTY5NDAsImlhdCI6MTY2OTIxNTE0MCwianRpIjoiN2VkYzRjNjEtYjg3Ny00OTUyLWE2ODktYWVhZTAyZTE3NmY2IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiLXIxdFR3MWZJa3h1Mnd0RTVmRXJmZyIsInNlc3Npb25fc3RhdGUiOiJjZTI2NzMyMS1lZGEyLTQxMDctODI1Ny1iM2EwNzBlODAwMmUiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiY2UyNjczMjEtZWRhMi00MTA3LTgyNTctYjNhMDcwZTgwMDJlIn0.ab_8JrcwdliYisIN-av_ibnyadyg4zcgnwx2sX0VLS4&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T14:52:20Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:52:20Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T14:52:20Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:52:20Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T14:52:20Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTU0NDAsImlhdCI6MTY2OTIxNTE0MCwiYXV0aF90aW1lIjoxNjY5MjE1MTM3LCJqdGkiOiJjMWJiMGJhNi0wMDk5LTQwY2YtYTRkNy01Yzk4NDQwNTViZjAiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Ii1yMXRUdzFmSWt4dTJ3dEU1ZkVyZmciLCJzZXNzaW9uX3N0YXRlIjoiY2UyNjczMjEtZWRhMi00MTA3LTgyNTctYjNhMDcwZTgwMDJlIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImNlMjY3MzIxLWVkYTItNDEwNy04MjU3LWIzYTA3MGU4MDAyZSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.d7HMwN_PxjQKTEelXantm9zu5-UQmys8rEJOT6X0o80hDB1bUYMt1SDSDjhqtxw90TwlWxYuhdhAQKWQ8vQD-eaQAfnN7iW4sKtmWGhDtnLMpljzYZXRWnsr2qp4vsqbUZnk5HBLDvPJ1angS5Prj338s8KpY3DVPgZYD6QfuylMT1CgDeHdM6uIF2tnftDvbPEyh_CNm55Jil8JMYrrqeRwK_uZZTLb28O4y3sF1vL4rok0QhyhkqOhDTBWKvm6fgy3XD609EnMtFk1l8wAHy_sMZhij4iBpdbQX1XDXYaRApezBrASs-UJId1NoQTz4Z1lPpzCns792cFjynsjGg\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:52:20Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::coap::telemetry::test_send_telemetry_user_alias::version_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T14:52:20Z INFO  drogue_cloud_tests::tests::coap] entered coap_to_mqtt!
[2022-11-23T14:52:22Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T14:52:22Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:52:23Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:52:23Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:52:23Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T14:52:25Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T14:52:25Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:52:25Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:52:27Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTY5NDcsImlhdCI6MTY2OTIxNTE0NywianRpIjoiYmE5ZWZmMGUtNTlkYy00OTdmLTlmMDctMWZlYzY3NDQ0MzM4IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiYXZWLTNObGlMN1pNMU1sZFFTQjFMUSIsInNlc3Npb25fc3RhdGUiOiJmNTk5MzA2Ny1jMWUyLTQ5ODEtODQ0MC05MjM2OTBmMzM1NTgiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiZjU5OTMwNjctYzFlMi00OTgxLTg0NDAtOTIzNjkwZjMzNTU4In0.HVuhgMiEkQ-WBQm6LUxaNphTuVSQfQFE-RgLQzLMwZI
[2022-11-23T14:52:27Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T14:52:27Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:52:27Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTY5NDcsImlhdCI6MTY2OTIxNTE0NywianRpIjoiYmE5ZWZmMGUtNTlkYy00OTdmLTlmMDctMWZlYzY3NDQ0MzM4IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiYXZWLTNObGlMN1pNMU1sZFFTQjFMUSIsInNlc3Npb25fc3RhdGUiOiJmNTk5MzA2Ny1jMWUyLTQ5ODEtODQ0MC05MjM2OTBmMzM1NTgiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiZjU5OTMwNjctYzFlMi00OTgxLTg0NDAtOTIzNjkwZjMzNTU4In0.HVuhgMiEkQ-WBQm6LUxaNphTuVSQfQFE-RgLQzLMwZI&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T14:52:27Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:52:27Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T14:52:27Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:52:27Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T14:52:27Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTU0NDcsImlhdCI6MTY2OTIxNTE0NywiYXV0aF90aW1lIjoxNjY5MjE1MTQ0LCJqdGkiOiJjY2I0OGUwNy1iZWUzLTRjNjctOGUwYS05ODE3YmQ2ZDUyOWUiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImF2Vi0zTmxpTDdaTTFNbGRRU0IxTFEiLCJzZXNzaW9uX3N0YXRlIjoiZjU5OTMwNjctYzFlMi00OTgxLTg0NDAtOTIzNjkwZjMzNTU4IiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImY1OTkzMDY3LWMxZTItNDk4MS04NDQwLTkyMzY5MGYzMzU1OCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.PYX_hi_eGEhXLquo-HUvM47xdyYajKn6mY617P87k2iPLmi1Fi90tSog9ZU1OVfQNZABqpW-HOgXwQaoj4D0MQ0X9HbRdteNhEsWlQZi6iVtIRV0Ilthx5z2vzPmgsJIZzQ1H2fHQUFDnef9ajMBZzwn8WGlLB0bqDb3IKpjPAEXzCMxLzTqtxljM-Xx6tl-bF_iIsu1ribUYY7z51JUdEzXUKFvorZcckuz7Q6U1O9dyLJRs4WnVmEfWm4qE33Op7EDAUJJEKeCIrE0ivV7hMc7Ad3kqPlBtGA-PTWYjZ_2h1QKcIgOOAWf--ICT9nQVIghGzuJKBl9-9f0I7X2Cw\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:52:27Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::coap::telemetry::test_send_telemetry_user_alias::version_3

**Duration**: 6s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T14:52:27Z INFO  drogue_cloud_tests::tests::coap] entered coap_to_mqtt!
[2022-11-23T14:52:30Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T14:52:30Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:52:30Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:52:30Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:52:30Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T14:52:32Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T14:52:32Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:52:32Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:52:34Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTY5NTQsImlhdCI6MTY2OTIxNTE1NCwianRpIjoiM2Q4Njc1NTItMWExYi00YTZiLTk5YzMtNmU2MDJjZDUxNjE1IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiZ3E0SG9HQkRuRnFKU3FCVnN0dWprUSIsInNlc3Npb25fc3RhdGUiOiI1YzA0YmJlNC1iNGVlLTRmNTktOWRlMC00YTRhYzQwNzEyMmEiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiNWMwNGJiZTQtYjRlZS00ZjU5LTlkZTAtNGE0YWM0MDcxMjJhIn0.S9xjtab7eaiPcw5Xf7Xrc0qEl_xCkA0zrb56yA4QDjs
[2022-11-23T14:52:34Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T14:52:34Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:52:34Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTY5NTQsImlhdCI6MTY2OTIxNTE1NCwianRpIjoiM2Q4Njc1NTItMWExYi00YTZiLTk5YzMtNmU2MDJjZDUxNjE1IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiZ3E0SG9HQkRuRnFKU3FCVnN0dWprUSIsInNlc3Npb25fc3RhdGUiOiI1YzA0YmJlNC1iNGVlLTRmNTktOWRlMC00YTRhYzQwNzEyMmEiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiNWMwNGJiZTQtYjRlZS00ZjU5LTlkZTAtNGE0YWM0MDcxMjJhIn0.S9xjtab7eaiPcw5Xf7Xrc0qEl_xCkA0zrb56yA4QDjs&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T14:52:34Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:52:34Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T14:52:34Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:52:34Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T14:52:34Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTU0NTQsImlhdCI6MTY2OTIxNTE1NCwiYXV0aF90aW1lIjoxNjY5MjE1MTUxLCJqdGkiOiJjNDE5OTM5Yy1kOTRkLTQ3ZDMtYjExMC1kNWNiMjA3NTg3OGYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImdxNEhvR0JEbkZxSlNxQlZzdHVqa1EiLCJzZXNzaW9uX3N0YXRlIjoiNWMwNGJiZTQtYjRlZS00ZjU5LTlkZTAtNGE0YWM0MDcxMjJhIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjVjMDRiYmU0LWI0ZWUtNGY1OS05ZGUwLTRhNGFjNDA3MTIyYSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.PF7reSD5uhtLiYh-2aCdoy5682vTQpqmiI0Z1-6o4SCKAtSF_Yoca3qCdkYihAsIAVuhOaqybWcxmwWW-qwVcSnFg4hfLKx1uKtMLDLFRNPSAV2zwxp_2wUlYIEaCdq1lGFj4LIBt4VFMXoz6K6GV-v01UHejSbpRH7tGfKbwpBNrVa6gBUT36FHVmrsjrhS-3HEY3zczPSItdQJxclZf64SWcMfoR92S4tL-hizq4q7QX4VJb_6L0ftl-ymwkxVKIZBxLMlzBuGBqIXKiwc8fy4kI2pMNtVbrhS9SCleM2MPWIEMjkw6Qa_79lQ1Jzht7Of2e3ue1tTj9FH5dfoiQ\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:52:34Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::coap::telemetry::test_send_telemetry_user_only::version_1

**Duration**: 6s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T14:52:34Z INFO  drogue_cloud_tests::tests::coap] entered coap_to_mqtt!
[2022-11-23T14:52:36Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T14:52:36Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:52:36Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:52:36Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:52:37Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T14:52:39Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T14:52:39Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:52:39Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:52:41Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTY5NjAsImlhdCI6MTY2OTIxNTE2MCwianRpIjoiNTdhOTdkYTMtZDUxMC00OGZlLTg2ZGYtZTdlMjBkMTIwNTcwIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoib3libWJ2ckhoNVhNZDZGWmstUWVMQSIsInNlc3Npb25fc3RhdGUiOiI5Y2Y2YmU5MS1kYWQ3LTQyOTAtYjIzYi00Y2ZlODY5Yzc5ZDQiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiOWNmNmJlOTEtZGFkNy00MjkwLWIyM2ItNGNmZTg2OWM3OWQ0In0.mNQSII0G9dJomQFdi5ekTC5Oi5DOeOksM9ojT6-0IDY
[2022-11-23T14:52:41Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T14:52:41Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:52:41Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTY5NjAsImlhdCI6MTY2OTIxNTE2MCwianRpIjoiNTdhOTdkYTMtZDUxMC00OGZlLTg2ZGYtZTdlMjBkMTIwNTcwIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoib3libWJ2ckhoNVhNZDZGWmstUWVMQSIsInNlc3Npb25fc3RhdGUiOiI5Y2Y2YmU5MS1kYWQ3LTQyOTAtYjIzYi00Y2ZlODY5Yzc5ZDQiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiOWNmNmJlOTEtZGFkNy00MjkwLWIyM2ItNGNmZTg2OWM3OWQ0In0.mNQSII0G9dJomQFdi5ekTC5Oi5DOeOksM9ojT6-0IDY&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T14:52:41Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:52:41Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T14:52:41Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:52:41Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T14:52:41Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTU0NjEsImlhdCI6MTY2OTIxNTE2MSwiYXV0aF90aW1lIjoxNjY5MjE1MTU4LCJqdGkiOiI4ZTU4MGNiYS1iMjcyLTRkNWEtODUyNi04MGYxNTYwMGY5NGYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Im95Ym1idnJIaDVYTWQ2RlprLVFlTEEiLCJzZXNzaW9uX3N0YXRlIjoiOWNmNmJlOTEtZGFkNy00MjkwLWIyM2ItNGNmZTg2OWM3OWQ0IiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjljZjZiZTkxLWRhZDctNDI5MC1iMjNiLTRjZmU4NjljNzlkNCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.VOhwRceJpxEcnKX4M-70s-IPH6kQ2a9tuTd2RZbhEsyD0YL_n7aQOQ7InLcwC6hXA-Efp7HoiEGqy6ipakvHWtrWalsQdo0oiuRFqize6hsBblUOMjSN0VdelZ9-B-_pWjrR8tf1qEaKHr732WEZKsfWZE_a1WATu9rSsZ2XtQW71PIqps2rAWl4rlI_s3Ug1v1hWMrylPikZArpKjRNctR6JNTZwaGWJjCWkwtWdjvNLBkv9zqCzHLApUnPxoz277N9Bg9E2WLoPT5Hefn7n3oK_hcPgPkmGwF2U05FWXeUrqql7EkPRaEqnP8pfh-BGhWgBRY_baurJP0_RXYhHQ\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:52:41Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::coap::telemetry::test_send_telemetry_user_only::version_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T14:52:41Z INFO  drogue_cloud_tests::tests::coap] entered coap_to_mqtt!
[2022-11-23T14:52:43Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T14:52:43Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:52:43Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:52:43Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:52:44Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T14:52:46Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T14:52:46Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:52:46Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:52:48Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTY5NjgsImlhdCI6MTY2OTIxNTE2OCwianRpIjoiMTA0ZTdhMjYtMDJjMC00OGQ0LTllN2MtOTc1YzMwMGM2NGRlIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiTkJjSFlXUWx2cTJicWpJekQ1cE9RdyIsInNlc3Npb25fc3RhdGUiOiJiZGM3N2JmMS03NmJlLTRjOWUtOTE3Mi03MzIxNWY0NzQ0MGUiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiYmRjNzdiZjEtNzZiZS00YzllLTkxNzItNzMyMTVmNDc0NDBlIn0.zRlDt4qBsYdcEWV8h9EE_I6iBzBgvahkdO-Lm5nZnMo
[2022-11-23T14:52:48Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T14:52:48Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:52:48Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTY5NjgsImlhdCI6MTY2OTIxNTE2OCwianRpIjoiMTA0ZTdhMjYtMDJjMC00OGQ0LTllN2MtOTc1YzMwMGM2NGRlIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiTkJjSFlXUWx2cTJicWpJekQ1cE9RdyIsInNlc3Npb25fc3RhdGUiOiJiZGM3N2JmMS03NmJlLTRjOWUtOTE3Mi03MzIxNWY0NzQ0MGUiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiYmRjNzdiZjEtNzZiZS00YzllLTkxNzItNzMyMTVmNDc0NDBlIn0.zRlDt4qBsYdcEWV8h9EE_I6iBzBgvahkdO-Lm5nZnMo&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T14:52:48Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:52:48Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T14:52:49Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:52:49Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T14:52:49Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTU0NjgsImlhdCI6MTY2OTIxNTE2OCwiYXV0aF90aW1lIjoxNjY5MjE1MTY1LCJqdGkiOiI5NTgxN2IyMi01NDI1LTRjYWItOGNmOC1kNDlmMjYzNzNjZjUiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Ik5CY0hZV1FsdnEyYnFqSXpENXBPUXciLCJzZXNzaW9uX3N0YXRlIjoiYmRjNzdiZjEtNzZiZS00YzllLTkxNzItNzMyMTVmNDc0NDBlIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImJkYzc3YmYxLTc2YmUtNGM5ZS05MTcyLTczMjE1ZjQ3NDQwZSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.uPPBSX3ToI92g8ofJdXaSb5gM-vku-GUuDtEZvA6DxJePa0VDK_hRreCHAHsaaer-DJHB9D4Is0HqF55q82bgOA-CrGGWbWYIxZR78OZ4s9nUyNVZUhqfecN9QeaBSlmrI7XcsaoJp_Om0A_SDdbF5GyaGfQoL_rstks3UX34Qd9v0Q4wwF3kIQyMIPOdKLVLMcGR1WuCv978Spgw7KDwSD4l9dZCdqjbzGlTEx7vzCHvDQOv8voLZTocwY3zgER_cGMQktSGZna0hQ5Hmh3Dil18MIW0QkzY4WuOEkClsSr2U7oYwMJ53zNXMN3vXOwA05vUWyiw7y2lVF2o_b1tg\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:52:49Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::coap::telemetry::test_send_telemetry_user_only::version_3

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T14:52:49Z INFO  drogue_cloud_tests::tests::coap] entered coap_to_mqtt!
[2022-11-23T14:52:51Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T14:52:51Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:52:51Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:52:51Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:52:52Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T14:52:53Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T14:52:53Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:52:53Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:52:55Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTY5NzUsImlhdCI6MTY2OTIxNTE3NSwianRpIjoiNGZhMjI0YTItMDExMS00MmIwLWJiMTItNjI4ZDE2YTcyZmY2IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiT2FWUG01ZWdPb2RUZERxcEM3a1BhZyIsInNlc3Npb25fc3RhdGUiOiIyMGVjMzc4Zi03MTMxLTQwNGItYTkyZS0xZGZjMTA4ZjE4Y2IiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMjBlYzM3OGYtNzEzMS00MDRiLWE5MmUtMWRmYzEwOGYxOGNiIn0.MSOtwj_tvl9mIJz5WFMbkmX8D8MeXcSQI4WkgkM5XBI
[2022-11-23T14:52:55Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T14:52:55Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:52:55Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTY5NzUsImlhdCI6MTY2OTIxNTE3NSwianRpIjoiNGZhMjI0YTItMDExMS00MmIwLWJiMTItNjI4ZDE2YTcyZmY2IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiT2FWUG01ZWdPb2RUZERxcEM3a1BhZyIsInNlc3Npb25fc3RhdGUiOiIyMGVjMzc4Zi03MTMxLTQwNGItYTkyZS0xZGZjMTA4ZjE4Y2IiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMjBlYzM3OGYtNzEzMS00MDRiLWE5MmUtMWRmYzEwOGYxOGNiIn0.MSOtwj_tvl9mIJz5WFMbkmX8D8MeXcSQI4WkgkM5XBI&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T14:52:55Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:52:56Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T14:52:56Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:52:56Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T14:52:56Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTU0NzUsImlhdCI6MTY2OTIxNTE3NSwiYXV0aF90aW1lIjoxNjY5MjE1MTcyLCJqdGkiOiI2MjhhYmE1YS0yNWY3LTQ3YmYtODE2NC00YjhkMmYwN2I2NjciLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Ik9hVlBtNWVnT29kVGREcXBDN2tQYWciLCJzZXNzaW9uX3N0YXRlIjoiMjBlYzM3OGYtNzEzMS00MDRiLWE5MmUtMWRmYzEwOGYxOGNiIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjIwZWMzNzhmLTcxMzEtNDA0Yi1hOTJlLTFkZmMxMDhmMThjYiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.FHRFLZNow14jdVPSgOrdmjJ1AMQI78DziF6w_D-amsj3_xPZVptk49RN9mw6qSVxc_1qw0vElqLkwI_eSLdG6gODZ25dn1UPyA1AnW8O3dYWuybnr55l2ZDe95AyiBUF8NyW_KyhlYbyjZimavYAmPLok-pxXdkD_2CtWg3FXqjuyamP_xL-1KuPerSYSiIadqcJnk309RQ8ye3k36AqKV9nMCYCywb1BTlqbtwGWK2sEkllO6vV4u54P63dESLjGtkzIszdksUnBIddwI2N0nsBRjnVmWtY9JermCxSGvKnWXFbs8_tkulBMxgBloZC_EYAwaRg7YNGeOf4CHJI2g\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:52:56Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ✅ tests::drg::test_drg_version

**Duration**: 6s

## ❌ tests::http::command::test_command::version_1

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T14:53:05Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T14:53:05Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:53:05Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:53:05Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:53:06Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T14:53:07Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T14:53:07Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:53:07Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:53:09Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTY5ODksImlhdCI6MTY2OTIxNTE4OSwianRpIjoiNDE3NDJmNDQtYmUxMi00NjkyLTk2NzUtMTViYWYxZTczNDE5IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiYzRtc3kwbTlMaTRiangwZXlLSmN6USIsInNlc3Npb25fc3RhdGUiOiJhOWUyN2NmYi1mNzYzLTQ1ZGItOWY5Ny0zY2M5ZWVmNDAzZGIiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiYTllMjdjZmItZjc2My00NWRiLTlmOTctM2NjOWVlZjQwM2RiIn0.ea0NEkCE6TEW9LWqssdQ7JkqcoPXZG6o-aHv6SDB__E
[2022-11-23T14:53:09Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T14:53:09Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:53:09Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTY5ODksImlhdCI6MTY2OTIxNTE4OSwianRpIjoiNDE3NDJmNDQtYmUxMi00NjkyLTk2NzUtMTViYWYxZTczNDE5IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiYzRtc3kwbTlMaTRiangwZXlLSmN6USIsInNlc3Npb25fc3RhdGUiOiJhOWUyN2NmYi1mNzYzLTQ1ZGItOWY5Ny0zY2M5ZWVmNDAzZGIiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiYTllMjdjZmItZjc2My00NWRiLTlmOTctM2NjOWVlZjQwM2RiIn0.ea0NEkCE6TEW9LWqssdQ7JkqcoPXZG6o-aHv6SDB__E&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T14:53:09Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:53:10Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T14:53:10Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:53:10Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T14:53:10Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTU0ODksImlhdCI6MTY2OTIxNTE4OSwiYXV0aF90aW1lIjoxNjY5MjE1MTg2LCJqdGkiOiJlZWM3NTJiMi01NjNkLTQyYzEtOWFiOC1iNGYzNGU4YzEwZGUiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImM0bXN5MG05TGk0Ymp4MGV5S0pjelEiLCJzZXNzaW9uX3N0YXRlIjoiYTllMjdjZmItZjc2My00NWRiLTlmOTctM2NjOWVlZjQwM2RiIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImE5ZTI3Y2ZiLWY3NjMtNDVkYi05Zjk3LTNjYzllZWY0MDNkYiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.AzKbk6TS-qrwWzWhZI3satqCxB7l-eGuSMfNlAy_LgdNY9w6j94uWksCp_rAe4aG1l25ciqwIXNzaCpm2hN9g0VipZCWwTxSsqn6AAHVeqanJEQxOiIqRnhiKy1gILCrbYfwo2fPNeaZWu-QXWk4PjAozu35IBAKUVsJTteyC_YMzMlGC-01ozGIuEQ4Wwmc-Z1Sk23gZvAx3zb_uLXlh4noq0bBxNu6EPqFv6Kq7QMoqpBs81dC1ugu99Cp--HzzXBDPTfIcZcFQnF1EiDznPCN-0EIktTqVeNEv-wCVHOEWRmWp0a0h9BJ104M9EFG6ETCM0cIgMfS0j9lTefdrw\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:53:10Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::http::command::test_command::version_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T14:53:12Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T14:53:12Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:53:12Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:53:12Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:53:13Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T14:53:14Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T14:53:14Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:53:14Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:53:16Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTY5OTYsImlhdCI6MTY2OTIxNTE5NiwianRpIjoiN2I3MTNjZTktYTQ2Mi00MTJiLWEyMGUtMmMwYzQwMmY2ZWU2IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiSmRFMXowNDdvbjRfaldjY2N5MlowdyIsInNlc3Npb25fc3RhdGUiOiI2YTA3YmZhZi00Nzk5LTQ5M2QtODg1MC1hODliYjQ3OGU3MjAiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiNmEwN2JmYWYtNDc5OS00OTNkLTg4NTAtYTg5YmI0NzhlNzIwIn0.uDWKtEltZYo4F2d3MP_YiLOo_7jZAus4GdYgDMAkYuc
[2022-11-23T14:53:16Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T14:53:16Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:53:16Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTY5OTYsImlhdCI6MTY2OTIxNTE5NiwianRpIjoiN2I3MTNjZTktYTQ2Mi00MTJiLWEyMGUtMmMwYzQwMmY2ZWU2IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiSmRFMXowNDdvbjRfaldjY2N5MlowdyIsInNlc3Npb25fc3RhdGUiOiI2YTA3YmZhZi00Nzk5LTQ5M2QtODg1MC1hODliYjQ3OGU3MjAiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiNmEwN2JmYWYtNDc5OS00OTNkLTg4NTAtYTg5YmI0NzhlNzIwIn0.uDWKtEltZYo4F2d3MP_YiLOo_7jZAus4GdYgDMAkYuc&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T14:53:16Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:53:17Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T14:53:17Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:53:17Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T14:53:17Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTU0OTYsImlhdCI6MTY2OTIxNTE5NiwiYXV0aF90aW1lIjoxNjY5MjE1MTkzLCJqdGkiOiI0YTMzZDBiZS01NmM2LTRjMTktYTY1ZC1kNjI3Y2Q4N2QwMmUiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IkpkRTF6MDQ3b240X2pXY2NjeTJaMHciLCJzZXNzaW9uX3N0YXRlIjoiNmEwN2JmYWYtNDc5OS00OTNkLTg4NTAtYTg5YmI0NzhlNzIwIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjZhMDdiZmFmLTQ3OTktNDkzZC04ODUwLWE4OWJiNDc4ZTcyMCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.cRIq5KLfVAI5CRIW91y26L0xedPPNH0kL-2qsP4YcmriUluxUZdpXuCk6wgqsnJl7f-BC44AttemJVzLkFErCHZg2guWqe7fLJ8dK2kkmTOXvkW9yy1aAn4GH9CD0toWTwZNaFUx3rKUkKEC4dt0A9Q-z1pMcWsYZs27nwBYkPxuhQzojtQDSJ4OAXCZeULi0YuiGCJwPzwZ4X89AwMvIMpC0fzmIKe4l0ejaHURS7lDk9esycFJCeXl3WI3vkUPC0-l1m2Gc_-7rvkEx1nltTKX5_nR6LZx6W3Iqki8YRYj0to8k4tVegkWiTG3SfAyTGebZFq0wvdbwjkojwwZRw\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:53:17Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::http::command::test_command::version_3

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T14:53:19Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T14:53:19Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:53:19Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:53:19Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:53:20Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T14:53:21Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T14:53:21Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:53:21Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:53:23Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTcwMDMsImlhdCI6MTY2OTIxNTIwMywianRpIjoiZWJhNDE1OGQtYzU1ZS00MDRkLThjNTUtOGU4YzdhZjFkNTM1IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiR3poNXpiRGtzSUtLYjh0anA3TWNSZyIsInNlc3Npb25fc3RhdGUiOiI0Y2ZhYjZjOS1mYWJlLTQ3ZTAtYTRjYS1lMTY2MWUzMGZkYjEiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiNGNmYWI2YzktZmFiZS00N2UwLWE0Y2EtZTE2NjFlMzBmZGIxIn0.mWHoKkV_mGtYx6VVYU4vxhlvR3YHQzuQiypYNvozRU0
[2022-11-23T14:53:23Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T14:53:23Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:53:23Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTcwMDMsImlhdCI6MTY2OTIxNTIwMywianRpIjoiZWJhNDE1OGQtYzU1ZS00MDRkLThjNTUtOGU4YzdhZjFkNTM1IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiR3poNXpiRGtzSUtLYjh0anA3TWNSZyIsInNlc3Npb25fc3RhdGUiOiI0Y2ZhYjZjOS1mYWJlLTQ3ZTAtYTRjYS1lMTY2MWUzMGZkYjEiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiNGNmYWI2YzktZmFiZS00N2UwLWE0Y2EtZTE2NjFlMzBmZGIxIn0.mWHoKkV_mGtYx6VVYU4vxhlvR3YHQzuQiypYNvozRU0&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T14:53:23Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:53:24Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T14:53:24Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:53:24Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T14:53:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTU1MDMsImlhdCI6MTY2OTIxNTIwMywiYXV0aF90aW1lIjoxNjY5MjE1MjAwLCJqdGkiOiJmMWM1MDllYS0wYjU3LTQzY2MtYThlOC1hMmE5ZmZiOGI4NjAiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Ikd6aDV6YkRrc0lLS2I4dGpwN01jUmciLCJzZXNzaW9uX3N0YXRlIjoiNGNmYWI2YzktZmFiZS00N2UwLWE0Y2EtZTE2NjFlMzBmZGIxIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjRjZmFiNmM5LWZhYmUtNDdlMC1hNGNhLWUxNjYxZTMwZmRiMSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.gVwq7zmlTCv4hNDhiTKRZbAZY_p6uGTXwmjEwtNLitOeOPcmKeFH1M4Azj4XsoU75LqGY7xhifJ34feFE9PGBbDfhrQVPC1KkwRHF-hy0Hox3AHM2xo5dVClW88zbNRRDkUcmJopKGB2Bybn3jnubzn2aEBRMorAbF7kzgVk3e1V2c1DQFM4g8YrvoIUQ7c4rPJg8m6B3p_BnCWBAzc7fuZaLm_JEQZlYTNk4TsabbYS1WgxcRjfzBeHJyYY8-khFcXtMtAeGJWH6KyIwomSyONP7OQrx5XxP6KxzfQIHtC0C1a7AiWN2WGfKyIXM1qx3Y0MZczF0Hi4grr-078kqQ\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:53:24Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::http::telemetry::test_send_telemetry_pass::version_1

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T14:53:26Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T14:53:26Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:53:26Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:53:26Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:53:27Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T14:53:29Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T14:53:29Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:53:29Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:53:31Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTcwMTEsImlhdCI6MTY2OTIxNTIxMSwianRpIjoiNjI5ZmY4NTAtODcyMS00MDEyLWEzMTMtMjFiNzBhOGU3NWRlIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiQkJNZ0toQWpJaHRnYlVSRE45bzZNdyIsInNlc3Npb25fc3RhdGUiOiJkMjI2ZThjYy1hNjk2LTQwZTUtYTRhYi05Mzg2OWU1MjRjNjUiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiZDIyNmU4Y2MtYTY5Ni00MGU1LWE0YWItOTM4NjllNTI0YzY1In0.bOKWtoUX3mqhEt4Xi8wgqCGiEsM0iOlCqetixq0SvO8
[2022-11-23T14:53:31Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T14:53:31Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:53:31Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTcwMTEsImlhdCI6MTY2OTIxNTIxMSwianRpIjoiNjI5ZmY4NTAtODcyMS00MDEyLWEzMTMtMjFiNzBhOGU3NWRlIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiQkJNZ0toQWpJaHRnYlVSRE45bzZNdyIsInNlc3Npb25fc3RhdGUiOiJkMjI2ZThjYy1hNjk2LTQwZTUtYTRhYi05Mzg2OWU1MjRjNjUiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiZDIyNmU4Y2MtYTY5Ni00MGU1LWE0YWItOTM4NjllNTI0YzY1In0.bOKWtoUX3mqhEt4Xi8wgqCGiEsM0iOlCqetixq0SvO8&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T14:53:32Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:53:32Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T14:53:32Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:53:32Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T14:53:32Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTU1MTIsImlhdCI6MTY2OTIxNTIxMiwiYXV0aF90aW1lIjoxNjY5MjE1MjA4LCJqdGkiOiIxNTUyYmIzYi1kODMyLTQ5OTUtYjFiOS0zYjM2NDdlZmVlNDkiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IkJCTWdLaEFqSWh0Z2JVUkROOW82TXciLCJzZXNzaW9uX3N0YXRlIjoiZDIyNmU4Y2MtYTY5Ni00MGU1LWE0YWItOTM4NjllNTI0YzY1IiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImQyMjZlOGNjLWE2OTYtNDBlNS1hNGFiLTkzODY5ZTUyNGM2NSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.F4G4F2wCu46BRmoQLpnsUPGOcSDXrzoaaUjt3yvmAvAB0jJzYKkRaPRB_ohWOrPrIS17DUlRb1I5PlnX4ZLB-6-RerZhNURhigWqWw_zixScyf5l01RXJ1wZbNFyVLG9uUsOjdu2X-o3kezWC_0MEsGqmLvtOZdiTr7kiifa3vYm8yJpygIG68kqdS7YuCN3MKSQsjR5NEbrRS23CGrGYf3_ln6QrILZAJkavAZ-2OmVTF5akNHaBvfP8RU3VcZpCBoouL_foaYMauq_l9Ee5S9qtLTVP3Tt1Wld9R-kVWIcABhPWLiGHBacZ4zsYKmZFS5pMBWNi6zAdnnMfuqO6g\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:53:32Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::http::telemetry::test_send_telemetry_pass::version_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T14:53:34Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T14:53:34Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:53:34Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:53:34Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:53:35Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T14:53:37Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T14:53:37Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:53:37Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:53:38Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTcwMTgsImlhdCI6MTY2OTIxNTIxOCwianRpIjoiMzA0Zjg2MTgtYjIzYS00MGExLTgzOWEtYWRiYmI3YjhjMGUzIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiSkRvNWdab1RjT2VWNHdKSmVPRFhIUSIsInNlc3Npb25fc3RhdGUiOiI4M2QyMDFhNS02Mjg4LTQxOTEtYWZlMS0zOTRjNzRjMzRmZDciLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiODNkMjAxYTUtNjI4OC00MTkxLWFmZTEtMzk0Yzc0YzM0ZmQ3In0.l3twM_TjvVFbXSlXMDCfJ064c8kRm2s-nFsndiqEK1k
[2022-11-23T14:53:38Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T14:53:38Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:53:38Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTcwMTgsImlhdCI6MTY2OTIxNTIxOCwianRpIjoiMzA0Zjg2MTgtYjIzYS00MGExLTgzOWEtYWRiYmI3YjhjMGUzIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiSkRvNWdab1RjT2VWNHdKSmVPRFhIUSIsInNlc3Npb25fc3RhdGUiOiI4M2QyMDFhNS02Mjg4LTQxOTEtYWZlMS0zOTRjNzRjMzRmZDciLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiODNkMjAxYTUtNjI4OC00MTkxLWFmZTEtMzk0Yzc0YzM0ZmQ3In0.l3twM_TjvVFbXSlXMDCfJ064c8kRm2s-nFsndiqEK1k&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T14:53:39Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:53:39Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T14:53:39Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:53:39Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T14:53:39Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTU1MTksImlhdCI6MTY2OTIxNTIxOSwiYXV0aF90aW1lIjoxNjY5MjE1MjE2LCJqdGkiOiJkMjY2ZDEwNy05N2QwLTRhZGYtYTRjYi0xYWI5NjYyZWMwMjciLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IkpEbzVnWm9UY09lVjR3SkplT0RYSFEiLCJzZXNzaW9uX3N0YXRlIjoiODNkMjAxYTUtNjI4OC00MTkxLWFmZTEtMzk0Yzc0YzM0ZmQ3IiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjgzZDIwMWE1LTYyODgtNDE5MS1hZmUxLTM5NGM3NGMzNGZkNyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.V9rDJd8YIxByFKZ74d1ziTWM8HNswbaQAz2gbr148kMdn1dngU5QNKmr9doOQCfDkIASWkaAo46xiS9H_vJeKjrPqaX5XG7v8EpVCL43P2jpWyaZbBCF9F9b9OfhC3i8bYRgQfShh7kY_gx8niX1OXDVwYxvuAtmjJLg8aXqB9vBy71fRposjNgWYEjnzjkYkpPbl8ajFHzVSmWO-XyMT5Jd6Lswv0FET90_EsqexEnO5MKr6-RT_Dd9sNIs1DAX4G3ZikGQDF258js1gQfA2D9KmPd1L-LdWTm8OVXy1OXt-mJ0mMTim00XGwONT5_VgOCHpFtMxhtQ_6jRBbLHWw\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:53:39Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::http::telemetry::test_send_telemetry_pass::version_3

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T14:53:41Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T14:53:41Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:53:41Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:53:41Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:53:42Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T14:53:44Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T14:53:44Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:53:44Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:53:45Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTcwMjUsImlhdCI6MTY2OTIxNTIyNSwianRpIjoiYTAwZDZlMTEtMGU3OC00ZWIzLTg5OWMtOGU1NzQyYjczMjY0IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiSnZYV3dxMGZoYlU2d2toS0R3dEZ4ZyIsInNlc3Npb25fc3RhdGUiOiJiM2JkZDAzMi1hZTUzLTQxZTctYjljYS03ZTM4ZTVlODUzZjMiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiYjNiZGQwMzItYWU1My00MWU3LWI5Y2EtN2UzOGU1ZTg1M2YzIn0.y9lzvoKB1G9kICN4kr_U260eJl24A3ubT_a5B0eR4-k
[2022-11-23T14:53:45Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T14:53:45Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:53:45Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTcwMjUsImlhdCI6MTY2OTIxNTIyNSwianRpIjoiYTAwZDZlMTEtMGU3OC00ZWIzLTg5OWMtOGU1NzQyYjczMjY0IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiSnZYV3dxMGZoYlU2d2toS0R3dEZ4ZyIsInNlc3Npb25fc3RhdGUiOiJiM2JkZDAzMi1hZTUzLTQxZTctYjljYS03ZTM4ZTVlODUzZjMiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiYjNiZGQwMzItYWU1My00MWU3LWI5Y2EtN2UzOGU1ZTg1M2YzIn0.y9lzvoKB1G9kICN4kr_U260eJl24A3ubT_a5B0eR4-k&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T14:53:46Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:53:46Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T14:53:46Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:53:46Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T14:53:46Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTU1MjYsImlhdCI6MTY2OTIxNTIyNiwiYXV0aF90aW1lIjoxNjY5MjE1MjIzLCJqdGkiOiJiZjVmZTdlOS1iNmI3LTQ4MGYtYjM0NS1mNGViOTdhZjAyMmUiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Ikp2WFd3cTBmaGJVNndraEtEd3RGeGciLCJzZXNzaW9uX3N0YXRlIjoiYjNiZGQwMzItYWU1My00MWU3LWI5Y2EtN2UzOGU1ZTg1M2YzIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImIzYmRkMDMyLWFlNTMtNDFlNy1iOWNhLTdlMzhlNWU4NTNmMyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.lgYuYxu5EPilc8ypRKg-8qOMvp_OvLUowHiMwRP_Q5oSv1br9Modq7rwRIMjv87_tY9ydiDfpdKlRaeyqKbye3BqAooc1uyw6LDH5WpzCBLcOy1MLmCN1LWkq71UkVGelLYqo1pgH82iRKDcJ3I1hvX_zb30kZWDG8KFKaWt5DIGitVpVGymPLL-pZXPSANcNbKHH-TTR7qSZgwxNFttyrb9_e9jzDvSfgnZvEFpbOefYLifVm33RFy_laV30q6twKiAA6qyI9V0ZMbvb9dyuv1TE6dMNk74x4eusuKww1xyMIECOId7xKrcNkGWZbMMtwDaX9Mv-pfJgDU-6DNyUA\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:53:46Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::http::telemetry::test_send_telemetry_user::version_1

**Duration**: 6s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T14:53:48Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T14:53:48Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:53:48Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:53:48Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:53:49Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T14:53:51Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T14:53:51Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:53:51Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:53:52Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTcwMzIsImlhdCI6MTY2OTIxNTIzMiwianRpIjoiOWFiOTUzYzYtNzMzYi00YmFkLTk4YTEtMGQxMmJlYTE0ZDdjIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiUWRnbVNyR1U2cVc2bGMzbFBrdjRqZyIsInNlc3Npb25fc3RhdGUiOiJhN2ZiYTUyMy1mNzVmLTRhM2QtODU5NS1mZDg5MmUzNTc5YWMiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiYTdmYmE1MjMtZjc1Zi00YTNkLTg1OTUtZmQ4OTJlMzU3OWFjIn0.MzbAheHpINcgnqAJHK3-dIveEpjLF83gIz_yfrEqOxM
[2022-11-23T14:53:52Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T14:53:52Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:53:52Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTcwMzIsImlhdCI6MTY2OTIxNTIzMiwianRpIjoiOWFiOTUzYzYtNzMzYi00YmFkLTk4YTEtMGQxMmJlYTE0ZDdjIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiUWRnbVNyR1U2cVc2bGMzbFBrdjRqZyIsInNlc3Npb25fc3RhdGUiOiJhN2ZiYTUyMy1mNzVmLTRhM2QtODU5NS1mZDg5MmUzNTc5YWMiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiYTdmYmE1MjMtZjc1Zi00YTNkLTg1OTUtZmQ4OTJlMzU3OWFjIn0.MzbAheHpINcgnqAJHK3-dIveEpjLF83gIz_yfrEqOxM&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T14:53:53Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:53:53Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T14:53:53Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:53:53Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T14:53:53Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTU1MzMsImlhdCI6MTY2OTIxNTIzMywiYXV0aF90aW1lIjoxNjY5MjE1MjMwLCJqdGkiOiI0ZmU1NGEyMS1mZWQxLTRhNGItYTc5Yi1kN2RlM2VjZjQyM2UiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlFkZ21TckdVNnFXNmxjM2xQa3Y0amciLCJzZXNzaW9uX3N0YXRlIjoiYTdmYmE1MjMtZjc1Zi00YTNkLTg1OTUtZmQ4OTJlMzU3OWFjIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImE3ZmJhNTIzLWY3NWYtNGEzZC04NTk1LWZkODkyZTM1NzlhYyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.AszNNyWcnoOXiSNtEnh2qUkM6L8l5UKjfr7zIYCSDZ-_Ph2WwJLueg29H9eE2Qe-nDP7u1caTnxMOli6YTye76hZSyYIcFptRdwz6ngNhOXi2reCScibSBO8rTPwWO1Xu1zEBRgYsSfPSuLYSUR0CCjTd5hCH20iBqCIk4Qv8PPH1ZZTqEMOyIMAQ3J1rXPfq9Bh83OQt7HkqYdeZnn9wz01BfqtjewEEtc-GhHBDkmvZ7sJ5fyDMeqJmd-hENAhZsJQJdAa_1C1JjBMi4HBhgyGipGUkxlzlfBEuUDYNUMq-hpz1JoIGuWvSCRC-qyw8wUwuUTWsmBLJOT9XhQLSg\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:53:53Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::http::telemetry::test_send_telemetry_user::version_2

**Duration**: 6s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T14:53:55Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T14:53:55Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:53:55Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:53:55Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:53:56Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T14:53:58Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T14:53:58Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:53:58Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:53:59Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTcwMzksImlhdCI6MTY2OTIxNTIzOSwianRpIjoiYzJiY2MzMDMtMzZkZC00MjNjLWJkZjAtOGI5OTY5YTYwZTI5IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiejNZMHpHaW5mMy1DbXA4amRtSVpOdyIsInNlc3Npb25fc3RhdGUiOiIzZDZmM2Y3Zi02NTlkLTQxZjQtYTQ3ZS1kYWMyNWM0NWJiYjMiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiM2Q2ZjNmN2YtNjU5ZC00MWY0LWE0N2UtZGFjMjVjNDViYmIzIn0.Hy-ySNNgFiFEj1kKuqgsTFK-quHIspiPpMULtpSfo2U
[2022-11-23T14:53:59Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T14:53:59Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:53:59Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTcwMzksImlhdCI6MTY2OTIxNTIzOSwianRpIjoiYzJiY2MzMDMtMzZkZC00MjNjLWJkZjAtOGI5OTY5YTYwZTI5IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiejNZMHpHaW5mMy1DbXA4amRtSVpOdyIsInNlc3Npb25fc3RhdGUiOiIzZDZmM2Y3Zi02NTlkLTQxZjQtYTQ3ZS1kYWMyNWM0NWJiYjMiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiM2Q2ZjNmN2YtNjU5ZC00MWY0LWE0N2UtZGFjMjVjNDViYmIzIn0.Hy-ySNNgFiFEj1kKuqgsTFK-quHIspiPpMULtpSfo2U&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T14:54:00Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:54:00Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T14:54:00Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:54:00Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T14:54:00Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTU1NDAsImlhdCI6MTY2OTIxNTI0MCwiYXV0aF90aW1lIjoxNjY5MjE1MjM3LCJqdGkiOiJkYTI1NDAwNS0yY2JmLTQxYWMtOWIzZS1mMTNlNGIwNjE5NmMiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InozWTB6R2luZjMtQ21wOGpkbUlaTnciLCJzZXNzaW9uX3N0YXRlIjoiM2Q2ZjNmN2YtNjU5ZC00MWY0LWE0N2UtZGFjMjVjNDViYmIzIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjNkNmYzZjdmLTY1OWQtNDFmNC1hNDdlLWRhYzI1YzQ1YmJiMyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.ezcKyZacH6FuvFNcbpT0ubQpo_ZgD718ywQQGGWNWnguDuXcCxq_BTSlVZcar4d8mfvoo6jYYOUgBU-zU1kwsvhHa9JxDt252MJTrf0j8p5pNhRKtpRC-xlEBgD6i6gZrK8q0Hcq6Mi9mU0myHl8bXEsUQkNIAgm-O5zsmAosmppqcPvEDOsH8YZLJBbwkuKpWhdJ3pW4ZdX0EJeRYGejtkALQ9chUvOajySJvkbL26WSmFkJ8f_ZFok09SkZ5JRKLO7A9ggzmNnn9oo9j9xG4YmAROR9LGKcR8_yeTRvQsFgvFsrMCP6VjBoJerV2Fd5cxIqIlGZGsriay8V6_elg\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:54:00Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::http::telemetry::test_send_telemetry_user::version_3

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T14:54:02Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T14:54:02Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:54:02Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:54:02Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:54:03Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T14:54:05Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T14:54:05Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:54:05Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:54:06Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTcwNDYsImlhdCI6MTY2OTIxNTI0NiwianRpIjoiOWU3YjU0MjAtYjNlNy00YjFlLWJlMjYtMjgzNzRmYzlmZDlhIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiR3lQaEc2NU9ZLS0wSlFKUHU3RnR4QSIsInNlc3Npb25fc3RhdGUiOiJlOWJlZDBhYS0yYTExLTRkZmEtOWE4YS1mZGExNDk3MDAzZmUiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiZTliZWQwYWEtMmExMS00ZGZhLTlhOGEtZmRhMTQ5NzAwM2ZlIn0.ozMHTuX8ZGg7-IL9vf1D774y02hH7ZOt0oAIcfnNhpc
[2022-11-23T14:54:06Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T14:54:06Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:54:06Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTcwNDYsImlhdCI6MTY2OTIxNTI0NiwianRpIjoiOWU3YjU0MjAtYjNlNy00YjFlLWJlMjYtMjgzNzRmYzlmZDlhIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiR3lQaEc2NU9ZLS0wSlFKUHU3RnR4QSIsInNlc3Npb25fc3RhdGUiOiJlOWJlZDBhYS0yYTExLTRkZmEtOWE4YS1mZGExNDk3MDAzZmUiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiZTliZWQwYWEtMmExMS00ZGZhLTlhOGEtZmRhMTQ5NzAwM2ZlIn0.ozMHTuX8ZGg7-IL9vf1D774y02hH7ZOt0oAIcfnNhpc&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T14:54:07Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:54:07Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T14:54:07Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:54:07Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T14:54:07Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTU1NDcsImlhdCI6MTY2OTIxNTI0NywiYXV0aF90aW1lIjoxNjY5MjE1MjQ0LCJqdGkiOiI0ODE5ZTk2Yi03NmQ3LTQ3ZjgtYmRhOS00NDg4ODc2YjQxM2UiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Ikd5UGhHNjVPWS0tMEpRSlB1N0Z0eEEiLCJzZXNzaW9uX3N0YXRlIjoiZTliZWQwYWEtMmExMS00ZGZhLTlhOGEtZmRhMTQ5NzAwM2ZlIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImU5YmVkMGFhLTJhMTEtNGRmYS05YThhLWZkYTE0OTcwMDNmZSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.FQ5tc7YzhSu65ImV0zEyQuRSwUeAvZ5KsCgt381xJkncJ3nhN_SLSKM6QburoNuaXo5Q63huInXqX_FUCVZk_qJH1Spxh6FQWpdPXSRkg8MKzZgjzkA8JOAkmby6d0NZ2wyttADlnlFwvq3UOQAaUgu0icx6sjocdWfFaeKA3H52OLEk3VquUpuBzl3CRhj1j_0D0lI-CjPJvIzK-4lAGVVCHbZ-X1VfXanodFwFt89QYQ_f8NCFAc_lFnIkSsQRr9stkddUBdy9VYaHwwuyVypt6i5skTzlvDuHG9uf0B3X7mdaHCPfagvjgCnknpSq2bjt3w_ByypFgCYArtsTNg\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:54:07Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::http::telemetry::test_send_telemetry_user_alias::version_1

**Duration**: 6s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T14:54:09Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T14:54:09Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:54:09Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:54:09Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:54:10Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T14:54:12Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T14:54:12Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:54:12Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:54:13Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTcwNTMsImlhdCI6MTY2OTIxNTI1MywianRpIjoiNTc1MTNlZDUtOTM3NS00MjY0LWEyOTItNjg1NDA2NWNlMjc5IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiUV9jZ0trLUpLT185YlJiTExfVFdCdyIsInNlc3Npb25fc3RhdGUiOiI0NjNhMWJjMC04MTM0LTRmNzctOTIxZS02OWI2NjAyZjk2YmQiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiNDYzYTFiYzAtODEzNC00Zjc3LTkyMWUtNjliNjYwMmY5NmJkIn0.e3b5aPHSubIcwk6t7W3cxG3eBLnSn__a_wCtPdTDFqY
[2022-11-23T14:54:13Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T14:54:13Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:54:13Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTcwNTMsImlhdCI6MTY2OTIxNTI1MywianRpIjoiNTc1MTNlZDUtOTM3NS00MjY0LWEyOTItNjg1NDA2NWNlMjc5IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiUV9jZ0trLUpLT185YlJiTExfVFdCdyIsInNlc3Npb25fc3RhdGUiOiI0NjNhMWJjMC04MTM0LTRmNzctOTIxZS02OWI2NjAyZjk2YmQiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiNDYzYTFiYzAtODEzNC00Zjc3LTkyMWUtNjliNjYwMmY5NmJkIn0.e3b5aPHSubIcwk6t7W3cxG3eBLnSn__a_wCtPdTDFqY&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T14:54:14Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:54:14Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T14:54:14Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:54:14Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T14:54:14Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTU1NTQsImlhdCI6MTY2OTIxNTI1NCwiYXV0aF90aW1lIjoxNjY5MjE1MjUxLCJqdGkiOiIyYWQzOWNjMy02OGQ4LTQ2NjItOWMwYy03YWMwM2ViODg1OTMiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlFfY2dLay1KS09fOWJSYkxMX1RXQnciLCJzZXNzaW9uX3N0YXRlIjoiNDYzYTFiYzAtODEzNC00Zjc3LTkyMWUtNjliNjYwMmY5NmJkIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjQ2M2ExYmMwLTgxMzQtNGY3Ny05MjFlLTY5YjY2MDJmOTZiZCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.NQP_6VVTHNzU6x3A92NpqUQKiz_nYQaR4-BlEQDdtEGuQsG_Ftiig2MM6nkZJ8HB5-mUFfPLjYvcQTPDFDRc_zbeMRAIYfNwcczJat7X9SE3u8buD8raM_Tarak_lkEI-XZ_Qn78CckDot54_UNKGIfLGtZ-BKFFCWGGzub4qL1BtbGu9xH8_t1cm_CA9wpCZAGIg3HqgsmOQ_zdic0y7nKYX25HVi57dWZFubHem4aH97elxmZR6E0zaI9YyNlNSzZ2f3kK-CJNFKCGaKzZH0ZpuGmmJ7buB8VXkyI5hZvUXbWqT8a2plFKSxuIxxYzHfgo2GqR9hiT1WcBUv6MRQ\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:54:14Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::http::telemetry::test_send_telemetry_user_alias::version_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T14:54:16Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T14:54:16Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:54:16Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:54:16Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:54:17Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T14:54:19Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T14:54:19Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:54:19Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:54:20Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTcwNjAsImlhdCI6MTY2OTIxNTI2MCwianRpIjoiOTBiMTRhYzktMDNiMy00ZjgzLWI4M2YtYWNlZWY4ZWFjYzAyIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiQUhsN0VJaEYyQ2hvOUlLNE43czh3USIsInNlc3Npb25fc3RhdGUiOiJkYjAwYzk5My1jZDlhLTQzZjYtYWNmMS05Nzg4MmZkODlkMTQiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiZGIwMGM5OTMtY2Q5YS00M2Y2LWFjZjEtOTc4ODJmZDg5ZDE0In0.Vn-d-DH67OkTbl436XxxCuUHfC4Pe5B1CIzfSAlffv8
[2022-11-23T14:54:20Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T14:54:20Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:54:20Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTcwNjAsImlhdCI6MTY2OTIxNTI2MCwianRpIjoiOTBiMTRhYzktMDNiMy00ZjgzLWI4M2YtYWNlZWY4ZWFjYzAyIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiQUhsN0VJaEYyQ2hvOUlLNE43czh3USIsInNlc3Npb25fc3RhdGUiOiJkYjAwYzk5My1jZDlhLTQzZjYtYWNmMS05Nzg4MmZkODlkMTQiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiZGIwMGM5OTMtY2Q5YS00M2Y2LWFjZjEtOTc4ODJmZDg5ZDE0In0.Vn-d-DH67OkTbl436XxxCuUHfC4Pe5B1CIzfSAlffv8&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T14:54:21Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:54:21Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T14:54:21Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:54:21Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T14:54:21Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTU1NjEsImlhdCI6MTY2OTIxNTI2MSwiYXV0aF90aW1lIjoxNjY5MjE1MjU4LCJqdGkiOiI5M2QzNjQyZi05MDBmLTRkY2MtYTY2Yy1lOWNhZTIxNDVhNjciLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IkFIbDdFSWhGMkNobzlJSzRON3M4d1EiLCJzZXNzaW9uX3N0YXRlIjoiZGIwMGM5OTMtY2Q5YS00M2Y2LWFjZjEtOTc4ODJmZDg5ZDE0IiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImRiMDBjOTkzLWNkOWEtNDNmNi1hY2YxLTk3ODgyZmQ4OWQxNCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.jUDw822ncg8MDwBzSaBMTPsRnYfVw1TjfrRrUsxSBMWlw1G3p-etm5xNy_jmNwsaiXyjLDYxw9kvEWu-ExomVAaBkrdSD3575-z7FGEQkXC370CzCPj1QkydZmim3U2LvuvgQ9M3KT_OLxoG8fGH_HrdwEUPx7_2VFwnNZw8lW8AitbK0ezMSX_vxb154HFZc7snaFTZgU5iH7U2y_A69Y9WoSGucReyFHE9nDzXpANv1mAho3jxfhOrdJejZ6dLc0M36yhpPfZMq41Eik3FXP_JyTeDOtlo-HUpM0gca7V189nt-_bjRNeFiMJNx1NHVnEMlgDDhbNwU1F3f4bCMQ\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:54:21Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::http::telemetry::test_send_telemetry_user_alias::version_3

**Duration**: 6s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T14:54:23Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T14:54:23Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:54:23Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:54:23Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:54:24Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T14:54:25Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T14:54:25Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:54:25Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:54:27Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTcwNjcsImlhdCI6MTY2OTIxNTI2NywianRpIjoiYmU4ODZhOWEtZGNiMS00OTUyLWEyMWQtZGM2MmM3ZGFiM2JjIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiLThCc2ZnQXhWQUtndm1ObEJnUGJxUSIsInNlc3Npb25fc3RhdGUiOiI1YmM2M2NlNy1iNmY2LTQwMTQtOTlhZS1mNDgyZGEyYWY5NzciLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiNWJjNjNjZTctYjZmNi00MDE0LTk5YWUtZjQ4MmRhMmFmOTc3In0.Z80Dm75mchamY-kaligjMOtfb2Nqlnk85eiM-w_2BLg
[2022-11-23T14:54:27Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T14:54:27Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:54:27Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTcwNjcsImlhdCI6MTY2OTIxNTI2NywianRpIjoiYmU4ODZhOWEtZGNiMS00OTUyLWEyMWQtZGM2MmM3ZGFiM2JjIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiLThCc2ZnQXhWQUtndm1ObEJnUGJxUSIsInNlc3Npb25fc3RhdGUiOiI1YmM2M2NlNy1iNmY2LTQwMTQtOTlhZS1mNDgyZGEyYWY5NzciLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiNWJjNjNjZTctYjZmNi00MDE0LTk5YWUtZjQ4MmRhMmFmOTc3In0.Z80Dm75mchamY-kaligjMOtfb2Nqlnk85eiM-w_2BLg&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T14:54:27Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:54:28Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T14:54:28Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:54:28Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T14:54:28Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTU1NjcsImlhdCI6MTY2OTIxNTI2NywiYXV0aF90aW1lIjoxNjY5MjE1MjY0LCJqdGkiOiI1NTM0NDI1ZC04OTI1LTQwMjUtYWY3Ny0zZWJkYTE0MGRhNmMiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Ii04QnNmZ0F4VkFLZ3ZtTmxCZ1BicVEiLCJzZXNzaW9uX3N0YXRlIjoiNWJjNjNjZTctYjZmNi00MDE0LTk5YWUtZjQ4MmRhMmFmOTc3IiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjViYzYzY2U3LWI2ZjYtNDAxNC05OWFlLWY0ODJkYTJhZjk3NyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.RFFBSSMZxtLTlVu4YfM0NFuWVoWiu-9gBNBDaCbr4dqVFprMODIR2vqZak_ULe05EuCmHdo79bYTZD7XQdai1mCp0FbZPC5nKJi8QpjAebWS2hLXqidc3Jlj5i9BIvMtVQhm1KGDh_1HB4zIad116aYSh4NXU5ZRPRXFGkamKTSRJsr_YAujxvnGi1vDAacP4W7Rn4xYUz4_Yo9egdWb1x8Dtjnrc1D2u6slhZX7MKl2ApyMZi0RcAkJHxcj9rHO4vnaLWAqd3z9jROIhvxSVXpFCa_MpNT2CNu4BkHL-z3NOhChrGzbJ7gI55pUB72Heg0FRRq4h5-o68yMKuCD8w\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:54:28Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::http::telemetry::test_send_telemetry_user_only::version_1

**Duration**: 6s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T14:54:30Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T14:54:30Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:54:30Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:54:30Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:54:31Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T14:54:32Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T14:54:32Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:54:32Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:54:34Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTcwNzQsImlhdCI6MTY2OTIxNTI3NCwianRpIjoiNzJjZTcyYWEtMmRkZi00OGRiLTlhMzctNTdlM2MxZjM3Yjg3IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiZjgzdjhMbVNwQ3hfMVUzYVdOcWJYdyIsInNlc3Npb25fc3RhdGUiOiI1MmZkNTA4Mi1jMmE5LTQ4N2QtYWNlMy0wZGU4MTk2MWM3NDEiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiNTJmZDUwODItYzJhOS00ODdkLWFjZTMtMGRlODE5NjFjNzQxIn0.WIG4ya8Xqmwn4VR0WeKf5jiJGC1msmqeIHxTlIs5-U8
[2022-11-23T14:54:34Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T14:54:34Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:54:34Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTcwNzQsImlhdCI6MTY2OTIxNTI3NCwianRpIjoiNzJjZTcyYWEtMmRkZi00OGRiLTlhMzctNTdlM2MxZjM3Yjg3IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiZjgzdjhMbVNwQ3hfMVUzYVdOcWJYdyIsInNlc3Npb25fc3RhdGUiOiI1MmZkNTA4Mi1jMmE5LTQ4N2QtYWNlMy0wZGU4MTk2MWM3NDEiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiNTJmZDUwODItYzJhOS00ODdkLWFjZTMtMGRlODE5NjFjNzQxIn0.WIG4ya8Xqmwn4VR0WeKf5jiJGC1msmqeIHxTlIs5-U8&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T14:54:34Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:54:35Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T14:54:35Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:54:35Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T14:54:35Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTU1NzQsImlhdCI6MTY2OTIxNTI3NCwiYXV0aF90aW1lIjoxNjY5MjE1MjcxLCJqdGkiOiJlOGUyYzNiZS04MjI2LTQwNWMtYjA0Mi1mODg5ZmI4ZTEwZjEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImY4M3Y4TG1TcEN4XzFVM2FXTnFiWHciLCJzZXNzaW9uX3N0YXRlIjoiNTJmZDUwODItYzJhOS00ODdkLWFjZTMtMGRlODE5NjFjNzQxIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjUyZmQ1MDgyLWMyYTktNDg3ZC1hY2UzLTBkZTgxOTYxYzc0MSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.hWn7mw6KpMt3fIHcVWN4HY5fDMKEtwJEUlVsgn4wL2SaL7OSQ6lftfjuXwJ96YkH_R90EgbITtCFVaJ_Rc0K2OXH7Qeu8FuwXRxPOdK3a0CLcbLULUIrAArILMJF6MbyOtlMTkdEZXK-jt3Ye8MBl4BKwqVi_QB84_lOkDDvMZKKpcgqThAnVkSw8GA8hX4l3WRYQxy1R2l3QWCgYFx94_-2nyCo9fMg8xdls7RgEwW6BuLXpCh1oUVv7asQXXHfaqeR_dxA-FygYYbhLebpyZbWTqWIgeWBg9-JmhlgR3dPFTGot7pP8XPd2ZYGRrhkwFpI1vHn9POd4fSODcK0dg\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:54:35Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::http::telemetry::test_send_telemetry_user_only::version_2

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T14:54:37Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T14:54:37Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:54:37Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:54:37Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:54:38Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T14:54:39Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T14:54:39Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:54:39Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:54:41Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTcwODEsImlhdCI6MTY2OTIxNTI4MSwianRpIjoiZDhhYWI4NmYtMWRhZi00NDU5LWIxOGQtNzk4NWYzYjJkZTFjIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiVDEzZENfa3c5NUNIZVJTazQtWkhLUSIsInNlc3Npb25fc3RhdGUiOiI2YTMzMWRjNC01Nzc3LTQ1NmYtYTc3NC0xZmZkM2NjZWM5MjciLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiNmEzMzFkYzQtNTc3Ny00NTZmLWE3NzQtMWZmZDNjY2VjOTI3In0.PtgPH8wWp2U5W1bOBQxpCgE21NxFnoM_4-0MYi5VO-I
[2022-11-23T14:54:41Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T14:54:41Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:54:41Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTcwODEsImlhdCI6MTY2OTIxNTI4MSwianRpIjoiZDhhYWI4NmYtMWRhZi00NDU5LWIxOGQtNzk4NWYzYjJkZTFjIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiVDEzZENfa3c5NUNIZVJTazQtWkhLUSIsInNlc3Npb25fc3RhdGUiOiI2YTMzMWRjNC01Nzc3LTQ1NmYtYTc3NC0xZmZkM2NjZWM5MjciLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiNmEzMzFkYzQtNTc3Ny00NTZmLWE3NzQtMWZmZDNjY2VjOTI3In0.PtgPH8wWp2U5W1bOBQxpCgE21NxFnoM_4-0MYi5VO-I&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T14:54:41Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:54:42Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T14:54:42Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:54:42Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T14:54:42Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTU1ODEsImlhdCI6MTY2OTIxNTI4MSwiYXV0aF90aW1lIjoxNjY5MjE1Mjc4LCJqdGkiOiI5NmM4ODEwMC03NjkxLTQ5OGItYWQ0MS1kYjdmODE2ODJlZTgiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlQxM2RDX2t3OTVDSGVSU2s0LVpIS1EiLCJzZXNzaW9uX3N0YXRlIjoiNmEzMzFkYzQtNTc3Ny00NTZmLWE3NzQtMWZmZDNjY2VjOTI3IiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjZhMzMxZGM0LTU3NzctNDU2Zi1hNzc0LTFmZmQzY2NlYzkyNyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.Kd105yQ36k1BFZOykWvKXMXS0Wz1Cs0QYQcJFYpj2W_5b2yGTY4ZRqlgN_OvTmE2fdwGz4Ql73EPoarqF-TQ74r-RwlPr-4FeVueH3pxcOwvuKwd5Z8JbFteHMuFOFsDO0VqMMcPPQcT0WPU57HauHlpHrTyltq4oMeUB6JegvcJe0qxAfqJ9SVTdB0_h5YYoSxvrKCdYnNzmULex0MjQ7HtZM-FhjbR3Pob20Rqx_6YHWpaPAj2b90m0KfVjXm937KWukULRhTlP5yygfeYqpf3uYozRtD5DNHsMcjOIgOInHBf4zmOAncikPJDA1E6Zstyl_rXmFEevzXKiS8jag\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:54:42Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::http::telemetry::test_send_telemetry_user_only::version_3

**Duration**: 6s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T14:54:44Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T14:54:44Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:54:44Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:54:44Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:54:45Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T14:54:46Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T14:54:46Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:54:46Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:54:48Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTcwODgsImlhdCI6MTY2OTIxNTI4OCwianRpIjoiYmVhNjkwZDUtZTVkMy00MzkyLWI3MjktNDZmOTkxMzY0YzdmIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoidHVJYl9GU3g0QW0zVU5PVlZiUXFsQSIsInNlc3Npb25fc3RhdGUiOiJiMzVjYjUwMi04ZWNmLTRjMmMtODQ2OS03YTRhODdiMmY1ODIiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiYjM1Y2I1MDItOGVjZi00YzJjLTg0NjktN2E0YTg3YjJmNTgyIn0.QjwnIQmhxsRFR6sXJGGQQF2yky8lzN7jYsuN3Ujpn0Q
[2022-11-23T14:54:48Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T14:54:48Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:54:48Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTcwODgsImlhdCI6MTY2OTIxNTI4OCwianRpIjoiYmVhNjkwZDUtZTVkMy00MzkyLWI3MjktNDZmOTkxMzY0YzdmIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoidHVJYl9GU3g0QW0zVU5PVlZiUXFsQSIsInNlc3Npb25fc3RhdGUiOiJiMzVjYjUwMi04ZWNmLTRjMmMtODQ2OS03YTRhODdiMmY1ODIiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiYjM1Y2I1MDItOGVjZi00YzJjLTg0NjktN2E0YTg3YjJmNTgyIn0.QjwnIQmhxsRFR6sXJGGQQF2yky8lzN7jYsuN3Ujpn0Q&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T14:54:48Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:54:49Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T14:54:49Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:54:49Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T14:54:49Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTU1ODgsImlhdCI6MTY2OTIxNTI4OCwiYXV0aF90aW1lIjoxNjY5MjE1Mjg1LCJqdGkiOiJlODllZmQyMi03NjMxLTRkMTQtYTRjMi0yMTc0NDlmNjE1MjkiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InR1SWJfRlN4NEFtM1VOT1ZWYlFxbEEiLCJzZXNzaW9uX3N0YXRlIjoiYjM1Y2I1MDItOGVjZi00YzJjLTg0NjktN2E0YTg3YjJmNTgyIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImIzNWNiNTAyLThlY2YtNGMyYy04NDY5LTdhNGE4N2IyZjU4MiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.QeyP9E1oEy7iA1FquJVhw8wyjWg5XJGng-7WE9KWxYtgHuIOEVUh3ukBQYRidw_xsRUUvQnCUWD1KNYh_4zldTYbVZdvO_rP_FguLBBDYaF0afsSpbD9EBO1-g-Ew_4MddSzjuCY8PbE5T2Da-L0aY2BqjfKz8oFC3FIoYzq1ams3IUQAbBG-ZPr9FySK2rb32-nFXrnmlMKwKNgLTCHeATMptzAnZocoEUbtmqcjIk863xSwwGYEGbWe6HDEpFs79J33eVDo8nl0v-kZ8gjBN10j2x_N1yS7P5z1VFwBW4-k9C7EIcU_XpH7wisbmiI-N0UncXMTGtid03Ts41GSw\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:54:49Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::integration::test_qos_1_dropping

**Duration**: 6s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T14:54:51Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T14:54:51Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:54:51Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:54:51Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:54:52Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T14:54:53Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T14:54:53Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:54:53Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:54:55Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTcwOTUsImlhdCI6MTY2OTIxNTI5NSwianRpIjoiMTg5MjZjN2YtMmMwZS00ZDFhLWI4MTUtZmE4OTBhNDYwODM4IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiQ2VmQkJQN3dOaW5xWUJMSU1jVVAyQSIsInNlc3Npb25fc3RhdGUiOiJjOTg0Mzg3OS1iYmMwLTQ3ODEtYTU1MS04MTZlYmRkZWE4NWIiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiYzk4NDM4NzktYmJjMC00NzgxLWE1NTEtODE2ZWJkZGVhODViIn0.XMA6XyevLL12cp7rZv5-Re0cq2az5nBHVy-GqlmRN2c
[2022-11-23T14:54:55Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T14:54:55Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:54:55Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTcwOTUsImlhdCI6MTY2OTIxNTI5NSwianRpIjoiMTg5MjZjN2YtMmMwZS00ZDFhLWI4MTUtZmE4OTBhNDYwODM4IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiQ2VmQkJQN3dOaW5xWUJMSU1jVVAyQSIsInNlc3Npb25fc3RhdGUiOiJjOTg0Mzg3OS1iYmMwLTQ3ODEtYTU1MS04MTZlYmRkZWE4NWIiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiYzk4NDM4NzktYmJjMC00NzgxLWE1NTEtODE2ZWJkZGVhODViIn0.XMA6XyevLL12cp7rZv5-Re0cq2az5nBHVy-GqlmRN2c&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T14:54:55Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:54:56Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T14:54:56Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:54:56Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T14:54:56Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTU1OTUsImlhdCI6MTY2OTIxNTI5NSwiYXV0aF90aW1lIjoxNjY5MjE1MjkyLCJqdGkiOiIwZTMyZGQ4OC0xOGM5LTRiMDctYjdhYy03N2RlZmRmNTJkNDkiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IkNlZkJCUDd3TmlucVlCTElNY1VQMkEiLCJzZXNzaW9uX3N0YXRlIjoiYzk4NDM4NzktYmJjMC00NzgxLWE1NTEtODE2ZWJkZGVhODViIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImM5ODQzODc5LWJiYzAtNDc4MS1hNTUxLTgxNmViZGRlYTg1YiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.Gsm77eUaVH5EECrzhu3Rpx4y5KhS4c9-KdMDnZa_wybNRNs1CwwF9cDvI7aDGzNzWPNqm_J_ZLqgXp_BbH2MesXQ-91ms3RA63J1vVVUFfNoN_dm0zZWU5mI5f4VcGN7iU1UEJ2AzKAeu_VkjKffeSpGl01Za-wlYSdw-hChswi0bqwoUkE4yrKcoR2w9dkbUYdzhIw5nmCV593hHbbZYoVhFQDgniVM4uH16o6KkpbOgZpYiMwK10jQ9j-v_mP8IgnjTHcPYVqI_lyNTqEYmsAP3vzIxfo1DC3nSZLXGyrLM41EqMbjWHvwVdBCKVcB3Mbxe7e_K1HFFv0J69Cdfg\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:54:56Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::command::gateway::version_1::ws_1

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T14:54:58Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T14:54:58Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:54:58Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:54:58Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:54:59Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T14:55:00Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T14:55:00Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:55:00Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:55:02Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTcxMDIsImlhdCI6MTY2OTIxNTMwMiwianRpIjoiNTM2ZGNlNzktNDVjMy00MmI4LWFkYjYtMDdmMTg4ZjQzZThiIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiekJLdFkzWXhGUHVVMXYxel9jZmQ4USIsInNlc3Npb25fc3RhdGUiOiJjYTA5ZWE4OC0xMzRmLTQ4ZGUtOWZhYi03NzgyODc0YmRlNzYiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiY2EwOWVhODgtMTM0Zi00OGRlLTlmYWItNzc4Mjg3NGJkZTc2In0.Fj1e6vj36dDE_N-OPHWloNx0q3F89Robl9r5DQf5jdA
[2022-11-23T14:55:02Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T14:55:02Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:55:02Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTcxMDIsImlhdCI6MTY2OTIxNTMwMiwianRpIjoiNTM2ZGNlNzktNDVjMy00MmI4LWFkYjYtMDdmMTg4ZjQzZThiIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiekJLdFkzWXhGUHVVMXYxel9jZmQ4USIsInNlc3Npb25fc3RhdGUiOiJjYTA5ZWE4OC0xMzRmLTQ4ZGUtOWZhYi03NzgyODc0YmRlNzYiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiY2EwOWVhODgtMTM0Zi00OGRlLTlmYWItNzc4Mjg3NGJkZTc2In0.Fj1e6vj36dDE_N-OPHWloNx0q3F89Robl9r5DQf5jdA&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T14:55:02Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:55:03Z INFO  drogue_cloud_tests::resources::apps] Create application: c650f67e-c8d0-4e68-8cb0-e78411906bdb
[2022-11-23T14:55:03Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;c650f67e-c8d0-4e68-8cb0-e78411906bdb&quot;
[2022-11-23T14:55:03Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:55:03Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;c650f67e-c8d0-4e68-8cb0-e78411906bdb&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T14:55:03Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;c650f67e-c8d0-4e68-8cb0-e78411906bdb\&quot;,\n    \&quot;uid\&quot;: \&quot;304472fc-05a8-46ec-8d0f-dac220053f97\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T14:55:03.252579Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;04d16265-1d00-407a-a6e9-b4122e436e15\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:03.311108356Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:03.320025664Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:03.320067401Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:03.281741767Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:03.281742268Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:03.281751115Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:03.281821595Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:03.281797069Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:55:03Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;c650f67e-c8d0-4e68-8cb0-e78411906bdb&quot;), &quot;uid&quot;: String(&quot;304472fc-05a8-46ec-8d0f-dac220053f97&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T14:55:03.252579Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;04d16265-1d00-407a-a6e9-b4122e436e15&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:03.311108356Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:03.320025664Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:03.320067401Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:03.281741767Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:03.281742268Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:03.281751115Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:03.281821595Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:03.281797069Z&quot;)}]}}
[2022-11-23T14:55:03Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-11-23T14:55:04Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;c650f67e-c8d0-4e68-8cb0-e78411906bdb&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T14:55:04Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;c650f67e-c8d0-4e68-8cb0-e78411906bdb\&quot;,\n    \&quot;uid\&quot;: \&quot;304472fc-05a8-46ec-8d0f-dac220053f97\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T14:55:03.252579Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;33e76291-90f1-4cea-a559-fc7e7c8a84da\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;Y7lJXPYdJr0W\&quot;,\n        \&quot;username\&quot;: \&quot;user-c650f67e-c8d0-4e68-8cb0-e78411906bdb\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:03.311108356Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:03.320025664Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:03.427321663Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:03.434096062Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:03.538733992Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:03.538804493Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:03.538975654Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:03.538836052Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:55:04Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;c650f67e-c8d0-4e68-8cb0-e78411906bdb&quot;), &quot;uid&quot;: String(&quot;304472fc-05a8-46ec-8d0f-dac220053f97&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T14:55:03.252579Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;33e76291-90f1-4cea-a559-fc7e7c8a84da&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;Y7lJXPYdJr0W&quot;), &quot;username&quot;: String(&quot;user-c650f67e-c8d0-4e68-8cb0-e78411906bdb&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:03.311108356Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:03.320025664Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:03.427321663Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:03.434096062Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:03.538733992Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:03.538804493Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:03.538975654Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:03.538836052Z&quot;)}]}}
[2022-11-23T14:55:04Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-11-23T14:55:04Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;c650f67e-c8d0-4e68-8cb0-e78411906bdb&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T14:55:04Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;c650f67e-c8d0-4e68-8cb0-e78411906bdb\&quot;,\n    \&quot;uid\&quot;: \&quot;304472fc-05a8-46ec-8d0f-dac220053f97\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T14:55:03.252579Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;33e76291-90f1-4cea-a559-fc7e7c8a84da\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;Y7lJXPYdJr0W\&quot;,\n        \&quot;username\&quot;: \&quot;user-c650f67e-c8d0-4e68-8cb0-e78411906bdb\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:03.311108356Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:03.320025664Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:03.427321663Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:03.434096062Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:03.538733992Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:03.538804493Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:03.538975654Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:03.538836052Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:55:04Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;c650f67e-c8d0-4e68-8cb0-e78411906bdb&quot;), &quot;uid&quot;: String(&quot;304472fc-05a8-46ec-8d0f-dac220053f97&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T14:55:03.252579Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;33e76291-90f1-4cea-a559-fc7e7c8a84da&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;Y7lJXPYdJr0W&quot;), &quot;username&quot;: String(&quot;user-c650f67e-c8d0-4e68-8cb0-e78411906bdb&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:03.311108356Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:03.320025664Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:03.427321663Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:03.434096062Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:03.538733992Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:03.538804493Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:03.538975654Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:03.538836052Z&quot;)}]}}
[2022-11-23T14:55:04Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-11-23T14:55:04Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-11-23T14:55:04Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;c650f67e-c8d0-4e68-8cb0-e78411906bdb&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-11-23T14:55:04Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:55:04Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-11-23T14:55:04Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;c650f67e-c8d0-4e68-8cb0-e78411906bdb&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-11-23T14:55:04Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:55:04Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T14:55:04Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:55:04Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T14:55:04Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTU2MDIsImlhdCI6MTY2OTIxNTMwMiwiYXV0aF90aW1lIjoxNjY5MjE1Mjk5LCJqdGkiOiJlNmMyMTQ4Yy0xMDAwLTRlNDgtYjAyNi0yZjY5NzVjMmQ3OTQiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InpCS3RZM1l4RlB1VTF2MXpfY2ZkOFEiLCJzZXNzaW9uX3N0YXRlIjoiY2EwOWVhODgtMTM0Zi00OGRlLTlmYWItNzc4Mjg3NGJkZTc2IiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImNhMDllYTg4LTEzNGYtNDhkZS05ZmFiLTc3ODI4NzRiZGU3NiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.lLiPVSUePtPi5PjKSONSz-_yRufMXk2fqtO49aAnCcOMZ-nBZCBdjWA0mXyj-q1uU1fJXtYORKVsr5CvtXthTlsaQXJcj-EmHzN_ch4jslDIsfuOh-HpZ4vtwwknCN6b1AAqLaXTV3h730bXFJ1s1zffyrVWhfDHSVGIVfXs0dmfngi-70UubSJ5YyiSb_nWJPoEVw90tP6S6p5h_1eouJzlgXgi-xkE1vndbJQ19XFRsmc2x3zeerWwMpUqkpym0kur1SLEMfXOSyZPEQJ0QVvgG1SROeoCVzz-DNJU9iuADILyEzxhpMnrC87hXEMbQGKvq_sJREcHAllbWWVwjA\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:55:04Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:55:04Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-11-23T14:55:04Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;c650f67e-c8d0-4e68-8cb0-e78411906bdb&quot; &quot;device1&quot;
[2022-11-23T14:55:04Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:55:04Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-11-23T14:55:04Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;c650f67e-c8d0-4e68-8cb0-e78411906bdb&quot; &quot;gateway1&quot;
[2022-11-23T14:55:04Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:55:04Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;c650f67e-c8d0-4e68-8cb0-e78411906bdb&#x27;
[2022-11-23T14:55:04Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;c650f67e-c8d0-4e68-8cb0-e78411906bdb&quot;
[2022-11-23T14:55:04Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::command::gateway::version_1::ws_2

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T14:55:07Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T14:55:07Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:55:07Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:55:07Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:55:08Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T14:55:09Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T14:55:09Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:55:09Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:55:11Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTcxMTEsImlhdCI6MTY2OTIxNTMxMSwianRpIjoiMmM4MjY3MDEtODJlNy00YjhiLTkzZTUtMzE4NjUxOTlmNjNkIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoibUFsM1RrQ19HREE3U0JvMmF3Tjc0ZyIsInNlc3Npb25fc3RhdGUiOiI4ZGMyZThkNi0xNDYyLTQ5YjEtOTViMC1iNDk4MmFmNjRjMDEiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiOGRjMmU4ZDYtMTQ2Mi00OWIxLTk1YjAtYjQ5ODJhZjY0YzAxIn0.0HqtTQ6r4C_c78wEmqITDuGwsHrfVjqivWzjr28gXHY
[2022-11-23T14:55:11Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T14:55:11Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:55:11Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTcxMTEsImlhdCI6MTY2OTIxNTMxMSwianRpIjoiMmM4MjY3MDEtODJlNy00YjhiLTkzZTUtMzE4NjUxOTlmNjNkIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoibUFsM1RrQ19HREE3U0JvMmF3Tjc0ZyIsInNlc3Npb25fc3RhdGUiOiI4ZGMyZThkNi0xNDYyLTQ5YjEtOTViMC1iNDk4MmFmNjRjMDEiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiOGRjMmU4ZDYtMTQ2Mi00OWIxLTk1YjAtYjQ5ODJhZjY0YzAxIn0.0HqtTQ6r4C_c78wEmqITDuGwsHrfVjqivWzjr28gXHY&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T14:55:11Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:55:11Z INFO  drogue_cloud_tests::resources::apps] Create application: 858a9226-ba89-4aa3-a629-3c3f9143d2db
[2022-11-23T14:55:11Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;858a9226-ba89-4aa3-a629-3c3f9143d2db&quot;
[2022-11-23T14:55:11Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:55:11Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;858a9226-ba89-4aa3-a629-3c3f9143d2db&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T14:55:12Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;858a9226-ba89-4aa3-a629-3c3f9143d2db\&quot;,\n    \&quot;uid\&quot;: \&quot;87c930be-6926-4df7-a62e-41eefc7128fb\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T14:55:11.961663Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;b2a9c2a2-9a99-4da5-8787-0a5fb9e248e1\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:12.015248219Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:12.021495943Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:12.021560544Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:11.986441455Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:11.986441976Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:11.986452445Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:11.986477793Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:11.986503341Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:55:12Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;858a9226-ba89-4aa3-a629-3c3f9143d2db&quot;), &quot;uid&quot;: String(&quot;87c930be-6926-4df7-a62e-41eefc7128fb&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T14:55:11.961663Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;b2a9c2a2-9a99-4da5-8787-0a5fb9e248e1&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:12.015248219Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:12.021495943Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:12.021560544Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:11.986441455Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:11.986441976Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:11.986452445Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:11.986477793Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:11.986503341Z&quot;)}]}}
[2022-11-23T14:55:12Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-11-23T14:55:13Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;858a9226-ba89-4aa3-a629-3c3f9143d2db&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T14:55:13Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;858a9226-ba89-4aa3-a629-3c3f9143d2db\&quot;,\n    \&quot;uid\&quot;: \&quot;87c930be-6926-4df7-a62e-41eefc7128fb\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T14:55:11.961663Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;0d6a0981-1202-4d77-b92c-3a2fc42acce7\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;YHOjiVyyqG06\&quot;,\n        \&quot;username\&quot;: \&quot;user-858a9226-ba89-4aa3-a629-3c3f9143d2db\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:12.015248219Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:12.021495943Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:12.111649937Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:12.116906448Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:12.229690104Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:12.229716683Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:12.229748954Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:12.229801321Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:55:13Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;858a9226-ba89-4aa3-a629-3c3f9143d2db&quot;), &quot;uid&quot;: String(&quot;87c930be-6926-4df7-a62e-41eefc7128fb&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T14:55:11.961663Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;0d6a0981-1202-4d77-b92c-3a2fc42acce7&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;YHOjiVyyqG06&quot;), &quot;username&quot;: String(&quot;user-858a9226-ba89-4aa3-a629-3c3f9143d2db&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:12.015248219Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:12.021495943Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:12.111649937Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:12.116906448Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:12.229690104Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:12.229716683Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:12.229748954Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:12.229801321Z&quot;)}]}}
[2022-11-23T14:55:13Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-11-23T14:55:13Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;858a9226-ba89-4aa3-a629-3c3f9143d2db&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T14:55:13Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;858a9226-ba89-4aa3-a629-3c3f9143d2db\&quot;,\n    \&quot;uid\&quot;: \&quot;87c930be-6926-4df7-a62e-41eefc7128fb\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T14:55:11.961663Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;0d6a0981-1202-4d77-b92c-3a2fc42acce7\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;YHOjiVyyqG06\&quot;,\n        \&quot;username\&quot;: \&quot;user-858a9226-ba89-4aa3-a629-3c3f9143d2db\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:12.015248219Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:12.021495943Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:12.111649937Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:12.116906448Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:12.229690104Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:12.229716683Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:12.229748954Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:12.229801321Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:55:13Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;858a9226-ba89-4aa3-a629-3c3f9143d2db&quot;), &quot;uid&quot;: String(&quot;87c930be-6926-4df7-a62e-41eefc7128fb&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T14:55:11.961663Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;0d6a0981-1202-4d77-b92c-3a2fc42acce7&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;YHOjiVyyqG06&quot;), &quot;username&quot;: String(&quot;user-858a9226-ba89-4aa3-a629-3c3f9143d2db&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:12.015248219Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:12.021495943Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:12.111649937Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:12.116906448Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:12.229690104Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:12.229716683Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:12.229748954Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:12.229801321Z&quot;)}]}}
[2022-11-23T14:55:13Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-11-23T14:55:13Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-11-23T14:55:13Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;858a9226-ba89-4aa3-a629-3c3f9143d2db&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-11-23T14:55:13Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:55:13Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-11-23T14:55:13Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;858a9226-ba89-4aa3-a629-3c3f9143d2db&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-11-23T14:55:13Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:55:13Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T14:55:13Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:55:13Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T14:55:13Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTU2MTEsImlhdCI6MTY2OTIxNTMxMSwiYXV0aF90aW1lIjoxNjY5MjE1MzA4LCJqdGkiOiJmNDI5ZjFlOC1lMGIyLTQwYjMtYjNiNy0zYTNlMWFjNWJhZjciLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Im1BbDNUa0NfR0RBN1NCbzJhd043NGciLCJzZXNzaW9uX3N0YXRlIjoiOGRjMmU4ZDYtMTQ2Mi00OWIxLTk1YjAtYjQ5ODJhZjY0YzAxIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjhkYzJlOGQ2LTE0NjItNDliMS05NWIwLWI0OTgyYWY2NGMwMSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.HFVWyKYrtaRregqRJJtSTqboiRiwGA5yZi6P-E_mhZniIYQdRkculUzRKBmV2RAYpK0ct-WwYUNgqWcbC7cgI_QhL4fz2g5NGLKAoiSY_ka6djLX-bwqwtJ1qfBkbpHaD97BWpNLU9zSdlpAn-I73gZWqrd6kyj62O5H64bWO6Rm3pXLUb353x2NVGiwrwqbcZpQaGKovsDXnmo_E4tjtEqmAO2Epqe5By4zowxtoEjWlwy_pdSc5IQ9j5N08K53hr_Vhlw0ap540cY02SXhVn8W1Rz_51SJM6p-8LjUi9CP6AvBU1hBIRPula0uSed-RUvAQrA-O9bipYFnwmj-bQ\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:55:13Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:55:13Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-11-23T14:55:13Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;858a9226-ba89-4aa3-a629-3c3f9143d2db&quot; &quot;device1&quot;
[2022-11-23T14:55:13Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:55:13Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-11-23T14:55:13Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;858a9226-ba89-4aa3-a629-3c3f9143d2db&quot; &quot;gateway1&quot;
[2022-11-23T14:55:13Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:55:13Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;858a9226-ba89-4aa3-a629-3c3f9143d2db&#x27;
[2022-11-23T14:55:13Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;858a9226-ba89-4aa3-a629-3c3f9143d2db&quot;
[2022-11-23T14:55:13Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::command::gateway::version_2::ws_1

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T14:55:15Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T14:55:15Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:55:15Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:55:15Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:55:16Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T14:55:17Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T14:55:18Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:55:18Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:55:19Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTcxMTksImlhdCI6MTY2OTIxNTMxOSwianRpIjoiZDE0ZTljZDItNzJkNS00ZjBmLTk1YjktOWY2Y2RlOTA4ZGVkIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiZmQyNzRBQmoxR3hLWjdSdjZ2OFNvZyIsInNlc3Npb25fc3RhdGUiOiI1YzkwZTlhOS1mMTQwLTRlMWMtYWRkMC0xYmJlOGFmYjAyYjciLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiNWM5MGU5YTktZjE0MC00ZTFjLWFkZDAtMWJiZThhZmIwMmI3In0.nTFzbC3AUcY0tliOpOaJ-auVVo6kxadsZOm41l2-N98
[2022-11-23T14:55:19Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T14:55:19Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:55:19Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTcxMTksImlhdCI6MTY2OTIxNTMxOSwianRpIjoiZDE0ZTljZDItNzJkNS00ZjBmLTk1YjktOWY2Y2RlOTA4ZGVkIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiZmQyNzRBQmoxR3hLWjdSdjZ2OFNvZyIsInNlc3Npb25fc3RhdGUiOiI1YzkwZTlhOS1mMTQwLTRlMWMtYWRkMC0xYmJlOGFmYjAyYjciLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiNWM5MGU5YTktZjE0MC00ZTFjLWFkZDAtMWJiZThhZmIwMmI3In0.nTFzbC3AUcY0tliOpOaJ-auVVo6kxadsZOm41l2-N98&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T14:55:19Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:55:20Z INFO  drogue_cloud_tests::resources::apps] Create application: 34e9530a-ea75-4eaf-88a7-7614f5a159f1
[2022-11-23T14:55:20Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;34e9530a-ea75-4eaf-88a7-7614f5a159f1&quot;
[2022-11-23T14:55:20Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:55:20Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;34e9530a-ea75-4eaf-88a7-7614f5a159f1&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T14:55:20Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;34e9530a-ea75-4eaf-88a7-7614f5a159f1\&quot;,\n    \&quot;uid\&quot;: \&quot;23c28bfc-eec0-46e5-a6a1-874487d949e6\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T14:55:20.592101Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;2f5f3b64-51cb-4d12-95e3-f3c84e85fce7\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:20.638767730Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:20.645439438Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:20.645474374Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:20.604725073Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:20.604725915Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:20.604773985Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:20.604841311Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:20.604957789Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:55:20Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;34e9530a-ea75-4eaf-88a7-7614f5a159f1&quot;), &quot;uid&quot;: String(&quot;23c28bfc-eec0-46e5-a6a1-874487d949e6&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T14:55:20.592101Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;2f5f3b64-51cb-4d12-95e3-f3c84e85fce7&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:20.638767730Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:20.645439438Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:20.645474374Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:20.604725073Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:20.604725915Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:20.604773985Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:20.604841311Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:20.604957789Z&quot;)}]}}
[2022-11-23T14:55:20Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-11-23T14:55:21Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;34e9530a-ea75-4eaf-88a7-7614f5a159f1&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T14:55:21Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;34e9530a-ea75-4eaf-88a7-7614f5a159f1\&quot;,\n    \&quot;uid\&quot;: \&quot;23c28bfc-eec0-46e5-a6a1-874487d949e6\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T14:55:20.592101Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;0c55f7b5-e062-40fc-a92e-6f1602de6239\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;E6rKim4dbWrd\&quot;,\n        \&quot;username\&quot;: \&quot;user-34e9530a-ea75-4eaf-88a7-7614f5a159f1\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:20.638767730Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:20.645439438Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:20.755377705Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:20.762846724Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:20.889668556Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:20.889732415Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:20.889784684Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:20.889875833Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:55:21Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;34e9530a-ea75-4eaf-88a7-7614f5a159f1&quot;), &quot;uid&quot;: String(&quot;23c28bfc-eec0-46e5-a6a1-874487d949e6&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T14:55:20.592101Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;0c55f7b5-e062-40fc-a92e-6f1602de6239&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;E6rKim4dbWrd&quot;), &quot;username&quot;: String(&quot;user-34e9530a-ea75-4eaf-88a7-7614f5a159f1&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:20.638767730Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:20.645439438Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:20.755377705Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:20.762846724Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:20.889668556Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:20.889732415Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:20.889784684Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:20.889875833Z&quot;)}]}}
[2022-11-23T14:55:21Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-11-23T14:55:21Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;34e9530a-ea75-4eaf-88a7-7614f5a159f1&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T14:55:21Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;34e9530a-ea75-4eaf-88a7-7614f5a159f1\&quot;,\n    \&quot;uid\&quot;: \&quot;23c28bfc-eec0-46e5-a6a1-874487d949e6\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T14:55:20.592101Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;0c55f7b5-e062-40fc-a92e-6f1602de6239\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;E6rKim4dbWrd\&quot;,\n        \&quot;username\&quot;: \&quot;user-34e9530a-ea75-4eaf-88a7-7614f5a159f1\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:20.638767730Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:20.645439438Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:20.755377705Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:20.762846724Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:20.889668556Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:20.889732415Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:20.889784684Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:20.889875833Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:55:21Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;34e9530a-ea75-4eaf-88a7-7614f5a159f1&quot;), &quot;uid&quot;: String(&quot;23c28bfc-eec0-46e5-a6a1-874487d949e6&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T14:55:20.592101Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;0c55f7b5-e062-40fc-a92e-6f1602de6239&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;E6rKim4dbWrd&quot;), &quot;username&quot;: String(&quot;user-34e9530a-ea75-4eaf-88a7-7614f5a159f1&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:20.638767730Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:20.645439438Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:20.755377705Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:20.762846724Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:20.889668556Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:20.889732415Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:20.889784684Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:20.889875833Z&quot;)}]}}
[2022-11-23T14:55:21Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-11-23T14:55:21Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-11-23T14:55:21Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;34e9530a-ea75-4eaf-88a7-7614f5a159f1&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-11-23T14:55:21Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:55:21Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-11-23T14:55:21Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;34e9530a-ea75-4eaf-88a7-7614f5a159f1&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-11-23T14:55:21Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:55:21Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T14:55:21Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:55:21Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T14:55:21Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTU2MTksImlhdCI6MTY2OTIxNTMxOSwiYXV0aF90aW1lIjoxNjY5MjE1MzE3LCJqdGkiOiI3MzQwOWY1OC1lYjgyLTQ2OTctYTJlMC1iNGMwNDQ2NDNkZDQiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImZkMjc0QUJqMUd4S1o3UnY2djhTb2ciLCJzZXNzaW9uX3N0YXRlIjoiNWM5MGU5YTktZjE0MC00ZTFjLWFkZDAtMWJiZThhZmIwMmI3IiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjVjOTBlOWE5LWYxNDAtNGUxYy1hZGQwLTFiYmU4YWZiMDJiNyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.hGcaHqFEHNxoqercY8x8b-_OyZTiSUncDthw1TVJvR9F7eI1XhHn4Q4fM9TCEZ_HOrVjeUmu34PIlkmam6xtTdQhG1J4CHd88nzYyp62kjRP6AOyBA3HciIiGaeSXAVjNZTyCD71883HvZLCEomqw5amedX31LK8bilDHS6-tNyp5u6qtl7DkJaT8s3X3mACa6eLLrEw4eCtLsMJnQ-ccRVqFYsNl38G6YeWh53TirFSR09-UvVGyS8xIulUndqh16ayVQ3lr5LasjlUzoGzkZk2BgPo4si1RLq3mBunXinEbA7LfzoaAOt051bAdAPz67pF7OmWjtGF8ur1G0TPMg\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:55:21Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:55:21Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-11-23T14:55:21Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;34e9530a-ea75-4eaf-88a7-7614f5a159f1&quot; &quot;device1&quot;
[2022-11-23T14:55:22Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:55:22Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-11-23T14:55:22Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;34e9530a-ea75-4eaf-88a7-7614f5a159f1&quot; &quot;gateway1&quot;
[2022-11-23T14:55:22Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:55:22Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;34e9530a-ea75-4eaf-88a7-7614f5a159f1&#x27;
[2022-11-23T14:55:22Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;34e9530a-ea75-4eaf-88a7-7614f5a159f1&quot;
[2022-11-23T14:55:22Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::command::gateway::version_2::ws_2

**Duration**: 9s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T14:55:24Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T14:55:24Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:55:24Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:55:24Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:55:25Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T14:55:26Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T14:55:26Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:55:26Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:55:28Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTcxMjgsImlhdCI6MTY2OTIxNTMyOCwianRpIjoiYjZiN2YxNWEtZGQ1NS00NjY0LTliMzUtOGI0NTRmMGI4OGI3IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiM2MzbHFXZXhKbjNWSTRPeWd3dmlydyIsInNlc3Npb25fc3RhdGUiOiJhN2U3NDc5NC00YTUxLTQ4ODMtODBhOS1iYzU4YWIyZTRjY2MiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiYTdlNzQ3OTQtNGE1MS00ODgzLTgwYTktYmM1OGFiMmU0Y2NjIn0.LSGJMgJ2vuD9LfRu0LNkre0XiHyJtYeniIoCoHtciYs
[2022-11-23T14:55:28Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T14:55:28Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:55:28Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTcxMjgsImlhdCI6MTY2OTIxNTMyOCwianRpIjoiYjZiN2YxNWEtZGQ1NS00NjY0LTliMzUtOGI0NTRmMGI4OGI3IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiM2MzbHFXZXhKbjNWSTRPeWd3dmlydyIsInNlc3Npb25fc3RhdGUiOiJhN2U3NDc5NC00YTUxLTQ4ODMtODBhOS1iYzU4YWIyZTRjY2MiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiYTdlNzQ3OTQtNGE1MS00ODgzLTgwYTktYmM1OGFiMmU0Y2NjIn0.LSGJMgJ2vuD9LfRu0LNkre0XiHyJtYeniIoCoHtciYs&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T14:55:29Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:55:29Z INFO  drogue_cloud_tests::resources::apps] Create application: 4bc5e701-fa80-4b0d-b4d3-b0dda7691c4e
[2022-11-23T14:55:29Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;4bc5e701-fa80-4b0d-b4d3-b0dda7691c4e&quot;
[2022-11-23T14:55:29Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:55:29Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;4bc5e701-fa80-4b0d-b4d3-b0dda7691c4e&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T14:55:30Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;4bc5e701-fa80-4b0d-b4d3-b0dda7691c4e\&quot;,\n    \&quot;uid\&quot;: \&quot;99e2ff33-7a68-4fdd-aeef-4876990bf35e\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T14:55:29.981174Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;3100a928-9b91-4ca6-95f3-3b591ebf27c3\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:30.041661959Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:30.050731431Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:30.050766567Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:30.008680115Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:30.008680636Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:30.008731141Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:30.008840826Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:30.008796724Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:55:30Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;4bc5e701-fa80-4b0d-b4d3-b0dda7691c4e&quot;), &quot;uid&quot;: String(&quot;99e2ff33-7a68-4fdd-aeef-4876990bf35e&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T14:55:29.981174Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;3100a928-9b91-4ca6-95f3-3b591ebf27c3&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:30.041661959Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:30.050731431Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:30.050766567Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:30.008680115Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:30.008680636Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:30.008731141Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:30.008840826Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:30.008796724Z&quot;)}]}}
[2022-11-23T14:55:30Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-11-23T14:55:31Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;4bc5e701-fa80-4b0d-b4d3-b0dda7691c4e&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T14:55:31Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;4bc5e701-fa80-4b0d-b4d3-b0dda7691c4e\&quot;,\n    \&quot;uid\&quot;: \&quot;99e2ff33-7a68-4fdd-aeef-4876990bf35e\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T14:55:29.981174Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;1f0b0ca1-866e-4aeb-a4bd-5f8c436ebccd\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;MJKm38DDbnFU\&quot;,\n        \&quot;username\&quot;: \&quot;user-4bc5e701-fa80-4b0d-b4d3-b0dda7691c4e\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:30.041661959Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:30.050731431Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:30.230154324Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:30.239909027Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:30.450440740Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:30.450457462Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:30.450681251Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:30.450483321Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:55:31Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;4bc5e701-fa80-4b0d-b4d3-b0dda7691c4e&quot;), &quot;uid&quot;: String(&quot;99e2ff33-7a68-4fdd-aeef-4876990bf35e&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T14:55:29.981174Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;1f0b0ca1-866e-4aeb-a4bd-5f8c436ebccd&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;MJKm38DDbnFU&quot;), &quot;username&quot;: String(&quot;user-4bc5e701-fa80-4b0d-b4d3-b0dda7691c4e&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:30.041661959Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:30.050731431Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:30.230154324Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:30.239909027Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:30.450440740Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:30.450457462Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:30.450681251Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:30.450483321Z&quot;)}]}}
[2022-11-23T14:55:31Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-11-23T14:55:31Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;4bc5e701-fa80-4b0d-b4d3-b0dda7691c4e&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T14:55:31Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;4bc5e701-fa80-4b0d-b4d3-b0dda7691c4e\&quot;,\n    \&quot;uid\&quot;: \&quot;99e2ff33-7a68-4fdd-aeef-4876990bf35e\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T14:55:29.981174Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;1f0b0ca1-866e-4aeb-a4bd-5f8c436ebccd\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;MJKm38DDbnFU\&quot;,\n        \&quot;username\&quot;: \&quot;user-4bc5e701-fa80-4b0d-b4d3-b0dda7691c4e\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:30.041661959Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:30.050731431Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:30.230154324Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:30.239909027Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:30.450440740Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:30.450457462Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:30.450681251Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:30.450483321Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:55:31Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;4bc5e701-fa80-4b0d-b4d3-b0dda7691c4e&quot;), &quot;uid&quot;: String(&quot;99e2ff33-7a68-4fdd-aeef-4876990bf35e&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T14:55:29.981174Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;1f0b0ca1-866e-4aeb-a4bd-5f8c436ebccd&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;MJKm38DDbnFU&quot;), &quot;username&quot;: String(&quot;user-4bc5e701-fa80-4b0d-b4d3-b0dda7691c4e&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:30.041661959Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:30.050731431Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:30.230154324Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:30.239909027Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:30.450440740Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:30.450457462Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:30.450681251Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:30.450483321Z&quot;)}]}}
[2022-11-23T14:55:31Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-11-23T14:55:31Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-11-23T14:55:31Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;4bc5e701-fa80-4b0d-b4d3-b0dda7691c4e&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-11-23T14:55:31Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:55:31Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-11-23T14:55:31Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;4bc5e701-fa80-4b0d-b4d3-b0dda7691c4e&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-11-23T14:55:31Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:55:31Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T14:55:31Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:55:31Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T14:55:31Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTU2MjksImlhdCI6MTY2OTIxNTMyOSwiYXV0aF90aW1lIjoxNjY5MjE1MzI1LCJqdGkiOiIxNmExODBlOC0wNmViLTQwZTAtOGU3Yi0wYjdmNTA0YTRhZmYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IjNjM2xxV2V4Sm4zVkk0T3lnd3ZpcnciLCJzZXNzaW9uX3N0YXRlIjoiYTdlNzQ3OTQtNGE1MS00ODgzLTgwYTktYmM1OGFiMmU0Y2NjIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImE3ZTc0Nzk0LTRhNTEtNDg4My04MGE5LWJjNThhYjJlNGNjYyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.eN2PqeEMjr-udhy4bmohdca01AAWiXYhjCXeKbRo4cCGNWqwzzQxc5vfMKT8arTuWoxxbmg0aopMBR5CBm3Z0GRcxKgXR6Y8VA44cAg4aGX77XY3pEfDSOMs-sTNAm7zj-dFyLHzEAjdngblgllRCUUvscF9cC22HQs5PlOARXqOdw_37Vp5xXgSj9nxZhCpBEDRM8AAfE9HpjBScIsBAruHyoUBENSwpJyhhb1WnVxV1_1ObFxLM53Oj-CxA-G08hIItQq4TNmNy8LW18yraU4kfWPRk5pqxkS6-X9SpJQ-CwZrkNFkXP4MjIaUDIQ69wgTPM7BQen84ri6FpGosg\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:55:31Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:55:31Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-11-23T14:55:31Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;4bc5e701-fa80-4b0d-b4d3-b0dda7691c4e&quot; &quot;device1&quot;
[2022-11-23T14:55:31Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:55:31Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-11-23T14:55:31Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;4bc5e701-fa80-4b0d-b4d3-b0dda7691c4e&quot; &quot;gateway1&quot;
[2022-11-23T14:55:31Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:55:31Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;4bc5e701-fa80-4b0d-b4d3-b0dda7691c4e&#x27;
[2022-11-23T14:55:31Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;4bc5e701-fa80-4b0d-b4d3-b0dda7691c4e&quot;
[2022-11-23T14:55:31Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::command::gateway::version_3::ws_1

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T14:55:33Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T14:55:33Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:55:33Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:55:33Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:55:34Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T14:55:35Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T14:55:36Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:55:36Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:55:37Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTcxMzcsImlhdCI6MTY2OTIxNTMzNywianRpIjoiNjY4ODMyOGYtOGU3Ny00ZjBjLWExMDUtZWM4OTQ5ZTcxYjQwIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoia01nSzkxVEVZYTF4Q3dnU2lWc29xdyIsInNlc3Npb25fc3RhdGUiOiIzOTEwZGEwMy04NjcyLTQ4NzgtYTNhYS1iNzJhYTU3NTNlNTMiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMzkxMGRhMDMtODY3Mi00ODc4LWEzYWEtYjcyYWE1NzUzZTUzIn0.1_vyjHJ-s-pjkiMu0tRb_uZIC-JSpobOkQQCJSWr0Mc
[2022-11-23T14:55:37Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T14:55:37Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:55:37Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTcxMzcsImlhdCI6MTY2OTIxNTMzNywianRpIjoiNjY4ODMyOGYtOGU3Ny00ZjBjLWExMDUtZWM4OTQ5ZTcxYjQwIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoia01nSzkxVEVZYTF4Q3dnU2lWc29xdyIsInNlc3Npb25fc3RhdGUiOiIzOTEwZGEwMy04NjcyLTQ4NzgtYTNhYS1iNzJhYTU3NTNlNTMiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMzkxMGRhMDMtODY3Mi00ODc4LWEzYWEtYjcyYWE1NzUzZTUzIn0.1_vyjHJ-s-pjkiMu0tRb_uZIC-JSpobOkQQCJSWr0Mc&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T14:55:37Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:55:38Z INFO  drogue_cloud_tests::resources::apps] Create application: 46fe6123-53f6-48a8-83f5-a1a0ad126129
[2022-11-23T14:55:38Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;46fe6123-53f6-48a8-83f5-a1a0ad126129&quot;
[2022-11-23T14:55:38Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:55:38Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;46fe6123-53f6-48a8-83f5-a1a0ad126129&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T14:55:38Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;46fe6123-53f6-48a8-83f5-a1a0ad126129\&quot;,\n    \&quot;uid\&quot;: \&quot;39288b69-c627-486f-a6de-e35c7f129dbd\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T14:55:38.550958Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;9890e5cb-153b-4d22-9d21-d3ee1e437ba1\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:38.621736438Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:38.628640080Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:38.628686947Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:38.581868074Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:38.581868625Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:38.581882240Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:38.581960727Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:38.581908500Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:55:38Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;46fe6123-53f6-48a8-83f5-a1a0ad126129&quot;), &quot;uid&quot;: String(&quot;39288b69-c627-486f-a6de-e35c7f129dbd&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T14:55:38.550958Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;9890e5cb-153b-4d22-9d21-d3ee1e437ba1&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:38.621736438Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:38.628640080Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:38.628686947Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:38.581868074Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:38.581868625Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:38.581882240Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:38.581960727Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:38.581908500Z&quot;)}]}}
[2022-11-23T14:55:38Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-11-23T14:55:39Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;46fe6123-53f6-48a8-83f5-a1a0ad126129&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T14:55:39Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;46fe6123-53f6-48a8-83f5-a1a0ad126129\&quot;,\n    \&quot;uid\&quot;: \&quot;39288b69-c627-486f-a6de-e35c7f129dbd\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T14:55:38.550958Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;a77d2c9c-f95c-403b-9556-1109b78b831f\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;zpMNK5NdwKrU\&quot;,\n        \&quot;username\&quot;: \&quot;user-46fe6123-53f6-48a8-83f5-a1a0ad126129\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:38.621736438Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:38.628640080Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:38.716902102Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:38.723110764Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:38.834805882Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:38.834829076Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:38.835004453Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:38.834919574Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:55:39Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;46fe6123-53f6-48a8-83f5-a1a0ad126129&quot;), &quot;uid&quot;: String(&quot;39288b69-c627-486f-a6de-e35c7f129dbd&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T14:55:38.550958Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;a77d2c9c-f95c-403b-9556-1109b78b831f&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;zpMNK5NdwKrU&quot;), &quot;username&quot;: String(&quot;user-46fe6123-53f6-48a8-83f5-a1a0ad126129&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:38.621736438Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:38.628640080Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:38.716902102Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:38.723110764Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:38.834805882Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:38.834829076Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:38.835004453Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:38.834919574Z&quot;)}]}}
[2022-11-23T14:55:39Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-11-23T14:55:39Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;46fe6123-53f6-48a8-83f5-a1a0ad126129&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T14:55:39Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;46fe6123-53f6-48a8-83f5-a1a0ad126129\&quot;,\n    \&quot;uid\&quot;: \&quot;39288b69-c627-486f-a6de-e35c7f129dbd\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T14:55:38.550958Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;a77d2c9c-f95c-403b-9556-1109b78b831f\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;zpMNK5NdwKrU\&quot;,\n        \&quot;username\&quot;: \&quot;user-46fe6123-53f6-48a8-83f5-a1a0ad126129\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:38.621736438Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:38.628640080Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:38.716902102Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:38.723110764Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:38.834805882Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:38.834829076Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:38.835004453Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:38.834919574Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:55:39Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;46fe6123-53f6-48a8-83f5-a1a0ad126129&quot;), &quot;uid&quot;: String(&quot;39288b69-c627-486f-a6de-e35c7f129dbd&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T14:55:38.550958Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;a77d2c9c-f95c-403b-9556-1109b78b831f&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;zpMNK5NdwKrU&quot;), &quot;username&quot;: String(&quot;user-46fe6123-53f6-48a8-83f5-a1a0ad126129&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:38.621736438Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:38.628640080Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:38.716902102Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:38.723110764Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:38.834805882Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:38.834829076Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:38.835004453Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:38.834919574Z&quot;)}]}}
[2022-11-23T14:55:39Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-11-23T14:55:39Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-11-23T14:55:39Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;46fe6123-53f6-48a8-83f5-a1a0ad126129&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-11-23T14:55:39Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:55:39Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-11-23T14:55:39Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;46fe6123-53f6-48a8-83f5-a1a0ad126129&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-11-23T14:55:39Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:55:39Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T14:55:39Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:55:39Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T14:55:39Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTU2MzcsImlhdCI6MTY2OTIxNTMzNywiYXV0aF90aW1lIjoxNjY5MjE1MzM1LCJqdGkiOiI3NDdjOWZjZC02MGE0LTQ5NjMtYWUxNy03ZjA1MTQxNWY2NDIiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImtNZ0s5MVRFWWExeEN3Z1NpVnNvcXciLCJzZXNzaW9uX3N0YXRlIjoiMzkxMGRhMDMtODY3Mi00ODc4LWEzYWEtYjcyYWE1NzUzZTUzIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjM5MTBkYTAzLTg2NzItNDg3OC1hM2FhLWI3MmFhNTc1M2U1MyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.MJIx9SrgGr5BzPYoBCsaGSeUa_64yb41YxSNbVmLOMzZQ-SPexJ_Pt31ZkBp10eUycrcgvWDZpJXtq1AzpZEnmrsD_lKfqBvm0tgk5RCgdpV_zeSCV0I9UjPCNmmjXCU43gg9iiWLRNS9s1mzvoqiirZfTItXdpsRH9uOxBoVE2RxTz08qC5b0Bh6tKmsI5IsCIolYFmIxOOTea9QNZArkN--AxZiDXgvbjebGKNxPHuK5bVfMz6yJGO7HCs8-i-gIatnxXeg7FUyRwqwHnZP9i37ikYRPG1Xt6na37t9GQSbfuWxKcm_ksXGHSG5OJa9m6s0gcrB7tbIZ6qW7GE0w\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:55:39Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:55:39Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-11-23T14:55:39Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;46fe6123-53f6-48a8-83f5-a1a0ad126129&quot; &quot;device1&quot;
[2022-11-23T14:55:40Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:55:40Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-11-23T14:55:40Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;46fe6123-53f6-48a8-83f5-a1a0ad126129&quot; &quot;gateway1&quot;
[2022-11-23T14:55:40Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:55:40Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;46fe6123-53f6-48a8-83f5-a1a0ad126129&#x27;
[2022-11-23T14:55:40Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;46fe6123-53f6-48a8-83f5-a1a0ad126129&quot;
[2022-11-23T14:55:40Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::command::gateway::version_3::ws_2

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T14:55:42Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T14:55:42Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:55:42Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:55:42Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:55:43Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T14:55:44Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T14:55:44Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:55:44Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:55:46Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTcxNDYsImlhdCI6MTY2OTIxNTM0NiwianRpIjoiNGEyMTcxMzItMjI2My00ODRlLTllMjQtMjUxMDJmOTgwNWUwIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiUGtvb09TOXZWZHAwS21yYnlQcF9qZyIsInNlc3Npb25fc3RhdGUiOiIwN2VmZTk2OC1iYTY0LTQ0MzEtOTRlYS0yN2RmMWY5ZjVjZjYiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMDdlZmU5NjgtYmE2NC00NDMxLTk0ZWEtMjdkZjFmOWY1Y2Y2In0.YANkeOApt7FoSsfNA4u9KC2OXRdIU58TPMQRxHAxNNM
[2022-11-23T14:55:46Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T14:55:46Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:55:46Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTcxNDYsImlhdCI6MTY2OTIxNTM0NiwianRpIjoiNGEyMTcxMzItMjI2My00ODRlLTllMjQtMjUxMDJmOTgwNWUwIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiUGtvb09TOXZWZHAwS21yYnlQcF9qZyIsInNlc3Npb25fc3RhdGUiOiIwN2VmZTk2OC1iYTY0LTQ0MzEtOTRlYS0yN2RmMWY5ZjVjZjYiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMDdlZmU5NjgtYmE2NC00NDMxLTk0ZWEtMjdkZjFmOWY1Y2Y2In0.YANkeOApt7FoSsfNA4u9KC2OXRdIU58TPMQRxHAxNNM&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T14:55:46Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:55:47Z INFO  drogue_cloud_tests::resources::apps] Create application: e4e183d2-e591-48aa-a23b-6a1737624707
[2022-11-23T14:55:47Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;e4e183d2-e591-48aa-a23b-6a1737624707&quot;
[2022-11-23T14:55:47Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:55:47Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;e4e183d2-e591-48aa-a23b-6a1737624707&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T14:55:47Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;e4e183d2-e591-48aa-a23b-6a1737624707\&quot;,\n    \&quot;uid\&quot;: \&quot;a8d5aae2-0082-4892-ac67-902bc77a6b36\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T14:55:47.146534Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;943b2ec2-40cb-4746-a702-d1fba98aea14\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:47.188404871Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:47.193622810Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:47.193655411Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:47.160021656Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:47.160022167Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:47.160088872Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:47.160140078Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:47.160171477Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:55:47Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;e4e183d2-e591-48aa-a23b-6a1737624707&quot;), &quot;uid&quot;: String(&quot;a8d5aae2-0082-4892-ac67-902bc77a6b36&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T14:55:47.146534Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;943b2ec2-40cb-4746-a702-d1fba98aea14&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:47.188404871Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:47.193622810Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:47.193655411Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:47.160021656Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:47.160022167Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:47.160088872Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:47.160140078Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:47.160171477Z&quot;)}]}}
[2022-11-23T14:55:47Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-11-23T14:55:48Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;e4e183d2-e591-48aa-a23b-6a1737624707&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T14:55:48Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;e4e183d2-e591-48aa-a23b-6a1737624707\&quot;,\n    \&quot;uid\&quot;: \&quot;a8d5aae2-0082-4892-ac67-902bc77a6b36\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T14:55:47.146534Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;f0a9d7ae-3338-4a20-9b76-d91f3bac0297\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;yy9ZYAZ8OUaM\&quot;,\n        \&quot;username\&quot;: \&quot;user-e4e183d2-e591-48aa-a23b-6a1737624707\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:47.188404871Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:47.193622810Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:47.269476899Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:47.278057296Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:47.425893612Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:47.426013376Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:47.426178545Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:47.426305512Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:55:48Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;e4e183d2-e591-48aa-a23b-6a1737624707&quot;), &quot;uid&quot;: String(&quot;a8d5aae2-0082-4892-ac67-902bc77a6b36&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T14:55:47.146534Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;f0a9d7ae-3338-4a20-9b76-d91f3bac0297&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;yy9ZYAZ8OUaM&quot;), &quot;username&quot;: String(&quot;user-e4e183d2-e591-48aa-a23b-6a1737624707&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:47.188404871Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:47.193622810Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:47.269476899Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:47.278057296Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:47.425893612Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:47.426013376Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:47.426178545Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:47.426305512Z&quot;)}]}}
[2022-11-23T14:55:48Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-11-23T14:55:48Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;e4e183d2-e591-48aa-a23b-6a1737624707&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T14:55:48Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;e4e183d2-e591-48aa-a23b-6a1737624707\&quot;,\n    \&quot;uid\&quot;: \&quot;a8d5aae2-0082-4892-ac67-902bc77a6b36\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T14:55:47.146534Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;f0a9d7ae-3338-4a20-9b76-d91f3bac0297\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;yy9ZYAZ8OUaM\&quot;,\n        \&quot;username\&quot;: \&quot;user-e4e183d2-e591-48aa-a23b-6a1737624707\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:47.188404871Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:47.193622810Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:47.269476899Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:47.278057296Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:47.425893612Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:47.426013376Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:47.426178545Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:47.426305512Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:55:48Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;e4e183d2-e591-48aa-a23b-6a1737624707&quot;), &quot;uid&quot;: String(&quot;a8d5aae2-0082-4892-ac67-902bc77a6b36&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T14:55:47.146534Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;f0a9d7ae-3338-4a20-9b76-d91f3bac0297&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;yy9ZYAZ8OUaM&quot;), &quot;username&quot;: String(&quot;user-e4e183d2-e591-48aa-a23b-6a1737624707&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:47.188404871Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:47.193622810Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:47.269476899Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:47.278057296Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:47.425893612Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:47.426013376Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:47.426178545Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:47.426305512Z&quot;)}]}}
[2022-11-23T14:55:48Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-11-23T14:55:48Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-11-23T14:55:48Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;e4e183d2-e591-48aa-a23b-6a1737624707&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-11-23T14:55:48Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:55:48Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-11-23T14:55:48Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;e4e183d2-e591-48aa-a23b-6a1737624707&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-11-23T14:55:48Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:55:48Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T14:55:48Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:55:48Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T14:55:48Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTU2NDYsImlhdCI6MTY2OTIxNTM0NiwiYXV0aF90aW1lIjoxNjY5MjE1MzQzLCJqdGkiOiJkMmQwMjQzYy04Yjk1LTQzOTgtYjQwOC1jZGQ5MTQzMTNhMmYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlBrb29PUzl2VmRwMEttcmJ5UHBfamciLCJzZXNzaW9uX3N0YXRlIjoiMDdlZmU5NjgtYmE2NC00NDMxLTk0ZWEtMjdkZjFmOWY1Y2Y2IiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjA3ZWZlOTY4LWJhNjQtNDQzMS05NGVhLTI3ZGYxZjlmNWNmNiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.cxB5r2k5XFmHsZqukYcGy9D250AZX-l3eU2pLRulufqWEgVmJysg3Pcrbm_8y0q6L_80y1S9wiCgB1zRWlR36Vi744gGf2wVJAZfM4HOhFIRVksN_zEf2v6eYyzQA8GajCHLTPkrkTXSK2ezp_JO9KOC94ftEuGvT5-dAZa7TFuLNLPqSQOHOyKgHrQAgA5zXiWo3w1dHv2BwSvHhHWSWeNMBSFsGqtGOsBOB2sb-sLKL_LGR1_Gtjf7jeuvYs-uhoTHqS1Z6q9QrmYplnPM3m3qb_UtjgVbimjegYvRRbmEWjCIhVUrU7_qKYZhBuF6Bzk70CUlKwEgZ8Bz1OmMkA\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:55:48Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:55:48Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-11-23T14:55:48Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;e4e183d2-e591-48aa-a23b-6a1737624707&quot; &quot;device1&quot;
[2022-11-23T14:55:48Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:55:48Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-11-23T14:55:48Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;e4e183d2-e591-48aa-a23b-6a1737624707&quot; &quot;gateway1&quot;
[2022-11-23T14:55:48Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:55:48Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;e4e183d2-e591-48aa-a23b-6a1737624707&#x27;
[2022-11-23T14:55:48Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;e4e183d2-e591-48aa-a23b-6a1737624707&quot;
[2022-11-23T14:55:48Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::command::gateway_direct::version_1::ws_1

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T14:55:50Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T14:55:50Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:55:50Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:55:50Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:55:51Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T14:55:53Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T14:55:53Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:55:53Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:55:54Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTcxNTQsImlhdCI6MTY2OTIxNTM1NCwianRpIjoiZmRlOWQxMmMtMTJkYS00ZGE0LTljNDQtMzdiNDgzMzY4ODYzIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiX1hsYndVcFJCeFN5eVE0UnhyV1R5dyIsInNlc3Npb25fc3RhdGUiOiJlMTNlMmExZS1mMzI2LTQwZTctOWM3Mi00NDY1NmExM2ZiMDYiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiZTEzZTJhMWUtZjMyNi00MGU3LTljNzItNDQ2NTZhMTNmYjA2In0.qdfOt1ZTiaqDO6LIdyDeeozwAq6z5CLAB9k1X89MI_Q
[2022-11-23T14:55:54Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T14:55:54Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:55:54Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTcxNTQsImlhdCI6MTY2OTIxNTM1NCwianRpIjoiZmRlOWQxMmMtMTJkYS00ZGE0LTljNDQtMzdiNDgzMzY4ODYzIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiX1hsYndVcFJCeFN5eVE0UnhyV1R5dyIsInNlc3Npb25fc3RhdGUiOiJlMTNlMmExZS1mMzI2LTQwZTctOWM3Mi00NDY1NmExM2ZiMDYiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiZTEzZTJhMWUtZjMyNi00MGU3LTljNzItNDQ2NTZhMTNmYjA2In0.qdfOt1ZTiaqDO6LIdyDeeozwAq6z5CLAB9k1X89MI_Q&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T14:55:54Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:55:55Z INFO  drogue_cloud_tests::resources::apps] Create application: 189efccd-1220-4999-9c02-726c21a8d019
[2022-11-23T14:55:55Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;189efccd-1220-4999-9c02-726c21a8d019&quot;
[2022-11-23T14:55:55Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:55:55Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;189efccd-1220-4999-9c02-726c21a8d019&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T14:55:55Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;189efccd-1220-4999-9c02-726c21a8d019\&quot;,\n    \&quot;uid\&quot;: \&quot;89aff343-dbdb-4523-8d3a-04d490328acb\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T14:55:55.559363Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;2d67a1a9-a5bc-45b9-80e1-bb2988f3878c\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:55.607015806Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:55.613365773Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:55.613404465Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:55.576975742Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:55.576976263Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:55.576983827Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:55.577055801Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:55.577111005Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:55:55Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;189efccd-1220-4999-9c02-726c21a8d019&quot;), &quot;uid&quot;: String(&quot;89aff343-dbdb-4523-8d3a-04d490328acb&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T14:55:55.559363Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;2d67a1a9-a5bc-45b9-80e1-bb2988f3878c&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:55.607015806Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:55.613365773Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:55.613404465Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:55.576975742Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:55.576976263Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:55.576983827Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:55.577055801Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:55.577111005Z&quot;)}]}}
[2022-11-23T14:55:55Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-11-23T14:55:56Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;189efccd-1220-4999-9c02-726c21a8d019&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T14:55:56Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;189efccd-1220-4999-9c02-726c21a8d019\&quot;,\n    \&quot;uid\&quot;: \&quot;89aff343-dbdb-4523-8d3a-04d490328acb\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T14:55:55.559363Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;609538e8-610b-4c21-be9a-39d04cc98a9e\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;TlUXfNaeVujA\&quot;,\n        \&quot;username\&quot;: \&quot;user-189efccd-1220-4999-9c02-726c21a8d019\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:55.607015806Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:55.613365773Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:55.717738120Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:55.724826759Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:55.842583067Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:55.842601322Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:55.842650914Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:55.842705036Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:55:56Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;189efccd-1220-4999-9c02-726c21a8d019&quot;), &quot;uid&quot;: String(&quot;89aff343-dbdb-4523-8d3a-04d490328acb&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T14:55:55.559363Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;609538e8-610b-4c21-be9a-39d04cc98a9e&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;TlUXfNaeVujA&quot;), &quot;username&quot;: String(&quot;user-189efccd-1220-4999-9c02-726c21a8d019&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:55.607015806Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:55.613365773Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:55.717738120Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:55.724826759Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:55.842583067Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:55.842601322Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:55.842650914Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:55.842705036Z&quot;)}]}}
[2022-11-23T14:55:56Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-11-23T14:55:56Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;189efccd-1220-4999-9c02-726c21a8d019&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T14:55:56Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;189efccd-1220-4999-9c02-726c21a8d019\&quot;,\n    \&quot;uid\&quot;: \&quot;89aff343-dbdb-4523-8d3a-04d490328acb\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T14:55:55.559363Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;609538e8-610b-4c21-be9a-39d04cc98a9e\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;TlUXfNaeVujA\&quot;,\n        \&quot;username\&quot;: \&quot;user-189efccd-1220-4999-9c02-726c21a8d019\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:55.607015806Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:55.613365773Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:55.717738120Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:55.724826759Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:55.842583067Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:55.842601322Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:55.842650914Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:55:55.842705036Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:55:56Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;189efccd-1220-4999-9c02-726c21a8d019&quot;), &quot;uid&quot;: String(&quot;89aff343-dbdb-4523-8d3a-04d490328acb&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T14:55:55.559363Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;609538e8-610b-4c21-be9a-39d04cc98a9e&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;TlUXfNaeVujA&quot;), &quot;username&quot;: String(&quot;user-189efccd-1220-4999-9c02-726c21a8d019&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:55.607015806Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:55.613365773Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:55.717738120Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:55.724826759Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:55.842583067Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:55.842601322Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:55.842650914Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:55:55.842705036Z&quot;)}]}}
[2022-11-23T14:55:56Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-11-23T14:55:56Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-11-23T14:55:56Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;189efccd-1220-4999-9c02-726c21a8d019&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-11-23T14:55:56Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:55:56Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-11-23T14:55:56Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;189efccd-1220-4999-9c02-726c21a8d019&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-11-23T14:55:56Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:55:56Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T14:55:56Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:55:56Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T14:55:56Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTU2NTQsImlhdCI6MTY2OTIxNTM1NCwiYXV0aF90aW1lIjoxNjY5MjE1MzUyLCJqdGkiOiIxMTk5OWZlMS05ZmU3LTQwY2ItYjM5ZC1jMjkxMWQ5NjNlYTkiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Il9YbGJ3VXBSQnhTeXlRNFJ4cldUeXciLCJzZXNzaW9uX3N0YXRlIjoiZTEzZTJhMWUtZjMyNi00MGU3LTljNzItNDQ2NTZhMTNmYjA2IiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImUxM2UyYTFlLWYzMjYtNDBlNy05YzcyLTQ0NjU2YTEzZmIwNiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.fcVAR_RsrATrlO7qh6GoPNca89cCcSP444YB8-GbeGPlZdfUMa8vm_zzUJ5SEnlbOgueS6bq91QqWXcp1Yxcf9amCScTwxphv9B-uPHw5VwJq6B-N7cxs7QIs10OrsQEs9FTMkXipEnLWwhmdHOY_wKh3Yik09NcBfGxPPlpu2KeVz-V5jvhK9vhN7uPHFo2ODOIP01b_okrcbj_XvLLWVCDI_iqphdLeMMps0YwpjryFizsW3euSMjHfmJs78jCJU1VKxpY3lWbF2ncUcnuqGdadP_Upq_LuC3i1pUzz0KV9_HITANbbY3qBdUBw8pkkBR9gVh1B36JWNbW9XXRZw\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:55:56Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:55:56Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-11-23T14:55:56Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;189efccd-1220-4999-9c02-726c21a8d019&quot; &quot;device1&quot;
[2022-11-23T14:55:56Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:55:56Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-11-23T14:55:56Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;189efccd-1220-4999-9c02-726c21a8d019&quot; &quot;gateway1&quot;
[2022-11-23T14:55:57Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:55:57Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;189efccd-1220-4999-9c02-726c21a8d019&#x27;
[2022-11-23T14:55:57Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;189efccd-1220-4999-9c02-726c21a8d019&quot;
[2022-11-23T14:55:57Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::command::gateway_direct::version_1::ws_2

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T14:55:59Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T14:55:59Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:55:59Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:55:59Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:56:00Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T14:56:01Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T14:56:01Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:56:01Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:56:03Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTcxNjMsImlhdCI6MTY2OTIxNTM2MywianRpIjoiNzZhNzc0MmYtZjMxMC00MjRhLWJjMTktZTk1NmY2NmY5NTU4IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiWUo2R1BkQmNkTE56MS1icU1JaE9jQSIsInNlc3Npb25fc3RhdGUiOiIxYjBkZjliMy0wY2NiLTRhNjktYTQ3ZS0zNGY2M2M3NWEwZTQiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMWIwZGY5YjMtMGNjYi00YTY5LWE0N2UtMzRmNjNjNzVhMGU0In0.jTW0Ne7M3MbXyt6idc7pChOBAE8NU3LOhK6eujxxD8E
[2022-11-23T14:56:03Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T14:56:03Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:56:03Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTcxNjMsImlhdCI6MTY2OTIxNTM2MywianRpIjoiNzZhNzc0MmYtZjMxMC00MjRhLWJjMTktZTk1NmY2NmY5NTU4IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiWUo2R1BkQmNkTE56MS1icU1JaE9jQSIsInNlc3Npb25fc3RhdGUiOiIxYjBkZjliMy0wY2NiLTRhNjktYTQ3ZS0zNGY2M2M3NWEwZTQiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMWIwZGY5YjMtMGNjYi00YTY5LWE0N2UtMzRmNjNjNzVhMGU0In0.jTW0Ne7M3MbXyt6idc7pChOBAE8NU3LOhK6eujxxD8E&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T14:56:03Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:56:04Z INFO  drogue_cloud_tests::resources::apps] Create application: a2e1d055-0c5d-4dad-92b1-4ab59ef6e334
[2022-11-23T14:56:04Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;a2e1d055-0c5d-4dad-92b1-4ab59ef6e334&quot;
[2022-11-23T14:56:04Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:56:04Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;a2e1d055-0c5d-4dad-92b1-4ab59ef6e334&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T14:56:04Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;a2e1d055-0c5d-4dad-92b1-4ab59ef6e334\&quot;,\n    \&quot;uid\&quot;: \&quot;3545d5c5-ff79-4d95-b8f1-e428cda61c4e\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T14:56:04.203844Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;9a9f6c00-b5f3-4799-8f8e-8257863ddf91\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:04.253925959Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:04.260839830Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:04.260883701Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:04.226934435Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:04.226935046Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:04.226939675Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:04.227006770Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:04.226959563Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:56:04Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;a2e1d055-0c5d-4dad-92b1-4ab59ef6e334&quot;), &quot;uid&quot;: String(&quot;3545d5c5-ff79-4d95-b8f1-e428cda61c4e&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T14:56:04.203844Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;9a9f6c00-b5f3-4799-8f8e-8257863ddf91&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:04.253925959Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:04.260839830Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:04.260883701Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:04.226934435Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:04.226935046Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:04.226939675Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:04.227006770Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:04.226959563Z&quot;)}]}}
[2022-11-23T14:56:04Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-11-23T14:56:05Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;a2e1d055-0c5d-4dad-92b1-4ab59ef6e334&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T14:56:05Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;a2e1d055-0c5d-4dad-92b1-4ab59ef6e334\&quot;,\n    \&quot;uid\&quot;: \&quot;3545d5c5-ff79-4d95-b8f1-e428cda61c4e\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T14:56:04.203844Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;b24c454a-f1d9-4afc-9208-7b6a1eec864d\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;AVZobDw9FePq\&quot;,\n        \&quot;username\&quot;: \&quot;user-a2e1d055-0c5d-4dad-92b1-4ab59ef6e334\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:04.253925959Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:04.260839830Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:04.365986428Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:04.371906070Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:04.497514027Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:04.497531300Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:04.497868982Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:04.497645153Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:56:05Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;a2e1d055-0c5d-4dad-92b1-4ab59ef6e334&quot;), &quot;uid&quot;: String(&quot;3545d5c5-ff79-4d95-b8f1-e428cda61c4e&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T14:56:04.203844Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;b24c454a-f1d9-4afc-9208-7b6a1eec864d&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;AVZobDw9FePq&quot;), &quot;username&quot;: String(&quot;user-a2e1d055-0c5d-4dad-92b1-4ab59ef6e334&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:04.253925959Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:04.260839830Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:04.365986428Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:04.371906070Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:04.497514027Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:04.497531300Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:04.497868982Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:04.497645153Z&quot;)}]}}
[2022-11-23T14:56:05Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-11-23T14:56:05Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;a2e1d055-0c5d-4dad-92b1-4ab59ef6e334&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T14:56:05Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;a2e1d055-0c5d-4dad-92b1-4ab59ef6e334\&quot;,\n    \&quot;uid\&quot;: \&quot;3545d5c5-ff79-4d95-b8f1-e428cda61c4e\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T14:56:04.203844Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;b24c454a-f1d9-4afc-9208-7b6a1eec864d\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;AVZobDw9FePq\&quot;,\n        \&quot;username\&quot;: \&quot;user-a2e1d055-0c5d-4dad-92b1-4ab59ef6e334\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:04.253925959Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:04.260839830Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:04.365986428Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:04.371906070Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:04.497514027Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:04.497531300Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:04.497868982Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:04.497645153Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:56:05Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;a2e1d055-0c5d-4dad-92b1-4ab59ef6e334&quot;), &quot;uid&quot;: String(&quot;3545d5c5-ff79-4d95-b8f1-e428cda61c4e&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T14:56:04.203844Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;b24c454a-f1d9-4afc-9208-7b6a1eec864d&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;AVZobDw9FePq&quot;), &quot;username&quot;: String(&quot;user-a2e1d055-0c5d-4dad-92b1-4ab59ef6e334&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:04.253925959Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:04.260839830Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:04.365986428Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:04.371906070Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:04.497514027Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:04.497531300Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:04.497868982Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:04.497645153Z&quot;)}]}}
[2022-11-23T14:56:05Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-11-23T14:56:05Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-11-23T14:56:05Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;a2e1d055-0c5d-4dad-92b1-4ab59ef6e334&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-11-23T14:56:05Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:56:05Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-11-23T14:56:05Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;a2e1d055-0c5d-4dad-92b1-4ab59ef6e334&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-11-23T14:56:05Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:56:05Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T14:56:05Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:56:05Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T14:56:05Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTU2NjMsImlhdCI6MTY2OTIxNTM2MywiYXV0aF90aW1lIjoxNjY5MjE1MzYwLCJqdGkiOiIzOGU0MGZjOS0wOGM3LTQyMGMtOTBlOS0zZmZiYzliNDE4YTQiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IllKNkdQZEJjZExOejEtYnFNSWhPY0EiLCJzZXNzaW9uX3N0YXRlIjoiMWIwZGY5YjMtMGNjYi00YTY5LWE0N2UtMzRmNjNjNzVhMGU0IiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjFiMGRmOWIzLTBjY2ItNGE2OS1hNDdlLTM0ZjYzYzc1YTBlNCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.ZEERchfexLJdUX509w1T3Z0Ne2LGm65bKAdzMkqP5kyJGJT7w1yFKRjSdWpyJ3gJRmWmvhwTjJ_2IfgbSWwRQr-UYh4ZYRcLL8hI9Y1pP17828F38-o_9Uz8ZEYRtGEAFuv7qQ1vjxI49T2GlvTdmYYTKZm8GGKAWhnZ_3eEsUBjCkjLCK788qZG7A_qjQjkcFEygxwJ7iJcO_Q7pv2Qdi21ApGU3NXXBOR6n9pN0IDkOZuAtVjaHY6sPDpDtlc5lv-cd7FmDimorS-_5JBUaNLvR-C_RgRsCnU5j6GIMzEggxs5ydVcYW1DyDjqbjY9NMdklPg6rLDfiXFG5YjkmA\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:56:05Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:56:05Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-11-23T14:56:05Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;a2e1d055-0c5d-4dad-92b1-4ab59ef6e334&quot; &quot;device1&quot;
[2022-11-23T14:56:05Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:56:05Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-11-23T14:56:05Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;a2e1d055-0c5d-4dad-92b1-4ab59ef6e334&quot; &quot;gateway1&quot;
[2022-11-23T14:56:05Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:56:05Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;a2e1d055-0c5d-4dad-92b1-4ab59ef6e334&#x27;
[2022-11-23T14:56:05Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;a2e1d055-0c5d-4dad-92b1-4ab59ef6e334&quot;
[2022-11-23T14:56:05Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::command::gateway_direct::version_2::ws_1

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T14:56:07Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T14:56:07Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:56:08Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:56:08Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:56:08Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T14:56:10Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T14:56:10Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:56:10Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:56:12Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTcxNzIsImlhdCI6MTY2OTIxNTM3MiwianRpIjoiMGNkNzE1OWQtZjJmZS00ZDVjLWFlODMtMzAzM2Q5ZjU0NTQ2IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoic0k4SmdxUDVFSlpRMURMc0hwZzVqZyIsInNlc3Npb25fc3RhdGUiOiIwZjk0MzFiYi01YTgzLTQ5MTUtYmZlZC03OTEyYWE0OWU4YWMiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMGY5NDMxYmItNWE4My00OTE1LWJmZWQtNzkxMmFhNDllOGFjIn0.4gQORg8sw6IKs6uOxToOlbgv85rrlhA99QETNWQHoPU
[2022-11-23T14:56:12Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T14:56:12Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:56:12Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTcxNzIsImlhdCI6MTY2OTIxNTM3MiwianRpIjoiMGNkNzE1OWQtZjJmZS00ZDVjLWFlODMtMzAzM2Q5ZjU0NTQ2IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoic0k4SmdxUDVFSlpRMURMc0hwZzVqZyIsInNlc3Npb25fc3RhdGUiOiIwZjk0MzFiYi01YTgzLTQ5MTUtYmZlZC03OTEyYWE0OWU4YWMiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMGY5NDMxYmItNWE4My00OTE1LWJmZWQtNzkxMmFhNDllOGFjIn0.4gQORg8sw6IKs6uOxToOlbgv85rrlhA99QETNWQHoPU&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T14:56:12Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:56:12Z INFO  drogue_cloud_tests::resources::apps] Create application: 856e8225-83da-4a6d-b265-b4d7a24c0c60
[2022-11-23T14:56:12Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;856e8225-83da-4a6d-b265-b4d7a24c0c60&quot;
[2022-11-23T14:56:13Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:56:13Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;856e8225-83da-4a6d-b265-b4d7a24c0c60&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T14:56:13Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;856e8225-83da-4a6d-b265-b4d7a24c0c60\&quot;,\n    \&quot;uid\&quot;: \&quot;c2a064a1-e037-42a2-8425-cd195d7419ec\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T14:56:13.037436Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;1913a43f-b387-4e5b-b920-73e36dc0547b\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:13.096544946Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:13.107510315Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:13.107545962Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:13.060039148Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:13.060039528Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:13.060136308Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:13.060203535Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:13.060177095Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:56:13Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;856e8225-83da-4a6d-b265-b4d7a24c0c60&quot;), &quot;uid&quot;: String(&quot;c2a064a1-e037-42a2-8425-cd195d7419ec&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T14:56:13.037436Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;1913a43f-b387-4e5b-b920-73e36dc0547b&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:13.096544946Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:13.107510315Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:13.107545962Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:13.060039148Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:13.060039528Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:13.060136308Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:13.060203535Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:13.060177095Z&quot;)}]}}
[2022-11-23T14:56:13Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-11-23T14:56:14Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;856e8225-83da-4a6d-b265-b4d7a24c0c60&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T14:56:14Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;856e8225-83da-4a6d-b265-b4d7a24c0c60\&quot;,\n    \&quot;uid\&quot;: \&quot;c2a064a1-e037-42a2-8425-cd195d7419ec\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T14:56:13.037436Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;83ea8067-5b5c-4744-8111-eff04df9bee9\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;gODfrXe2gQE4\&quot;,\n        \&quot;username\&quot;: \&quot;user-856e8225-83da-4a6d-b265-b4d7a24c0c60\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:13.096544946Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:13.107510315Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:13.192744002Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:13.200136829Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:13.464236819Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:13.464361752Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:13.469637509Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:13.464396077Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:56:14Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;856e8225-83da-4a6d-b265-b4d7a24c0c60&quot;), &quot;uid&quot;: String(&quot;c2a064a1-e037-42a2-8425-cd195d7419ec&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T14:56:13.037436Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;83ea8067-5b5c-4744-8111-eff04df9bee9&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;gODfrXe2gQE4&quot;), &quot;username&quot;: String(&quot;user-856e8225-83da-4a6d-b265-b4d7a24c0c60&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:13.096544946Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:13.107510315Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:13.192744002Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:13.200136829Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:13.464236819Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:13.464361752Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:13.469637509Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:13.464396077Z&quot;)}]}}
[2022-11-23T14:56:14Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-11-23T14:56:14Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;856e8225-83da-4a6d-b265-b4d7a24c0c60&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T14:56:14Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;856e8225-83da-4a6d-b265-b4d7a24c0c60\&quot;,\n    \&quot;uid\&quot;: \&quot;c2a064a1-e037-42a2-8425-cd195d7419ec\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T14:56:13.037436Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;83ea8067-5b5c-4744-8111-eff04df9bee9\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;gODfrXe2gQE4\&quot;,\n        \&quot;username\&quot;: \&quot;user-856e8225-83da-4a6d-b265-b4d7a24c0c60\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:13.096544946Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:13.107510315Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:13.192744002Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:13.200136829Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:13.464236819Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:13.464361752Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:13.469637509Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:13.464396077Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:56:14Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;856e8225-83da-4a6d-b265-b4d7a24c0c60&quot;), &quot;uid&quot;: String(&quot;c2a064a1-e037-42a2-8425-cd195d7419ec&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T14:56:13.037436Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;83ea8067-5b5c-4744-8111-eff04df9bee9&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;gODfrXe2gQE4&quot;), &quot;username&quot;: String(&quot;user-856e8225-83da-4a6d-b265-b4d7a24c0c60&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:13.096544946Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:13.107510315Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:13.192744002Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:13.200136829Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:13.464236819Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:13.464361752Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:13.469637509Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:13.464396077Z&quot;)}]}}
[2022-11-23T14:56:14Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-11-23T14:56:14Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-11-23T14:56:14Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;856e8225-83da-4a6d-b265-b4d7a24c0c60&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-11-23T14:56:14Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:56:14Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-11-23T14:56:14Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;856e8225-83da-4a6d-b265-b4d7a24c0c60&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-11-23T14:56:14Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:56:14Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T14:56:14Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:56:14Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T14:56:14Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTU2NzIsImlhdCI6MTY2OTIxNTM3MiwiYXV0aF90aW1lIjoxNjY5MjE1MzY5LCJqdGkiOiJmM2FhNTM5OC0wZTRjLTQ5MWUtYmExMC1hNDQwYjdmY2U5ZTYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InNJOEpncVA1RUpaUTFETHNIcGc1amciLCJzZXNzaW9uX3N0YXRlIjoiMGY5NDMxYmItNWE4My00OTE1LWJmZWQtNzkxMmFhNDllOGFjIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjBmOTQzMWJiLTVhODMtNDkxNS1iZmVkLTc5MTJhYTQ5ZThhYyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.I88KFNfQld20_J6ziAECUYSDFYuxhe_EM4943s-pnmSNWFA_2-YKtiwUiIzTE3iln2R4Ydoqhys909qojrljyCnzZ9nz9DC3_zUKmWBoObchcnc6_JMYx59FqxGXabLLFgdYn6fvRdlR7joi3YdliwErNNqaq7OZpqowsrEOJk9zIT1x6KDbcdNywbVpr0lUW3CTjlxBk21AEDZfV1TtQZ_nkXcNNp_jcZ0S0CilKyut3SYIYx16AgYWG4NcwECsw7b5t02dC7ZSY2vMY7dKtN8535MSeEssiInHp2rJdSvXonxuFo805-UTTIKCmYnG2BkKAWo_-s2phkW7JMvGRw\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:56:14Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:56:14Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-11-23T14:56:14Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;856e8225-83da-4a6d-b265-b4d7a24c0c60&quot; &quot;device1&quot;
[2022-11-23T14:56:14Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:56:14Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-11-23T14:56:14Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;856e8225-83da-4a6d-b265-b4d7a24c0c60&quot; &quot;gateway1&quot;
[2022-11-23T14:56:14Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:56:14Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;856e8225-83da-4a6d-b265-b4d7a24c0c60&#x27;
[2022-11-23T14:56:14Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;856e8225-83da-4a6d-b265-b4d7a24c0c60&quot;
[2022-11-23T14:56:14Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::command::gateway_direct::version_2::ws_2

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T14:56:16Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T14:56:16Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:56:16Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:56:16Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:56:17Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T14:56:19Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T14:56:19Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:56:19Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:56:20Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTcxODAsImlhdCI6MTY2OTIxNTM4MCwianRpIjoiYTNhNDUwZDUtM2MzNS00YmE3LWIxMDQtZmU3YjJhZDk1YjgxIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiLUhMOERNV0pJdUhadjMxRzcxSWd2QSIsInNlc3Npb25fc3RhdGUiOiIxMTQxZGI2MS01NWNhLTQ1MmItOGQ4OC02ZTc4MTE4NWRiZWUiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMTE0MWRiNjEtNTVjYS00NTJiLThkODgtNmU3ODExODVkYmVlIn0.nEqi8rPoOgi7b-HRikmBANydz4X4QP99WESqItVy30g
[2022-11-23T14:56:20Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T14:56:20Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:56:20Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTcxODAsImlhdCI6MTY2OTIxNTM4MCwianRpIjoiYTNhNDUwZDUtM2MzNS00YmE3LWIxMDQtZmU3YjJhZDk1YjgxIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiLUhMOERNV0pJdUhadjMxRzcxSWd2QSIsInNlc3Npb25fc3RhdGUiOiIxMTQxZGI2MS01NWNhLTQ1MmItOGQ4OC02ZTc4MTE4NWRiZWUiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMTE0MWRiNjEtNTVjYS00NTJiLThkODgtNmU3ODExODVkYmVlIn0.nEqi8rPoOgi7b-HRikmBANydz4X4QP99WESqItVy30g&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T14:56:21Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:56:21Z INFO  drogue_cloud_tests::resources::apps] Create application: 29dd1914-5a9b-43dc-aacc-c9669ed4c4a6
[2022-11-23T14:56:21Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;29dd1914-5a9b-43dc-aacc-c9669ed4c4a6&quot;
[2022-11-23T14:56:21Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:56:21Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;29dd1914-5a9b-43dc-aacc-c9669ed4c4a6&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T14:56:21Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;29dd1914-5a9b-43dc-aacc-c9669ed4c4a6\&quot;,\n    \&quot;uid\&quot;: \&quot;90ff89db-2d6e-4ad1-8a22-abd161a5fa8e\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T14:56:21.702753Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;93c56f61-4501-40d1-9586-7aa10e58d95b\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:21.741908118Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:21.748181822Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:21.748222328Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:21.714624557Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:21.714625349Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:21.714648362Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:21.714734413Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:21.714817989Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:56:21Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;29dd1914-5a9b-43dc-aacc-c9669ed4c4a6&quot;), &quot;uid&quot;: String(&quot;90ff89db-2d6e-4ad1-8a22-abd161a5fa8e&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T14:56:21.702753Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;93c56f61-4501-40d1-9586-7aa10e58d95b&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:21.741908118Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:21.748181822Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:21.748222328Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:21.714624557Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:21.714625349Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:21.714648362Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:21.714734413Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:21.714817989Z&quot;)}]}}
[2022-11-23T14:56:21Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-11-23T14:56:22Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;29dd1914-5a9b-43dc-aacc-c9669ed4c4a6&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T14:56:22Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;29dd1914-5a9b-43dc-aacc-c9669ed4c4a6\&quot;,\n    \&quot;uid\&quot;: \&quot;90ff89db-2d6e-4ad1-8a22-abd161a5fa8e\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T14:56:21.702753Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;6ddf48d8-a537-4612-bdf2-a0f82cb33ce2\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;jM4gXGbLXpp3\&quot;,\n        \&quot;username\&quot;: \&quot;user-29dd1914-5a9b-43dc-aacc-c9669ed4c4a6\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:21.741908118Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:21.748181822Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:21.840666643Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:21.849162173Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:22.006572569Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:22.006588890Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:22.006617623Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:22.006656335Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:56:22Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;29dd1914-5a9b-43dc-aacc-c9669ed4c4a6&quot;), &quot;uid&quot;: String(&quot;90ff89db-2d6e-4ad1-8a22-abd161a5fa8e&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T14:56:21.702753Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;6ddf48d8-a537-4612-bdf2-a0f82cb33ce2&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;jM4gXGbLXpp3&quot;), &quot;username&quot;: String(&quot;user-29dd1914-5a9b-43dc-aacc-c9669ed4c4a6&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:21.741908118Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:21.748181822Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:21.840666643Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:21.849162173Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:22.006572569Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:22.006588890Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:22.006617623Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:22.006656335Z&quot;)}]}}
[2022-11-23T14:56:22Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-11-23T14:56:22Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;29dd1914-5a9b-43dc-aacc-c9669ed4c4a6&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T14:56:22Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;29dd1914-5a9b-43dc-aacc-c9669ed4c4a6\&quot;,\n    \&quot;uid\&quot;: \&quot;90ff89db-2d6e-4ad1-8a22-abd161a5fa8e\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T14:56:21.702753Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;6ddf48d8-a537-4612-bdf2-a0f82cb33ce2\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;jM4gXGbLXpp3\&quot;,\n        \&quot;username\&quot;: \&quot;user-29dd1914-5a9b-43dc-aacc-c9669ed4c4a6\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:21.741908118Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:21.748181822Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:21.840666643Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:21.849162173Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:22.006572569Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:22.006588890Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:22.006617623Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:22.006656335Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:56:22Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;29dd1914-5a9b-43dc-aacc-c9669ed4c4a6&quot;), &quot;uid&quot;: String(&quot;90ff89db-2d6e-4ad1-8a22-abd161a5fa8e&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T14:56:21.702753Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;6ddf48d8-a537-4612-bdf2-a0f82cb33ce2&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;jM4gXGbLXpp3&quot;), &quot;username&quot;: String(&quot;user-29dd1914-5a9b-43dc-aacc-c9669ed4c4a6&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:21.741908118Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:21.748181822Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:21.840666643Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:21.849162173Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:22.006572569Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:22.006588890Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:22.006617623Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:22.006656335Z&quot;)}]}}
[2022-11-23T14:56:22Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-11-23T14:56:22Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-11-23T14:56:22Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;29dd1914-5a9b-43dc-aacc-c9669ed4c4a6&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-11-23T14:56:22Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:56:22Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-11-23T14:56:22Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;29dd1914-5a9b-43dc-aacc-c9669ed4c4a6&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-11-23T14:56:23Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:56:23Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T14:56:23Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:56:23Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T14:56:23Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTU2ODEsImlhdCI6MTY2OTIxNTM4MSwiYXV0aF90aW1lIjoxNjY5MjE1Mzc4LCJqdGkiOiI3Y2QwNWZkYS1jNThjLTRmM2EtYTlhMi0xMmM3MzNjMTUwNzAiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Ii1ITDhETVdKSXVIWnYzMUc3MUlndkEiLCJzZXNzaW9uX3N0YXRlIjoiMTE0MWRiNjEtNTVjYS00NTJiLThkODgtNmU3ODExODVkYmVlIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjExNDFkYjYxLTU1Y2EtNDUyYi04ZDg4LTZlNzgxMTg1ZGJlZSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.Lmp2tpXYgEKysxAm3JvII-hVoUjzt-NEHeI6rzmdf4MCZy4L1ynJh7L9RA4FIMZTg5ojR6pzFzjGmMKrBufdd26T05E7ikuAbsgGsraTBCYlypDzt2WaiuayCaEUV0BlJ-lLOHoipAPoR2a2e8EuQxUWzBf91e_OizIxbT958h9ghc7a5LG9BEYF3FMiyPFX-qy4fUUie3J1yAEGr2GleVG9OvG8_hR-JmOc068fj0FdtD8xa-D6burXBx0kCz5m3T2g0tIqnTEh-w1ofHLM1jkimmQ-K3WgISFu9sJkHfxfNTOclWJwrLJTkrNwARHNR3RaumHf-uTJX8Dy14mSaQ\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:56:23Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:56:23Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-11-23T14:56:23Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;29dd1914-5a9b-43dc-aacc-c9669ed4c4a6&quot; &quot;device1&quot;
[2022-11-23T14:56:23Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:56:23Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-11-23T14:56:23Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;29dd1914-5a9b-43dc-aacc-c9669ed4c4a6&quot; &quot;gateway1&quot;
[2022-11-23T14:56:23Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:56:23Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;29dd1914-5a9b-43dc-aacc-c9669ed4c4a6&#x27;
[2022-11-23T14:56:23Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;29dd1914-5a9b-43dc-aacc-c9669ed4c4a6&quot;
[2022-11-23T14:56:23Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::command::gateway_direct::version_3::ws_1

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T14:56:25Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T14:56:25Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:56:25Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:56:25Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:56:26Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T14:56:27Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T14:56:27Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:56:27Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:56:29Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTcxODksImlhdCI6MTY2OTIxNTM4OSwianRpIjoiMTc2NzIyZWUtMWQzNy00ZTI4LTljYTYtNWJjNzI2YThhNjQ1IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiZ0g4NnA4eTZmZmJhSWpIQnhwMWhvUSIsInNlc3Npb25fc3RhdGUiOiJjODNkOWMzMS1iNzY4LTQzOWQtODE5ZS1kZjZiNDdmYjFjN2IiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiYzgzZDljMzEtYjc2OC00MzlkLTgxOWUtZGY2YjQ3ZmIxYzdiIn0.1zvS7iRE9EwPqQYN_iR51hPuzokcYoy6woPygqjNOKQ
[2022-11-23T14:56:29Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T14:56:29Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:56:29Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTcxODksImlhdCI6MTY2OTIxNTM4OSwianRpIjoiMTc2NzIyZWUtMWQzNy00ZTI4LTljYTYtNWJjNzI2YThhNjQ1IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiZ0g4NnA4eTZmZmJhSWpIQnhwMWhvUSIsInNlc3Npb25fc3RhdGUiOiJjODNkOWMzMS1iNzY4LTQzOWQtODE5ZS1kZjZiNDdmYjFjN2IiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiYzgzZDljMzEtYjc2OC00MzlkLTgxOWUtZGY2YjQ3ZmIxYzdiIn0.1zvS7iRE9EwPqQYN_iR51hPuzokcYoy6woPygqjNOKQ&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T14:56:29Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:56:30Z INFO  drogue_cloud_tests::resources::apps] Create application: 9f32ff94-2719-4582-8ea3-030b2995c900
[2022-11-23T14:56:30Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;9f32ff94-2719-4582-8ea3-030b2995c900&quot;
[2022-11-23T14:56:30Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:56:30Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;9f32ff94-2719-4582-8ea3-030b2995c900&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T14:56:30Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;9f32ff94-2719-4582-8ea3-030b2995c900\&quot;,\n    \&quot;uid\&quot;: \&quot;8564e5ae-b343-4b26-b753-b4d3db0ac8ef\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T14:56:30.370393Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;91cc5afb-64dd-40a2-acdf-8e1c2e719c59\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:30.422898220Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:30.429089781Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:30.429147779Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:30.395162714Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:30.395163305Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:30.395169115Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:30.395247071Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:30.395191467Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:56:30Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;9f32ff94-2719-4582-8ea3-030b2995c900&quot;), &quot;uid&quot;: String(&quot;8564e5ae-b343-4b26-b753-b4d3db0ac8ef&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T14:56:30.370393Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;91cc5afb-64dd-40a2-acdf-8e1c2e719c59&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:30.422898220Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:30.429089781Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:30.429147779Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:30.395162714Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:30.395163305Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:30.395169115Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:30.395247071Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:30.395191467Z&quot;)}]}}
[2022-11-23T14:56:30Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-11-23T14:56:31Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;9f32ff94-2719-4582-8ea3-030b2995c900&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T14:56:31Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;9f32ff94-2719-4582-8ea3-030b2995c900\&quot;,\n    \&quot;uid\&quot;: \&quot;8564e5ae-b343-4b26-b753-b4d3db0ac8ef\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T14:56:30.370393Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;4bb84765-4079-4f9e-92b3-68ed0b04e83d\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;obxWpovsYCuJ\&quot;,\n        \&quot;username\&quot;: \&quot;user-9f32ff94-2719-4582-8ea3-030b2995c900\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:30.422898220Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:30.429089781Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:30.500929379Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:30.507226167Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:30.656399060Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:30.656415310Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:30.656511760Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:30.656443492Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:56:31Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;9f32ff94-2719-4582-8ea3-030b2995c900&quot;), &quot;uid&quot;: String(&quot;8564e5ae-b343-4b26-b753-b4d3db0ac8ef&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T14:56:30.370393Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;4bb84765-4079-4f9e-92b3-68ed0b04e83d&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;obxWpovsYCuJ&quot;), &quot;username&quot;: String(&quot;user-9f32ff94-2719-4582-8ea3-030b2995c900&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:30.422898220Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:30.429089781Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:30.500929379Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:30.507226167Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:30.656399060Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:30.656415310Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:30.656511760Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:30.656443492Z&quot;)}]}}
[2022-11-23T14:56:31Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-11-23T14:56:31Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;9f32ff94-2719-4582-8ea3-030b2995c900&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T14:56:31Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;9f32ff94-2719-4582-8ea3-030b2995c900\&quot;,\n    \&quot;uid\&quot;: \&quot;8564e5ae-b343-4b26-b753-b4d3db0ac8ef\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T14:56:30.370393Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;4bb84765-4079-4f9e-92b3-68ed0b04e83d\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;obxWpovsYCuJ\&quot;,\n        \&quot;username\&quot;: \&quot;user-9f32ff94-2719-4582-8ea3-030b2995c900\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:30.422898220Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:30.429089781Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:30.500929379Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:30.507226167Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:30.656399060Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:30.656415310Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:30.656511760Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:30.656443492Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:56:31Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;9f32ff94-2719-4582-8ea3-030b2995c900&quot;), &quot;uid&quot;: String(&quot;8564e5ae-b343-4b26-b753-b4d3db0ac8ef&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T14:56:30.370393Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;4bb84765-4079-4f9e-92b3-68ed0b04e83d&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;obxWpovsYCuJ&quot;), &quot;username&quot;: String(&quot;user-9f32ff94-2719-4582-8ea3-030b2995c900&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:30.422898220Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:30.429089781Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:30.500929379Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:30.507226167Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:30.656399060Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:30.656415310Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:30.656511760Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:30.656443492Z&quot;)}]}}
[2022-11-23T14:56:31Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-11-23T14:56:31Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-11-23T14:56:31Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;9f32ff94-2719-4582-8ea3-030b2995c900&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-11-23T14:56:31Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:56:31Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-11-23T14:56:31Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;9f32ff94-2719-4582-8ea3-030b2995c900&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-11-23T14:56:31Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:56:31Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T14:56:31Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:56:31Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T14:56:31Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTU2ODksImlhdCI6MTY2OTIxNTM4OSwiYXV0aF90aW1lIjoxNjY5MjE1Mzg2LCJqdGkiOiI3OGRiZjQzOC01NDE5LTRiNmEtYTcxOS04Zjg4ZWY3NWM4MjQiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImdIODZwOHk2ZmZiYUlqSEJ4cDFob1EiLCJzZXNzaW9uX3N0YXRlIjoiYzgzZDljMzEtYjc2OC00MzlkLTgxOWUtZGY2YjQ3ZmIxYzdiIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImM4M2Q5YzMxLWI3NjgtNDM5ZC04MTllLWRmNmI0N2ZiMWM3YiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.G1zdx10VZXvJdk-9k8Un-bpHBWLaHxvjjApaSuuZwIH1ij0giCaCzqrGJBe8dQXMMxUBFot4mxFS6QEQpRjJrgJdUn1mmTWJgeLkKZoAFmPMX3ApKtYtFyLIUKEZ-1HdNW_FkwTISfadv9gg5fcM7iPLaz0Mb07XMnoXW_UwArIQeDXFRBj8wYBoLpsolpk_eIgZDjDanB87FU59B9tIrRWSjw2oWH1NVSLZ1jva467-YffYMh9Dmc1J1ghyFSLgpZ6QLJ1qdefDtvY3RrYxawjwXtKgGsc630xzGDbhzqkDuUTV6FmL2n8ADdKtJeH0xYfHElFzPIM1De1szPrmlg\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:56:31Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:56:31Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-11-23T14:56:31Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;9f32ff94-2719-4582-8ea3-030b2995c900&quot; &quot;device1&quot;
[2022-11-23T14:56:31Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:56:31Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-11-23T14:56:31Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;9f32ff94-2719-4582-8ea3-030b2995c900&quot; &quot;gateway1&quot;
[2022-11-23T14:56:31Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:56:31Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;9f32ff94-2719-4582-8ea3-030b2995c900&#x27;
[2022-11-23T14:56:31Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;9f32ff94-2719-4582-8ea3-030b2995c900&quot;
[2022-11-23T14:56:31Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::command::gateway_direct::version_3::ws_2

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T14:56:33Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T14:56:33Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:56:33Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:56:33Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:56:34Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T14:56:36Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T14:56:36Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:56:36Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:56:37Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTcxOTcsImlhdCI6MTY2OTIxNTM5NywianRpIjoiN2QzMjEzOWYtYmM0Yi00MGIyLTk2MjEtMjAwM2UxYTQ0Mjg2IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoidjFIVWRyZ2VwekR4THNNWFZRQXdkUSIsInNlc3Npb25fc3RhdGUiOiJjNDFlZjdkYy04YmJiLTRlNDQtYjM5NS01OTY3ZDgxOTIwYTQiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiYzQxZWY3ZGMtOGJiYi00ZTQ0LWIzOTUtNTk2N2Q4MTkyMGE0In0.NWaoJLWqrGn76e5xD7NvIFtAClWXezUqEh9f4GpC4Ig
[2022-11-23T14:56:37Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T14:56:37Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:56:37Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTcxOTcsImlhdCI6MTY2OTIxNTM5NywianRpIjoiN2QzMjEzOWYtYmM0Yi00MGIyLTk2MjEtMjAwM2UxYTQ0Mjg2IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoidjFIVWRyZ2VwekR4THNNWFZRQXdkUSIsInNlc3Npb25fc3RhdGUiOiJjNDFlZjdkYy04YmJiLTRlNDQtYjM5NS01OTY3ZDgxOTIwYTQiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiYzQxZWY3ZGMtOGJiYi00ZTQ0LWIzOTUtNTk2N2Q4MTkyMGE0In0.NWaoJLWqrGn76e5xD7NvIFtAClWXezUqEh9f4GpC4Ig&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T14:56:38Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:56:38Z INFO  drogue_cloud_tests::resources::apps] Create application: 4bbaa9dd-47e2-4f19-8b32-6892971e057e
[2022-11-23T14:56:38Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;4bbaa9dd-47e2-4f19-8b32-6892971e057e&quot;
[2022-11-23T14:56:38Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:56:38Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;4bbaa9dd-47e2-4f19-8b32-6892971e057e&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T14:56:38Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;4bbaa9dd-47e2-4f19-8b32-6892971e057e\&quot;,\n    \&quot;uid\&quot;: \&quot;d52734e7-f5f1-486a-bead-08a1906cba2a\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T14:56:38.812344Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;5867cfa1-a58f-45b8-a5b1-463d056b3a21\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:38.859796712Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:38.866249452Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:38.866282553Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:38.836878374Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:38.836878935Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:38.836884165Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:38.836933167Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:38.836906868Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:56:38Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;4bbaa9dd-47e2-4f19-8b32-6892971e057e&quot;), &quot;uid&quot;: String(&quot;d52734e7-f5f1-486a-bead-08a1906cba2a&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T14:56:38.812344Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;5867cfa1-a58f-45b8-a5b1-463d056b3a21&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:38.859796712Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:38.866249452Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:38.866282553Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:38.836878374Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:38.836878935Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:38.836884165Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:38.836933167Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:38.836906868Z&quot;)}]}}
[2022-11-23T14:56:38Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-11-23T14:56:39Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;4bbaa9dd-47e2-4f19-8b32-6892971e057e&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T14:56:39Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;4bbaa9dd-47e2-4f19-8b32-6892971e057e\&quot;,\n    \&quot;uid\&quot;: \&quot;d52734e7-f5f1-486a-bead-08a1906cba2a\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T14:56:38.812344Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;c2854dbb-7170-4764-8246-58424b8e0df2\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;pvNSGcvlJDoq\&quot;,\n        \&quot;username\&quot;: \&quot;user-4bbaa9dd-47e2-4f19-8b32-6892971e057e\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:38.859796712Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:38.866249452Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:38.950124792Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:38.957456656Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:39.118923165Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:39.119017933Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:39.119156893Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:39.119048761Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:56:39Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;4bbaa9dd-47e2-4f19-8b32-6892971e057e&quot;), &quot;uid&quot;: String(&quot;d52734e7-f5f1-486a-bead-08a1906cba2a&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T14:56:38.812344Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;c2854dbb-7170-4764-8246-58424b8e0df2&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;pvNSGcvlJDoq&quot;), &quot;username&quot;: String(&quot;user-4bbaa9dd-47e2-4f19-8b32-6892971e057e&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:38.859796712Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:38.866249452Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:38.950124792Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:38.957456656Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:39.118923165Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:39.119017933Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:39.119156893Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:39.119048761Z&quot;)}]}}
[2022-11-23T14:56:39Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-11-23T14:56:39Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;4bbaa9dd-47e2-4f19-8b32-6892971e057e&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T14:56:39Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;4bbaa9dd-47e2-4f19-8b32-6892971e057e\&quot;,\n    \&quot;uid\&quot;: \&quot;d52734e7-f5f1-486a-bead-08a1906cba2a\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T14:56:38.812344Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;c2854dbb-7170-4764-8246-58424b8e0df2\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;pvNSGcvlJDoq\&quot;,\n        \&quot;username\&quot;: \&quot;user-4bbaa9dd-47e2-4f19-8b32-6892971e057e\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:38.859796712Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:38.866249452Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:38.950124792Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:38.957456656Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:39.118923165Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:39.119017933Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:39.119156893Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:39.119048761Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:56:39Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;4bbaa9dd-47e2-4f19-8b32-6892971e057e&quot;), &quot;uid&quot;: String(&quot;d52734e7-f5f1-486a-bead-08a1906cba2a&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T14:56:38.812344Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;c2854dbb-7170-4764-8246-58424b8e0df2&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;pvNSGcvlJDoq&quot;), &quot;username&quot;: String(&quot;user-4bbaa9dd-47e2-4f19-8b32-6892971e057e&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:38.859796712Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:38.866249452Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:38.950124792Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:38.957456656Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:39.118923165Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:39.119017933Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:39.119156893Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:39.119048761Z&quot;)}]}}
[2022-11-23T14:56:39Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-11-23T14:56:39Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-11-23T14:56:39Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;4bbaa9dd-47e2-4f19-8b32-6892971e057e&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-11-23T14:56:40Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:56:40Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-11-23T14:56:40Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;4bbaa9dd-47e2-4f19-8b32-6892971e057e&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-11-23T14:56:40Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:56:40Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T14:56:40Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:56:40Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T14:56:40Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTU2OTgsImlhdCI6MTY2OTIxNTM5OCwiYXV0aF90aW1lIjoxNjY5MjE1Mzk1LCJqdGkiOiI3NTVhMzI3Ni03YTE5LTQ5ZjYtYWU2My1kMDI1YTc3ODU5MGMiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InYxSFVkcmdlcHpEeExzTVhWUUF3ZFEiLCJzZXNzaW9uX3N0YXRlIjoiYzQxZWY3ZGMtOGJiYi00ZTQ0LWIzOTUtNTk2N2Q4MTkyMGE0IiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImM0MWVmN2RjLThiYmItNGU0NC1iMzk1LTU5NjdkODE5MjBhNCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.SZw_hp_gxKNt4ySYZkzh5ACk24CPWpORgv95GwxpmZGiY8s0iCzF6BkRm_U4M9Op3rDhKJpSGtBJrlMVbwRnJE-2GkamugBRaaD80vW-lqquWOeJzxXnPHIP3h8599fSv0yyoDF0geMayykNFaZl4Mvh6ugcYDigw_ExadmqtcRkPwBSPJBY5TsmZpVLOuRw2LacwAeSPrOd0eTRVc8Q6qA-fi077jhPyny3gTg2hF-ooPGJJTWKwP2iMYRqS2everi6cTG033XMPsMPtclrUehNhvW8PPim2mToTqWPXUgfNEw4pblQ6hQy0yOrxBdddtehjX8lVRz96Knfe0Z9cA\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:56:40Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:56:40Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-11-23T14:56:40Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;4bbaa9dd-47e2-4f19-8b32-6892971e057e&quot; &quot;device1&quot;
[2022-11-23T14:56:40Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:56:40Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-11-23T14:56:40Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;4bbaa9dd-47e2-4f19-8b32-6892971e057e&quot; &quot;gateway1&quot;
[2022-11-23T14:56:40Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:56:40Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;4bbaa9dd-47e2-4f19-8b32-6892971e057e&#x27;
[2022-11-23T14:56:40Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;4bbaa9dd-47e2-4f19-8b32-6892971e057e&quot;
[2022-11-23T14:56:40Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::command::simple::version_1::ws_1

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T14:56:42Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T14:56:42Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:56:42Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:56:42Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:56:43Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T14:56:44Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T14:56:44Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:56:44Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:56:46Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTcyMDYsImlhdCI6MTY2OTIxNTQwNiwianRpIjoiYzYzN2E4YTUtOTJlOC00ZTdjLWI5ZmMtMGUwNmViZGI3OWJkIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoieUtzVDRvOGx4SERmMENOa1p4LXZvQSIsInNlc3Npb25fc3RhdGUiOiI0NWExMmU0OS1lZTQ0LTQ2YjEtYmQ0MC01MTE0ZDQ1ZDg5Y2EiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiNDVhMTJlNDktZWU0NC00NmIxLWJkNDAtNTExNGQ0NWQ4OWNhIn0.sqmASjElzWBrJaT8_hrNxkiuBbY7miai21nNnIa3R18
[2022-11-23T14:56:46Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T14:56:46Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:56:46Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTcyMDYsImlhdCI6MTY2OTIxNTQwNiwianRpIjoiYzYzN2E4YTUtOTJlOC00ZTdjLWI5ZmMtMGUwNmViZGI3OWJkIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoieUtzVDRvOGx4SERmMENOa1p4LXZvQSIsInNlc3Npb25fc3RhdGUiOiI0NWExMmU0OS1lZTQ0LTQ2YjEtYmQ0MC01MTE0ZDQ1ZDg5Y2EiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiNDVhMTJlNDktZWU0NC00NmIxLWJkNDAtNTExNGQ0NWQ4OWNhIn0.sqmASjElzWBrJaT8_hrNxkiuBbY7miai21nNnIa3R18&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T14:56:46Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:56:47Z INFO  drogue_cloud_tests::resources::apps] Create application: f3da019d-af31-41ce-b3fd-ebd266cec5de
[2022-11-23T14:56:47Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;f3da019d-af31-41ce-b3fd-ebd266cec5de&quot;
[2022-11-23T14:56:47Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:56:47Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;f3da019d-af31-41ce-b3fd-ebd266cec5de&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T14:56:47Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;f3da019d-af31-41ce-b3fd-ebd266cec5de\&quot;,\n    \&quot;uid\&quot;: \&quot;1a6b5851-3b92-47e8-be9a-21aafd17e261\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T14:56:47.659268Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;412f002f-8216-410a-b4b9-a70221d2bd75\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:47.709298399Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:47.716339128Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:47.716370667Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:47.682517267Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:47.682517839Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:47.682548124Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:47.682636280Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:47.682571298Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:56:47Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;f3da019d-af31-41ce-b3fd-ebd266cec5de&quot;), &quot;uid&quot;: String(&quot;1a6b5851-3b92-47e8-be9a-21aafd17e261&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T14:56:47.659268Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;412f002f-8216-410a-b4b9-a70221d2bd75&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:47.709298399Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:47.716339128Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:47.716370667Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:47.682517267Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:47.682517839Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:47.682548124Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:47.682636280Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:47.682571298Z&quot;)}]}}
[2022-11-23T14:56:47Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-11-23T14:56:48Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;f3da019d-af31-41ce-b3fd-ebd266cec5de&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T14:56:48Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;f3da019d-af31-41ce-b3fd-ebd266cec5de\&quot;,\n    \&quot;uid\&quot;: \&quot;1a6b5851-3b92-47e8-be9a-21aafd17e261\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T14:56:47.659268Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;aa34e01b-5c83-4d5b-a764-13791ee718ff\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;bDgKNhYNLqHE\&quot;,\n        \&quot;username\&quot;: \&quot;user-f3da019d-af31-41ce-b3fd-ebd266cec5de\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:47.709298399Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:47.716339128Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:47.792186877Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:47.800682578Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:47.943965289Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:47.943985327Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:47.944259119Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:47.944012939Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:56:48Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;f3da019d-af31-41ce-b3fd-ebd266cec5de&quot;), &quot;uid&quot;: String(&quot;1a6b5851-3b92-47e8-be9a-21aafd17e261&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T14:56:47.659268Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;aa34e01b-5c83-4d5b-a764-13791ee718ff&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;bDgKNhYNLqHE&quot;), &quot;username&quot;: String(&quot;user-f3da019d-af31-41ce-b3fd-ebd266cec5de&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:47.709298399Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:47.716339128Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:47.792186877Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:47.800682578Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:47.943965289Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:47.943985327Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:47.944259119Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:47.944012939Z&quot;)}]}}
[2022-11-23T14:56:48Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-11-23T14:56:48Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;f3da019d-af31-41ce-b3fd-ebd266cec5de&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T14:56:48Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;f3da019d-af31-41ce-b3fd-ebd266cec5de\&quot;,\n    \&quot;uid\&quot;: \&quot;1a6b5851-3b92-47e8-be9a-21aafd17e261\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T14:56:47.659268Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;aa34e01b-5c83-4d5b-a764-13791ee718ff\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;bDgKNhYNLqHE\&quot;,\n        \&quot;username\&quot;: \&quot;user-f3da019d-af31-41ce-b3fd-ebd266cec5de\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:47.709298399Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:47.716339128Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:47.792186877Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:47.800682578Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:47.943965289Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:47.943985327Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:47.944259119Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:47.944012939Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:56:48Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;f3da019d-af31-41ce-b3fd-ebd266cec5de&quot;), &quot;uid&quot;: String(&quot;1a6b5851-3b92-47e8-be9a-21aafd17e261&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T14:56:47.659268Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;aa34e01b-5c83-4d5b-a764-13791ee718ff&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;bDgKNhYNLqHE&quot;), &quot;username&quot;: String(&quot;user-f3da019d-af31-41ce-b3fd-ebd266cec5de&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:47.709298399Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:47.716339128Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:47.792186877Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:47.800682578Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:47.943965289Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:47.943985327Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:47.944259119Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:47.944012939Z&quot;)}]}}
[2022-11-23T14:56:48Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-11-23T14:56:48Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-11-23T14:56:48Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;f3da019d-af31-41ce-b3fd-ebd266cec5de&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-11-23T14:56:48Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:56:48Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T14:56:48Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:56:48Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T14:56:48Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTU3MDYsImlhdCI6MTY2OTIxNTQwNiwiYXV0aF90aW1lIjoxNjY5MjE1NDAzLCJqdGkiOiJjYjE5NmRmNS1hNDc3LTRmOTItYTVlYS00MjMzMTI3ZTZhMDUiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InlLc1Q0bzhseEhEZjBDTmtaeC12b0EiLCJzZXNzaW9uX3N0YXRlIjoiNDVhMTJlNDktZWU0NC00NmIxLWJkNDAtNTExNGQ0NWQ4OWNhIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjQ1YTEyZTQ5LWVlNDQtNDZiMS1iZDQwLTUxMTRkNDVkODljYSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.cxedmv3cUZoawKep0AhwTqabctNdHCPoRedLTLWm2OJPfD2zRipBqsH00kd9xeCsYh4-IXJKeghHv47oo3_gTR-oyKh-vrL6bDtX52LVvkcJkVdJUusK4krlhexn1g4PU9vNcIl1zSn-L2QHlCpbdkS_Z6ZXSWNl8WRz6rKK88sfnh19jtvleoaClmVXBKeK9yYc63ZPpCTkjqgyXiGX5vHad9gyX6sKcIQOkKboWD5v9yDLY6ccJl7LQPxJ8PUBjpDCGhjm313VZwFI9JLtEgD_dLnmZTWjB-TSC0CaPcp-eDcwgcxyo3-36iDl-sNkA73mhMY6xbTxBDWQPPHqmg\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:56:48Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:56:48Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-11-23T14:56:48Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;f3da019d-af31-41ce-b3fd-ebd266cec5de&quot; &quot;device1&quot;
[2022-11-23T14:56:49Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:56:49Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;f3da019d-af31-41ce-b3fd-ebd266cec5de&#x27;
[2022-11-23T14:56:49Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;f3da019d-af31-41ce-b3fd-ebd266cec5de&quot;
[2022-11-23T14:56:49Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::command::simple::version_1::ws_2

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T14:56:51Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T14:56:51Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:56:51Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:56:51Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:56:52Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T14:56:53Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T14:56:53Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:56:53Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:56:55Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTcyMTUsImlhdCI6MTY2OTIxNTQxNSwianRpIjoiMjY0MmUwM2MtNWJmMS00ODMyLTk3ODMtZTExODVmNDQ5NDA4IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiT0hTVkZVZ3NVMHB0ZHNnakQ1dEN5QSIsInNlc3Npb25fc3RhdGUiOiJkY2Y0MTcxNC00NWQ0LTQ2NWUtOWEyZi02ZDc5YTM3MjY5YWMiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiZGNmNDE3MTQtNDVkNC00NjVlLTlhMmYtNmQ3OWEzNzI2OWFjIn0.TaOv9IFY6bH1gur5glyAyHsOPxWxgrN004nuCKdZScU
[2022-11-23T14:56:55Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T14:56:55Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:56:55Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTcyMTUsImlhdCI6MTY2OTIxNTQxNSwianRpIjoiMjY0MmUwM2MtNWJmMS00ODMyLTk3ODMtZTExODVmNDQ5NDA4IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiT0hTVkZVZ3NVMHB0ZHNnakQ1dEN5QSIsInNlc3Npb25fc3RhdGUiOiJkY2Y0MTcxNC00NWQ0LTQ2NWUtOWEyZi02ZDc5YTM3MjY5YWMiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiZGNmNDE3MTQtNDVkNC00NjVlLTlhMmYtNmQ3OWEzNzI2OWFjIn0.TaOv9IFY6bH1gur5glyAyHsOPxWxgrN004nuCKdZScU&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T14:56:55Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:56:56Z INFO  drogue_cloud_tests::resources::apps] Create application: 9ff54c87-f999-46fb-bad0-28956e0c374e
[2022-11-23T14:56:56Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;9ff54c87-f999-46fb-bad0-28956e0c374e&quot;
[2022-11-23T14:56:56Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:56:56Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;9ff54c87-f999-46fb-bad0-28956e0c374e&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T14:56:56Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;9ff54c87-f999-46fb-bad0-28956e0c374e\&quot;,\n    \&quot;uid\&quot;: \&quot;977959b1-89cb-496b-9d4e-6572f53123d8\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T14:56:56.161783Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;f8457c87-140a-4625-9194-f3b2f8bbe78f\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:56.206406563Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:56.212992453Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:56.213046383Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:56.174380280Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:56.174381261Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:56.174388875Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:56.174416157Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:56.174439701Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:56:56Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;9ff54c87-f999-46fb-bad0-28956e0c374e&quot;), &quot;uid&quot;: String(&quot;977959b1-89cb-496b-9d4e-6572f53123d8&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T14:56:56.161783Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;f8457c87-140a-4625-9194-f3b2f8bbe78f&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:56.206406563Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:56.212992453Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:56.213046383Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:56.174380280Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:56.174381261Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:56.174388875Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:56.174416157Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:56.174439701Z&quot;)}]}}
[2022-11-23T14:56:56Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-11-23T14:56:57Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;9ff54c87-f999-46fb-bad0-28956e0c374e&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T14:56:57Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;9ff54c87-f999-46fb-bad0-28956e0c374e\&quot;,\n    \&quot;uid\&quot;: \&quot;977959b1-89cb-496b-9d4e-6572f53123d8\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T14:56:56.161783Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;ff04a320-1688-47ab-acc1-d5495e5b4016\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;ys9tmjzohu8p\&quot;,\n        \&quot;username\&quot;: \&quot;user-9ff54c87-f999-46fb-bad0-28956e0c374e\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:56.206406563Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:56.212992453Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:56.297783440Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:56.304835641Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:56.462035857Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:56.462057278Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:56.462085180Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:56.462377046Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:56:57Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;9ff54c87-f999-46fb-bad0-28956e0c374e&quot;), &quot;uid&quot;: String(&quot;977959b1-89cb-496b-9d4e-6572f53123d8&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T14:56:56.161783Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;ff04a320-1688-47ab-acc1-d5495e5b4016&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;ys9tmjzohu8p&quot;), &quot;username&quot;: String(&quot;user-9ff54c87-f999-46fb-bad0-28956e0c374e&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:56.206406563Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:56.212992453Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:56.297783440Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:56.304835641Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:56.462035857Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:56.462057278Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:56.462085180Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:56.462377046Z&quot;)}]}}
[2022-11-23T14:56:57Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-11-23T14:56:57Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;9ff54c87-f999-46fb-bad0-28956e0c374e&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T14:56:57Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;9ff54c87-f999-46fb-bad0-28956e0c374e\&quot;,\n    \&quot;uid\&quot;: \&quot;977959b1-89cb-496b-9d4e-6572f53123d8\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T14:56:56.161783Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;ff04a320-1688-47ab-acc1-d5495e5b4016\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;ys9tmjzohu8p\&quot;,\n        \&quot;username\&quot;: \&quot;user-9ff54c87-f999-46fb-bad0-28956e0c374e\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:56.206406563Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:56.212992453Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:56.297783440Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:56.304835641Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:56.462035857Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:56.462057278Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:56.462085180Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:56:56.462377046Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:56:57Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;9ff54c87-f999-46fb-bad0-28956e0c374e&quot;), &quot;uid&quot;: String(&quot;977959b1-89cb-496b-9d4e-6572f53123d8&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T14:56:56.161783Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;ff04a320-1688-47ab-acc1-d5495e5b4016&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;ys9tmjzohu8p&quot;), &quot;username&quot;: String(&quot;user-9ff54c87-f999-46fb-bad0-28956e0c374e&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:56.206406563Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:56.212992453Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:56.297783440Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:56.304835641Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:56.462035857Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:56.462057278Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:56.462085180Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:56:56.462377046Z&quot;)}]}}
[2022-11-23T14:56:57Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-11-23T14:56:57Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-11-23T14:56:57Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;9ff54c87-f999-46fb-bad0-28956e0c374e&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-11-23T14:56:57Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:56:57Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T14:56:57Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:56:57Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T14:56:57Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTU3MTUsImlhdCI6MTY2OTIxNTQxNSwiYXV0aF90aW1lIjoxNjY5MjE1NDEyLCJqdGkiOiJmZWM1YWZiYS1hM2M0LTRmM2EtYWNlOC01YTU5ZmY3MmUwYjciLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Ik9IU1ZGVWdzVTBwdGRzZ2pENXRDeUEiLCJzZXNzaW9uX3N0YXRlIjoiZGNmNDE3MTQtNDVkNC00NjVlLTlhMmYtNmQ3OWEzNzI2OWFjIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImRjZjQxNzE0LTQ1ZDQtNDY1ZS05YTJmLTZkNzlhMzcyNjlhYyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.AXKemGHgzflaH1DiSfbYhlApzL7F34A0WpjS9vwLqs6zT6CLe0EgsOIgRISchtmLP1cjsoWDSgg2Nj-3mefunBOR4E4VH1wxDeTAO4DRwKV864t6hGCTTDPXmlpUDUzgRJ6WGG1w9ekNFp8C9lsQ3XwT_tEGug19UTodn6-1-8H7SEHgdQOe1DClFsYafQuSgSwGe_VUShYOJUlGwsZD7pr5LQqut9ocOYPN69EqH8xsXid6KY6hKOhhvrnqJJmHdBgIgOCkf5yWTrCAz-U75bkyeRZ1wKDmayvZF42BvisvrP8jSWiR5GlaoKFNPPfRBZg6M-rFmI9SbUiDUcdWmA\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:56:57Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:56:57Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-11-23T14:56:57Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;9ff54c87-f999-46fb-bad0-28956e0c374e&quot; &quot;device1&quot;
[2022-11-23T14:56:57Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:56:57Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;9ff54c87-f999-46fb-bad0-28956e0c374e&#x27;
[2022-11-23T14:56:57Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;9ff54c87-f999-46fb-bad0-28956e0c374e&quot;
[2022-11-23T14:56:57Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::command::simple::version_2::ws_1

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T14:56:59Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T14:56:59Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:56:59Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:56:59Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:57:00Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T14:57:02Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T14:57:02Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:57:02Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:57:03Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTcyMjMsImlhdCI6MTY2OTIxNTQyMywianRpIjoiMDIzN2JjNDMtZDM3NC00NzRlLTgzY2ItZWVlZDIyODIzNTZmIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoidVVMb0hPa2JhdWhNQWNIMlB4anBmdyIsInNlc3Npb25fc3RhdGUiOiJmN2M0YTZhMS03NWY0LTRlYzAtYjlhMy0zMTgyMTRjYTZmYmYiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiZjdjNGE2YTEtNzVmNC00ZWMwLWI5YTMtMzE4MjE0Y2E2ZmJmIn0.CWAW3tWNb2L-G8B6KkgrLHvdUEH09u3H--sEoRGG2fs
[2022-11-23T14:57:03Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T14:57:03Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:57:03Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTcyMjMsImlhdCI6MTY2OTIxNTQyMywianRpIjoiMDIzN2JjNDMtZDM3NC00NzRlLTgzY2ItZWVlZDIyODIzNTZmIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoidVVMb0hPa2JhdWhNQWNIMlB4anBmdyIsInNlc3Npb25fc3RhdGUiOiJmN2M0YTZhMS03NWY0LTRlYzAtYjlhMy0zMTgyMTRjYTZmYmYiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiZjdjNGE2YTEtNzVmNC00ZWMwLWI5YTMtMzE4MjE0Y2E2ZmJmIn0.CWAW3tWNb2L-G8B6KkgrLHvdUEH09u3H--sEoRGG2fs&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T14:57:04Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:57:04Z INFO  drogue_cloud_tests::resources::apps] Create application: 36c74db9-a2bb-4bb9-af76-791e52a09a9d
[2022-11-23T14:57:04Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;36c74db9-a2bb-4bb9-af76-791e52a09a9d&quot;
[2022-11-23T14:57:04Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:57:04Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;36c74db9-a2bb-4bb9-af76-791e52a09a9d&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T14:57:04Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;36c74db9-a2bb-4bb9-af76-791e52a09a9d\&quot;,\n    \&quot;uid\&quot;: \&quot;266930e6-616e-48cb-861b-ed6072740369\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T14:57:04.674989Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;918bb4eb-572b-46dd-94b2-45bf258ad622\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:04.722933576Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:04.729652293Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:04.729686828Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:04.692310877Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:04.692311608Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:04.692324142Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:04.692372532Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:04.692402729Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:57:04Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;36c74db9-a2bb-4bb9-af76-791e52a09a9d&quot;), &quot;uid&quot;: String(&quot;266930e6-616e-48cb-861b-ed6072740369&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T14:57:04.674989Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;918bb4eb-572b-46dd-94b2-45bf258ad622&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:04.722933576Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:04.729652293Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:04.729686828Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:04.692310877Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:04.692311608Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:04.692324142Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:04.692372532Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:04.692402729Z&quot;)}]}}
[2022-11-23T14:57:04Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-11-23T14:57:05Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;36c74db9-a2bb-4bb9-af76-791e52a09a9d&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T14:57:05Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;36c74db9-a2bb-4bb9-af76-791e52a09a9d\&quot;,\n    \&quot;uid\&quot;: \&quot;266930e6-616e-48cb-861b-ed6072740369\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T14:57:04.674989Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;9044a84d-11f4-4e3c-bc36-71167a2f4736\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;GnvHpyRLxVms\&quot;,\n        \&quot;username\&quot;: \&quot;user-36c74db9-a2bb-4bb9-af76-791e52a09a9d\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:04.722933576Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:04.729652293Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:04.800050211Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:04.805662860Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:04.917352442Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:04.917368262Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:04.917394631Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:04.917470774Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:57:05Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;36c74db9-a2bb-4bb9-af76-791e52a09a9d&quot;), &quot;uid&quot;: String(&quot;266930e6-616e-48cb-861b-ed6072740369&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T14:57:04.674989Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;9044a84d-11f4-4e3c-bc36-71167a2f4736&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;GnvHpyRLxVms&quot;), &quot;username&quot;: String(&quot;user-36c74db9-a2bb-4bb9-af76-791e52a09a9d&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:04.722933576Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:04.729652293Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:04.800050211Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:04.805662860Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:04.917352442Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:04.917368262Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:04.917394631Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:04.917470774Z&quot;)}]}}
[2022-11-23T14:57:05Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-11-23T14:57:05Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;36c74db9-a2bb-4bb9-af76-791e52a09a9d&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T14:57:05Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;36c74db9-a2bb-4bb9-af76-791e52a09a9d\&quot;,\n    \&quot;uid\&quot;: \&quot;266930e6-616e-48cb-861b-ed6072740369\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T14:57:04.674989Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;9044a84d-11f4-4e3c-bc36-71167a2f4736\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;GnvHpyRLxVms\&quot;,\n        \&quot;username\&quot;: \&quot;user-36c74db9-a2bb-4bb9-af76-791e52a09a9d\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:04.722933576Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:04.729652293Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:04.800050211Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:04.805662860Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:04.917352442Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:04.917368262Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:04.917394631Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:04.917470774Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:57:05Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;36c74db9-a2bb-4bb9-af76-791e52a09a9d&quot;), &quot;uid&quot;: String(&quot;266930e6-616e-48cb-861b-ed6072740369&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T14:57:04.674989Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;9044a84d-11f4-4e3c-bc36-71167a2f4736&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;GnvHpyRLxVms&quot;), &quot;username&quot;: String(&quot;user-36c74db9-a2bb-4bb9-af76-791e52a09a9d&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:04.722933576Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:04.729652293Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:04.800050211Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:04.805662860Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:04.917352442Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:04.917368262Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:04.917394631Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:04.917470774Z&quot;)}]}}
[2022-11-23T14:57:05Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-11-23T14:57:05Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-11-23T14:57:05Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;36c74db9-a2bb-4bb9-af76-791e52a09a9d&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-11-23T14:57:05Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:57:05Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T14:57:05Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:57:05Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T14:57:05Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTU3MjMsImlhdCI6MTY2OTIxNTQyMywiYXV0aF90aW1lIjoxNjY5MjE1NDIxLCJqdGkiOiI4YzgzMjNkYy0wYzYwLTRjNjQtYmZlMS0wNDM2MjQ1ZTk0MzkiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InVVTG9IT2tiYXVoTUFjSDJQeGpwZnciLCJzZXNzaW9uX3N0YXRlIjoiZjdjNGE2YTEtNzVmNC00ZWMwLWI5YTMtMzE4MjE0Y2E2ZmJmIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImY3YzRhNmExLTc1ZjQtNGVjMC1iOWEzLTMxODIxNGNhNmZiZiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.PtcEGRfulONn2ImJ_7r20grdEBJpjeBUvfcE69awrKP4eW6KwycfthOZ3UxmUREt8iOnBPCC2u2yGyss_QEigd0U5stGrgpBWVvDsOKNvsSVjdozjqpinY7e0YlcypmkCyEMQPutL-wJquwq03eO8X-FYYFoI1h49FJEq690C1aL2JMikP8G2UGTuQ2YdgzU2fyn65Ke2KU8P5_6CKNIV89iFO0AGPkzUKIeig_WoYE2Ej7WIJ8iSMAgOITjPgA0i5aX8bUoyAUdpgLJLVIgj3OWW2aGcTPVo1_xcDbk-7zCTPc5GtLTTjY_gk2tE8NIdZQBBvlv3JRYQ2C3ozFvVA\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:57:05Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:57:06Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-11-23T14:57:06Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;36c74db9-a2bb-4bb9-af76-791e52a09a9d&quot; &quot;device1&quot;
[2022-11-23T14:57:06Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:57:06Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;36c74db9-a2bb-4bb9-af76-791e52a09a9d&#x27;
[2022-11-23T14:57:06Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;36c74db9-a2bb-4bb9-af76-791e52a09a9d&quot;
[2022-11-23T14:57:06Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::command::simple::version_2::ws_2

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T14:57:08Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T14:57:08Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:57:08Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:57:08Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:57:09Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T14:57:10Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T14:57:10Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:57:10Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:57:12Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTcyMzIsImlhdCI6MTY2OTIxNTQzMiwianRpIjoiMTBiYzQ5MGEtNDgzMi00NmE4LTgxOWQtNTE0ZTVlMDJlNWM0IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiQWlaMTRjT3ZaQWtxX21HMEpiNWNuZyIsInNlc3Npb25fc3RhdGUiOiI4YTFmM2M0Zi0zYjNiLTQ5OWQtYjY5YS05YjdhMmNiMjBmYmIiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiOGExZjNjNGYtM2IzYi00OTlkLWI2OWEtOWI3YTJjYjIwZmJiIn0.Btf9N5bVBwaEQ25DTqFzp_2Z64wZYjEfBZGZFJxhyrQ
[2022-11-23T14:57:12Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T14:57:12Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:57:12Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTcyMzIsImlhdCI6MTY2OTIxNTQzMiwianRpIjoiMTBiYzQ5MGEtNDgzMi00NmE4LTgxOWQtNTE0ZTVlMDJlNWM0IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiQWlaMTRjT3ZaQWtxX21HMEpiNWNuZyIsInNlc3Npb25fc3RhdGUiOiI4YTFmM2M0Zi0zYjNiLTQ5OWQtYjY5YS05YjdhMmNiMjBmYmIiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiOGExZjNjNGYtM2IzYi00OTlkLWI2OWEtOWI3YTJjYjIwZmJiIn0.Btf9N5bVBwaEQ25DTqFzp_2Z64wZYjEfBZGZFJxhyrQ&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T14:57:12Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:57:13Z INFO  drogue_cloud_tests::resources::apps] Create application: 35d0ba3a-6a00-4ee6-b947-a56b258e7477
[2022-11-23T14:57:13Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;35d0ba3a-6a00-4ee6-b947-a56b258e7477&quot;
[2022-11-23T14:57:13Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:57:13Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;35d0ba3a-6a00-4ee6-b947-a56b258e7477&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T14:57:13Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;35d0ba3a-6a00-4ee6-b947-a56b258e7477\&quot;,\n    \&quot;uid\&quot;: \&quot;1a925383-a47b-4fae-a1e0-07bc83c2407d\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T14:57:13.143917Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;a8079c93-81e3-4460-9b6b-86bea4abf578\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:13.188370247Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:13.193796046Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:13.193832734Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:13.164250761Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:13.164251152Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:13.164256082Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:13.164300846Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:13.164277671Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:57:13Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;35d0ba3a-6a00-4ee6-b947-a56b258e7477&quot;), &quot;uid&quot;: String(&quot;1a925383-a47b-4fae-a1e0-07bc83c2407d&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T14:57:13.143917Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;a8079c93-81e3-4460-9b6b-86bea4abf578&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:13.188370247Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:13.193796046Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:13.193832734Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:13.164250761Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:13.164251152Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:13.164256082Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:13.164300846Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:13.164277671Z&quot;)}]}}
[2022-11-23T14:57:13Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-11-23T14:57:14Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;35d0ba3a-6a00-4ee6-b947-a56b258e7477&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T14:57:14Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;35d0ba3a-6a00-4ee6-b947-a56b258e7477\&quot;,\n    \&quot;uid\&quot;: \&quot;1a925383-a47b-4fae-a1e0-07bc83c2407d\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T14:57:13.143917Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;bbc90bec-7e10-4137-bf04-ee926b8de552\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;Vh2DvYEEvhUO\&quot;,\n        \&quot;username\&quot;: \&quot;user-35d0ba3a-6a00-4ee6-b947-a56b258e7477\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:13.188370247Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:13.193796046Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:13.269642367Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:13.277474767Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:13.387699763Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:13.387719419Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:13.387834995Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:13.387772889Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:57:14Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;35d0ba3a-6a00-4ee6-b947-a56b258e7477&quot;), &quot;uid&quot;: String(&quot;1a925383-a47b-4fae-a1e0-07bc83c2407d&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T14:57:13.143917Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;bbc90bec-7e10-4137-bf04-ee926b8de552&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;Vh2DvYEEvhUO&quot;), &quot;username&quot;: String(&quot;user-35d0ba3a-6a00-4ee6-b947-a56b258e7477&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:13.188370247Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:13.193796046Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:13.269642367Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:13.277474767Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:13.387699763Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:13.387719419Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:13.387834995Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:13.387772889Z&quot;)}]}}
[2022-11-23T14:57:14Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-11-23T14:57:14Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;35d0ba3a-6a00-4ee6-b947-a56b258e7477&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T14:57:14Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;35d0ba3a-6a00-4ee6-b947-a56b258e7477\&quot;,\n    \&quot;uid\&quot;: \&quot;1a925383-a47b-4fae-a1e0-07bc83c2407d\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T14:57:13.143917Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;bbc90bec-7e10-4137-bf04-ee926b8de552\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;Vh2DvYEEvhUO\&quot;,\n        \&quot;username\&quot;: \&quot;user-35d0ba3a-6a00-4ee6-b947-a56b258e7477\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:13.188370247Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:13.193796046Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:13.269642367Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:13.277474767Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:13.387699763Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:13.387719419Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:13.387834995Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:13.387772889Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:57:14Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;35d0ba3a-6a00-4ee6-b947-a56b258e7477&quot;), &quot;uid&quot;: String(&quot;1a925383-a47b-4fae-a1e0-07bc83c2407d&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T14:57:13.143917Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;bbc90bec-7e10-4137-bf04-ee926b8de552&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;Vh2DvYEEvhUO&quot;), &quot;username&quot;: String(&quot;user-35d0ba3a-6a00-4ee6-b947-a56b258e7477&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:13.188370247Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:13.193796046Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:13.269642367Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:13.277474767Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:13.387699763Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:13.387719419Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:13.387834995Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:13.387772889Z&quot;)}]}}
[2022-11-23T14:57:14Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-11-23T14:57:14Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-11-23T14:57:14Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;35d0ba3a-6a00-4ee6-b947-a56b258e7477&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-11-23T14:57:14Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:57:14Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T14:57:14Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:57:14Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T14:57:14Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTU3MzIsImlhdCI6MTY2OTIxNTQzMiwiYXV0aF90aW1lIjoxNjY5MjE1NDI5LCJqdGkiOiI0YWRmYjk5My1lNWQ3LTQ0NGUtYTY1ZS0zYTM0MGExODE1MDYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IkFpWjE0Y092WkFrcV9tRzBKYjVjbmciLCJzZXNzaW9uX3N0YXRlIjoiOGExZjNjNGYtM2IzYi00OTlkLWI2OWEtOWI3YTJjYjIwZmJiIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjhhMWYzYzRmLTNiM2ItNDk5ZC1iNjlhLTliN2EyY2IyMGZiYiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.ETEq__BZ1wBiP1XzuH7fAMIrTgC7cbz2eDwE_dIxxlEPwshIrcpPdjhDtiDsFde8o7xqqPoCq9tHs3eApY5yVlnd0OekI4qZ-PJC-2rTvoAXG_GVpp2OR39NMMP6ZeB7GIZU3mPGk2kBi4fYdNKvMQaJzhOHbJP7juK_SrBJT8xKy3y5hKHYNPsBK09WSLFyDSxViXgBb7jt1La1FZiZ3A9o29BwlfRD8BfjcKYx7VeKZcsYwEuJ9ZKi8iI2G36UpxXYEzL3veFVdXZHxRvKTwCT3zFVkPxdyKs0wHPV4THXaFRZh1gdu3EnIg4Os7ajeXsOx6SqYMT6M3lbVzVqng\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:57:14Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:57:14Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-11-23T14:57:14Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;35d0ba3a-6a00-4ee6-b947-a56b258e7477&quot; &quot;device1&quot;
[2022-11-23T14:57:14Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:57:14Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;35d0ba3a-6a00-4ee6-b947-a56b258e7477&#x27;
[2022-11-23T14:57:14Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;35d0ba3a-6a00-4ee6-b947-a56b258e7477&quot;
[2022-11-23T14:57:14Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::command::simple::version_3::ws_1

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T14:57:16Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T14:57:16Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:57:16Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:57:16Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:57:17Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T14:57:19Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T14:57:19Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:57:19Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:57:20Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTcyNDAsImlhdCI6MTY2OTIxNTQ0MCwianRpIjoiY2YwOWM0ZDctN2M4NC00YWVhLWI4MGEtYjRhYmMyN2NjNGQzIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiVVVSRmMyYlhJVEJrVGdkTDNsZk9tUSIsInNlc3Npb25fc3RhdGUiOiI0MGRlMGM1Yi1jMjc4LTQwOWQtYWFlZC0xMjMyYTk4ZTFlNTIiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiNDBkZTBjNWItYzI3OC00MDlkLWFhZWQtMTIzMmE5OGUxZTUyIn0.SiPjBvsiLzqTd6db8WPrqxnJ0XlhqkOOLypTMuIMwm0
[2022-11-23T14:57:20Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T14:57:20Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:57:20Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTcyNDAsImlhdCI6MTY2OTIxNTQ0MCwianRpIjoiY2YwOWM0ZDctN2M4NC00YWVhLWI4MGEtYjRhYmMyN2NjNGQzIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiVVVSRmMyYlhJVEJrVGdkTDNsZk9tUSIsInNlc3Npb25fc3RhdGUiOiI0MGRlMGM1Yi1jMjc4LTQwOWQtYWFlZC0xMjMyYTk4ZTFlNTIiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiNDBkZTBjNWItYzI3OC00MDlkLWFhZWQtMTIzMmE5OGUxZTUyIn0.SiPjBvsiLzqTd6db8WPrqxnJ0XlhqkOOLypTMuIMwm0&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T14:57:20Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:57:21Z INFO  drogue_cloud_tests::resources::apps] Create application: a0f1331f-2119-4895-88b9-8718d94861e1
[2022-11-23T14:57:21Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;a0f1331f-2119-4895-88b9-8718d94861e1&quot;
[2022-11-23T14:57:21Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:57:21Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;a0f1331f-2119-4895-88b9-8718d94861e1&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T14:57:21Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;a0f1331f-2119-4895-88b9-8718d94861e1\&quot;,\n    \&quot;uid\&quot;: \&quot;3253f204-ec2a-4185-9104-88fefe15ce7a\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T14:57:21.587233Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;2c36372a-1f1a-491d-ae7f-e3bf1094d12c\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:21.640829272Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:21.649514016Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:21.649575049Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:21.613955002Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:21.613955623Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:21.613975671Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:21.614036936Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:21.613998043Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:57:21Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;a0f1331f-2119-4895-88b9-8718d94861e1&quot;), &quot;uid&quot;: String(&quot;3253f204-ec2a-4185-9104-88fefe15ce7a&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T14:57:21.587233Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;2c36372a-1f1a-491d-ae7f-e3bf1094d12c&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:21.640829272Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:21.649514016Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:21.649575049Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:21.613955002Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:21.613955623Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:21.613975671Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:21.614036936Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:21.613998043Z&quot;)}]}}
[2022-11-23T14:57:21Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-11-23T14:57:22Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;a0f1331f-2119-4895-88b9-8718d94861e1&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T14:57:22Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;a0f1331f-2119-4895-88b9-8718d94861e1\&quot;,\n    \&quot;uid\&quot;: \&quot;3253f204-ec2a-4185-9104-88fefe15ce7a\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T14:57:21.587233Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;66832475-6df0-4eac-9f1a-f833e0c9595c\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;bqxywAnAA5Ne\&quot;,\n        \&quot;username\&quot;: \&quot;user-a0f1331f-2119-4895-88b9-8718d94861e1\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:21.640829272Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:21.649514016Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:21.726420590Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:21.733644493Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:21.849003725Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:21.849066291Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:21.849176679Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:21.849096328Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:57:22Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;a0f1331f-2119-4895-88b9-8718d94861e1&quot;), &quot;uid&quot;: String(&quot;3253f204-ec2a-4185-9104-88fefe15ce7a&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T14:57:21.587233Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;66832475-6df0-4eac-9f1a-f833e0c9595c&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;bqxywAnAA5Ne&quot;), &quot;username&quot;: String(&quot;user-a0f1331f-2119-4895-88b9-8718d94861e1&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:21.640829272Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:21.649514016Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:21.726420590Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:21.733644493Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:21.849003725Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:21.849066291Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:21.849176679Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:21.849096328Z&quot;)}]}}
[2022-11-23T14:57:22Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-11-23T14:57:22Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;a0f1331f-2119-4895-88b9-8718d94861e1&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T14:57:22Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;a0f1331f-2119-4895-88b9-8718d94861e1\&quot;,\n    \&quot;uid\&quot;: \&quot;3253f204-ec2a-4185-9104-88fefe15ce7a\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T14:57:21.587233Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;66832475-6df0-4eac-9f1a-f833e0c9595c\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;bqxywAnAA5Ne\&quot;,\n        \&quot;username\&quot;: \&quot;user-a0f1331f-2119-4895-88b9-8718d94861e1\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:21.640829272Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:21.649514016Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:21.726420590Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:21.733644493Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:21.849003725Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:21.849066291Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:21.849176679Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:21.849096328Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:57:22Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;a0f1331f-2119-4895-88b9-8718d94861e1&quot;), &quot;uid&quot;: String(&quot;3253f204-ec2a-4185-9104-88fefe15ce7a&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T14:57:21.587233Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;66832475-6df0-4eac-9f1a-f833e0c9595c&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;bqxywAnAA5Ne&quot;), &quot;username&quot;: String(&quot;user-a0f1331f-2119-4895-88b9-8718d94861e1&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:21.640829272Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:21.649514016Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:21.726420590Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:21.733644493Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:21.849003725Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:21.849066291Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:21.849176679Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:21.849096328Z&quot;)}]}}
[2022-11-23T14:57:22Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-11-23T14:57:22Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-11-23T14:57:22Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;a0f1331f-2119-4895-88b9-8718d94861e1&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-11-23T14:57:22Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:57:22Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T14:57:22Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:57:22Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T14:57:22Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTU3NDAsImlhdCI6MTY2OTIxNTQ0MCwiYXV0aF90aW1lIjoxNjY5MjE1NDM4LCJqdGkiOiIyYjkwNTQ3ZC0wNGRkLTRmNjEtOTY5Ny0zOGE1ODg3MjI0ODkiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlVVUkZjMmJYSVRCa1RnZEwzbGZPbVEiLCJzZXNzaW9uX3N0YXRlIjoiNDBkZTBjNWItYzI3OC00MDlkLWFhZWQtMTIzMmE5OGUxZTUyIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjQwZGUwYzViLWMyNzgtNDA5ZC1hYWVkLTEyMzJhOThlMWU1MiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.CpHYsgtzBMtG2ZxGd9APlYxN7UsPkg_vQwE5iNjCG3NwMBeGMV-qp1KehNyVdWKOrmAz328xfCxC0FO19buSxiZoV6bImdh3T_xpmnNRQsM5os3SFKPY8_Ga66wkTTquemmXLA9QDnVc-tWloXp0MCTsPSDq-pO6nFT6FEhnyGsYOhEJCO11XcAIQF9PVvrXDMod3G0G0GvcbyhyBqlJ9xSO-tegRL-zkjiSAXXX3IN0A9lySHIgUUa2-CbI0AhuPCtIIVyNieC995cUGX1DH0cEVyDpXlFwCSUGfiI2rj-uYNHpIdaLJsG5l9WySsbxVHDTg6IRNNpdrEdmEGLejw\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:57:22Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:57:22Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-11-23T14:57:22Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;a0f1331f-2119-4895-88b9-8718d94861e1&quot; &quot;device1&quot;
[2022-11-23T14:57:22Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:57:22Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;a0f1331f-2119-4895-88b9-8718d94861e1&#x27;
[2022-11-23T14:57:22Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;a0f1331f-2119-4895-88b9-8718d94861e1&quot;
[2022-11-23T14:57:22Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::command::simple::version_3::ws_2

**Duration**: 9s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T14:57:25Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T14:57:25Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:57:25Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:57:25Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:57:25Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T14:57:27Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T14:57:27Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:57:27Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:57:30Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTcyNDksImlhdCI6MTY2OTIxNTQ0OSwianRpIjoiMmMxZTY2ZjktZGY0ZS00MmU3LWI0MTQtNDliMjk0NjZmMDkyIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiU1YzR0JrVDJTMUx2RXJQUWU2ZkdfZyIsInNlc3Npb25fc3RhdGUiOiI1NjAwYjMzZS0wZTUzLTQwZjgtODQzMS0xYjg3ZDMzZGNhZmEiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiNTYwMGIzM2UtMGU1My00MGY4LTg0MzEtMWI4N2QzM2RjYWZhIn0.ZPBENLaJjpv1i7V5-KMHhsQSSNSEyPMTAQcIskKmK6Y
[2022-11-23T14:57:30Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T14:57:30Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:57:30Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTcyNDksImlhdCI6MTY2OTIxNTQ0OSwianRpIjoiMmMxZTY2ZjktZGY0ZS00MmU3LWI0MTQtNDliMjk0NjZmMDkyIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiU1YzR0JrVDJTMUx2RXJQUWU2ZkdfZyIsInNlc3Npb25fc3RhdGUiOiI1NjAwYjMzZS0wZTUzLTQwZjgtODQzMS0xYjg3ZDMzZGNhZmEiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiNTYwMGIzM2UtMGU1My00MGY4LTg0MzEtMWI4N2QzM2RjYWZhIn0.ZPBENLaJjpv1i7V5-KMHhsQSSNSEyPMTAQcIskKmK6Y&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T14:57:30Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:57:30Z INFO  drogue_cloud_tests::resources::apps] Create application: 9eaf7523-f6e2-471b-8b48-0888bf8a4156
[2022-11-23T14:57:30Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;9eaf7523-f6e2-471b-8b48-0888bf8a4156&quot;
[2022-11-23T14:57:31Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:57:31Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;9eaf7523-f6e2-471b-8b48-0888bf8a4156&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T14:57:31Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;9eaf7523-f6e2-471b-8b48-0888bf8a4156\&quot;,\n    \&quot;uid\&quot;: \&quot;b586b61f-0862-4e74-88df-e46e56bf7149\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T14:57:31.007533Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;feb309db-b376-4d4e-bf05-9ecd43ccf630\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:31.060120687Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:31.066489962Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:31.066575302Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:31.030231149Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:31.030231739Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:31.030239193Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:31.030306990Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:31.030260624Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:57:31Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;9eaf7523-f6e2-471b-8b48-0888bf8a4156&quot;), &quot;uid&quot;: String(&quot;b586b61f-0862-4e74-88df-e46e56bf7149&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T14:57:31.007533Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;feb309db-b376-4d4e-bf05-9ecd43ccf630&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:31.060120687Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:31.066489962Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:31.066575302Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:31.030231149Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:31.030231739Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:31.030239193Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:31.030306990Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:31.030260624Z&quot;)}]}}
[2022-11-23T14:57:31Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-11-23T14:57:32Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;9eaf7523-f6e2-471b-8b48-0888bf8a4156&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T14:57:32Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;9eaf7523-f6e2-471b-8b48-0888bf8a4156\&quot;,\n    \&quot;uid\&quot;: \&quot;b586b61f-0862-4e74-88df-e46e56bf7149\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T14:57:31.007533Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;2fff8271-839e-4365-b6a0-0a79ae5cb374\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;n6BiUArtW3lN\&quot;,\n        \&quot;username\&quot;: \&quot;user-9eaf7523-f6e2-471b-8b48-0888bf8a4156\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:31.060120687Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:31.066489962Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:31.154077048Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:31.160685619Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:31.298375874Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:31.298399378Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:31.298487062Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:31.298436026Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:57:32Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;9eaf7523-f6e2-471b-8b48-0888bf8a4156&quot;), &quot;uid&quot;: String(&quot;b586b61f-0862-4e74-88df-e46e56bf7149&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T14:57:31.007533Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;2fff8271-839e-4365-b6a0-0a79ae5cb374&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;n6BiUArtW3lN&quot;), &quot;username&quot;: String(&quot;user-9eaf7523-f6e2-471b-8b48-0888bf8a4156&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:31.060120687Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:31.066489962Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:31.154077048Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:31.160685619Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:31.298375874Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:31.298399378Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:31.298487062Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:31.298436026Z&quot;)}]}}
[2022-11-23T14:57:32Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-11-23T14:57:32Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;9eaf7523-f6e2-471b-8b48-0888bf8a4156&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T14:57:32Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;9eaf7523-f6e2-471b-8b48-0888bf8a4156\&quot;,\n    \&quot;uid\&quot;: \&quot;b586b61f-0862-4e74-88df-e46e56bf7149\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T14:57:31.007533Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;2fff8271-839e-4365-b6a0-0a79ae5cb374\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;n6BiUArtW3lN\&quot;,\n        \&quot;username\&quot;: \&quot;user-9eaf7523-f6e2-471b-8b48-0888bf8a4156\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:31.060120687Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:31.066489962Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:31.154077048Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:31.160685619Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:31.298375874Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:31.298399378Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:31.298487062Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:31.298436026Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:57:32Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;9eaf7523-f6e2-471b-8b48-0888bf8a4156&quot;), &quot;uid&quot;: String(&quot;b586b61f-0862-4e74-88df-e46e56bf7149&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T14:57:31.007533Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;2fff8271-839e-4365-b6a0-0a79ae5cb374&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;n6BiUArtW3lN&quot;), &quot;username&quot;: String(&quot;user-9eaf7523-f6e2-471b-8b48-0888bf8a4156&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:31.060120687Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:31.066489962Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:31.154077048Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:31.160685619Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:31.298375874Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:31.298399378Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:31.298487062Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:31.298436026Z&quot;)}]}}
[2022-11-23T14:57:32Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-11-23T14:57:32Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-11-23T14:57:32Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;9eaf7523-f6e2-471b-8b48-0888bf8a4156&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-11-23T14:57:32Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:57:32Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T14:57:32Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:57:32Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T14:57:32Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTU3NTAsImlhdCI6MTY2OTIxNTQ1MCwiYXV0aF90aW1lIjoxNjY5MjE1NDQ2LCJqdGkiOiJjNDNlYTMzNC0yMTYzLTQ0YzQtOGRlYy1iOGEyNWQ2YmE0NDkiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlNWM0dCa1QyUzFMdkVyUFFlNmZHX2ciLCJzZXNzaW9uX3N0YXRlIjoiNTYwMGIzM2UtMGU1My00MGY4LTg0MzEtMWI4N2QzM2RjYWZhIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjU2MDBiMzNlLTBlNTMtNDBmOC04NDMxLTFiODdkMzNkY2FmYSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.r6Sz7s8ui8YOOpBdXclK7IcPwvi2fmeAdk-hxmQc4RHbbAGVAIuCH_uoMOAxKDiQSJPbHeNhE5KEw9jXQNMJ9t84xhm1TKdyeMfp_XJXXbshHd8cz0BuWLZGCucaXmXrvR7u7v0IIfYr-dYOpbCDaH4Sf2iTisi2rhXzG5VaA5UuaATx7TCKAvXyCqAHpLNhiHbeCbrOARzQr5CQhoo8MaUYPSJdF8AbJJi8p9kOP716gfQLuVXP1mp-UwGC1em90jWym3bSxynLC-dJftZvYiB6LA2U8-TW8TuvsPrMxM_oOiA8x8_2RcrtC-Q7j3a8nuO35E0dNYsMipSu7bkSsw\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:57:32Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:57:32Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-11-23T14:57:32Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;9eaf7523-f6e2-471b-8b48-0888bf8a4156&quot; &quot;device1&quot;
[2022-11-23T14:57:32Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:57:32Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;9eaf7523-f6e2-471b-8b48-0888bf8a4156&#x27;
[2022-11-23T14:57:32Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;9eaf7523-f6e2-471b-8b48-0888bf8a4156&quot;
[2022-11-23T14:57:32Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::command::simple_direct::version_1::ws_1

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T14:57:34Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T14:57:34Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:57:34Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:57:34Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:57:35Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T14:57:36Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T14:57:37Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:57:37Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:57:38Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTcyNTgsImlhdCI6MTY2OTIxNTQ1OCwianRpIjoiZmY3MWZlMGEtZGU1Ny00Yjc2LWIwNWUtNTU2ZjllY2IyMjI4IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiRDlLdGFqMDZZaDJ4SGVfR2dRa1QxQSIsInNlc3Npb25fc3RhdGUiOiI3OGEyNzZjMi1jNGM1LTQzZjEtODMzYi1hYWZhMjFhMGE3Y2YiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiNzhhMjc2YzItYzRjNS00M2YxLTgzM2ItYWFmYTIxYTBhN2NmIn0.DishXKS9E9Y3Uja9RspH0F1H_EkBtM8YmokxSpfHH4U
[2022-11-23T14:57:38Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T14:57:38Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:57:38Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTcyNTgsImlhdCI6MTY2OTIxNTQ1OCwianRpIjoiZmY3MWZlMGEtZGU1Ny00Yjc2LWIwNWUtNTU2ZjllY2IyMjI4IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiRDlLdGFqMDZZaDJ4SGVfR2dRa1QxQSIsInNlc3Npb25fc3RhdGUiOiI3OGEyNzZjMi1jNGM1LTQzZjEtODMzYi1hYWZhMjFhMGE3Y2YiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiNzhhMjc2YzItYzRjNS00M2YxLTgzM2ItYWFmYTIxYTBhN2NmIn0.DishXKS9E9Y3Uja9RspH0F1H_EkBtM8YmokxSpfHH4U&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T14:57:38Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:57:39Z INFO  drogue_cloud_tests::resources::apps] Create application: de007a2c-04b2-43ee-b202-c279b2170ab9
[2022-11-23T14:57:39Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;de007a2c-04b2-43ee-b202-c279b2170ab9&quot;
[2022-11-23T14:57:39Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:57:39Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;de007a2c-04b2-43ee-b202-c279b2170ab9&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T14:57:39Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;de007a2c-04b2-43ee-b202-c279b2170ab9\&quot;,\n    \&quot;uid\&quot;: \&quot;6aa7e50f-a7b1-42c4-a4ce-be135122e3bb\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T14:57:39.620972Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;4b5e7f2e-0c7f-40fa-ad15-2d104ef395f5\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:39.679409292Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:39.685737980Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:39.685804264Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:39.636283512Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:39.636284495Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:39.636293842Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:39.636327034Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:39.636367360Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:57:39Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;de007a2c-04b2-43ee-b202-c279b2170ab9&quot;), &quot;uid&quot;: String(&quot;6aa7e50f-a7b1-42c4-a4ce-be135122e3bb&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T14:57:39.620972Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;4b5e7f2e-0c7f-40fa-ad15-2d104ef395f5&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:39.679409292Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:39.685737980Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:39.685804264Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:39.636283512Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:39.636284495Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:39.636293842Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:39.636327034Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:39.636367360Z&quot;)}]}}
[2022-11-23T14:57:39Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-11-23T14:57:40Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;de007a2c-04b2-43ee-b202-c279b2170ab9&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T14:57:40Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;de007a2c-04b2-43ee-b202-c279b2170ab9\&quot;,\n    \&quot;uid\&quot;: \&quot;6aa7e50f-a7b1-42c4-a4ce-be135122e3bb\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T14:57:39.620972Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;e28e05b1-4f8f-4a19-9928-e51af20aeb2b\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;Yz6qGtrs7iuX\&quot;,\n        \&quot;username\&quot;: \&quot;user-de007a2c-04b2-43ee-b202-c279b2170ab9\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:39.679409292Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:39.685737980Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:39.753226873Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:39.759646241Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:39.865798124Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:39.865819504Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:39.865904784Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:39.865970847Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:57:40Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;de007a2c-04b2-43ee-b202-c279b2170ab9&quot;), &quot;uid&quot;: String(&quot;6aa7e50f-a7b1-42c4-a4ce-be135122e3bb&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T14:57:39.620972Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;e28e05b1-4f8f-4a19-9928-e51af20aeb2b&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;Yz6qGtrs7iuX&quot;), &quot;username&quot;: String(&quot;user-de007a2c-04b2-43ee-b202-c279b2170ab9&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:39.679409292Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:39.685737980Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:39.753226873Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:39.759646241Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:39.865798124Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:39.865819504Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:39.865904784Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:39.865970847Z&quot;)}]}}
[2022-11-23T14:57:40Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-11-23T14:57:40Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;de007a2c-04b2-43ee-b202-c279b2170ab9&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T14:57:40Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;de007a2c-04b2-43ee-b202-c279b2170ab9\&quot;,\n    \&quot;uid\&quot;: \&quot;6aa7e50f-a7b1-42c4-a4ce-be135122e3bb\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T14:57:39.620972Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;e28e05b1-4f8f-4a19-9928-e51af20aeb2b\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;Yz6qGtrs7iuX\&quot;,\n        \&quot;username\&quot;: \&quot;user-de007a2c-04b2-43ee-b202-c279b2170ab9\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:39.679409292Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:39.685737980Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:39.753226873Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:39.759646241Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:39.865798124Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:39.865819504Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:39.865904784Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:39.865970847Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:57:40Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;de007a2c-04b2-43ee-b202-c279b2170ab9&quot;), &quot;uid&quot;: String(&quot;6aa7e50f-a7b1-42c4-a4ce-be135122e3bb&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T14:57:39.620972Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;e28e05b1-4f8f-4a19-9928-e51af20aeb2b&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;Yz6qGtrs7iuX&quot;), &quot;username&quot;: String(&quot;user-de007a2c-04b2-43ee-b202-c279b2170ab9&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:39.679409292Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:39.685737980Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:39.753226873Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:39.759646241Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:39.865798124Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:39.865819504Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:39.865904784Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:39.865970847Z&quot;)}]}}
[2022-11-23T14:57:40Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-11-23T14:57:40Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-11-23T14:57:40Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;de007a2c-04b2-43ee-b202-c279b2170ab9&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-11-23T14:57:40Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:57:40Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T14:57:40Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:57:40Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T14:57:40Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTU3NTgsImlhdCI6MTY2OTIxNTQ1OCwiYXV0aF90aW1lIjoxNjY5MjE1NDU2LCJqdGkiOiJmODMyMDllYi01MDg0LTQ3MjctODJiOS03MzUwYjJiYzIwNzEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IkQ5S3RhajA2WWgyeEhlX0dnUWtUMUEiLCJzZXNzaW9uX3N0YXRlIjoiNzhhMjc2YzItYzRjNS00M2YxLTgzM2ItYWFmYTIxYTBhN2NmIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6Ijc4YTI3NmMyLWM0YzUtNDNmMS04MzNiLWFhZmEyMWEwYTdjZiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.JaGgJmiB0_tjj_RmC1Av2gy0phONIU7w5GPRT_VVFk4uTSMxtexoF0-aWkSMLBYWabqqYxT37-Susoq2gSP5v9N2usdVD561MSYzUsmNUQxp-amZl-lc4srojxIXaxGEChbNtf5LB2PyJP0gn9sGMZbaTA-AuFb_lwofPwJVJcCFnzzsfdhoNKHSeYyDW-w4d_NmCwSk8fvPH5LvaIBbCyknLpwmiXYndiE_cS3NYzm8_ZVolK4yL2v7g7ilcUnqi99vOary4eawvk5oxyw5uicroMu16SNH59Chjc7axlhOQq1X8qOtS1otZbQ3AOTqze_pIArVWNz8e0Vu9IrRtw\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:57:40Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:57:40Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-11-23T14:57:40Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;de007a2c-04b2-43ee-b202-c279b2170ab9&quot; &quot;device1&quot;
[2022-11-23T14:57:40Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:57:40Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;de007a2c-04b2-43ee-b202-c279b2170ab9&#x27;
[2022-11-23T14:57:40Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;de007a2c-04b2-43ee-b202-c279b2170ab9&quot;
[2022-11-23T14:57:41Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::command::simple_direct::version_1::ws_2

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T14:57:43Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T14:57:43Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:57:43Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:57:43Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:57:44Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T14:57:45Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T14:57:45Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:57:45Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:57:47Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTcyNjYsImlhdCI6MTY2OTIxNTQ2NiwianRpIjoiNDA1MDQxNGItYzdiNy00ZGQ2LWJhY2UtODNmOWIwYjM5Yzk3IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoib0I4TTRkenpPaWJ1LWhsUWVFdlRGUSIsInNlc3Npb25fc3RhdGUiOiI5MTViZWNmMS04YjBiLTRmNzYtYWI5My00YzEyNDRiZGNkNGQiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiOTE1YmVjZjEtOGIwYi00Zjc2LWFiOTMtNGMxMjQ0YmRjZDRkIn0.Y4cnVp9f0khHW44IfTXq13uj6dVrxDReLVoxmpWMm-w
[2022-11-23T14:57:47Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T14:57:47Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:57:47Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTcyNjYsImlhdCI6MTY2OTIxNTQ2NiwianRpIjoiNDA1MDQxNGItYzdiNy00ZGQ2LWJhY2UtODNmOWIwYjM5Yzk3IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoib0I4TTRkenpPaWJ1LWhsUWVFdlRGUSIsInNlc3Npb25fc3RhdGUiOiI5MTViZWNmMS04YjBiLTRmNzYtYWI5My00YzEyNDRiZGNkNGQiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiOTE1YmVjZjEtOGIwYi00Zjc2LWFiOTMtNGMxMjQ0YmRjZDRkIn0.Y4cnVp9f0khHW44IfTXq13uj6dVrxDReLVoxmpWMm-w&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T14:57:47Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:57:48Z INFO  drogue_cloud_tests::resources::apps] Create application: 7abf85da-9cdf-4d9e-bece-b57ea49e9269
[2022-11-23T14:57:48Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;7abf85da-9cdf-4d9e-bece-b57ea49e9269&quot;
[2022-11-23T14:57:48Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:57:48Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;7abf85da-9cdf-4d9e-bece-b57ea49e9269&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T14:57:48Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;7abf85da-9cdf-4d9e-bece-b57ea49e9269\&quot;,\n    \&quot;uid\&quot;: \&quot;a1368459-89ef-4ab2-b03e-e60ceec97ac3\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T14:57:48.048736Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;55ef62fe-c155-4cf2-9fb9-291140e91b7a\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:48.103771227Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:48.110434571Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:48.110468173Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:48.070400944Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:48.070401586Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:48.070406215Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:48.070449816Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:48.070428075Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:57:48Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;7abf85da-9cdf-4d9e-bece-b57ea49e9269&quot;), &quot;uid&quot;: String(&quot;a1368459-89ef-4ab2-b03e-e60ceec97ac3&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T14:57:48.048736Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;55ef62fe-c155-4cf2-9fb9-291140e91b7a&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:48.103771227Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:48.110434571Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:48.110468173Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:48.070400944Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:48.070401586Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:48.070406215Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:48.070449816Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:48.070428075Z&quot;)}]}}
[2022-11-23T14:57:48Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-11-23T14:57:49Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;7abf85da-9cdf-4d9e-bece-b57ea49e9269&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T14:57:49Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;7abf85da-9cdf-4d9e-bece-b57ea49e9269\&quot;,\n    \&quot;uid\&quot;: \&quot;a1368459-89ef-4ab2-b03e-e60ceec97ac3\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T14:57:48.048736Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;a26a83db-bdcb-4776-b41b-7c4813aeb587\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;fG3SfbCHtgeJ\&quot;,\n        \&quot;username\&quot;: \&quot;user-7abf85da-9cdf-4d9e-bece-b57ea49e9269\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:48.103771227Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:48.110434571Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:48.173770786Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:48.179849577Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:48.282826443Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:48.282853313Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:48.282974561Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:48.282881325Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:57:49Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;7abf85da-9cdf-4d9e-bece-b57ea49e9269&quot;), &quot;uid&quot;: String(&quot;a1368459-89ef-4ab2-b03e-e60ceec97ac3&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T14:57:48.048736Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;a26a83db-bdcb-4776-b41b-7c4813aeb587&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;fG3SfbCHtgeJ&quot;), &quot;username&quot;: String(&quot;user-7abf85da-9cdf-4d9e-bece-b57ea49e9269&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:48.103771227Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:48.110434571Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:48.173770786Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:48.179849577Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:48.282826443Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:48.282853313Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:48.282974561Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:48.282881325Z&quot;)}]}}
[2022-11-23T14:57:49Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-11-23T14:57:49Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;7abf85da-9cdf-4d9e-bece-b57ea49e9269&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T14:57:49Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;7abf85da-9cdf-4d9e-bece-b57ea49e9269\&quot;,\n    \&quot;uid\&quot;: \&quot;a1368459-89ef-4ab2-b03e-e60ceec97ac3\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T14:57:48.048736Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;a26a83db-bdcb-4776-b41b-7c4813aeb587\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;fG3SfbCHtgeJ\&quot;,\n        \&quot;username\&quot;: \&quot;user-7abf85da-9cdf-4d9e-bece-b57ea49e9269\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:48.103771227Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:48.110434571Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:48.173770786Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:48.179849577Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:48.282826443Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:48.282853313Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:48.282974561Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:48.282881325Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:57:49Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;7abf85da-9cdf-4d9e-bece-b57ea49e9269&quot;), &quot;uid&quot;: String(&quot;a1368459-89ef-4ab2-b03e-e60ceec97ac3&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T14:57:48.048736Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;a26a83db-bdcb-4776-b41b-7c4813aeb587&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;fG3SfbCHtgeJ&quot;), &quot;username&quot;: String(&quot;user-7abf85da-9cdf-4d9e-bece-b57ea49e9269&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:48.103771227Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:48.110434571Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:48.173770786Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:48.179849577Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:48.282826443Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:48.282853313Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:48.282974561Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:48.282881325Z&quot;)}]}}
[2022-11-23T14:57:49Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-11-23T14:57:49Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-11-23T14:57:49Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;7abf85da-9cdf-4d9e-bece-b57ea49e9269&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-11-23T14:57:49Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:57:49Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T14:57:49Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:57:49Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T14:57:49Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTU3NjcsImlhdCI6MTY2OTIxNTQ2NywiYXV0aF90aW1lIjoxNjY5MjE1NDY0LCJqdGkiOiJiOGY1MjM4OS00OGQxLTQ0ZDQtOGYxMS1mNWUzNGFhZDU1YmMiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Im9COE00ZHp6T2lidS1obFFlRXZURlEiLCJzZXNzaW9uX3N0YXRlIjoiOTE1YmVjZjEtOGIwYi00Zjc2LWFiOTMtNGMxMjQ0YmRjZDRkIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjkxNWJlY2YxLThiMGItNGY3Ni1hYjkzLTRjMTI0NGJkY2Q0ZCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.MuJ_y6rOLQGfQUf4XEJfPtcxq9z2I_vYwqr15Kob8gFUprm_7-Od0iQ7JQKoHyGJMefugq6vZCv4RPyNbF9jKWeV-2td27RKf38EK1MJDlWs2ku0tz5PxJPIbrUQGQRqie0bAjsb-zjWQXbF49iYnw_dDfPka32wxIVoSjk907-KnH4yA7hnVDWd_RM4xn6M1L9JuKa2Ih8TeiJ-kJIStfcudj_BYH_I0oye4B5tcjSJFV8r8a2h_aFWKudp0ApZtT2nPSzpOJergvultVWQq6CSA3LDrmQNMUQi8xRnolzpke2SzE2CcJtsrODL1hUyGlZkuFHCGIoawtrnMXwl4A\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:57:49Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:57:49Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-11-23T14:57:49Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;7abf85da-9cdf-4d9e-bece-b57ea49e9269&quot; &quot;device1&quot;
[2022-11-23T14:57:49Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:57:49Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;7abf85da-9cdf-4d9e-bece-b57ea49e9269&#x27;
[2022-11-23T14:57:49Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;7abf85da-9cdf-4d9e-bece-b57ea49e9269&quot;
[2022-11-23T14:57:49Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::command::simple_direct::version_2::ws_1

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T14:57:51Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T14:57:51Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:57:51Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:57:51Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:57:52Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T14:57:53Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T14:57:54Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:57:54Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:57:55Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTcyNzUsImlhdCI6MTY2OTIxNTQ3NSwianRpIjoiOTAzZTI5Y2EtMDMxNC00NTI5LTg3ZmUtMGZlOWIzYjgyODY4IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiWk12OVlWVXdKc05ZeFJiMjJtUmFrZyIsInNlc3Npb25fc3RhdGUiOiIyYmNlOWE5MC0yOWFmLTQ2MDctOGUwYi0yMmI3MTg4YWUxMTgiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMmJjZTlhOTAtMjlhZi00NjA3LThlMGItMjJiNzE4OGFlMTE4In0.DDJi5s_52x-iEXcevYgvTvZwQ7b8Fds2yy5zsgvwrpU
[2022-11-23T14:57:55Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T14:57:55Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:57:55Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTcyNzUsImlhdCI6MTY2OTIxNTQ3NSwianRpIjoiOTAzZTI5Y2EtMDMxNC00NTI5LTg3ZmUtMGZlOWIzYjgyODY4IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiWk12OVlWVXdKc05ZeFJiMjJtUmFrZyIsInNlc3Npb25fc3RhdGUiOiIyYmNlOWE5MC0yOWFmLTQ2MDctOGUwYi0yMmI3MTg4YWUxMTgiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMmJjZTlhOTAtMjlhZi00NjA3LThlMGItMjJiNzE4OGFlMTE4In0.DDJi5s_52x-iEXcevYgvTvZwQ7b8Fds2yy5zsgvwrpU&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T14:57:55Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:57:56Z INFO  drogue_cloud_tests::resources::apps] Create application: 1966bdc4-814d-4bb8-87ea-b53e4f7996ee
[2022-11-23T14:57:56Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;1966bdc4-814d-4bb8-87ea-b53e4f7996ee&quot;
[2022-11-23T14:57:56Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:57:56Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;1966bdc4-814d-4bb8-87ea-b53e4f7996ee&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T14:57:56Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;1966bdc4-814d-4bb8-87ea-b53e4f7996ee\&quot;,\n    \&quot;uid\&quot;: \&quot;6cf7c221-d710-4ba3-882b-2880e314025d\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T14:57:56.538526Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;bcee2d51-cce5-4576-8a7b-2520b9b42a2d\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:56.582905253Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:56.592357454Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:56.592391548Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:56.558575101Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:56.558575712Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:56.558579610Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:56.558618702Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:56.558599076Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:57:56Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;1966bdc4-814d-4bb8-87ea-b53e4f7996ee&quot;), &quot;uid&quot;: String(&quot;6cf7c221-d710-4ba3-882b-2880e314025d&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T14:57:56.538526Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;bcee2d51-cce5-4576-8a7b-2520b9b42a2d&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:56.582905253Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:56.592357454Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:56.592391548Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:56.558575101Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:56.558575712Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:56.558579610Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:56.558618702Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:56.558599076Z&quot;)}]}}
[2022-11-23T14:57:56Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-11-23T14:57:57Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;1966bdc4-814d-4bb8-87ea-b53e4f7996ee&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T14:57:57Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;1966bdc4-814d-4bb8-87ea-b53e4f7996ee\&quot;,\n    \&quot;uid\&quot;: \&quot;6cf7c221-d710-4ba3-882b-2880e314025d\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T14:57:56.538526Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;e006ed30-672b-439a-8c68-4fb2af421281\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;QTguOjFjDMgK\&quot;,\n        \&quot;username\&quot;: \&quot;user-1966bdc4-814d-4bb8-87ea-b53e4f7996ee\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:56.582905253Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:56.592357454Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:56.676485925Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:56.682984891Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:56.797804683Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:56.797826774Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:56.797908779Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:56.797857693Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:57:57Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;1966bdc4-814d-4bb8-87ea-b53e4f7996ee&quot;), &quot;uid&quot;: String(&quot;6cf7c221-d710-4ba3-882b-2880e314025d&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T14:57:56.538526Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;e006ed30-672b-439a-8c68-4fb2af421281&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;QTguOjFjDMgK&quot;), &quot;username&quot;: String(&quot;user-1966bdc4-814d-4bb8-87ea-b53e4f7996ee&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:56.582905253Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:56.592357454Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:56.676485925Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:56.682984891Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:56.797804683Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:56.797826774Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:56.797908779Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:56.797857693Z&quot;)}]}}
[2022-11-23T14:57:57Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-11-23T14:57:57Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;1966bdc4-814d-4bb8-87ea-b53e4f7996ee&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T14:57:57Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;1966bdc4-814d-4bb8-87ea-b53e4f7996ee\&quot;,\n    \&quot;uid\&quot;: \&quot;6cf7c221-d710-4ba3-882b-2880e314025d\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T14:57:56.538526Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;e006ed30-672b-439a-8c68-4fb2af421281\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;QTguOjFjDMgK\&quot;,\n        \&quot;username\&quot;: \&quot;user-1966bdc4-814d-4bb8-87ea-b53e4f7996ee\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:56.582905253Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:56.592357454Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:56.676485925Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:56.682984891Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:56.797804683Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:56.797826774Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:56.797908779Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:57:56.797857693Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:57:57Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;1966bdc4-814d-4bb8-87ea-b53e4f7996ee&quot;), &quot;uid&quot;: String(&quot;6cf7c221-d710-4ba3-882b-2880e314025d&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T14:57:56.538526Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;e006ed30-672b-439a-8c68-4fb2af421281&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;QTguOjFjDMgK&quot;), &quot;username&quot;: String(&quot;user-1966bdc4-814d-4bb8-87ea-b53e4f7996ee&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:56.582905253Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:56.592357454Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:56.676485925Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:56.682984891Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:56.797804683Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:56.797826774Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:56.797908779Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:57:56.797857693Z&quot;)}]}}
[2022-11-23T14:57:57Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-11-23T14:57:57Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-11-23T14:57:57Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;1966bdc4-814d-4bb8-87ea-b53e4f7996ee&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-11-23T14:57:57Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:57:57Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T14:57:57Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:57:57Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T14:57:57Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTU3NzUsImlhdCI6MTY2OTIxNTQ3NSwiYXV0aF90aW1lIjoxNjY5MjE1NDczLCJqdGkiOiI2NDY1ZDJhYS0xOWYyLTRjNTEtOTdlNi1iOWYwNjAyMTVlMWEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlpNdjlZVlV3SnNOWXhSYjIybVJha2ciLCJzZXNzaW9uX3N0YXRlIjoiMmJjZTlhOTAtMjlhZi00NjA3LThlMGItMjJiNzE4OGFlMTE4IiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjJiY2U5YTkwLTI5YWYtNDYwNy04ZTBiLTIyYjcxODhhZTExOCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.PycWEPg2kqXNe-pjV_DUK_siw8CReyqVUjlJoWhE0YilxTkGaVjKIzsXu14g0CryFMXuQzgv9oeFbdGqrjHa_yPrDLo5_q-x5JMalmDYT3ixqkYV8574WH43Y2X6Cgq_FLs-BgaDhU_5qnK8Ef1631IGsTpwLqAGIUmjIaFg-G1G8Umo76xRJlmCTtEk4H-oAVNioOY2yozYQmVd2IpXoCFPZIuzZ990LZ1rZtnTgrh1UeZ8Mqhe17QP_TkqpMC85sRFdtFCJjiJQQ8UPnuxTjRymgpqlcaoOSRGCGiXfqzjK-OdPYVgEZP8MzRfEulY1jrDorrZIYGA5lh4msHFsA\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:57:57Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:57:57Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-11-23T14:57:57Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;1966bdc4-814d-4bb8-87ea-b53e4f7996ee&quot; &quot;device1&quot;
[2022-11-23T14:57:57Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:57:57Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;1966bdc4-814d-4bb8-87ea-b53e4f7996ee&#x27;
[2022-11-23T14:57:57Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;1966bdc4-814d-4bb8-87ea-b53e4f7996ee&quot;
[2022-11-23T14:57:57Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::command::simple_direct::version_2::ws_2

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T14:58:00Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T14:58:00Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:58:00Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:58:00Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:58:00Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T14:58:02Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T14:58:02Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:58:02Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:58:04Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTcyODQsImlhdCI6MTY2OTIxNTQ4NCwianRpIjoiZmJmNDMzNDgtZjFkMS00NThlLWEyOGEtN2Y0ZmEzNDM4OTkyIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiMTI0Vms2LUdMWDl5SlBMUDM3aXdpZyIsInNlc3Npb25fc3RhdGUiOiJhNDA2ZGM4Zi03OWFlLTQ2NDMtYjVjOS0xNTI5YWZiZTFhY2MiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiYTQwNmRjOGYtNzlhZS00NjQzLWI1YzktMTUyOWFmYmUxYWNjIn0.eBw0Vrmz3b03x5xOAw7XUQC9kHoHtuHGCkM-f19UOlg
[2022-11-23T14:58:04Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T14:58:04Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:58:04Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTcyODQsImlhdCI6MTY2OTIxNTQ4NCwianRpIjoiZmJmNDMzNDgtZjFkMS00NThlLWEyOGEtN2Y0ZmEzNDM4OTkyIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiMTI0Vms2LUdMWDl5SlBMUDM3aXdpZyIsInNlc3Npb25fc3RhdGUiOiJhNDA2ZGM4Zi03OWFlLTQ2NDMtYjVjOS0xNTI5YWZiZTFhY2MiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiYTQwNmRjOGYtNzlhZS00NjQzLWI1YzktMTUyOWFmYmUxYWNjIn0.eBw0Vrmz3b03x5xOAw7XUQC9kHoHtuHGCkM-f19UOlg&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T14:58:04Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:58:04Z INFO  drogue_cloud_tests::resources::apps] Create application: e1e2a003-d7d6-48f0-aeb9-e48838702a11
[2022-11-23T14:58:04Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;e1e2a003-d7d6-48f0-aeb9-e48838702a11&quot;
[2022-11-23T14:58:04Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:58:04Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;e1e2a003-d7d6-48f0-aeb9-e48838702a11&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T14:58:05Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;e1e2a003-d7d6-48f0-aeb9-e48838702a11\&quot;,\n    \&quot;uid\&quot;: \&quot;fcee36b5-ee2a-4663-b15a-d0bba18c0e94\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T14:58:04.982078Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;cd3ab473-7f60-4814-8880-e6240923aa15\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:05.034409700Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:05.041695991Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:05.041729723Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:05.008941229Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:05.008941750Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:05.008946148Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:05.009053819Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:05.008966466Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:58:05Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;e1e2a003-d7d6-48f0-aeb9-e48838702a11&quot;), &quot;uid&quot;: String(&quot;fcee36b5-ee2a-4663-b15a-d0bba18c0e94&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T14:58:04.982078Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;cd3ab473-7f60-4814-8880-e6240923aa15&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:05.034409700Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:05.041695991Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:05.041729723Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:05.008941229Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:05.008941750Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:05.008946148Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:05.009053819Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:05.008966466Z&quot;)}]}}
[2022-11-23T14:58:05Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-11-23T14:58:06Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;e1e2a003-d7d6-48f0-aeb9-e48838702a11&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T14:58:06Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;e1e2a003-d7d6-48f0-aeb9-e48838702a11\&quot;,\n    \&quot;uid\&quot;: \&quot;fcee36b5-ee2a-4663-b15a-d0bba18c0e94\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T14:58:04.982078Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;bd71b8fe-d562-43d5-96b9-35b8679531a9\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;D6UsDuehAZCZ\&quot;,\n        \&quot;username\&quot;: \&quot;user-e1e2a003-d7d6-48f0-aeb9-e48838702a11\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:05.034409700Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:05.041695991Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:05.106242082Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:05.113247556Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:05.244271350Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:05.244303872Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:05.244421643Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:05.244366479Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:58:06Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;e1e2a003-d7d6-48f0-aeb9-e48838702a11&quot;), &quot;uid&quot;: String(&quot;fcee36b5-ee2a-4663-b15a-d0bba18c0e94&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T14:58:04.982078Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;bd71b8fe-d562-43d5-96b9-35b8679531a9&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;D6UsDuehAZCZ&quot;), &quot;username&quot;: String(&quot;user-e1e2a003-d7d6-48f0-aeb9-e48838702a11&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:05.034409700Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:05.041695991Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:05.106242082Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:05.113247556Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:05.244271350Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:05.244303872Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:05.244421643Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:05.244366479Z&quot;)}]}}
[2022-11-23T14:58:06Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-11-23T14:58:06Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;e1e2a003-d7d6-48f0-aeb9-e48838702a11&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T14:58:06Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;e1e2a003-d7d6-48f0-aeb9-e48838702a11\&quot;,\n    \&quot;uid\&quot;: \&quot;fcee36b5-ee2a-4663-b15a-d0bba18c0e94\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T14:58:04.982078Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;bd71b8fe-d562-43d5-96b9-35b8679531a9\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;D6UsDuehAZCZ\&quot;,\n        \&quot;username\&quot;: \&quot;user-e1e2a003-d7d6-48f0-aeb9-e48838702a11\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:05.034409700Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:05.041695991Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:05.106242082Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:05.113247556Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:05.244271350Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:05.244303872Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:05.244421643Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:05.244366479Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:58:06Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;e1e2a003-d7d6-48f0-aeb9-e48838702a11&quot;), &quot;uid&quot;: String(&quot;fcee36b5-ee2a-4663-b15a-d0bba18c0e94&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T14:58:04.982078Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;bd71b8fe-d562-43d5-96b9-35b8679531a9&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;D6UsDuehAZCZ&quot;), &quot;username&quot;: String(&quot;user-e1e2a003-d7d6-48f0-aeb9-e48838702a11&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:05.034409700Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:05.041695991Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:05.106242082Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:05.113247556Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:05.244271350Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:05.244303872Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:05.244421643Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:05.244366479Z&quot;)}]}}
[2022-11-23T14:58:06Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-11-23T14:58:06Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-11-23T14:58:06Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;e1e2a003-d7d6-48f0-aeb9-e48838702a11&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-11-23T14:58:06Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:58:06Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T14:58:06Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:58:06Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T14:58:06Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTU3ODQsImlhdCI6MTY2OTIxNTQ4NCwiYXV0aF90aW1lIjoxNjY5MjE1NDgxLCJqdGkiOiIwN2NkMmNiOS1jNzVjLTRjMjQtYWMzYy1jZDIzYzg1NTM4YjgiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IjEyNFZrNi1HTFg5eUpQTFAzN2l3aWciLCJzZXNzaW9uX3N0YXRlIjoiYTQwNmRjOGYtNzlhZS00NjQzLWI1YzktMTUyOWFmYmUxYWNjIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImE0MDZkYzhmLTc5YWUtNDY0My1iNWM5LTE1MjlhZmJlMWFjYyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.MBp-tiZKoWI_b4yY8TlcqIUkAzyItOOERH2XK8u9pU54Sqfv0KqM7sig-Hp59X0jSrdzHxv3M95LAkeV5-KUjcr9R22N01cxmxBUFvvF2f43StzYI6cGuQai1zSy7ggCpRqrVQ-NjomVSJsZtf6cIKRAj6FqvR79wwjsA9fTPGFbHPgteOe9n679cdt1C_lO2hQdgYa_wU-bFR5AM1_xPRHSgSYUE2GOZ8jORP3Z14qlQCPJD-jP8F6XJDtOwUbK6_Oo7kZrncX_YY5bqBsWqSl0_CwcLJGviCXeQ3HnMBZMFdUUaZUdm49GibzCGojewnoabDkA7oVVHC5h_2GauA\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:58:06Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:58:06Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-11-23T14:58:06Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;e1e2a003-d7d6-48f0-aeb9-e48838702a11&quot; &quot;device1&quot;
[2022-11-23T14:58:06Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:58:06Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;e1e2a003-d7d6-48f0-aeb9-e48838702a11&#x27;
[2022-11-23T14:58:06Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;e1e2a003-d7d6-48f0-aeb9-e48838702a11&quot;
[2022-11-23T14:58:06Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::command::simple_direct::version_3::ws_1

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T14:58:08Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T14:58:08Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:58:08Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:58:08Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:58:09Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T14:58:10Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T14:58:10Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:58:10Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:58:12Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTcyOTIsImlhdCI6MTY2OTIxNTQ5MiwianRpIjoiOWU4N2YxZDgtNmI3YS00MTg1LWI2YmUtNTZjMWJjMWIxNTg3IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiQmNicTNyeF9BbjcycmZMQ0tvTkhlUSIsInNlc3Npb25fc3RhdGUiOiIyOWIzYjYxZC1lYzBiLTQxOGYtOWY3NS0yODhmZjJiNGQxZGIiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMjliM2I2MWQtZWMwYi00MThmLTlmNzUtMjg4ZmYyYjRkMWRiIn0.ONrtrdoxfVzrU2CRrJ7fh21q3ILj-zAvKKIIrlK2Dvo
[2022-11-23T14:58:12Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T14:58:12Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:58:12Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTcyOTIsImlhdCI6MTY2OTIxNTQ5MiwianRpIjoiOWU4N2YxZDgtNmI3YS00MTg1LWI2YmUtNTZjMWJjMWIxNTg3IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiQmNicTNyeF9BbjcycmZMQ0tvTkhlUSIsInNlc3Npb25fc3RhdGUiOiIyOWIzYjYxZC1lYzBiLTQxOGYtOWY3NS0yODhmZjJiNGQxZGIiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMjliM2I2MWQtZWMwYi00MThmLTlmNzUtMjg4ZmYyYjRkMWRiIn0.ONrtrdoxfVzrU2CRrJ7fh21q3ILj-zAvKKIIrlK2Dvo&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T14:58:13Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:58:13Z INFO  drogue_cloud_tests::resources::apps] Create application: 4983f768-9e68-4142-bd41-742337719503
[2022-11-23T14:58:13Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;4983f768-9e68-4142-bd41-742337719503&quot;
[2022-11-23T14:58:13Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:58:13Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;4983f768-9e68-4142-bd41-742337719503&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T14:58:13Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;4983f768-9e68-4142-bd41-742337719503\&quot;,\n    \&quot;uid\&quot;: \&quot;8af883ff-5daa-4001-95db-ec56b27e766c\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T14:58:13.578256Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;322da663-0418-4cf4-8a82-d08b53f9a970\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:13.626825522Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:13.632012516Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:13.632057911Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:13.602701034Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:13.602701545Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:13.602706555Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:13.602770665Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:13.602745568Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:58:13Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;4983f768-9e68-4142-bd41-742337719503&quot;), &quot;uid&quot;: String(&quot;8af883ff-5daa-4001-95db-ec56b27e766c&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T14:58:13.578256Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;322da663-0418-4cf4-8a82-d08b53f9a970&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:13.626825522Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:13.632012516Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:13.632057911Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:13.602701034Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:13.602701545Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:13.602706555Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:13.602770665Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:13.602745568Z&quot;)}]}}
[2022-11-23T14:58:13Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-11-23T14:58:14Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;4983f768-9e68-4142-bd41-742337719503&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T14:58:14Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;4983f768-9e68-4142-bd41-742337719503\&quot;,\n    \&quot;uid\&quot;: \&quot;8af883ff-5daa-4001-95db-ec56b27e766c\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T14:58:13.578256Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;85bc2fd8-a6ac-4d2b-8991-84f92ea0373f\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;wZuZdcJUsAfJ\&quot;,\n        \&quot;username\&quot;: \&quot;user-4983f768-9e68-4142-bd41-742337719503\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:13.626825522Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:13.632012516Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:13.715062111Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:13.722448659Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:13.861803159Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:13.861940366Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:13.862032829Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:13.861973508Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:58:14Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;4983f768-9e68-4142-bd41-742337719503&quot;), &quot;uid&quot;: String(&quot;8af883ff-5daa-4001-95db-ec56b27e766c&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T14:58:13.578256Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;85bc2fd8-a6ac-4d2b-8991-84f92ea0373f&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;wZuZdcJUsAfJ&quot;), &quot;username&quot;: String(&quot;user-4983f768-9e68-4142-bd41-742337719503&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:13.626825522Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:13.632012516Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:13.715062111Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:13.722448659Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:13.861803159Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:13.861940366Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:13.862032829Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:13.861973508Z&quot;)}]}}
[2022-11-23T14:58:14Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-11-23T14:58:14Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;4983f768-9e68-4142-bd41-742337719503&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T14:58:14Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;4983f768-9e68-4142-bd41-742337719503\&quot;,\n    \&quot;uid\&quot;: \&quot;8af883ff-5daa-4001-95db-ec56b27e766c\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T14:58:13.578256Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;85bc2fd8-a6ac-4d2b-8991-84f92ea0373f\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;wZuZdcJUsAfJ\&quot;,\n        \&quot;username\&quot;: \&quot;user-4983f768-9e68-4142-bd41-742337719503\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:13.626825522Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:13.632012516Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:13.715062111Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:13.722448659Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:13.861803159Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:13.861940366Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:13.862032829Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:13.861973508Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:58:14Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;4983f768-9e68-4142-bd41-742337719503&quot;), &quot;uid&quot;: String(&quot;8af883ff-5daa-4001-95db-ec56b27e766c&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T14:58:13.578256Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;85bc2fd8-a6ac-4d2b-8991-84f92ea0373f&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;wZuZdcJUsAfJ&quot;), &quot;username&quot;: String(&quot;user-4983f768-9e68-4142-bd41-742337719503&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:13.626825522Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:13.632012516Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:13.715062111Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:13.722448659Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:13.861803159Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:13.861940366Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:13.862032829Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:13.861973508Z&quot;)}]}}
[2022-11-23T14:58:14Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-11-23T14:58:14Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-11-23T14:58:14Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;4983f768-9e68-4142-bd41-742337719503&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-11-23T14:58:14Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:58:14Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T14:58:14Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:58:14Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T14:58:14Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTU3OTIsImlhdCI6MTY2OTIxNTQ5MiwiYXV0aF90aW1lIjoxNjY5MjE1NDg5LCJqdGkiOiJlZjhjOTM4Yy1iMmEzLTRiZmUtYmQ2ZS1iNzkwZWJmMGMxM2YiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IkJjYnEzcnhfQW43MnJmTENLb05IZVEiLCJzZXNzaW9uX3N0YXRlIjoiMjliM2I2MWQtZWMwYi00MThmLTlmNzUtMjg4ZmYyYjRkMWRiIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjI5YjNiNjFkLWVjMGItNDE4Zi05Zjc1LTI4OGZmMmI0ZDFkYiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.nWixRsVZw5cyD1B7K4DTlInUMw6bxHj6XFVU7ILwQbYHBF_iWGQ0GUMqXqQg6DPSfdJi7Yj2KVcgs974jkja5IRDKNA0Rlc3VR7IWpzNV7yQmsOqcIVyFEgtaWjoUvPySJ8khD2jJ0JohcpjnwxUYTcohjhmIhuFdV7t-OTvY4HNUlb4C_2LPrjh5P098_5bxwapGz85xmEzkbGdydQZfBrPa0EWHIup4CzQs-f6S867_uCZEiMY-SdqKKnPdRHD1fbc927jZTgNrP9B2Df1hKiBmU2PMXPCX8lRb1wU2jCjkgFilxRWzI2w8tijDbajnFUciRUc8IxtjRDMMe1flQ\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:58:14Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:58:14Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-11-23T14:58:14Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;4983f768-9e68-4142-bd41-742337719503&quot; &quot;device1&quot;
[2022-11-23T14:58:14Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:58:14Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;4983f768-9e68-4142-bd41-742337719503&#x27;
[2022-11-23T14:58:14Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;4983f768-9e68-4142-bd41-742337719503&quot;
[2022-11-23T14:58:14Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::command::simple_direct::version_3::ws_2

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T14:58:17Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T14:58:17Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:58:17Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:58:17Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:58:17Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T14:58:19Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T14:58:19Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:58:19Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:58:21Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTczMDAsImlhdCI6MTY2OTIxNTUwMCwianRpIjoiMjExNjgyNzQtMzNkZC00OThlLTlmMmQtMjZiYmQwMWQ2MjJkIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiYzAxY29JSlBlbktiQldkdUxFd2x3QSIsInNlc3Npb25fc3RhdGUiOiJiZWZmOWFkOS1lYTJhLTQ1MzUtYWRmOS1jZTk2YzI5YzZmMTAiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiYmVmZjlhZDktZWEyYS00NTM1LWFkZjktY2U5NmMyOWM2ZjEwIn0.0pcp4tc_vgSSpHRyfMdjeJ83-Pl5cfxpA1HEvUkvlNY
[2022-11-23T14:58:21Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T14:58:21Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:58:21Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTczMDAsImlhdCI6MTY2OTIxNTUwMCwianRpIjoiMjExNjgyNzQtMzNkZC00OThlLTlmMmQtMjZiYmQwMWQ2MjJkIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiYzAxY29JSlBlbktiQldkdUxFd2x3QSIsInNlc3Npb25fc3RhdGUiOiJiZWZmOWFkOS1lYTJhLTQ1MzUtYWRmOS1jZTk2YzI5YzZmMTAiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiYmVmZjlhZDktZWEyYS00NTM1LWFkZjktY2U5NmMyOWM2ZjEwIn0.0pcp4tc_vgSSpHRyfMdjeJ83-Pl5cfxpA1HEvUkvlNY&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T14:58:21Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:58:21Z INFO  drogue_cloud_tests::resources::apps] Create application: 3374d018-1fae-4c18-b7f1-c9dab131b3b1
[2022-11-23T14:58:21Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;3374d018-1fae-4c18-b7f1-c9dab131b3b1&quot;
[2022-11-23T14:58:21Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:58:21Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;3374d018-1fae-4c18-b7f1-c9dab131b3b1&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T14:58:21Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;3374d018-1fae-4c18-b7f1-c9dab131b3b1\&quot;,\n    \&quot;uid\&quot;: \&quot;a1197e12-beab-40d4-9d62-38a6c24680c2\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T14:58:21.886361Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;fb7fe694-b515-4d1f-b3a7-e572de57a98f\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:21.926331546Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:21.932206926Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:21.932278009Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:21.899884633Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:21.899885445Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:21.899896285Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:21.899932542Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:21.899978448Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:58:21Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;3374d018-1fae-4c18-b7f1-c9dab131b3b1&quot;), &quot;uid&quot;: String(&quot;a1197e12-beab-40d4-9d62-38a6c24680c2&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T14:58:21.886361Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;fb7fe694-b515-4d1f-b3a7-e572de57a98f&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:21.926331546Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:21.932206926Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:21.932278009Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:21.899884633Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:21.899885445Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:21.899896285Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:21.899932542Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:21.899978448Z&quot;)}]}}
[2022-11-23T14:58:21Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-11-23T14:58:22Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;3374d018-1fae-4c18-b7f1-c9dab131b3b1&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T14:58:23Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;3374d018-1fae-4c18-b7f1-c9dab131b3b1\&quot;,\n    \&quot;uid\&quot;: \&quot;a1197e12-beab-40d4-9d62-38a6c24680c2\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T14:58:21.886361Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;21e1f933-f10e-46ac-85b8-458908ab7418\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;PO7gahAVVvER\&quot;,\n        \&quot;username\&quot;: \&quot;user-3374d018-1fae-4c18-b7f1-c9dab131b3b1\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:21.926331546Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:21.932206926Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:22.007256879Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:22.014110359Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:22.122478228Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:22.122499979Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:22.122528993Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:22.122600596Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:58:23Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;3374d018-1fae-4c18-b7f1-c9dab131b3b1&quot;), &quot;uid&quot;: String(&quot;a1197e12-beab-40d4-9d62-38a6c24680c2&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T14:58:21.886361Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;21e1f933-f10e-46ac-85b8-458908ab7418&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;PO7gahAVVvER&quot;), &quot;username&quot;: String(&quot;user-3374d018-1fae-4c18-b7f1-c9dab131b3b1&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:21.926331546Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:21.932206926Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:22.007256879Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:22.014110359Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:22.122478228Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:22.122499979Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:22.122528993Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:22.122600596Z&quot;)}]}}
[2022-11-23T14:58:23Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-11-23T14:58:23Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;3374d018-1fae-4c18-b7f1-c9dab131b3b1&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T14:58:23Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;3374d018-1fae-4c18-b7f1-c9dab131b3b1\&quot;,\n    \&quot;uid\&quot;: \&quot;a1197e12-beab-40d4-9d62-38a6c24680c2\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T14:58:21.886361Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;21e1f933-f10e-46ac-85b8-458908ab7418\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;PO7gahAVVvER\&quot;,\n        \&quot;username\&quot;: \&quot;user-3374d018-1fae-4c18-b7f1-c9dab131b3b1\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:21.926331546Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:21.932206926Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:22.007256879Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:22.014110359Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:22.122478228Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:22.122499979Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:22.122528993Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:22.122600596Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:58:23Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;3374d018-1fae-4c18-b7f1-c9dab131b3b1&quot;), &quot;uid&quot;: String(&quot;a1197e12-beab-40d4-9d62-38a6c24680c2&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T14:58:21.886361Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;21e1f933-f10e-46ac-85b8-458908ab7418&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;PO7gahAVVvER&quot;), &quot;username&quot;: String(&quot;user-3374d018-1fae-4c18-b7f1-c9dab131b3b1&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:21.926331546Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:21.932206926Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:22.007256879Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:22.014110359Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:22.122478228Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:22.122499979Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:22.122528993Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:22.122600596Z&quot;)}]}}
[2022-11-23T14:58:23Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-11-23T14:58:23Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-11-23T14:58:23Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;3374d018-1fae-4c18-b7f1-c9dab131b3b1&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-11-23T14:58:23Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:58:23Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T14:58:23Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:58:23Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T14:58:23Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTU4MDEsImlhdCI6MTY2OTIxNTUwMSwiYXV0aF90aW1lIjoxNjY5MjE1NDk4LCJqdGkiOiI1ZDBhNzM2Mi1lNGYzLTQ1N2YtYjlhNy00MzYxMDFkNmU5YWQiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImMwMWNvSUpQZW5LYkJXZHVMRXdsd0EiLCJzZXNzaW9uX3N0YXRlIjoiYmVmZjlhZDktZWEyYS00NTM1LWFkZjktY2U5NmMyOWM2ZjEwIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImJlZmY5YWQ5LWVhMmEtNDUzNS1hZGY5LWNlOTZjMjljNmYxMCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.VwJ1uskJ4eyFzybLTFJfs9SMdVqZxiHIKMqalHq4zxKmdNKUy1_40Fe9-txcoS9Q6VXbpAbm_BEZTJ65HefM8ktci6AtF7a6QaWimJIzI2hhHNoh3eGgMta1mYoyMPXx_2KUcso8ZCgJpENPm7fLAenbw3dFcD47Z2D8UVQADg9jIjf_yxKt4QE9l-CQUJSBLN5r4Kds_jPG5bsdQ0sWtNkfA3XkpIx8VkD6ie6rICXhV9rlFUQ59WY9IhWOkJe6wIFd0PKdKyaJCiqjQdkX852UACc58Kv1K3kr5J2xFOLC1sH-txbwqoC2vP__HMfpv_xOaBWkMThuI1uqZLrCDA\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:58:23Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:58:23Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-11-23T14:58:23Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;3374d018-1fae-4c18-b7f1-c9dab131b3b1&quot; &quot;device1&quot;
[2022-11-23T14:58:23Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:58:23Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;3374d018-1fae-4c18-b7f1-c9dab131b3b1&#x27;
[2022-11-23T14:58:23Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;3374d018-1fae-4c18-b7f1-c9dab131b3b1&quot;
[2022-11-23T14:58:23Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::command::simple_me::version_1::ws_1

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T14:58:25Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T14:58:25Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:58:25Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:58:25Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:58:26Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T14:58:27Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T14:58:27Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:58:27Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:58:29Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTczMDksImlhdCI6MTY2OTIxNTUwOSwianRpIjoiM2FjMjU2MWQtN2Y1Yy00NWRjLWJjODMtNDhiYWNmZTBhMTc1IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiQUY1RzdHUVNxSVE0cGZxT1JvbGtpZyIsInNlc3Npb25fc3RhdGUiOiI0MjMyYzIyMS1kNzhlLTQ4ZjctODMwZS1kN2QwN2VhZWU2ZDYiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiNDIzMmMyMjEtZDc4ZS00OGY3LTgzMGUtZDdkMDdlYWVlNmQ2In0.XDz3aJQHIqBk0ekAY1jQEupAadhQ8uMPOFOvbNm2E5M
[2022-11-23T14:58:29Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T14:58:29Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:58:29Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTczMDksImlhdCI6MTY2OTIxNTUwOSwianRpIjoiM2FjMjU2MWQtN2Y1Yy00NWRjLWJjODMtNDhiYWNmZTBhMTc1IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiQUY1RzdHUVNxSVE0cGZxT1JvbGtpZyIsInNlc3Npb25fc3RhdGUiOiI0MjMyYzIyMS1kNzhlLTQ4ZjctODMwZS1kN2QwN2VhZWU2ZDYiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiNDIzMmMyMjEtZDc4ZS00OGY3LTgzMGUtZDdkMDdlYWVlNmQ2In0.XDz3aJQHIqBk0ekAY1jQEupAadhQ8uMPOFOvbNm2E5M&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T14:58:29Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:58:30Z INFO  drogue_cloud_tests::resources::apps] Create application: df006ae1-c8ed-4f96-bfb3-cf8c5e782ce4
[2022-11-23T14:58:30Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;df006ae1-c8ed-4f96-bfb3-cf8c5e782ce4&quot;
[2022-11-23T14:58:30Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:58:30Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;df006ae1-c8ed-4f96-bfb3-cf8c5e782ce4&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T14:58:30Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;df006ae1-c8ed-4f96-bfb3-cf8c5e782ce4\&quot;,\n    \&quot;uid\&quot;: \&quot;9b156b47-d79b-406b-8d20-b01ac5dc3170\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T14:58:30.262384Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;d725e99a-484d-471d-aa93-b1042193d3e4\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:30.311097484Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:30.317910219Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:30.317949532Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:30.286194379Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:30.286194990Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:30.286200450Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:30.286382120Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:30.286304965Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:58:30Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;df006ae1-c8ed-4f96-bfb3-cf8c5e782ce4&quot;), &quot;uid&quot;: String(&quot;9b156b47-d79b-406b-8d20-b01ac5dc3170&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T14:58:30.262384Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;d725e99a-484d-471d-aa93-b1042193d3e4&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:30.311097484Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:30.317910219Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:30.317949532Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:30.286194379Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:30.286194990Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:30.286200450Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:30.286382120Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:30.286304965Z&quot;)}]}}
[2022-11-23T14:58:30Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-11-23T14:58:31Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;df006ae1-c8ed-4f96-bfb3-cf8c5e782ce4&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T14:58:31Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;df006ae1-c8ed-4f96-bfb3-cf8c5e782ce4\&quot;,\n    \&quot;uid\&quot;: \&quot;9b156b47-d79b-406b-8d20-b01ac5dc3170\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T14:58:30.262384Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;b7342f97-8425-4a41-9dff-b2e53d0d282c\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;YwQxQNwlgF0N\&quot;,\n        \&quot;username\&quot;: \&quot;user-df006ae1-c8ed-4f96-bfb3-cf8c5e782ce4\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:30.311097484Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:30.317910219Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:30.391641915Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:30.398029505Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:30.518139582Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:30.518475880Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:30.518567523Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:30.518510415Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:58:31Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;df006ae1-c8ed-4f96-bfb3-cf8c5e782ce4&quot;), &quot;uid&quot;: String(&quot;9b156b47-d79b-406b-8d20-b01ac5dc3170&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T14:58:30.262384Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;b7342f97-8425-4a41-9dff-b2e53d0d282c&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;YwQxQNwlgF0N&quot;), &quot;username&quot;: String(&quot;user-df006ae1-c8ed-4f96-bfb3-cf8c5e782ce4&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:30.311097484Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:30.317910219Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:30.391641915Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:30.398029505Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:30.518139582Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:30.518475880Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:30.518567523Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:30.518510415Z&quot;)}]}}
[2022-11-23T14:58:31Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-11-23T14:58:31Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;df006ae1-c8ed-4f96-bfb3-cf8c5e782ce4&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T14:58:31Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;df006ae1-c8ed-4f96-bfb3-cf8c5e782ce4\&quot;,\n    \&quot;uid\&quot;: \&quot;9b156b47-d79b-406b-8d20-b01ac5dc3170\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T14:58:30.262384Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;b7342f97-8425-4a41-9dff-b2e53d0d282c\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;YwQxQNwlgF0N\&quot;,\n        \&quot;username\&quot;: \&quot;user-df006ae1-c8ed-4f96-bfb3-cf8c5e782ce4\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:30.311097484Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:30.317910219Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:30.391641915Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:30.398029505Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:30.518139582Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:30.518475880Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:30.518567523Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:30.518510415Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:58:31Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;df006ae1-c8ed-4f96-bfb3-cf8c5e782ce4&quot;), &quot;uid&quot;: String(&quot;9b156b47-d79b-406b-8d20-b01ac5dc3170&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T14:58:30.262384Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;b7342f97-8425-4a41-9dff-b2e53d0d282c&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;YwQxQNwlgF0N&quot;), &quot;username&quot;: String(&quot;user-df006ae1-c8ed-4f96-bfb3-cf8c5e782ce4&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:30.311097484Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:30.317910219Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:30.391641915Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:30.398029505Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:30.518139582Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:30.518475880Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:30.518567523Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:30.518510415Z&quot;)}]}}
[2022-11-23T14:58:31Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-11-23T14:58:31Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-11-23T14:58:31Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;df006ae1-c8ed-4f96-bfb3-cf8c5e782ce4&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-11-23T14:58:31Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:58:31Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T14:58:31Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:58:31Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T14:58:31Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTU4MDksImlhdCI6MTY2OTIxNTUwOSwiYXV0aF90aW1lIjoxNjY5MjE1NTA2LCJqdGkiOiJiOTA4NmZjMy0zMTBiLTQ4NjctYTA4OS02NWU2NGFjMjdmNTkiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IkFGNUc3R1FTcUlRNHBmcU9Sb2xraWciLCJzZXNzaW9uX3N0YXRlIjoiNDIzMmMyMjEtZDc4ZS00OGY3LTgzMGUtZDdkMDdlYWVlNmQ2IiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjQyMzJjMjIxLWQ3OGUtNDhmNy04MzBlLWQ3ZDA3ZWFlZTZkNiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.EADhykhvUYiCC25SIdcdlG5rPfA0UEPGSAOsNZX5w0At0lgpCevZJGBPKv9_PqLT_43Gmw_r0kbXMwiPIMlBEj9-ixywM1piElTVGwOjwjgejK4PueF1cyc09IuuCYihtrsDt-Vr2-QPpuJlRAKNjQwzJ1Yhah6frxdRNepmhHNxDObBY8-h5_JWa6FFW0Tuk6GJ2G8GYr_qAl4x6fEKKHQaLpIgdoBfT00kMLB_Ty9FBxHmT_cKtG_CbDkgwVMEL4ES_l82K64nPUaEGyjqX1Kqhb3X8tMA7ZQ2cpuhi-TLlLGb2zfgL2fepzQYipHwCBAwrVSN14Vb_wne_XjhdQ\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:58:31Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:58:31Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-11-23T14:58:31Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;df006ae1-c8ed-4f96-bfb3-cf8c5e782ce4&quot; &quot;device1&quot;
[2022-11-23T14:58:31Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:58:31Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;df006ae1-c8ed-4f96-bfb3-cf8c5e782ce4&#x27;
[2022-11-23T14:58:31Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;df006ae1-c8ed-4f96-bfb3-cf8c5e782ce4&quot;
[2022-11-23T14:58:31Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::command::simple_me::version_1::ws_2

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T14:58:33Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T14:58:33Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:58:33Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:58:33Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:58:34Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T14:58:36Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T14:58:36Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:58:36Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:58:37Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTczMTcsImlhdCI6MTY2OTIxNTUxNywianRpIjoiMjU3OGM4NjItODNiNy00YzhmLThkYWMtYWMyZWYzZWRkY2EyIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiSmYtM0pPRUxwRHEzbmt6NmVUVVdodyIsInNlc3Npb25fc3RhdGUiOiJkYWY2ODczYS1lNTdkLTQxMDUtOGE3ZS1kMmVmNjRjYTMxMTUiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiZGFmNjg3M2EtZTU3ZC00MTA1LThhN2UtZDJlZjY0Y2EzMTE1In0.JKj7gZ_LYGHpacxADiPZt0CjWORJjNy-IU_88Bd89RQ
[2022-11-23T14:58:37Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T14:58:37Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:58:37Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTczMTcsImlhdCI6MTY2OTIxNTUxNywianRpIjoiMjU3OGM4NjItODNiNy00YzhmLThkYWMtYWMyZWYzZWRkY2EyIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiSmYtM0pPRUxwRHEzbmt6NmVUVVdodyIsInNlc3Npb25fc3RhdGUiOiJkYWY2ODczYS1lNTdkLTQxMDUtOGE3ZS1kMmVmNjRjYTMxMTUiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiZGFmNjg3M2EtZTU3ZC00MTA1LThhN2UtZDJlZjY0Y2EzMTE1In0.JKj7gZ_LYGHpacxADiPZt0CjWORJjNy-IU_88Bd89RQ&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T14:58:38Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:58:38Z INFO  drogue_cloud_tests::resources::apps] Create application: f0b2d7ba-bd03-43ab-b743-065168d31cc4
[2022-11-23T14:58:38Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;f0b2d7ba-bd03-43ab-b743-065168d31cc4&quot;
[2022-11-23T14:58:38Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:58:38Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;f0b2d7ba-bd03-43ab-b743-065168d31cc4&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T14:58:38Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;f0b2d7ba-bd03-43ab-b743-065168d31cc4\&quot;,\n    \&quot;uid\&quot;: \&quot;49c638b3-6af7-46f4-be22-b83f6f8f1dc3\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T14:58:38.728007Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;ac0ab240-446f-4ec9-b37f-6793357e0f9c\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:38.751507086Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:38.751507968Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:38.751508348Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:38.751508789Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:38.751509500Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:38.751643521Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:38.751745502Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: HasFinalizer\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:38.751719262Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:58:38Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;f0b2d7ba-bd03-43ab-b743-065168d31cc4&quot;), &quot;uid&quot;: String(&quot;49c638b3-6af7-46f4-be22-b83f6f8f1dc3&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T14:58:38.728007Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;ac0ab240-446f-4ec9-b37f-6793357e0f9c&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:38.751507086Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:38.751507968Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:38.751508348Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:38.751508789Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:38.751509500Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:38.751643521Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:38.751745502Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: HasFinalizer&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:38.751719262Z&quot;)}]}}
[2022-11-23T14:58:38Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-11-23T14:58:39Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;f0b2d7ba-bd03-43ab-b743-065168d31cc4&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T14:58:39Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;f0b2d7ba-bd03-43ab-b743-065168d31cc4\&quot;,\n    \&quot;uid\&quot;: \&quot;49c638b3-6af7-46f4-be22-b83f6f8f1dc3\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T14:58:38.728007Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;b84a5eb6-e05c-4faa-a425-eaa9f1ea329a\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;QYU9Clawxl31\&quot;,\n        \&quot;username\&quot;: \&quot;user-f0b2d7ba-bd03-43ab-b743-065168d31cc4\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:38.801846405Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:38.807828475Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:38.863284236Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:38.868911674Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:38.980276742Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:38.980326825Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:38.980468430Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:38.980377460Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:58:39Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;f0b2d7ba-bd03-43ab-b743-065168d31cc4&quot;), &quot;uid&quot;: String(&quot;49c638b3-6af7-46f4-be22-b83f6f8f1dc3&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T14:58:38.728007Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;b84a5eb6-e05c-4faa-a425-eaa9f1ea329a&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;QYU9Clawxl31&quot;), &quot;username&quot;: String(&quot;user-f0b2d7ba-bd03-43ab-b743-065168d31cc4&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:38.801846405Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:38.807828475Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:38.863284236Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:38.868911674Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:38.980276742Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:38.980326825Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:38.980468430Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:38.980377460Z&quot;)}]}}
[2022-11-23T14:58:39Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-11-23T14:58:39Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;f0b2d7ba-bd03-43ab-b743-065168d31cc4&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T14:58:39Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;f0b2d7ba-bd03-43ab-b743-065168d31cc4\&quot;,\n    \&quot;uid\&quot;: \&quot;49c638b3-6af7-46f4-be22-b83f6f8f1dc3\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T14:58:38.728007Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;b84a5eb6-e05c-4faa-a425-eaa9f1ea329a\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;QYU9Clawxl31\&quot;,\n        \&quot;username\&quot;: \&quot;user-f0b2d7ba-bd03-43ab-b743-065168d31cc4\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:38.801846405Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:38.807828475Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:38.863284236Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:38.868911674Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:38.980276742Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:38.980326825Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:38.980468430Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:38.980377460Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:58:39Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;f0b2d7ba-bd03-43ab-b743-065168d31cc4&quot;), &quot;uid&quot;: String(&quot;49c638b3-6af7-46f4-be22-b83f6f8f1dc3&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T14:58:38.728007Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;b84a5eb6-e05c-4faa-a425-eaa9f1ea329a&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;QYU9Clawxl31&quot;), &quot;username&quot;: String(&quot;user-f0b2d7ba-bd03-43ab-b743-065168d31cc4&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:38.801846405Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:38.807828475Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:38.863284236Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:38.868911674Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:38.980276742Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:38.980326825Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:38.980468430Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:38.980377460Z&quot;)}]}}
[2022-11-23T14:58:39Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-11-23T14:58:39Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-11-23T14:58:39Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;f0b2d7ba-bd03-43ab-b743-065168d31cc4&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-11-23T14:58:40Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:58:40Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T14:58:40Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:58:40Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T14:58:40Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTU4MTgsImlhdCI6MTY2OTIxNTUxOCwiYXV0aF90aW1lIjoxNjY5MjE1NTE1LCJqdGkiOiI5ODAxMjVjNi0yZjg3LTRjNzYtOGMyNy05MzM4ZDIzMjdlODIiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IkpmLTNKT0VMcERxM25rejZlVFVXaHciLCJzZXNzaW9uX3N0YXRlIjoiZGFmNjg3M2EtZTU3ZC00MTA1LThhN2UtZDJlZjY0Y2EzMTE1IiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImRhZjY4NzNhLWU1N2QtNDEwNS04YTdlLWQyZWY2NGNhMzExNSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.D94ozOXPD1aWCJ8ZZ7RtMHHklMtHLqNhmfVLG8zxLUeO1cIoLoggj0jxo2q7e2uDkdmhBAkdThCm64lZNJn8EGw3MPnxesISeBE80bCcYKTO4xB50yI5XRBrfERIjBXpyNh1dUP20xdMNC1eZhiKjF6srqlIZ5RhzJx1lQTlYdRrry0uSYRK_kLLjXa-oRY9QB38jpKFluSPLEP8BgQc8t94of01YlROq7IzbQlVJjv2382kW-wSms30ZLbczWVbPpqENciCWtR-cIARIg5ra5gWHlndPB2sRXq8dsv84mbxhtedWbhSGs9TkkIXCEzutbw5dqx6YEJb4cNOQNX62Q\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:58:40Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:58:40Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-11-23T14:58:40Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;f0b2d7ba-bd03-43ab-b743-065168d31cc4&quot; &quot;device1&quot;
[2022-11-23T14:58:40Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:58:40Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;f0b2d7ba-bd03-43ab-b743-065168d31cc4&#x27;
[2022-11-23T14:58:40Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;f0b2d7ba-bd03-43ab-b743-065168d31cc4&quot;
[2022-11-23T14:58:40Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::command::simple_me::version_2::ws_1

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T14:58:42Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T14:58:42Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:58:42Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:58:42Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:58:43Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T14:58:44Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T14:58:44Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:58:44Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:58:46Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTczMjYsImlhdCI6MTY2OTIxNTUyNiwianRpIjoiNzA0NGVmY2QtZjk0Zi00NTFiLWFmMTYtZjZkZjIzNGUyMmM2IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiSWpwZEludDFCcDNXbzJxcDAtTVdLZyIsInNlc3Npb25fc3RhdGUiOiIyYzJhNTJlMi0wMGEyLTQ0YTgtYjliZS01MjBmOWUxNTY0NWIiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMmMyYTUyZTItMDBhMi00NGE4LWI5YmUtNTIwZjllMTU2NDViIn0.II77gitGOmPJxguw0OhGDv5p7TTFgJH1uMNalBye6O0
[2022-11-23T14:58:46Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T14:58:46Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:58:46Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTczMjYsImlhdCI6MTY2OTIxNTUyNiwianRpIjoiNzA0NGVmY2QtZjk0Zi00NTFiLWFmMTYtZjZkZjIzNGUyMmM2IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiSWpwZEludDFCcDNXbzJxcDAtTVdLZyIsInNlc3Npb25fc3RhdGUiOiIyYzJhNTJlMi0wMGEyLTQ0YTgtYjliZS01MjBmOWUxNTY0NWIiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMmMyYTUyZTItMDBhMi00NGE4LWI5YmUtNTIwZjllMTU2NDViIn0.II77gitGOmPJxguw0OhGDv5p7TTFgJH1uMNalBye6O0&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T14:58:46Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:58:47Z INFO  drogue_cloud_tests::resources::apps] Create application: 7c6bdac3-3519-4e94-98da-aaee3eb3ef15
[2022-11-23T14:58:47Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;7c6bdac3-3519-4e94-98da-aaee3eb3ef15&quot;
[2022-11-23T14:58:47Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:58:47Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;7c6bdac3-3519-4e94-98da-aaee3eb3ef15&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T14:58:47Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;7c6bdac3-3519-4e94-98da-aaee3eb3ef15\&quot;,\n    \&quot;uid\&quot;: \&quot;a27dd517-4252-4fa5-a172-a42609d2fb24\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T14:58:47.329651Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;12f788df-231e-42e8-acfd-956ad59cb393\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:47.369901456Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:47.375948289Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:47.375982342Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:47.340207808Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:47.340208630Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:47.340222806Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:47.340256860Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:47.340294200Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:58:47Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;7c6bdac3-3519-4e94-98da-aaee3eb3ef15&quot;), &quot;uid&quot;: String(&quot;a27dd517-4252-4fa5-a172-a42609d2fb24&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T14:58:47.329651Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;12f788df-231e-42e8-acfd-956ad59cb393&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:47.369901456Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:47.375948289Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:47.375982342Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:47.340207808Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:47.340208630Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:47.340222806Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:47.340256860Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:47.340294200Z&quot;)}]}}
[2022-11-23T14:58:47Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-11-23T14:58:48Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;7c6bdac3-3519-4e94-98da-aaee3eb3ef15&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T14:58:48Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;7c6bdac3-3519-4e94-98da-aaee3eb3ef15\&quot;,\n    \&quot;uid\&quot;: \&quot;a27dd517-4252-4fa5-a172-a42609d2fb24\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T14:58:47.329651Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;9120f013-7491-4fb0-b8c3-68f5718a89b4\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;CGRpm9Hnmtln\&quot;,\n        \&quot;username\&quot;: \&quot;user-7c6bdac3-3519-4e94-98da-aaee3eb3ef15\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:47.369901456Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:47.375948289Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:47.441792793Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:47.448882927Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:47.559543029Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:47.559558819Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:47.559640221Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:47.559746981Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:58:48Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;7c6bdac3-3519-4e94-98da-aaee3eb3ef15&quot;), &quot;uid&quot;: String(&quot;a27dd517-4252-4fa5-a172-a42609d2fb24&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T14:58:47.329651Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;9120f013-7491-4fb0-b8c3-68f5718a89b4&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;CGRpm9Hnmtln&quot;), &quot;username&quot;: String(&quot;user-7c6bdac3-3519-4e94-98da-aaee3eb3ef15&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:47.369901456Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:47.375948289Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:47.441792793Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:47.448882927Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:47.559543029Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:47.559558819Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:47.559640221Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:47.559746981Z&quot;)}]}}
[2022-11-23T14:58:48Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-11-23T14:58:48Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;7c6bdac3-3519-4e94-98da-aaee3eb3ef15&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T14:58:48Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;7c6bdac3-3519-4e94-98da-aaee3eb3ef15\&quot;,\n    \&quot;uid\&quot;: \&quot;a27dd517-4252-4fa5-a172-a42609d2fb24\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T14:58:47.329651Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;9120f013-7491-4fb0-b8c3-68f5718a89b4\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;CGRpm9Hnmtln\&quot;,\n        \&quot;username\&quot;: \&quot;user-7c6bdac3-3519-4e94-98da-aaee3eb3ef15\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:47.369901456Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:47.375948289Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:47.441792793Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:47.448882927Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:47.559543029Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:47.559558819Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:47.559640221Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:47.559746981Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:58:48Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;7c6bdac3-3519-4e94-98da-aaee3eb3ef15&quot;), &quot;uid&quot;: String(&quot;a27dd517-4252-4fa5-a172-a42609d2fb24&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T14:58:47.329651Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;9120f013-7491-4fb0-b8c3-68f5718a89b4&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;CGRpm9Hnmtln&quot;), &quot;username&quot;: String(&quot;user-7c6bdac3-3519-4e94-98da-aaee3eb3ef15&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:47.369901456Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:47.375948289Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:47.441792793Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:47.448882927Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:47.559543029Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:47.559558819Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:47.559640221Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:47.559746981Z&quot;)}]}}
[2022-11-23T14:58:48Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-11-23T14:58:48Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-11-23T14:58:48Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;7c6bdac3-3519-4e94-98da-aaee3eb3ef15&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-11-23T14:58:48Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:58:48Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T14:58:48Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:58:48Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T14:58:48Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTU4MjYsImlhdCI6MTY2OTIxNTUyNiwiYXV0aF90aW1lIjoxNjY5MjE1NTIzLCJqdGkiOiIxZjYwZmUzZC0yNDc0LTRhODctOGFmNC0wNzhlZTgwNzkyNDYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IklqcGRJbnQxQnAzV28ycXAwLU1XS2ciLCJzZXNzaW9uX3N0YXRlIjoiMmMyYTUyZTItMDBhMi00NGE4LWI5YmUtNTIwZjllMTU2NDViIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjJjMmE1MmUyLTAwYTItNDRhOC1iOWJlLTUyMGY5ZTE1NjQ1YiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.NAKdiHJdXu8sq8dxrsOLBbW-g3Y9mlHXwUeDHdSV7_0Gv5XsJgeUzXiSsA5VoDsr5z8CFg3wkDA80BTG3W9wqijSTuXsOI32lnjTu4pkfvvl3Z41ZaMGzVYit5BHzcLVP6_2f8Mt1GcrWQKU-ZY3sztK8uxKEczfvCvQ6OmLwDYixWxw0C5RlQxQ-pB-nDjpKU9Fr7OV21VxSSZhiXLxXzX0RjNfMkGAlJ-FUctXSqC-8JdIvBboxwABxScEptSsmfZn4xDwmOEOxruxliWu4MRTsMQb_8nU-ABSimxr_U2YnoBamuUBGORdtOM5R02OqqOFvsWDDOaifb1qo4Z_JQ\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:58:48Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:58:48Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-11-23T14:58:48Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;7c6bdac3-3519-4e94-98da-aaee3eb3ef15&quot; &quot;device1&quot;
[2022-11-23T14:58:48Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:58:48Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;7c6bdac3-3519-4e94-98da-aaee3eb3ef15&#x27;
[2022-11-23T14:58:48Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;7c6bdac3-3519-4e94-98da-aaee3eb3ef15&quot;
[2022-11-23T14:58:48Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::command::simple_me::version_2::ws_2

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T14:58:50Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T14:58:50Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:58:51Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:58:51Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:58:51Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T14:58:53Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T14:58:53Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:58:53Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:58:55Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTczMzQsImlhdCI6MTY2OTIxNTUzNCwianRpIjoiMjc2OTQyZWMtMTQ3MC00NDg5LWFlNmEtZjU0ZGE2YzkwNzAyIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiUUJpXy16VGJRNjdCeG9tcDh4RDFYQSIsInNlc3Npb25fc3RhdGUiOiI1MDcyYTVmNS01YTVjLTQyODYtODgyYS0yZGM2ZjJhZTFhZmMiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiNTA3MmE1ZjUtNWE1Yy00Mjg2LTg4MmEtMmRjNmYyYWUxYWZjIn0.I-r21h_L3rb1jH9IeW55-84jYfpoOPj7rxr1b7X8wd0
[2022-11-23T14:58:55Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T14:58:55Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:58:55Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTczMzQsImlhdCI6MTY2OTIxNTUzNCwianRpIjoiMjc2OTQyZWMtMTQ3MC00NDg5LWFlNmEtZjU0ZGE2YzkwNzAyIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiUUJpXy16VGJRNjdCeG9tcDh4RDFYQSIsInNlc3Npb25fc3RhdGUiOiI1MDcyYTVmNS01YTVjLTQyODYtODgyYS0yZGM2ZjJhZTFhZmMiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiNTA3MmE1ZjUtNWE1Yy00Mjg2LTg4MmEtMmRjNmYyYWUxYWZjIn0.I-r21h_L3rb1jH9IeW55-84jYfpoOPj7rxr1b7X8wd0&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T14:58:55Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:58:55Z INFO  drogue_cloud_tests::resources::apps] Create application: d587c137-6e6d-4612-bb10-9730af566177
[2022-11-23T14:58:55Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;d587c137-6e6d-4612-bb10-9730af566177&quot;
[2022-11-23T14:58:55Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:58:55Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;d587c137-6e6d-4612-bb10-9730af566177&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T14:58:55Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;d587c137-6e6d-4612-bb10-9730af566177\&quot;,\n    \&quot;uid\&quot;: \&quot;e2fd216a-18ed-44ba-88cc-33a959a14948\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T14:58:55.791989Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;da9ea0e3-fd21-4a73-9cfc-a4e44ee6c1c3\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:55.856980968Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:55.863123850Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:55.863158223Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:55.814122642Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:55.814123264Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:55.814128554Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:55.814167767Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:55.814150395Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:58:55Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;d587c137-6e6d-4612-bb10-9730af566177&quot;), &quot;uid&quot;: String(&quot;e2fd216a-18ed-44ba-88cc-33a959a14948&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T14:58:55.791989Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;da9ea0e3-fd21-4a73-9cfc-a4e44ee6c1c3&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:55.856980968Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:55.863123850Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:55.863158223Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:55.814122642Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:55.814123264Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:55.814128554Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:55.814167767Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:55.814150395Z&quot;)}]}}
[2022-11-23T14:58:55Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-11-23T14:58:56Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;d587c137-6e6d-4612-bb10-9730af566177&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T14:58:56Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;d587c137-6e6d-4612-bb10-9730af566177\&quot;,\n    \&quot;uid\&quot;: \&quot;e2fd216a-18ed-44ba-88cc-33a959a14948\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T14:58:55.791989Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;25e525c2-8105-4d15-b892-46f3788756cc\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;WXU9jDWvQDQY\&quot;,\n        \&quot;username\&quot;: \&quot;user-d587c137-6e6d-4612-bb10-9730af566177\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:55.856980968Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:55.863123850Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:55.924587170Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:55.939077718Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:56.092369434Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:56.092483546Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:56.092659096Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:56.092517129Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:58:56Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;d587c137-6e6d-4612-bb10-9730af566177&quot;), &quot;uid&quot;: String(&quot;e2fd216a-18ed-44ba-88cc-33a959a14948&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T14:58:55.791989Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;25e525c2-8105-4d15-b892-46f3788756cc&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;WXU9jDWvQDQY&quot;), &quot;username&quot;: String(&quot;user-d587c137-6e6d-4612-bb10-9730af566177&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:55.856980968Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:55.863123850Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:55.924587170Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:55.939077718Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:56.092369434Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:56.092483546Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:56.092659096Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:56.092517129Z&quot;)}]}}
[2022-11-23T14:58:56Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-11-23T14:58:56Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;d587c137-6e6d-4612-bb10-9730af566177&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T14:58:57Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;d587c137-6e6d-4612-bb10-9730af566177\&quot;,\n    \&quot;uid\&quot;: \&quot;e2fd216a-18ed-44ba-88cc-33a959a14948\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T14:58:55.791989Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;25e525c2-8105-4d15-b892-46f3788756cc\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;WXU9jDWvQDQY\&quot;,\n        \&quot;username\&quot;: \&quot;user-d587c137-6e6d-4612-bb10-9730af566177\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:55.856980968Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:55.863123850Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:55.924587170Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:55.939077718Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:56.092369434Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:56.092483546Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:56.092659096Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:58:56.092517129Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:58:57Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;d587c137-6e6d-4612-bb10-9730af566177&quot;), &quot;uid&quot;: String(&quot;e2fd216a-18ed-44ba-88cc-33a959a14948&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T14:58:55.791989Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;25e525c2-8105-4d15-b892-46f3788756cc&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;WXU9jDWvQDQY&quot;), &quot;username&quot;: String(&quot;user-d587c137-6e6d-4612-bb10-9730af566177&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:55.856980968Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:55.863123850Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:55.924587170Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:55.939077718Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:56.092369434Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:56.092483546Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:56.092659096Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:58:56.092517129Z&quot;)}]}}
[2022-11-23T14:58:57Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-11-23T14:58:57Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-11-23T14:58:57Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;d587c137-6e6d-4612-bb10-9730af566177&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-11-23T14:58:57Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:58:57Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T14:58:57Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:58:57Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T14:58:57Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTU4MzUsImlhdCI6MTY2OTIxNTUzNSwiYXV0aF90aW1lIjoxNjY5MjE1NTMyLCJqdGkiOiJmZTNmN2NkMS01YmE1LTQwZDQtYTMzNS0xMDFjOTc0M2EzNDgiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlFCaV8telRiUTY3QnhvbXA4eEQxWEEiLCJzZXNzaW9uX3N0YXRlIjoiNTA3MmE1ZjUtNWE1Yy00Mjg2LTg4MmEtMmRjNmYyYWUxYWZjIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjUwNzJhNWY1LTVhNWMtNDI4Ni04ODJhLTJkYzZmMmFlMWFmYyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.cDZ0e0z1X7XENxGs4sZ7kQ1ASrEzn0YJ_Tzhv7b1BszvwIbRRNk4Mez4QQ776efJPww_TqUB29io7xLe_wejuiFmZ-Y8khV9bZs1iqOUV_Fs5YRD09cTKzIZz7zEdzdJJ7GDpqEtvrmpd59nMxCvGWWqIU61g0ZrY-qiAqoElpZ1pGAI9chPhb2CTf_dr6DcHiFPd5RBfVQOYkeLHmu8oE0G0-G54IiOLFLcklvy05sDgOaA6XC_u7SMm5A4kSIyrWY4BAmyAD6v3WD7a29-2SOLlsLjyyQZO2sIhWZrc2cU4zz3fFHuj_fo6X1s7MSsYMZ7lby9qGoGJ2K-sZnnig\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:58:57Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:58:57Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-11-23T14:58:57Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;d587c137-6e6d-4612-bb10-9730af566177&quot; &quot;device1&quot;
[2022-11-23T14:58:57Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:58:57Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;d587c137-6e6d-4612-bb10-9730af566177&#x27;
[2022-11-23T14:58:57Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;d587c137-6e6d-4612-bb10-9730af566177&quot;
[2022-11-23T14:58:57Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::command::simple_me::version_3::ws_1

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T14:58:59Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T14:58:59Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:58:59Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:58:59Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:59:00Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T14:59:01Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T14:59:01Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:59:01Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:59:03Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTczNDMsImlhdCI6MTY2OTIxNTU0MywianRpIjoiOWI5MzgwZDMtYzRjZi00NTVkLWEwNzItZWVlN2Q2ODNkNmY0IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoidE5DTmhhNWp2eFNUSlVHTDczdFFNUSIsInNlc3Npb25fc3RhdGUiOiIzOGU4YTg3MS0wYzgwLTQ5MDMtYTJiYy0zMDA5ZTE5YTliOGQiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMzhlOGE4NzEtMGM4MC00OTAzLWEyYmMtMzAwOWUxOWE5YjhkIn0.RzPnuM15qIgIbMVYdCvO84y1uVd2d5ZfpVzndFo6Cxs
[2022-11-23T14:59:03Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T14:59:03Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:59:03Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTczNDMsImlhdCI6MTY2OTIxNTU0MywianRpIjoiOWI5MzgwZDMtYzRjZi00NTVkLWEwNzItZWVlN2Q2ODNkNmY0IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoidE5DTmhhNWp2eFNUSlVHTDczdFFNUSIsInNlc3Npb25fc3RhdGUiOiIzOGU4YTg3MS0wYzgwLTQ5MDMtYTJiYy0zMDA5ZTE5YTliOGQiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMzhlOGE4NzEtMGM4MC00OTAzLWEyYmMtMzAwOWUxOWE5YjhkIn0.RzPnuM15qIgIbMVYdCvO84y1uVd2d5ZfpVzndFo6Cxs&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T14:59:03Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:59:04Z INFO  drogue_cloud_tests::resources::apps] Create application: 2428a764-a89f-49c9-93d7-225b21782ad3
[2022-11-23T14:59:04Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;2428a764-a89f-49c9-93d7-225b21782ad3&quot;
[2022-11-23T14:59:04Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:59:04Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;2428a764-a89f-49c9-93d7-225b21782ad3&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T14:59:04Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;2428a764-a89f-49c9-93d7-225b21782ad3\&quot;,\n    \&quot;uid\&quot;: \&quot;98d81471-025d-4e62-b5c9-07cc2c2b4f17\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T14:59:04.422730Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;21c72ef4-b488-4fa8-8d30-b0c2d946977d\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:04.447480310Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:04.447480981Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:04.447481372Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:04.447481742Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:04.447482244Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:04.447595346Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:04.447640921Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: HasFinalizer\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:04.447617367Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:59:04Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;2428a764-a89f-49c9-93d7-225b21782ad3&quot;), &quot;uid&quot;: String(&quot;98d81471-025d-4e62-b5c9-07cc2c2b4f17&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T14:59:04.422730Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;21c72ef4-b488-4fa8-8d30-b0c2d946977d&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:04.447480310Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:04.447480981Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:04.447481372Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:04.447481742Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:04.447482244Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:04.447595346Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:04.447640921Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: HasFinalizer&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:04.447617367Z&quot;)}]}}
[2022-11-23T14:59:04Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-11-23T14:59:05Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;2428a764-a89f-49c9-93d7-225b21782ad3&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T14:59:05Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;2428a764-a89f-49c9-93d7-225b21782ad3\&quot;,\n    \&quot;uid\&quot;: \&quot;98d81471-025d-4e62-b5c9-07cc2c2b4f17\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T14:59:04.422730Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;5e79028f-9977-4a8f-989c-9c75d87e6010\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;fGxgAsSRWdfT\&quot;,\n        \&quot;username\&quot;: \&quot;user-2428a764-a89f-49c9-93d7-225b21782ad3\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:04.485281967Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:04.492604416Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:04.560473180Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:04.567681394Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:04.740816525Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:04.740839568Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:04.741870175Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:04.740899230Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:59:05Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;2428a764-a89f-49c9-93d7-225b21782ad3&quot;), &quot;uid&quot;: String(&quot;98d81471-025d-4e62-b5c9-07cc2c2b4f17&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T14:59:04.422730Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;5e79028f-9977-4a8f-989c-9c75d87e6010&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;fGxgAsSRWdfT&quot;), &quot;username&quot;: String(&quot;user-2428a764-a89f-49c9-93d7-225b21782ad3&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:04.485281967Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:04.492604416Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:04.560473180Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:04.567681394Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:04.740816525Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:04.740839568Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:04.741870175Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:04.740899230Z&quot;)}]}}
[2022-11-23T14:59:05Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-11-23T14:59:05Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;2428a764-a89f-49c9-93d7-225b21782ad3&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T14:59:05Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;2428a764-a89f-49c9-93d7-225b21782ad3\&quot;,\n    \&quot;uid\&quot;: \&quot;98d81471-025d-4e62-b5c9-07cc2c2b4f17\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T14:59:04.422730Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;5e79028f-9977-4a8f-989c-9c75d87e6010\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;fGxgAsSRWdfT\&quot;,\n        \&quot;username\&quot;: \&quot;user-2428a764-a89f-49c9-93d7-225b21782ad3\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:04.485281967Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:04.492604416Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:04.560473180Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:04.567681394Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:04.740816525Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:04.740839568Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:04.741870175Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:04.740899230Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:59:05Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;2428a764-a89f-49c9-93d7-225b21782ad3&quot;), &quot;uid&quot;: String(&quot;98d81471-025d-4e62-b5c9-07cc2c2b4f17&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T14:59:04.422730Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;5e79028f-9977-4a8f-989c-9c75d87e6010&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;fGxgAsSRWdfT&quot;), &quot;username&quot;: String(&quot;user-2428a764-a89f-49c9-93d7-225b21782ad3&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:04.485281967Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:04.492604416Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:04.560473180Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:04.567681394Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:04.740816525Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:04.740839568Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:04.741870175Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:04.740899230Z&quot;)}]}}
[2022-11-23T14:59:05Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-11-23T14:59:05Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-11-23T14:59:05Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;2428a764-a89f-49c9-93d7-225b21782ad3&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-11-23T14:59:05Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:59:05Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T14:59:05Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:59:05Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T14:59:05Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTU4NDMsImlhdCI6MTY2OTIxNTU0MywiYXV0aF90aW1lIjoxNjY5MjE1NTQwLCJqdGkiOiI1NjY2NjgxYS1jMzc5LTQ5ZjYtOGM1Mi02MWE2NzczZmE1N2MiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InROQ05oYTVqdnhTVEpVR0w3M3RRTVEiLCJzZXNzaW9uX3N0YXRlIjoiMzhlOGE4NzEtMGM4MC00OTAzLWEyYmMtMzAwOWUxOWE5YjhkIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjM4ZThhODcxLTBjODAtNDkwMy1hMmJjLTMwMDllMTlhOWI4ZCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.TzHF9BtvpcdtnyKsu2IgacuCvZlOOT8L92CZar4Ed8qzc_YEeFtCavZgndZTXlx1e1lNwKBbae0Mc0ATMgn2mRUrzW9o3jkQSh42f9LCvskzdrtuweAngWOpZM6hswmSLglSFU2SNFqfJg_QmA57DcKx51HkRubJKFx9MrLuK9hh-QUOzV0APdUYa9DpWFdElsMWMY3r3nq8Bq_V9QsN6RdPtZwAznjIEcuRQKE5AVDpV2kmBNy9QAyDLYYPNQno0k01etW0VQftRBIv42zZxtuFBmgWPUiHAQoVmU4SdFrXPDiVYy32LEAOxV3kqE0k2b4-6DB7hDZb0zWmR1wGXQ\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:59:05Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:59:05Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-11-23T14:59:05Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;2428a764-a89f-49c9-93d7-225b21782ad3&quot; &quot;device1&quot;
[2022-11-23T14:59:05Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:59:05Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;2428a764-a89f-49c9-93d7-225b21782ad3&#x27;
[2022-11-23T14:59:05Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;2428a764-a89f-49c9-93d7-225b21782ad3&quot;
[2022-11-23T14:59:05Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::command::simple_me::version_3::ws_2

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T14:59:07Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T14:59:07Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:59:07Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:59:07Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:59:08Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T14:59:10Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T14:59:10Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:59:10Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:59:12Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTczNTIsImlhdCI6MTY2OTIxNTU1MiwianRpIjoiNmQwMzljYzctYzBiZS00MGI4LTlmNWUtZjhlOWY0MzNhZDczIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiTGV2VFRBM1lKNkxzdkpOYWZKb2ZEQSIsInNlc3Npb25fc3RhdGUiOiIwMGVmNmVlYS1lNWViLTRjMzItOWY2YS1iNWE0MGIwNjI4YmIiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMDBlZjZlZWEtZTVlYi00YzMyLTlmNmEtYjVhNDBiMDYyOGJiIn0.z-9Sox-lRl2Qf6C5xJ2a5n6HoAXpyktkTlH2NT3nrXY
[2022-11-23T14:59:12Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T14:59:12Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:59:12Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTczNTIsImlhdCI6MTY2OTIxNTU1MiwianRpIjoiNmQwMzljYzctYzBiZS00MGI4LTlmNWUtZjhlOWY0MzNhZDczIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiTGV2VFRBM1lKNkxzdkpOYWZKb2ZEQSIsInNlc3Npb25fc3RhdGUiOiIwMGVmNmVlYS1lNWViLTRjMzItOWY2YS1iNWE0MGIwNjI4YmIiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMDBlZjZlZWEtZTVlYi00YzMyLTlmNmEtYjVhNDBiMDYyOGJiIn0.z-9Sox-lRl2Qf6C5xJ2a5n6HoAXpyktkTlH2NT3nrXY&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T14:59:12Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:59:13Z INFO  drogue_cloud_tests::resources::apps] Create application: 2f684417-5919-4863-a070-7f897a244e87
[2022-11-23T14:59:13Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;2f684417-5919-4863-a070-7f897a244e87&quot;
[2022-11-23T14:59:13Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:59:13Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;2f684417-5919-4863-a070-7f897a244e87&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T14:59:13Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;2f684417-5919-4863-a070-7f897a244e87\&quot;,\n    \&quot;uid\&quot;: \&quot;36fd5b91-0a71-4b61-a0b0-dadbdf5b490a\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T14:59:13.199165Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;0bb00b6f-7463-4e5f-80fd-11ec145412ac\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:13.239237384Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:13.244223312Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:13.244293552Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:13.214096942Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:13.214097714Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:13.214108073Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:13.214141566Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:13.214182182Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:59:13Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;2f684417-5919-4863-a070-7f897a244e87&quot;), &quot;uid&quot;: String(&quot;36fd5b91-0a71-4b61-a0b0-dadbdf5b490a&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T14:59:13.199165Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;0bb00b6f-7463-4e5f-80fd-11ec145412ac&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:13.239237384Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:13.244223312Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:13.244293552Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:13.214096942Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:13.214097714Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:13.214108073Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:13.214141566Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:13.214182182Z&quot;)}]}}
[2022-11-23T14:59:13Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-11-23T14:59:14Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;2f684417-5919-4863-a070-7f897a244e87&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T14:59:14Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;2f684417-5919-4863-a070-7f897a244e87\&quot;,\n    \&quot;uid\&quot;: \&quot;36fd5b91-0a71-4b61-a0b0-dadbdf5b490a\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T14:59:13.199165Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;5de657dc-624b-43ee-8d9e-a50065ed529d\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;OsZZ9pRu4HFC\&quot;,\n        \&quot;username\&quot;: \&quot;user-2f684417-5919-4863-a070-7f897a244e87\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:13.239237384Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:13.244223312Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:13.317162363Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:13.322976509Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:13.446011928Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:13.446031384Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:13.446129809Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:13.446238682Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:59:14Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;2f684417-5919-4863-a070-7f897a244e87&quot;), &quot;uid&quot;: String(&quot;36fd5b91-0a71-4b61-a0b0-dadbdf5b490a&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T14:59:13.199165Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;5de657dc-624b-43ee-8d9e-a50065ed529d&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;OsZZ9pRu4HFC&quot;), &quot;username&quot;: String(&quot;user-2f684417-5919-4863-a070-7f897a244e87&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:13.239237384Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:13.244223312Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:13.317162363Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:13.322976509Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:13.446011928Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:13.446031384Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:13.446129809Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:13.446238682Z&quot;)}]}}
[2022-11-23T14:59:14Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-11-23T14:59:14Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;2f684417-5919-4863-a070-7f897a244e87&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T14:59:14Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;2f684417-5919-4863-a070-7f897a244e87\&quot;,\n    \&quot;uid\&quot;: \&quot;36fd5b91-0a71-4b61-a0b0-dadbdf5b490a\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T14:59:13.199165Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;5de657dc-624b-43ee-8d9e-a50065ed529d\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;OsZZ9pRu4HFC\&quot;,\n        \&quot;username\&quot;: \&quot;user-2f684417-5919-4863-a070-7f897a244e87\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:13.239237384Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:13.244223312Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:13.317162363Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:13.322976509Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:13.446011928Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:13.446031384Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:13.446129809Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:13.446238682Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:59:14Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;2f684417-5919-4863-a070-7f897a244e87&quot;), &quot;uid&quot;: String(&quot;36fd5b91-0a71-4b61-a0b0-dadbdf5b490a&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T14:59:13.199165Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;5de657dc-624b-43ee-8d9e-a50065ed529d&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;OsZZ9pRu4HFC&quot;), &quot;username&quot;: String(&quot;user-2f684417-5919-4863-a070-7f897a244e87&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:13.239237384Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:13.244223312Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:13.317162363Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:13.322976509Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:13.446011928Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:13.446031384Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:13.446129809Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:13.446238682Z&quot;)}]}}
[2022-11-23T14:59:14Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-11-23T14:59:14Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-11-23T14:59:14Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;2f684417-5919-4863-a070-7f897a244e87&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-11-23T14:59:14Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:59:14Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T14:59:14Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:59:14Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T14:59:14Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTU4NTIsImlhdCI6MTY2OTIxNTU1MiwiYXV0aF90aW1lIjoxNjY5MjE1NTQ5LCJqdGkiOiJiMDc1YmE3Ni0zNGQyLTRhZWMtYWFlNi1hMTgxZGU5ODQ1MWQiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IkxldlRUQTNZSjZMc3ZKTmFmSm9mREEiLCJzZXNzaW9uX3N0YXRlIjoiMDBlZjZlZWEtZTVlYi00YzMyLTlmNmEtYjVhNDBiMDYyOGJiIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjAwZWY2ZWVhLWU1ZWItNGMzMi05ZjZhLWI1YTQwYjA2MjhiYiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.OIws7pG1pATmp3j0iZcLA8Eq9ICEfVk4kbxh705hxX1g5OHR02pQZvb0-6046ikYAtacX2P_O3r7S2AMiDqgSTltjil7XLJYrqr8Qv72Rq3FP_aOyuGEfj9Wnfe1cIDKg_IRnEjC94bhTQbYywCs6fJWCpc4eBnGe8r-8HTraCoyDrnDnVIWT6EJV7dzPJPAyT0Zg1M40bghsRwiBRccsNX6D-NhyAWRyqXREXsC0-4CcXkbFuv0bAMEf1ZjWjNqiDSBgYYqKvxBArdqvehY_uyHwPJetLO7xjmsEBogYXVDjdYvrDKBRVf1x2thOVmHkSq3PgCN8568GTINO9ADcA\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:59:14Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:59:14Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-11-23T14:59:14Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;2f684417-5919-4863-a070-7f897a244e87&quot; &quot;device1&quot;
[2022-11-23T14:59:14Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:59:14Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;2f684417-5919-4863-a070-7f897a244e87&#x27;
[2022-11-23T14:59:14Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;2f684417-5919-4863-a070-7f897a244e87&quot;
[2022-11-23T14:59:14Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_1::integration_version_1::integration_ws_1

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T14:59:16Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T14:59:16Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:59:16Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:59:16Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:59:17Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T14:59:19Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T14:59:19Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:59:19Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:59:21Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTczNjAsImlhdCI6MTY2OTIxNTU2MCwianRpIjoiYTA0NTI1MzAtN2Q2OS00ZWVmLWE1NTEtZjVlMDM1OGZiMGZhIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiTDJXaWRWZzBIRk9INkR6c2tZT2NZQSIsInNlc3Npb25fc3RhdGUiOiI2YjZiY2U1Mi05OTFiLTRkMjEtOTIxMS1iMTRmNmE3Zjg0ZDgiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiNmI2YmNlNTItOTkxYi00ZDIxLTkyMTEtYjE0ZjZhN2Y4NGQ4In0.GrWQagYy8kbiNBQDGBS4ffTUczrKN_Gs9zTegBd38kI
[2022-11-23T14:59:21Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T14:59:21Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:59:21Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTczNjAsImlhdCI6MTY2OTIxNTU2MCwianRpIjoiYTA0NTI1MzAtN2Q2OS00ZWVmLWE1NTEtZjVlMDM1OGZiMGZhIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiTDJXaWRWZzBIRk9INkR6c2tZT2NZQSIsInNlc3Npb25fc3RhdGUiOiI2YjZiY2U1Mi05OTFiLTRkMjEtOTIxMS1iMTRmNmE3Zjg0ZDgiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiNmI2YmNlNTItOTkxYi00ZDIxLTkyMTEtYjE0ZjZhN2Y4NGQ4In0.GrWQagYy8kbiNBQDGBS4ffTUczrKN_Gs9zTegBd38kI&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T14:59:21Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:59:21Z INFO  drogue_cloud_tests::resources::apps] Create application: 1c3869b7-1569-4254-89c8-809ca1d63cb2
[2022-11-23T14:59:21Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;1c3869b7-1569-4254-89c8-809ca1d63cb2&quot;
[2022-11-23T14:59:21Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:59:21Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;1c3869b7-1569-4254-89c8-809ca1d63cb2&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T14:59:21Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;1c3869b7-1569-4254-89c8-809ca1d63cb2\&quot;,\n    \&quot;uid\&quot;: \&quot;4f2da72c-47bc-44f3-8bf6-4a7bac3da6ec\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T14:59:21.793326Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;74abbbfd-b384-48cb-9062-e830db1e7f42\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:21.839656943Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:21.846594152Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:21.846626252Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:21.816578209Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:21.816578730Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:21.816586844Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:21.816647328Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:21.816625477Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:59:21Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;1c3869b7-1569-4254-89c8-809ca1d63cb2&quot;), &quot;uid&quot;: String(&quot;4f2da72c-47bc-44f3-8bf6-4a7bac3da6ec&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T14:59:21.793326Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;74abbbfd-b384-48cb-9062-e830db1e7f42&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:21.839656943Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:21.846594152Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:21.846626252Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:21.816578209Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:21.816578730Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:21.816586844Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:21.816647328Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:21.816625477Z&quot;)}]}}
[2022-11-23T14:59:21Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-11-23T14:59:22Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;1c3869b7-1569-4254-89c8-809ca1d63cb2&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T14:59:22Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;1c3869b7-1569-4254-89c8-809ca1d63cb2\&quot;,\n    \&quot;uid\&quot;: \&quot;4f2da72c-47bc-44f3-8bf6-4a7bac3da6ec\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T14:59:21.793326Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;d9cb2e7d-83fd-484e-82ca-bc0b6d18bdcf\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;qrMvaKoJ9KqO\&quot;,\n        \&quot;username\&quot;: \&quot;user-1c3869b7-1569-4254-89c8-809ca1d63cb2\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:21.839656943Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:21.846594152Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:21.925998539Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:21.937246160Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:22.050851830Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:22.050868010Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:22.050943431Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:22.050896463Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:59:22Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;1c3869b7-1569-4254-89c8-809ca1d63cb2&quot;), &quot;uid&quot;: String(&quot;4f2da72c-47bc-44f3-8bf6-4a7bac3da6ec&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T14:59:21.793326Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;d9cb2e7d-83fd-484e-82ca-bc0b6d18bdcf&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;qrMvaKoJ9KqO&quot;), &quot;username&quot;: String(&quot;user-1c3869b7-1569-4254-89c8-809ca1d63cb2&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:21.839656943Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:21.846594152Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:21.925998539Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:21.937246160Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:22.050851830Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:22.050868010Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:22.050943431Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:22.050896463Z&quot;)}]}}
[2022-11-23T14:59:22Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-11-23T14:59:22Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;1c3869b7-1569-4254-89c8-809ca1d63cb2&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T14:59:22Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;1c3869b7-1569-4254-89c8-809ca1d63cb2\&quot;,\n    \&quot;uid\&quot;: \&quot;4f2da72c-47bc-44f3-8bf6-4a7bac3da6ec\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T14:59:21.793326Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;d9cb2e7d-83fd-484e-82ca-bc0b6d18bdcf\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;qrMvaKoJ9KqO\&quot;,\n        \&quot;username\&quot;: \&quot;user-1c3869b7-1569-4254-89c8-809ca1d63cb2\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:21.839656943Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:21.846594152Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:21.925998539Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:21.937246160Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:22.050851830Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:22.050868010Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:22.050943431Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:22.050896463Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:59:22Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;1c3869b7-1569-4254-89c8-809ca1d63cb2&quot;), &quot;uid&quot;: String(&quot;4f2da72c-47bc-44f3-8bf6-4a7bac3da6ec&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T14:59:21.793326Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;d9cb2e7d-83fd-484e-82ca-bc0b6d18bdcf&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;qrMvaKoJ9KqO&quot;), &quot;username&quot;: String(&quot;user-1c3869b7-1569-4254-89c8-809ca1d63cb2&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:21.839656943Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:21.846594152Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:21.925998539Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:21.937246160Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:22.050851830Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:22.050868010Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:22.050943431Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:22.050896463Z&quot;)}]}}
[2022-11-23T14:59:22Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-11-23T14:59:22Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-11-23T14:59:22Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;1c3869b7-1569-4254-89c8-809ca1d63cb2&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-11-23T14:59:23Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:59:23Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-11-23T14:59:23Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;1c3869b7-1569-4254-89c8-809ca1d63cb2&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-11-23T14:59:23Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:59:23Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T14:59:23Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:59:23Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T14:59:23Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTU4NjEsImlhdCI6MTY2OTIxNTU2MSwiYXV0aF90aW1lIjoxNjY5MjE1NTU4LCJqdGkiOiJiMTA2YWM4OC1lZjE2LTQxOTQtODgwOC1lY2YxZGI4NzE1ZTgiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IkwyV2lkVmcwSEZPSDZEenNrWU9jWUEiLCJzZXNzaW9uX3N0YXRlIjoiNmI2YmNlNTItOTkxYi00ZDIxLTkyMTEtYjE0ZjZhN2Y4NGQ4IiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjZiNmJjZTUyLTk5MWItNGQyMS05MjExLWIxNGY2YTdmODRkOCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.pdbsOoMsS_ZG3dOiDlkwLE-nVv5SsHEE7wZ1F0xmHiVebrJ9qb9-FEkhlNbYW42XLnrbY-NeRDoYg8PtMmyK-msko1TM9af-iylKPP8fNK5qQ1MfHYhLafnnwXYgwxs3mYyCUlaXnoEnpmWLzSd5M8EaPZjYPY6XOYbXHXCyj9eQn_Vcb0h05KOkjBmboYcIDwz5CIrEnkYJfcmCmxn5y2RAmtRyEJNGW5eN1vEbsY4Z00tj41e8IwLUHP-rjHl9ckGauubCMbWU2W5sBeUcj0A3ku_MnQUudOLUqh-A7h00UfI04cp4uaJZQmmbtBbFSztY8ba9NGK1OmoYQIkDrg\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:59:23Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:59:23Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-11-23T14:59:23Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;1c3869b7-1569-4254-89c8-809ca1d63cb2&quot; &quot;device1&quot;
[2022-11-23T14:59:23Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:59:23Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-11-23T14:59:23Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;1c3869b7-1569-4254-89c8-809ca1d63cb2&quot; &quot;gateway1&quot;
[2022-11-23T14:59:23Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:59:23Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;1c3869b7-1569-4254-89c8-809ca1d63cb2&#x27;
[2022-11-23T14:59:23Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;1c3869b7-1569-4254-89c8-809ca1d63cb2&quot;
[2022-11-23T14:59:23Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_1::integration_version_1::integration_ws_2

**Duration**: 9s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T14:59:25Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T14:59:25Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:59:25Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:59:25Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:59:26Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T14:59:28Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T14:59:28Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:59:28Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:59:30Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTczNzAsImlhdCI6MTY2OTIxNTU3MCwianRpIjoiNWY1YmYwMTAtMjIxNC00YTNmLTlkNmEtY2ZlMDFmOTUyNTJmIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoicFdxQVhobXIwbXBfM2t3bm1oSGZyUSIsInNlc3Npb25fc3RhdGUiOiI4ZTE3ZTdlZC0zNzAyLTQyNWEtODkzZS1kYTcyNDcyNWM1OTEiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiOGUxN2U3ZWQtMzcwMi00MjVhLTg5M2UtZGE3MjQ3MjVjNTkxIn0.76riGlsradocKFTrpi1aWv-ZVn7d7fwo54407E_rfVk
[2022-11-23T14:59:30Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T14:59:30Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:59:30Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTczNzAsImlhdCI6MTY2OTIxNTU3MCwianRpIjoiNWY1YmYwMTAtMjIxNC00YTNmLTlkNmEtY2ZlMDFmOTUyNTJmIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoicFdxQVhobXIwbXBfM2t3bm1oSGZyUSIsInNlc3Npb25fc3RhdGUiOiI4ZTE3ZTdlZC0zNzAyLTQyNWEtODkzZS1kYTcyNDcyNWM1OTEiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiOGUxN2U3ZWQtMzcwMi00MjVhLTg5M2UtZGE3MjQ3MjVjNTkxIn0.76riGlsradocKFTrpi1aWv-ZVn7d7fwo54407E_rfVk&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T14:59:30Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:59:31Z INFO  drogue_cloud_tests::resources::apps] Create application: 440fa8e8-e3e6-4240-bf2d-cb2220ee2548
[2022-11-23T14:59:31Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;440fa8e8-e3e6-4240-bf2d-cb2220ee2548&quot;
[2022-11-23T14:59:31Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:59:31Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;440fa8e8-e3e6-4240-bf2d-cb2220ee2548&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T14:59:31Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;440fa8e8-e3e6-4240-bf2d-cb2220ee2548\&quot;,\n    \&quot;uid\&quot;: \&quot;2e30a405-7e78-4828-9f82-dede4c88e08b\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T14:59:31.286212Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;e7e61e6f-a2eb-4520-af6c-a91fe65080e2\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:31.342681536Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:31.349739109Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:31.349772922Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:31.306300104Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:31.306300705Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:31.306308931Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:31.306398508Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:31.306373331Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:59:31Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;440fa8e8-e3e6-4240-bf2d-cb2220ee2548&quot;), &quot;uid&quot;: String(&quot;2e30a405-7e78-4828-9f82-dede4c88e08b&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T14:59:31.286212Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;e7e61e6f-a2eb-4520-af6c-a91fe65080e2&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:31.342681536Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:31.349739109Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:31.349772922Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:31.306300104Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:31.306300705Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:31.306308931Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:31.306398508Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:31.306373331Z&quot;)}]}}
[2022-11-23T14:59:31Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-11-23T14:59:32Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;440fa8e8-e3e6-4240-bf2d-cb2220ee2548&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T14:59:32Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;440fa8e8-e3e6-4240-bf2d-cb2220ee2548\&quot;,\n    \&quot;uid\&quot;: \&quot;2e30a405-7e78-4828-9f82-dede4c88e08b\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T14:59:31.286212Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;42fe70d5-31b5-4988-b8e4-fda5382ac82a\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;CUq98zKrRwt2\&quot;,\n        \&quot;username\&quot;: \&quot;user-440fa8e8-e3e6-4240-bf2d-cb2220ee2548\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:31.342681536Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:31.349739109Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:31.470945601Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:31.477653951Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:31.656603586Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:31.656621911Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:31.656772332Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:31.656720044Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:59:32Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;440fa8e8-e3e6-4240-bf2d-cb2220ee2548&quot;), &quot;uid&quot;: String(&quot;2e30a405-7e78-4828-9f82-dede4c88e08b&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T14:59:31.286212Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;42fe70d5-31b5-4988-b8e4-fda5382ac82a&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;CUq98zKrRwt2&quot;), &quot;username&quot;: String(&quot;user-440fa8e8-e3e6-4240-bf2d-cb2220ee2548&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:31.342681536Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:31.349739109Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:31.470945601Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:31.477653951Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:31.656603586Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:31.656621911Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:31.656772332Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:31.656720044Z&quot;)}]}}
[2022-11-23T14:59:32Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-11-23T14:59:32Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;440fa8e8-e3e6-4240-bf2d-cb2220ee2548&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T14:59:32Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;440fa8e8-e3e6-4240-bf2d-cb2220ee2548\&quot;,\n    \&quot;uid\&quot;: \&quot;2e30a405-7e78-4828-9f82-dede4c88e08b\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T14:59:31.286212Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;42fe70d5-31b5-4988-b8e4-fda5382ac82a\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;CUq98zKrRwt2\&quot;,\n        \&quot;username\&quot;: \&quot;user-440fa8e8-e3e6-4240-bf2d-cb2220ee2548\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:31.342681536Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:31.349739109Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:31.470945601Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:31.477653951Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:31.656603586Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:31.656621911Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:31.656772332Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:31.656720044Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:59:32Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;440fa8e8-e3e6-4240-bf2d-cb2220ee2548&quot;), &quot;uid&quot;: String(&quot;2e30a405-7e78-4828-9f82-dede4c88e08b&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T14:59:31.286212Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;42fe70d5-31b5-4988-b8e4-fda5382ac82a&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;CUq98zKrRwt2&quot;), &quot;username&quot;: String(&quot;user-440fa8e8-e3e6-4240-bf2d-cb2220ee2548&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:31.342681536Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:31.349739109Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:31.470945601Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:31.477653951Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:31.656603586Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:31.656621911Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:31.656772332Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:31.656720044Z&quot;)}]}}
[2022-11-23T14:59:32Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-11-23T14:59:32Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-11-23T14:59:32Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;440fa8e8-e3e6-4240-bf2d-cb2220ee2548&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-11-23T14:59:32Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:59:32Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-11-23T14:59:32Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;440fa8e8-e3e6-4240-bf2d-cb2220ee2548&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-11-23T14:59:32Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:59:32Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T14:59:32Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:59:32Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T14:59:32Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTU4NzAsImlhdCI6MTY2OTIxNTU3MCwiYXV0aF90aW1lIjoxNjY5MjE1NTY3LCJqdGkiOiJjMGQwYTBjMC0yYzk5LTQwYWMtODBiNS1jN2IzNDk5ZWZiMjQiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InBXcUFYaG1yMG1wXzNrd25taEhmclEiLCJzZXNzaW9uX3N0YXRlIjoiOGUxN2U3ZWQtMzcwMi00MjVhLTg5M2UtZGE3MjQ3MjVjNTkxIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjhlMTdlN2VkLTM3MDItNDI1YS04OTNlLWRhNzI0NzI1YzU5MSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.iDJEuF-BXAX4D5cmVtI2FEcWqsMjT6s6-BW5G7vRaP39zvr1DH2y3mjarpTTjKBOVB_iUrpccp2tilRa6Fy3KY8AU1lFuxkBggjX4QQ9XoYMe01X5mSk07cL0Am582AuyUthh20eX03GtemHG6r-U_cNUy25nolK7VffP3JRahiXj0J5IqyYLH1Lp7PH_qc8w34aqqZ9N1PmTAyltwxLdyFoewRKybOppid9OgYBtbBDwo5OIEIJ9UA4kssGLqjkJ0FXE2MNcsBDuTxlCe8P3BS4UjVkQX9szWFBRTHOuZKYYiokN0bGvycmW5LKwAjLZuC0by5gbxAUlKKpFXhp-g\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:59:32Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:59:32Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-11-23T14:59:32Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;440fa8e8-e3e6-4240-bf2d-cb2220ee2548&quot; &quot;device1&quot;
[2022-11-23T14:59:32Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:59:32Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-11-23T14:59:32Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;440fa8e8-e3e6-4240-bf2d-cb2220ee2548&quot; &quot;gateway1&quot;
[2022-11-23T14:59:32Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:59:32Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;440fa8e8-e3e6-4240-bf2d-cb2220ee2548&#x27;
[2022-11-23T14:59:32Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;440fa8e8-e3e6-4240-bf2d-cb2220ee2548&quot;
[2022-11-23T14:59:32Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_1::integration_version_2::integration_ws_1

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T14:59:34Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T14:59:34Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:59:35Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:59:35Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:59:35Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T14:59:37Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T14:59:37Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:59:37Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:59:38Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTczNzgsImlhdCI6MTY2OTIxNTU3OCwianRpIjoiYzYyZTQ1YzQtNWEyZC00MjFkLTg1YTktYjQ4Y2U1OTZmYjUwIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiT3BHRnBMUE55cWdaSldtenM1RXVpQSIsInNlc3Npb25fc3RhdGUiOiIwMWRkZTllNy04MjllLTQ1YjUtOTllZC00ZGRiMzY0YzA4NzAiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMDFkZGU5ZTctODI5ZS00NWI1LTk5ZWQtNGRkYjM2NGMwODcwIn0.Iiqq7GATUjvTNlEDXb84-Ib7iyW2hhYMJ3FMQFkMs94
[2022-11-23T14:59:38Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T14:59:38Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:59:38Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTczNzgsImlhdCI6MTY2OTIxNTU3OCwianRpIjoiYzYyZTQ1YzQtNWEyZC00MjFkLTg1YTktYjQ4Y2U1OTZmYjUwIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiT3BHRnBMUE55cWdaSldtenM1RXVpQSIsInNlc3Npb25fc3RhdGUiOiIwMWRkZTllNy04MjllLTQ1YjUtOTllZC00ZGRiMzY0YzA4NzAiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMDFkZGU5ZTctODI5ZS00NWI1LTk5ZWQtNGRkYjM2NGMwODcwIn0.Iiqq7GATUjvTNlEDXb84-Ib7iyW2hhYMJ3FMQFkMs94&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T14:59:39Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:59:39Z INFO  drogue_cloud_tests::resources::apps] Create application: 0cfc366e-4473-4f49-a03c-669c6d86e631
[2022-11-23T14:59:39Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;0cfc366e-4473-4f49-a03c-669c6d86e631&quot;
[2022-11-23T14:59:39Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:59:39Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;0cfc366e-4473-4f49-a03c-669c6d86e631&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T14:59:39Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;0cfc366e-4473-4f49-a03c-669c6d86e631\&quot;,\n    \&quot;uid\&quot;: \&quot;56b3e521-7a90-4222-a1ca-13945de09730\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T14:59:39.766527Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;52f312c0-89e1-4094-83ab-16cf0d64f8d4\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:39.787239171Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:39.787241064Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:39.787241705Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:39.787242396Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:39.787242917Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:39.787249970Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: HasFinalizer\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:39.787274477Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:39.787301938Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:59:39Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;0cfc366e-4473-4f49-a03c-669c6d86e631&quot;), &quot;uid&quot;: String(&quot;56b3e521-7a90-4222-a1ca-13945de09730&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T14:59:39.766527Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;52f312c0-89e1-4094-83ab-16cf0d64f8d4&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:39.787239171Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:39.787241064Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:39.787241705Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:39.787242396Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:39.787242917Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:39.787249970Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: HasFinalizer&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:39.787274477Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:39.787301938Z&quot;)}]}}
[2022-11-23T14:59:39Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-11-23T14:59:40Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;0cfc366e-4473-4f49-a03c-669c6d86e631&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T14:59:40Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;0cfc366e-4473-4f49-a03c-669c6d86e631\&quot;,\n    \&quot;uid\&quot;: \&quot;56b3e521-7a90-4222-a1ca-13945de09730\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T14:59:39.766527Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;05115ce0-5aff-4238-b15e-9c81de0807b0\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;kVGaMtD9BiXe\&quot;,\n        \&quot;username\&quot;: \&quot;user-0cfc366e-4473-4f49-a03c-669c6d86e631\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:39.826746401Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:39.833832718Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:39.912884548Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:39.919758448Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:40.037765594Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:40.037871383Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:40.037903373Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:40.037950059Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:59:40Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;0cfc366e-4473-4f49-a03c-669c6d86e631&quot;), &quot;uid&quot;: String(&quot;56b3e521-7a90-4222-a1ca-13945de09730&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T14:59:39.766527Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;05115ce0-5aff-4238-b15e-9c81de0807b0&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;kVGaMtD9BiXe&quot;), &quot;username&quot;: String(&quot;user-0cfc366e-4473-4f49-a03c-669c6d86e631&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:39.826746401Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:39.833832718Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:39.912884548Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:39.919758448Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:40.037765594Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:40.037871383Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:40.037903373Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:40.037950059Z&quot;)}]}}
[2022-11-23T14:59:40Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-11-23T14:59:40Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;0cfc366e-4473-4f49-a03c-669c6d86e631&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T14:59:40Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;0cfc366e-4473-4f49-a03c-669c6d86e631\&quot;,\n    \&quot;uid\&quot;: \&quot;56b3e521-7a90-4222-a1ca-13945de09730\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T14:59:39.766527Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;05115ce0-5aff-4238-b15e-9c81de0807b0\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;kVGaMtD9BiXe\&quot;,\n        \&quot;username\&quot;: \&quot;user-0cfc366e-4473-4f49-a03c-669c6d86e631\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:39.826746401Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:39.833832718Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:39.912884548Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:39.919758448Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:40.037765594Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:40.037871383Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:40.037903373Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:40.037950059Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:59:40Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;0cfc366e-4473-4f49-a03c-669c6d86e631&quot;), &quot;uid&quot;: String(&quot;56b3e521-7a90-4222-a1ca-13945de09730&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T14:59:39.766527Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;05115ce0-5aff-4238-b15e-9c81de0807b0&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;kVGaMtD9BiXe&quot;), &quot;username&quot;: String(&quot;user-0cfc366e-4473-4f49-a03c-669c6d86e631&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:39.826746401Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:39.833832718Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:39.912884548Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:39.919758448Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:40.037765594Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:40.037871383Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:40.037903373Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:40.037950059Z&quot;)}]}}
[2022-11-23T14:59:40Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-11-23T14:59:40Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-11-23T14:59:40Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;0cfc366e-4473-4f49-a03c-669c6d86e631&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-11-23T14:59:41Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:59:41Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-11-23T14:59:41Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;0cfc366e-4473-4f49-a03c-669c6d86e631&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-11-23T14:59:41Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:59:41Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T14:59:41Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:59:41Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T14:59:41Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTU4NzksImlhdCI6MTY2OTIxNTU3OSwiYXV0aF90aW1lIjoxNjY5MjE1NTc2LCJqdGkiOiIyMWVkNDMwYS04ZTc1LTQwOTEtOTU0Mi1iMWM2MjM1NDg0YzEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Ik9wR0ZwTFBOeXFnWkpXbXpzNUV1aUEiLCJzZXNzaW9uX3N0YXRlIjoiMDFkZGU5ZTctODI5ZS00NWI1LTk5ZWQtNGRkYjM2NGMwODcwIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjAxZGRlOWU3LTgyOWUtNDViNS05OWVkLTRkZGIzNjRjMDg3MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.aiH5zwF3nV9kBncmEQTfHW-qaLDqedaSAADjXA53r8ZgLXSZnzv9q7v234VbGtryiWeKtLzkqg-3Y9Y4tR1N8K-RJnAQg-jPfcIH5aaebKVPNZ7Ja4b750ikzYenq0WZXowJYZZU3QbE-0RDMM5-JmZdQpmoJSg2nXXg1da3HsN1r-M_BwxIynHpC3hdSORkpvsi0crV-2JtXfNpmq3YojaMXQyCI4x5P4k5tyMYN8_fo1ewhZzGiZmisrWHicdf9ap-S9KV3bX0tmScoItQJRFekT33o6UM1CaEJv3MyPoaYflN31NqUp5cajOQwPDuLHGHUnBnXdChfw-EBoLuLg\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:59:41Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:59:41Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-11-23T14:59:41Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;0cfc366e-4473-4f49-a03c-669c6d86e631&quot; &quot;device1&quot;
[2022-11-23T14:59:41Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:59:41Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-11-23T14:59:41Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;0cfc366e-4473-4f49-a03c-669c6d86e631&quot; &quot;gateway1&quot;
[2022-11-23T14:59:41Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:59:41Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;0cfc366e-4473-4f49-a03c-669c6d86e631&#x27;
[2022-11-23T14:59:41Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;0cfc366e-4473-4f49-a03c-669c6d86e631&quot;
[2022-11-23T14:59:41Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_1::integration_version_2::integration_ws_2

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T14:59:43Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T14:59:43Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:59:43Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:59:43Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:59:44Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T14:59:45Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T14:59:45Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:59:45Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:59:47Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTczODcsImlhdCI6MTY2OTIxNTU4NywianRpIjoiNGUyNTlmOTAtMzYxYS00OWEyLTgxYWQtN2E3YWMzNjdhYTNmIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoieThfVTZORXA5RVluM25BRHJvYUlFZyIsInNlc3Npb25fc3RhdGUiOiI4NjJlNmYzMC0wNzM0LTQyMTktYmQyOS04OWRkODUyNTlhMzIiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiODYyZTZmMzAtMDczNC00MjE5LWJkMjktODlkZDg1MjU5YTMyIn0.BrkVPLDMSDj5COmQzZdGzI5SxokOkOD4FdYbx5AZmOU
[2022-11-23T14:59:47Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T14:59:47Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:59:47Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTczODcsImlhdCI6MTY2OTIxNTU4NywianRpIjoiNGUyNTlmOTAtMzYxYS00OWEyLTgxYWQtN2E3YWMzNjdhYTNmIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoieThfVTZORXA5RVluM25BRHJvYUlFZyIsInNlc3Npb25fc3RhdGUiOiI4NjJlNmYzMC0wNzM0LTQyMTktYmQyOS04OWRkODUyNTlhMzIiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiODYyZTZmMzAtMDczNC00MjE5LWJkMjktODlkZDg1MjU5YTMyIn0.BrkVPLDMSDj5COmQzZdGzI5SxokOkOD4FdYbx5AZmOU&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T14:59:47Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:59:48Z INFO  drogue_cloud_tests::resources::apps] Create application: 83ac394f-344a-42f8-ba99-84a0806d7731
[2022-11-23T14:59:48Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;83ac394f-344a-42f8-ba99-84a0806d7731&quot;
[2022-11-23T14:59:48Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:59:48Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;83ac394f-344a-42f8-ba99-84a0806d7731&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T14:59:48Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;83ac394f-344a-42f8-ba99-84a0806d7731\&quot;,\n    \&quot;uid\&quot;: \&quot;afa64bd9-5faa-424b-b331-a3af1fa18d40\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T14:59:48.467774Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;6d9830c1-a3d3-4948-83f2-23d16cf367fb\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:48.522778704Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:48.529190940Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:48.529222709Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:48.495380466Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:48.495381077Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:48.495385746Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:48.495447782Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:48.495424128Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:59:48Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;83ac394f-344a-42f8-ba99-84a0806d7731&quot;), &quot;uid&quot;: String(&quot;afa64bd9-5faa-424b-b331-a3af1fa18d40&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T14:59:48.467774Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;6d9830c1-a3d3-4948-83f2-23d16cf367fb&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:48.522778704Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:48.529190940Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:48.529222709Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:48.495380466Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:48.495381077Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:48.495385746Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:48.495447782Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:48.495424128Z&quot;)}]}}
[2022-11-23T14:59:48Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-11-23T14:59:49Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;83ac394f-344a-42f8-ba99-84a0806d7731&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T14:59:49Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;83ac394f-344a-42f8-ba99-84a0806d7731\&quot;,\n    \&quot;uid\&quot;: \&quot;afa64bd9-5faa-424b-b331-a3af1fa18d40\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T14:59:48.467774Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;9dac5fdf-5392-41c2-93df-f6134ea2f329\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;hNydKdj1kDnq\&quot;,\n        \&quot;username\&quot;: \&quot;user-83ac394f-344a-42f8-ba99-84a0806d7731\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:48.522778704Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:48.529190940Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:48.602538309Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:48.611356476Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:48.757926752Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:48.757953972Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:48.758025837Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:48.757982035Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:59:49Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;83ac394f-344a-42f8-ba99-84a0806d7731&quot;), &quot;uid&quot;: String(&quot;afa64bd9-5faa-424b-b331-a3af1fa18d40&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T14:59:48.467774Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;9dac5fdf-5392-41c2-93df-f6134ea2f329&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;hNydKdj1kDnq&quot;), &quot;username&quot;: String(&quot;user-83ac394f-344a-42f8-ba99-84a0806d7731&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:48.522778704Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:48.529190940Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:48.602538309Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:48.611356476Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:48.757926752Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:48.757953972Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:48.758025837Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:48.757982035Z&quot;)}]}}
[2022-11-23T14:59:49Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-11-23T14:59:49Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;83ac394f-344a-42f8-ba99-84a0806d7731&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T14:59:49Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;83ac394f-344a-42f8-ba99-84a0806d7731\&quot;,\n    \&quot;uid\&quot;: \&quot;afa64bd9-5faa-424b-b331-a3af1fa18d40\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T14:59:48.467774Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;9dac5fdf-5392-41c2-93df-f6134ea2f329\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;hNydKdj1kDnq\&quot;,\n        \&quot;username\&quot;: \&quot;user-83ac394f-344a-42f8-ba99-84a0806d7731\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:48.522778704Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:48.529190940Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:48.602538309Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:48.611356476Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:48.757926752Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:48.757953972Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:48.758025837Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:48.757982035Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:59:49Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;83ac394f-344a-42f8-ba99-84a0806d7731&quot;), &quot;uid&quot;: String(&quot;afa64bd9-5faa-424b-b331-a3af1fa18d40&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T14:59:48.467774Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;9dac5fdf-5392-41c2-93df-f6134ea2f329&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;hNydKdj1kDnq&quot;), &quot;username&quot;: String(&quot;user-83ac394f-344a-42f8-ba99-84a0806d7731&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:48.522778704Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:48.529190940Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:48.602538309Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:48.611356476Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:48.757926752Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:48.757953972Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:48.758025837Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:48.757982035Z&quot;)}]}}
[2022-11-23T14:59:49Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-11-23T14:59:49Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-11-23T14:59:49Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;83ac394f-344a-42f8-ba99-84a0806d7731&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-11-23T14:59:49Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:59:49Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-11-23T14:59:49Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;83ac394f-344a-42f8-ba99-84a0806d7731&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-11-23T14:59:49Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:59:49Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T14:59:49Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:59:49Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T14:59:49Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTU4ODcsImlhdCI6MTY2OTIxNTU4NywiYXV0aF90aW1lIjoxNjY5MjE1NTg0LCJqdGkiOiJhNDY2MDMxMC1mNTIxLTRmMzktOTE3Zi1hYmYwMGFhOGFlN2IiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Ink4X1U2TkVwOUVZbjNuQURyb2FJRWciLCJzZXNzaW9uX3N0YXRlIjoiODYyZTZmMzAtMDczNC00MjE5LWJkMjktODlkZDg1MjU5YTMyIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6Ijg2MmU2ZjMwLTA3MzQtNDIxOS1iZDI5LTg5ZGQ4NTI1OWEzMiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.RFUPmb8GcO0EK30-qXfzQsppItyaE4ssMEx8Ry-wplsua9MphnN7VBAqOy8DGRY1o9JQXBdV0N-TtmQcqRSdFCGBpQZ3d0o4XYNCMDN6F_OyVXN2q3uS491-QrJ6vGtDJQh0XksnfVg4u6FpGq9RLslhh20j4gWyNLxrlkRxMnELORmCRvqZI9kFvOp6hNODcmPpv987jZBdhawAlgd4ayvuQCSePu3ZZqXgSpBaBYgCDHpBJvsa8BKM0Qv0p6mEa49sSnowBNoGjz8B_yPoPJNLrl1YfKeoMk2_BjJwA8YIZn-ND28doh9e-85Zf2Y0orw16a0Hoc2qBvTDWxXFpw\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:59:49Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:59:49Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-11-23T14:59:49Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;83ac394f-344a-42f8-ba99-84a0806d7731&quot; &quot;device1&quot;
[2022-11-23T14:59:49Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:59:49Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-11-23T14:59:49Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;83ac394f-344a-42f8-ba99-84a0806d7731&quot; &quot;gateway1&quot;
[2022-11-23T14:59:49Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:59:49Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;83ac394f-344a-42f8-ba99-84a0806d7731&#x27;
[2022-11-23T14:59:49Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;83ac394f-344a-42f8-ba99-84a0806d7731&quot;
[2022-11-23T14:59:50Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_1::integration_version_3::integration_ws_1

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T14:59:52Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T14:59:52Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:59:52Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:59:52Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:59:53Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T14:59:54Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T14:59:54Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:59:54Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T14:59:56Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTczOTYsImlhdCI6MTY2OTIxNTU5NiwianRpIjoiMzc1MzVlZGUtNjBjYy00MmRlLTliMTItOGNjNTc3ZjQ0ZjY4IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoidXVQOGllMUJ0RTRTekpOTzdCVHRsdyIsInNlc3Npb25fc3RhdGUiOiJmMDRjZGRmZS1kNTAyLTQ4ZTMtYWQwNC1hNjQ0YjRhMDg5ODkiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiZjA0Y2RkZmUtZDUwMi00OGUzLWFkMDQtYTY0NGI0YTA4OTg5In0.txIZvta3D-_E75BQGNApl1IrBrykniMmAmyW714CrMM
[2022-11-23T14:59:56Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T14:59:56Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:59:56Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTczOTYsImlhdCI6MTY2OTIxNTU5NiwianRpIjoiMzc1MzVlZGUtNjBjYy00MmRlLTliMTItOGNjNTc3ZjQ0ZjY4IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoidXVQOGllMUJ0RTRTekpOTzdCVHRsdyIsInNlc3Npb25fc3RhdGUiOiJmMDRjZGRmZS1kNTAyLTQ4ZTMtYWQwNC1hNjQ0YjRhMDg5ODkiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiZjA0Y2RkZmUtZDUwMi00OGUzLWFkMDQtYTY0NGI0YTA4OTg5In0.txIZvta3D-_E75BQGNApl1IrBrykniMmAmyW714CrMM&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T14:59:56Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:59:57Z INFO  drogue_cloud_tests::resources::apps] Create application: dd64ea2d-a1aa-4831-b513-aefc79cf5b0e
[2022-11-23T14:59:57Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;dd64ea2d-a1aa-4831-b513-aefc79cf5b0e&quot;
[2022-11-23T14:59:57Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:59:57Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;dd64ea2d-a1aa-4831-b513-aefc79cf5b0e&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T14:59:57Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;dd64ea2d-a1aa-4831-b513-aefc79cf5b0e\&quot;,\n    \&quot;uid\&quot;: \&quot;2a3b4e08-af37-48e8-82a9-7a25687418bd\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T14:59:57.179007Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;33ed9d42-34ae-44dc-882a-f2b4861c0e59\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:57.223987803Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:57.229696934Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:57.229728092Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:57.197535244Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:57.197535755Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:57.197562606Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:57.197589046Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:57.197634331Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:59:57Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;dd64ea2d-a1aa-4831-b513-aefc79cf5b0e&quot;), &quot;uid&quot;: String(&quot;2a3b4e08-af37-48e8-82a9-7a25687418bd&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T14:59:57.179007Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;33ed9d42-34ae-44dc-882a-f2b4861c0e59&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:57.223987803Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:57.229696934Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:57.229728092Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:57.197535244Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:57.197535755Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:57.197562606Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:57.197589046Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:57.197634331Z&quot;)}]}}
[2022-11-23T14:59:57Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-11-23T14:59:58Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;dd64ea2d-a1aa-4831-b513-aefc79cf5b0e&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T14:59:58Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;dd64ea2d-a1aa-4831-b513-aefc79cf5b0e\&quot;,\n    \&quot;uid\&quot;: \&quot;2a3b4e08-af37-48e8-82a9-7a25687418bd\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T14:59:57.179007Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;5799f6ee-dc9e-4eff-a1d1-6c98c6202f65\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;fvx3xH6VAjPH\&quot;,\n        \&quot;username\&quot;: \&quot;user-dd64ea2d-a1aa-4831-b513-aefc79cf5b0e\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:57.223987803Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:57.229696934Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:57.284974669Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:57.292565931Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:57.430710886Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:57.430727368Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:57.430835119Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:57.430921400Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:59:58Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;dd64ea2d-a1aa-4831-b513-aefc79cf5b0e&quot;), &quot;uid&quot;: String(&quot;2a3b4e08-af37-48e8-82a9-7a25687418bd&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T14:59:57.179007Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;5799f6ee-dc9e-4eff-a1d1-6c98c6202f65&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;fvx3xH6VAjPH&quot;), &quot;username&quot;: String(&quot;user-dd64ea2d-a1aa-4831-b513-aefc79cf5b0e&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:57.223987803Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:57.229696934Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:57.284974669Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:57.292565931Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:57.430710886Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:57.430727368Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:57.430835119Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:57.430921400Z&quot;)}]}}
[2022-11-23T14:59:58Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-11-23T14:59:58Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;dd64ea2d-a1aa-4831-b513-aefc79cf5b0e&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T14:59:58Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;dd64ea2d-a1aa-4831-b513-aefc79cf5b0e\&quot;,\n    \&quot;uid\&quot;: \&quot;2a3b4e08-af37-48e8-82a9-7a25687418bd\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T14:59:57.179007Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;5799f6ee-dc9e-4eff-a1d1-6c98c6202f65\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;fvx3xH6VAjPH\&quot;,\n        \&quot;username\&quot;: \&quot;user-dd64ea2d-a1aa-4831-b513-aefc79cf5b0e\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:57.223987803Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:57.229696934Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:57.284974669Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:57.292565931Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:57.430710886Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:57.430727368Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:57.430835119Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T14:59:57.430921400Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:59:58Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;dd64ea2d-a1aa-4831-b513-aefc79cf5b0e&quot;), &quot;uid&quot;: String(&quot;2a3b4e08-af37-48e8-82a9-7a25687418bd&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T14:59:57.179007Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;5799f6ee-dc9e-4eff-a1d1-6c98c6202f65&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;fvx3xH6VAjPH&quot;), &quot;username&quot;: String(&quot;user-dd64ea2d-a1aa-4831-b513-aefc79cf5b0e&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:57.223987803Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:57.229696934Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:57.284974669Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:57.292565931Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:57.430710886Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:57.430727368Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:57.430835119Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T14:59:57.430921400Z&quot;)}]}}
[2022-11-23T14:59:58Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-11-23T14:59:58Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-11-23T14:59:58Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;dd64ea2d-a1aa-4831-b513-aefc79cf5b0e&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-11-23T14:59:58Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:59:58Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-11-23T14:59:58Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;dd64ea2d-a1aa-4831-b513-aefc79cf5b0e&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-11-23T14:59:58Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:59:58Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T14:59:58Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T14:59:58Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T14:59:58Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTU4OTYsImlhdCI6MTY2OTIxNTU5NiwiYXV0aF90aW1lIjoxNjY5MjE1NTkzLCJqdGkiOiI0MzNmZDc0ZS1iNzFjLTRhMTEtYTE4MS05ZjRiZGI3ZDQ0ODUiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InV1UDhpZTFCdEU0U3pKTk83QlR0bHciLCJzZXNzaW9uX3N0YXRlIjoiZjA0Y2RkZmUtZDUwMi00OGUzLWFkMDQtYTY0NGI0YTA4OTg5IiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImYwNGNkZGZlLWQ1MDItNDhlMy1hZDA0LWE2NDRiNGEwODk4OSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.ooHqEw4qKG9l3bgpJI1ijzKkafxVnXNZnk6zsFjiWTwHcKZmVo3BuOAqsWWDb3dRnMVGQ7FM02WhjC_Osw6h2Mvunzx2xCbHwwCGCzBQyAYuEapV06aj1VJ9OVTSfRvZ7qD3UNSC-3h3Fud1Qqv7M_qJhPQg4ZeS6EA_PmFPStSnzz9x4PNAVmesZ8D6ogKaUHVEBm6_ErlTZ-j5mxRzE18DHkGaJWbYJyeptITCvt0bktBdkGGzyvehnAXAdGuIDeldyIMPCiIO-dOLseWZoOaWbJixxfWSy3q5T40xtV35MDsdXRYwvJEpvlTpquMIxrDW0g1CREE90PE9ForawA\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:59:58Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T14:59:58Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-11-23T14:59:58Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;dd64ea2d-a1aa-4831-b513-aefc79cf5b0e&quot; &quot;device1&quot;
[2022-11-23T14:59:58Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:59:58Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-11-23T14:59:58Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;dd64ea2d-a1aa-4831-b513-aefc79cf5b0e&quot; &quot;gateway1&quot;
[2022-11-23T14:59:58Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T14:59:58Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;dd64ea2d-a1aa-4831-b513-aefc79cf5b0e&#x27;
[2022-11-23T14:59:58Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;dd64ea2d-a1aa-4831-b513-aefc79cf5b0e&quot;
[2022-11-23T14:59:58Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_1::integration_version_3::integration_ws_2

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T15:00:00Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T15:00:00Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:00:00Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:00:00Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:00:01Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T15:00:03Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T15:00:03Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:00:03Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:00:04Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc0MDQsImlhdCI6MTY2OTIxNTYwNCwianRpIjoiNWVlNTUyODgtMWQxMy00YzkzLTg2NzEtOWI4MTE5MWE0YjdhIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoickRFUzJ6VWZndXBUOXYwWDU4c1BqUSIsInNlc3Npb25fc3RhdGUiOiIyNjIxOGU1Mi0zOGYwLTQ3MmUtOWUwZS0wMTk3NTdiNjMxYzEiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMjYyMThlNTItMzhmMC00NzJlLTllMGUtMDE5NzU3YjYzMWMxIn0.GwYXtwZRSdGS_43ynfvmdfZAHzfOJWXHA1blltrEClc
[2022-11-23T15:00:04Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T15:00:04Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:00:04Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc0MDQsImlhdCI6MTY2OTIxNTYwNCwianRpIjoiNWVlNTUyODgtMWQxMy00YzkzLTg2NzEtOWI4MTE5MWE0YjdhIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoickRFUzJ6VWZndXBUOXYwWDU4c1BqUSIsInNlc3Npb25fc3RhdGUiOiIyNjIxOGU1Mi0zOGYwLTQ3MmUtOWUwZS0wMTk3NTdiNjMxYzEiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMjYyMThlNTItMzhmMC00NzJlLTllMGUtMDE5NzU3YjYzMWMxIn0.GwYXtwZRSdGS_43ynfvmdfZAHzfOJWXHA1blltrEClc&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T15:00:05Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:00:05Z INFO  drogue_cloud_tests::resources::apps] Create application: 185c63eb-d009-4688-861b-4c1b247561ef
[2022-11-23T15:00:05Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;185c63eb-d009-4688-861b-4c1b247561ef&quot;
[2022-11-23T15:00:05Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:00:05Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;185c63eb-d009-4688-861b-4c1b247561ef&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:00:05Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;185c63eb-d009-4688-861b-4c1b247561ef\&quot;,\n    \&quot;uid\&quot;: \&quot;2869d398-8e03-4680-8233-5f689f8f4822\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:00:05.661799Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;7cc33021-609e-4d63-bf54-6b7fafeb9ee6\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:05.709597277Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:05.716403561Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:05.716443586Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:05.684430424Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:05.684430935Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:05.684442026Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:05.684510895Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:05.684465179Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:00:05Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;185c63eb-d009-4688-861b-4c1b247561ef&quot;), &quot;uid&quot;: String(&quot;2869d398-8e03-4680-8233-5f689f8f4822&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:00:05.661799Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;7cc33021-609e-4d63-bf54-6b7fafeb9ee6&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:05.709597277Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:05.716403561Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:05.716443586Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:05.684430424Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:05.684430935Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:05.684442026Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:05.684510895Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:05.684465179Z&quot;)}]}}
[2022-11-23T15:00:05Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-11-23T15:00:06Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;185c63eb-d009-4688-861b-4c1b247561ef&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:00:06Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;185c63eb-d009-4688-861b-4c1b247561ef\&quot;,\n    \&quot;uid\&quot;: \&quot;2869d398-8e03-4680-8233-5f689f8f4822\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:00:05.661799Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;93ab39a6-814f-4baa-920c-2acc96132cfd\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;y6jHuEu1mrFr\&quot;,\n        \&quot;username\&quot;: \&quot;user-185c63eb-d009-4688-861b-4c1b247561ef\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:05.709597277Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:05.716403561Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:05.772665779Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:05.780798714Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:05.912556693Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:05.912603469Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:05.912905215Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:05.912838279Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:00:06Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;185c63eb-d009-4688-861b-4c1b247561ef&quot;), &quot;uid&quot;: String(&quot;2869d398-8e03-4680-8233-5f689f8f4822&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:00:05.661799Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;93ab39a6-814f-4baa-920c-2acc96132cfd&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;y6jHuEu1mrFr&quot;), &quot;username&quot;: String(&quot;user-185c63eb-d009-4688-861b-4c1b247561ef&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:05.709597277Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:05.716403561Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:05.772665779Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:05.780798714Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:05.912556693Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:05.912603469Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:05.912905215Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:05.912838279Z&quot;)}]}}
[2022-11-23T15:00:06Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-11-23T15:00:06Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;185c63eb-d009-4688-861b-4c1b247561ef&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:00:06Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;185c63eb-d009-4688-861b-4c1b247561ef\&quot;,\n    \&quot;uid\&quot;: \&quot;2869d398-8e03-4680-8233-5f689f8f4822\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:00:05.661799Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;93ab39a6-814f-4baa-920c-2acc96132cfd\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;y6jHuEu1mrFr\&quot;,\n        \&quot;username\&quot;: \&quot;user-185c63eb-d009-4688-861b-4c1b247561ef\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:05.709597277Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:05.716403561Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:05.772665779Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:05.780798714Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:05.912556693Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:05.912603469Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:05.912905215Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:05.912838279Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:00:06Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;185c63eb-d009-4688-861b-4c1b247561ef&quot;), &quot;uid&quot;: String(&quot;2869d398-8e03-4680-8233-5f689f8f4822&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:00:05.661799Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;93ab39a6-814f-4baa-920c-2acc96132cfd&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;y6jHuEu1mrFr&quot;), &quot;username&quot;: String(&quot;user-185c63eb-d009-4688-861b-4c1b247561ef&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:05.709597277Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:05.716403561Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:05.772665779Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:05.780798714Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:05.912556693Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:05.912603469Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:05.912905215Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:05.912838279Z&quot;)}]}}
[2022-11-23T15:00:06Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-11-23T15:00:06Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-11-23T15:00:06Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;185c63eb-d009-4688-861b-4c1b247561ef&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-11-23T15:00:06Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:00:06Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-11-23T15:00:06Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;185c63eb-d009-4688-861b-4c1b247561ef&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-11-23T15:00:06Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:00:06Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T15:00:07Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:00:07Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T15:00:07Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTU5MDUsImlhdCI6MTY2OTIxNTYwNSwiYXV0aF90aW1lIjoxNjY5MjE1NjAyLCJqdGkiOiIwMGQ1YjQzYi0yY2U0LTQ2YjctOTE3Ni0xN2VhOTRhMzFiMWEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InJERVMyelVmZ3VwVDl2MFg1OHNQalEiLCJzZXNzaW9uX3N0YXRlIjoiMjYyMThlNTItMzhmMC00NzJlLTllMGUtMDE5NzU3YjYzMWMxIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjI2MjE4ZTUyLTM4ZjAtNDcyZS05ZTBlLTAxOTc1N2I2MzFjMSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.FE23ks_NONtIERhUcovPSv0ebAHKsCkkRbz7lVZ4lq1cWvWepVnpWl1CJP2n0Wj_1Eb4lfsmI_CwLEJqMyLUajk6D3uwTeIZHqDhzi5_ePIvKm7xDK9p0T6xrLZFzMoRu3TujJk5_PX1NSVKtjFhZZO2F6fhGnu_-OaVSCJjmIuzHgG-2NHsaUr2vLIeMAjKsSz9YPmP6InCcWR7dKRI6vor-TD9dHJ1fiUlY9Xx_oxpnSaNnwBAfOik6Zc5iZUUG758F4xW30Jfiifo5ZI3BrfpkiEY_Fg3dzp2KTYyNJaJN1ckM14kGkOqfGtwfIQR_3PMqMYHzQ9uErWjNS7YYA\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:00:07Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:00:07Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-11-23T15:00:07Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;185c63eb-d009-4688-861b-4c1b247561ef&quot; &quot;device1&quot;
[2022-11-23T15:00:07Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:00:07Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-11-23T15:00:07Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;185c63eb-d009-4688-861b-4c1b247561ef&quot; &quot;gateway1&quot;
[2022-11-23T15:00:07Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:00:07Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;185c63eb-d009-4688-861b-4c1b247561ef&#x27;
[2022-11-23T15:00:07Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;185c63eb-d009-4688-861b-4c1b247561ef&quot;
[2022-11-23T15:00:07Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_2::integration_version_1::integration_ws_1

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T15:00:09Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T15:00:09Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:00:09Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:00:09Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:00:10Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T15:00:11Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T15:00:11Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:00:11Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:00:13Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc0MTMsImlhdCI6MTY2OTIxNTYxMywianRpIjoiMTc0MDIyMTAtYWJhYi00ODc3LWIxMGUtMDllMzRkZWU5MjA2IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiaXRhX3pZNHFhUHZRNGpSb0dYVVlYQSIsInNlc3Npb25fc3RhdGUiOiI1YzRlNjRlNi1lZjYyLTRlOGUtODIzOS1jMDkxZmE3ZjY5YjEiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiNWM0ZTY0ZTYtZWY2Mi00ZThlLTgyMzktYzA5MWZhN2Y2OWIxIn0.HUHIQor8C9_As6BoYx329o_gp9S3p2RN6yUunEghRmc
[2022-11-23T15:00:13Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T15:00:13Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:00:13Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc0MTMsImlhdCI6MTY2OTIxNTYxMywianRpIjoiMTc0MDIyMTAtYWJhYi00ODc3LWIxMGUtMDllMzRkZWU5MjA2IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiaXRhX3pZNHFhUHZRNGpSb0dYVVlYQSIsInNlc3Npb25fc3RhdGUiOiI1YzRlNjRlNi1lZjYyLTRlOGUtODIzOS1jMDkxZmE3ZjY5YjEiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiNWM0ZTY0ZTYtZWY2Mi00ZThlLTgyMzktYzA5MWZhN2Y2OWIxIn0.HUHIQor8C9_As6BoYx329o_gp9S3p2RN6yUunEghRmc&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T15:00:13Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:00:14Z INFO  drogue_cloud_tests::resources::apps] Create application: cd5e4aea-9995-466c-a565-6d8d63a68fc5
[2022-11-23T15:00:14Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;cd5e4aea-9995-466c-a565-6d8d63a68fc5&quot;
[2022-11-23T15:00:14Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:00:14Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;cd5e4aea-9995-466c-a565-6d8d63a68fc5&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:00:14Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;cd5e4aea-9995-466c-a565-6d8d63a68fc5\&quot;,\n    \&quot;uid\&quot;: \&quot;1f5996f8-fc5f-4466-8848-25f03e3281f1\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:00:14.259806Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;8c3138af-9806-43f9-bc2f-526eba140f20\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:14.301647268Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:14.309164832Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:14.309202142Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:14.282860841Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:14.282861282Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:14.282866602Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:14.282962040Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:14.282936854Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:00:14Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;cd5e4aea-9995-466c-a565-6d8d63a68fc5&quot;), &quot;uid&quot;: String(&quot;1f5996f8-fc5f-4466-8848-25f03e3281f1&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:00:14.259806Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;8c3138af-9806-43f9-bc2f-526eba140f20&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:14.301647268Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:14.309164832Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:14.309202142Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:14.282860841Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:14.282861282Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:14.282866602Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:14.282962040Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:14.282936854Z&quot;)}]}}
[2022-11-23T15:00:14Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-11-23T15:00:15Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;cd5e4aea-9995-466c-a565-6d8d63a68fc5&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:00:15Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;cd5e4aea-9995-466c-a565-6d8d63a68fc5\&quot;,\n    \&quot;uid\&quot;: \&quot;1f5996f8-fc5f-4466-8848-25f03e3281f1\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:00:14.259806Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;71e7b068-7e2e-4746-82d8-a973c66bee1c\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;RSgEV84Jk7E0\&quot;,\n        \&quot;username\&quot;: \&quot;user-cd5e4aea-9995-466c-a565-6d8d63a68fc5\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:14.301647268Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:14.309164832Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:14.388527609Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:14.396271255Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:14.507810129Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:14.507826049Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:14.507985448Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:14.507855855Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:00:15Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;cd5e4aea-9995-466c-a565-6d8d63a68fc5&quot;), &quot;uid&quot;: String(&quot;1f5996f8-fc5f-4466-8848-25f03e3281f1&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:00:14.259806Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;71e7b068-7e2e-4746-82d8-a973c66bee1c&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;RSgEV84Jk7E0&quot;), &quot;username&quot;: String(&quot;user-cd5e4aea-9995-466c-a565-6d8d63a68fc5&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:14.301647268Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:14.309164832Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:14.388527609Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:14.396271255Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:14.507810129Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:14.507826049Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:14.507985448Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:14.507855855Z&quot;)}]}}
[2022-11-23T15:00:15Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-11-23T15:00:15Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;cd5e4aea-9995-466c-a565-6d8d63a68fc5&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:00:15Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;cd5e4aea-9995-466c-a565-6d8d63a68fc5\&quot;,\n    \&quot;uid\&quot;: \&quot;1f5996f8-fc5f-4466-8848-25f03e3281f1\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:00:14.259806Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;71e7b068-7e2e-4746-82d8-a973c66bee1c\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;RSgEV84Jk7E0\&quot;,\n        \&quot;username\&quot;: \&quot;user-cd5e4aea-9995-466c-a565-6d8d63a68fc5\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:14.301647268Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:14.309164832Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:14.388527609Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:14.396271255Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:14.507810129Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:14.507826049Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:14.507985448Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:14.507855855Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:00:15Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;cd5e4aea-9995-466c-a565-6d8d63a68fc5&quot;), &quot;uid&quot;: String(&quot;1f5996f8-fc5f-4466-8848-25f03e3281f1&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:00:14.259806Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;71e7b068-7e2e-4746-82d8-a973c66bee1c&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;RSgEV84Jk7E0&quot;), &quot;username&quot;: String(&quot;user-cd5e4aea-9995-466c-a565-6d8d63a68fc5&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:14.301647268Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:14.309164832Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:14.388527609Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:14.396271255Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:14.507810129Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:14.507826049Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:14.507985448Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:14.507855855Z&quot;)}]}}
[2022-11-23T15:00:15Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-11-23T15:00:15Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-11-23T15:00:15Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;cd5e4aea-9995-466c-a565-6d8d63a68fc5&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-11-23T15:00:15Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:00:15Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-11-23T15:00:15Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;cd5e4aea-9995-466c-a565-6d8d63a68fc5&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-11-23T15:00:15Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:00:15Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T15:00:15Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:00:15Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T15:00:15Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTU5MTMsImlhdCI6MTY2OTIxNTYxMywiYXV0aF90aW1lIjoxNjY5MjE1NjEwLCJqdGkiOiI5MDU0Y2U3ZC0yYjlkLTQ0ZjEtYTU0MS01NjNlNWUxOWRiMzgiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Iml0YV96WTRxYVB2UTRqUm9HWFVZWEEiLCJzZXNzaW9uX3N0YXRlIjoiNWM0ZTY0ZTYtZWY2Mi00ZThlLTgyMzktYzA5MWZhN2Y2OWIxIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjVjNGU2NGU2LWVmNjItNGU4ZS04MjM5LWMwOTFmYTdmNjliMSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.fxjIT5WjTetpuLHBTInCvzxxeu89Wj7RdcaAVr-zZwwDaucgIFkQRofb9slNr0aplGCMB2ctHBeY4Z1eqB_B3kHmYueG8ORI9QRIWzTtIhMbptDlDogEcLlS2cm6cUEtB2ZmTjvAsCQHVRRcDFuh70KU4xme_cU4dQV0x_HMLpDHIuFbMk-Gx6-hVrNmEGPHBTrODV5WYtiEovfxtzoCMsNjk2JC3GmSdKKjcz-Qi0MwQaMsIxZJpN_xbIMR6du9lgBygtKpbF0DgLJX0QGZZwMFCjNdN6GodZBfLlAqDdyaD0YIIBT3NVl0lqyPM1UICslq8pJKxmXtC8jbgWUJjw\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:00:15Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:00:15Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-11-23T15:00:15Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;cd5e4aea-9995-466c-a565-6d8d63a68fc5&quot; &quot;device1&quot;
[2022-11-23T15:00:15Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:00:15Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-11-23T15:00:15Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;cd5e4aea-9995-466c-a565-6d8d63a68fc5&quot; &quot;gateway1&quot;
[2022-11-23T15:00:15Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:00:15Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;cd5e4aea-9995-466c-a565-6d8d63a68fc5&#x27;
[2022-11-23T15:00:15Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;cd5e4aea-9995-466c-a565-6d8d63a68fc5&quot;
[2022-11-23T15:00:15Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_2::integration_version_1::integration_ws_2

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T15:00:17Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T15:00:17Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:00:17Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:00:17Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:00:18Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T15:00:20Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T15:00:20Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:00:20Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:00:21Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc0MjEsImlhdCI6MTY2OTIxNTYyMSwianRpIjoiYjgyY2UxYmEtZjVlOS00ZTk0LTlmZWUtOTk5ZjVmN2ExN2RjIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiNjdfbUUtSERQOC1RTF92Mnd5OERndyIsInNlc3Npb25fc3RhdGUiOiJkMTYxODM4MC0zY2RlLTQ3MzktYjJlNy1hYTYwMmViMWNkYTgiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiZDE2MTgzODAtM2NkZS00NzM5LWIyZTctYWE2MDJlYjFjZGE4In0.Z-4lNRzAXbFnU2GdutCDtriRsiBLNH1yiUA6BiH8cwg
[2022-11-23T15:00:21Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T15:00:21Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:00:21Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc0MjEsImlhdCI6MTY2OTIxNTYyMSwianRpIjoiYjgyY2UxYmEtZjVlOS00ZTk0LTlmZWUtOTk5ZjVmN2ExN2RjIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiNjdfbUUtSERQOC1RTF92Mnd5OERndyIsInNlc3Npb25fc3RhdGUiOiJkMTYxODM4MC0zY2RlLTQ3MzktYjJlNy1hYTYwMmViMWNkYTgiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiZDE2MTgzODAtM2NkZS00NzM5LWIyZTctYWE2MDJlYjFjZGE4In0.Z-4lNRzAXbFnU2GdutCDtriRsiBLNH1yiUA6BiH8cwg&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T15:00:22Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:00:22Z INFO  drogue_cloud_tests::resources::apps] Create application: 9fb538a6-990a-4e18-862e-06d23b1f694f
[2022-11-23T15:00:22Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;9fb538a6-990a-4e18-862e-06d23b1f694f&quot;
[2022-11-23T15:00:22Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:00:22Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;9fb538a6-990a-4e18-862e-06d23b1f694f&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:00:22Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;9fb538a6-990a-4e18-862e-06d23b1f694f\&quot;,\n    \&quot;uid\&quot;: \&quot;829231c3-78d2-46bb-a457-9372a61030e2\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:00:22.731654Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;2ac12052-922a-44b9-9675-7457e3f4465e\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:22.774763270Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:22.781700729Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:22.781733310Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:22.746340654Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:22.746341516Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:22.746414613Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:22.746511715Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:22.746624435Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:00:22Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;9fb538a6-990a-4e18-862e-06d23b1f694f&quot;), &quot;uid&quot;: String(&quot;829231c3-78d2-46bb-a457-9372a61030e2&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:00:22.731654Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;2ac12052-922a-44b9-9675-7457e3f4465e&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:22.774763270Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:22.781700729Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:22.781733310Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:22.746340654Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:22.746341516Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:22.746414613Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:22.746511715Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:22.746624435Z&quot;)}]}}
[2022-11-23T15:00:22Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-11-23T15:00:23Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;9fb538a6-990a-4e18-862e-06d23b1f694f&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:00:23Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;9fb538a6-990a-4e18-862e-06d23b1f694f\&quot;,\n    \&quot;uid\&quot;: \&quot;829231c3-78d2-46bb-a457-9372a61030e2\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:00:22.731654Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;5b83b083-a1ae-4d99-a4ba-5cfb32dc791d\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;hPF3kaWPe5tM\&quot;,\n        \&quot;username\&quot;: \&quot;user-9fb538a6-990a-4e18-862e-06d23b1f694f\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:22.774763270Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:22.781700729Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:22.857196312Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:22.915579859Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:23.054925076Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:23.054940986Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:23.054966414Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:23.055039300Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:00:23Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;9fb538a6-990a-4e18-862e-06d23b1f694f&quot;), &quot;uid&quot;: String(&quot;829231c3-78d2-46bb-a457-9372a61030e2&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:00:22.731654Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;5b83b083-a1ae-4d99-a4ba-5cfb32dc791d&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;hPF3kaWPe5tM&quot;), &quot;username&quot;: String(&quot;user-9fb538a6-990a-4e18-862e-06d23b1f694f&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:22.774763270Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:22.781700729Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:22.857196312Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:22.915579859Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:23.054925076Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:23.054940986Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:23.054966414Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:23.055039300Z&quot;)}]}}
[2022-11-23T15:00:23Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-11-23T15:00:23Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;9fb538a6-990a-4e18-862e-06d23b1f694f&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:00:23Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;9fb538a6-990a-4e18-862e-06d23b1f694f\&quot;,\n    \&quot;uid\&quot;: \&quot;829231c3-78d2-46bb-a457-9372a61030e2\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:00:22.731654Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;5b83b083-a1ae-4d99-a4ba-5cfb32dc791d\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;hPF3kaWPe5tM\&quot;,\n        \&quot;username\&quot;: \&quot;user-9fb538a6-990a-4e18-862e-06d23b1f694f\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:22.774763270Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:22.781700729Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:22.857196312Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:22.915579859Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:23.054925076Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:23.054940986Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:23.054966414Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:23.055039300Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:00:23Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;9fb538a6-990a-4e18-862e-06d23b1f694f&quot;), &quot;uid&quot;: String(&quot;829231c3-78d2-46bb-a457-9372a61030e2&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:00:22.731654Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;5b83b083-a1ae-4d99-a4ba-5cfb32dc791d&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;hPF3kaWPe5tM&quot;), &quot;username&quot;: String(&quot;user-9fb538a6-990a-4e18-862e-06d23b1f694f&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:22.774763270Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:22.781700729Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:22.857196312Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:22.915579859Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:23.054925076Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:23.054940986Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:23.054966414Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:23.055039300Z&quot;)}]}}
[2022-11-23T15:00:23Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-11-23T15:00:23Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-11-23T15:00:23Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;9fb538a6-990a-4e18-862e-06d23b1f694f&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-11-23T15:00:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:00:24Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-11-23T15:00:24Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;9fb538a6-990a-4e18-862e-06d23b1f694f&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-11-23T15:00:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:00:24Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T15:00:24Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:00:24Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T15:00:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTU5MjIsImlhdCI6MTY2OTIxNTYyMiwiYXV0aF90aW1lIjoxNjY5MjE1NjE5LCJqdGkiOiI4YTk0Nzg0NC0zY2ExLTQ5ZjYtYmFmYS1hMTI5ZDcxZGMyYWQiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IjY3X21FLUhEUDgtUUxfdjJ3eThEZ3ciLCJzZXNzaW9uX3N0YXRlIjoiZDE2MTgzODAtM2NkZS00NzM5LWIyZTctYWE2MDJlYjFjZGE4IiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImQxNjE4MzgwLTNjZGUtNDczOS1iMmU3LWFhNjAyZWIxY2RhOCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.G46UL1BoDHLiMF5hKTEq8t5S37-g9MmL_L8x8LYnjTmwa4RuN-ew15aa7-0TYB2OORwi0mS_N_q6hkmqIxf0lgcxkOFLGcR9Ic1BZP_SMbNpN9yGiLBImDJN1UkRwK2_AQTrNkz5B9I6Y3RAdyGsHPxthre35MLAlAJaw_9q1_QSqkKPdWb2GT6S7TgvSfVuX42oYCZ1sfcrjJx49aGt-vhrfZChdGtY8W13DgrD_sjgMatPTrP_CEp-Xn8alv21OHTuM67fUpPO4jv-LyXdG8ZODn3avGkMEObgm5IbMBksiYatNEF5WahoK3tfEjUK9-Pwnnf68SA4vHmSr0GaKw\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:00:24Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:00:24Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-11-23T15:00:24Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;9fb538a6-990a-4e18-862e-06d23b1f694f&quot; &quot;device1&quot;
[2022-11-23T15:00:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:00:24Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-11-23T15:00:24Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;9fb538a6-990a-4e18-862e-06d23b1f694f&quot; &quot;gateway1&quot;
[2022-11-23T15:00:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:00:24Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;9fb538a6-990a-4e18-862e-06d23b1f694f&#x27;
[2022-11-23T15:00:24Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;9fb538a6-990a-4e18-862e-06d23b1f694f&quot;
[2022-11-23T15:00:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_2::integration_version_2::integration_ws_1

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T15:00:26Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T15:00:26Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:00:26Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:00:26Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:00:27Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T15:00:28Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T15:00:28Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:00:28Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:00:30Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc0MzAsImlhdCI6MTY2OTIxNTYzMCwianRpIjoiNWM3MDg2NzAtN2Q4NS00NjRhLWEwZDAtMTcxMDc1MzAzMDdhIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoieWRVa0hzM0s2Q0x1SFZEVnRFa3N4USIsInNlc3Npb25fc3RhdGUiOiJmYjA1NzFhNy04MzRkLTQ5MGQtYmU1MC0xMmRkODFjNTQ4ZWIiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiZmIwNTcxYTctODM0ZC00OTBkLWJlNTAtMTJkZDgxYzU0OGViIn0.WATQSkiGBRnActpOJ9MBO7vqKZcmG_jNd753mWxgh0g
[2022-11-23T15:00:30Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T15:00:30Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:00:30Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc0MzAsImlhdCI6MTY2OTIxNTYzMCwianRpIjoiNWM3MDg2NzAtN2Q4NS00NjRhLWEwZDAtMTcxMDc1MzAzMDdhIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoieWRVa0hzM0s2Q0x1SFZEVnRFa3N4USIsInNlc3Npb25fc3RhdGUiOiJmYjA1NzFhNy04MzRkLTQ5MGQtYmU1MC0xMmRkODFjNTQ4ZWIiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiZmIwNTcxYTctODM0ZC00OTBkLWJlNTAtMTJkZDgxYzU0OGViIn0.WATQSkiGBRnActpOJ9MBO7vqKZcmG_jNd753mWxgh0g&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T15:00:30Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:00:31Z INFO  drogue_cloud_tests::resources::apps] Create application: d93fa4cb-91cb-4f68-91a2-adbae2dac22b
[2022-11-23T15:00:31Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;d93fa4cb-91cb-4f68-91a2-adbae2dac22b&quot;
[2022-11-23T15:00:31Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:00:31Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;d93fa4cb-91cb-4f68-91a2-adbae2dac22b&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:00:31Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;d93fa4cb-91cb-4f68-91a2-adbae2dac22b\&quot;,\n    \&quot;uid\&quot;: \&quot;4e444f44-ec71-413e-9cd1-aa545a752b6e\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:00:31.330531Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;d80b8dce-13ac-488b-a091-bed56676b8c4\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:31.368596154Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:31.374184530Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:31.374219967Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:31.342263530Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:31.342264151Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:31.342271094Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:31.342297653Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:31.342325616Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:00:31Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;d93fa4cb-91cb-4f68-91a2-adbae2dac22b&quot;), &quot;uid&quot;: String(&quot;4e444f44-ec71-413e-9cd1-aa545a752b6e&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:00:31.330531Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;d80b8dce-13ac-488b-a091-bed56676b8c4&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:31.368596154Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:31.374184530Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:31.374219967Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:31.342263530Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:31.342264151Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:31.342271094Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:31.342297653Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:31.342325616Z&quot;)}]}}
[2022-11-23T15:00:31Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-11-23T15:00:32Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;d93fa4cb-91cb-4f68-91a2-adbae2dac22b&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:00:32Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;d93fa4cb-91cb-4f68-91a2-adbae2dac22b\&quot;,\n    \&quot;uid\&quot;: \&quot;4e444f44-ec71-413e-9cd1-aa545a752b6e\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:00:31.330531Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;18c367bc-b8a4-4896-b8c8-ffa7d93cc57b\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;U9qjc8YCawCp\&quot;,\n        \&quot;username\&quot;: \&quot;user-d93fa4cb-91cb-4f68-91a2-adbae2dac22b\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:31.368596154Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:31.374184530Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:31.432049288Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:31.437195136Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:31.593164597Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:31.593186288Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:31.593217707Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:31.593265656Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:00:32Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;d93fa4cb-91cb-4f68-91a2-adbae2dac22b&quot;), &quot;uid&quot;: String(&quot;4e444f44-ec71-413e-9cd1-aa545a752b6e&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:00:31.330531Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;18c367bc-b8a4-4896-b8c8-ffa7d93cc57b&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;U9qjc8YCawCp&quot;), &quot;username&quot;: String(&quot;user-d93fa4cb-91cb-4f68-91a2-adbae2dac22b&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:31.368596154Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:31.374184530Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:31.432049288Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:31.437195136Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:31.593164597Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:31.593186288Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:31.593217707Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:31.593265656Z&quot;)}]}}
[2022-11-23T15:00:32Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-11-23T15:00:32Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;d93fa4cb-91cb-4f68-91a2-adbae2dac22b&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:00:32Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;d93fa4cb-91cb-4f68-91a2-adbae2dac22b\&quot;,\n    \&quot;uid\&quot;: \&quot;4e444f44-ec71-413e-9cd1-aa545a752b6e\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:00:31.330531Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;18c367bc-b8a4-4896-b8c8-ffa7d93cc57b\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;U9qjc8YCawCp\&quot;,\n        \&quot;username\&quot;: \&quot;user-d93fa4cb-91cb-4f68-91a2-adbae2dac22b\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:31.368596154Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:31.374184530Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:31.432049288Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:31.437195136Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:31.593164597Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:31.593186288Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:31.593217707Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:31.593265656Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:00:32Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;d93fa4cb-91cb-4f68-91a2-adbae2dac22b&quot;), &quot;uid&quot;: String(&quot;4e444f44-ec71-413e-9cd1-aa545a752b6e&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:00:31.330531Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;18c367bc-b8a4-4896-b8c8-ffa7d93cc57b&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;U9qjc8YCawCp&quot;), &quot;username&quot;: String(&quot;user-d93fa4cb-91cb-4f68-91a2-adbae2dac22b&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:31.368596154Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:31.374184530Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:31.432049288Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:31.437195136Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:31.593164597Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:31.593186288Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:31.593217707Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:31.593265656Z&quot;)}]}}
[2022-11-23T15:00:32Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-11-23T15:00:32Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-11-23T15:00:32Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;d93fa4cb-91cb-4f68-91a2-adbae2dac22b&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-11-23T15:00:32Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:00:32Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-11-23T15:00:32Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;d93fa4cb-91cb-4f68-91a2-adbae2dac22b&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-11-23T15:00:32Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:00:32Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T15:00:32Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:00:32Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T15:00:32Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTU5MzAsImlhdCI6MTY2OTIxNTYzMCwiYXV0aF90aW1lIjoxNjY5MjE1NjI3LCJqdGkiOiJjYmViODhjZC1lM2NiLTRhNzYtYjkwOC0zOWUwN2VhMGJlMjYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InlkVWtIczNLNkNMdUhWRFZ0RWtzeFEiLCJzZXNzaW9uX3N0YXRlIjoiZmIwNTcxYTctODM0ZC00OTBkLWJlNTAtMTJkZDgxYzU0OGViIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImZiMDU3MWE3LTgzNGQtNDkwZC1iZTUwLTEyZGQ4MWM1NDhlYiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.cI3ESKCFtkbDEH2QdgRdcaUrPzehWKx3b-m8QUF9JRkn8e4BoXzFpBLdsVdWku6eqMYIr03MmpG0XmJfik0wgWIRJzgCmqs_FD80kxTn-AL5rb9MD_WXeJYW47UZ7HXiAID68Hq2LcOWU3M-66HqTo99RRMGt0TQQnfYjv4vmvB0XC76UUnnLQZikcWYJJRp_CbTbewOQi3Kd3FwYNFI6wKsqDIoxzIEuVip47kMWXPSUIkKBfQIs7rAAYtv-lXVw3FqKL9KidanSWD2I5RJN1rB30RSWMfwkjP9vFKDtx4NLGkOq02Vsy2CqWQzDtByr2hzzKZxDgKFYA7iw7dWHQ\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:00:32Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:00:32Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-11-23T15:00:32Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;d93fa4cb-91cb-4f68-91a2-adbae2dac22b&quot; &quot;device1&quot;
[2022-11-23T15:00:32Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:00:32Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-11-23T15:00:32Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;d93fa4cb-91cb-4f68-91a2-adbae2dac22b&quot; &quot;gateway1&quot;
[2022-11-23T15:00:32Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:00:32Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;d93fa4cb-91cb-4f68-91a2-adbae2dac22b&#x27;
[2022-11-23T15:00:32Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;d93fa4cb-91cb-4f68-91a2-adbae2dac22b&quot;
[2022-11-23T15:00:32Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_2::integration_version_2::integration_ws_2

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T15:00:34Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T15:00:34Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:00:34Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:00:34Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:00:35Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T15:00:37Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T15:00:37Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:00:37Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:00:38Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc0MzgsImlhdCI6MTY2OTIxNTYzOCwianRpIjoiZGEwODBjMzYtYzczNS00OGE2LWEyYWEtMTkzOTgwOTg3ZjIwIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiRE1WQnJPZ05hc3Bkek10OVo2ZV94ZyIsInNlc3Npb25fc3RhdGUiOiJmNmM5MGE5NS1jMTA4LTQyZGMtYjU4Yy1iZThkMTViOTFjYmQiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiZjZjOTBhOTUtYzEwOC00MmRjLWI1OGMtYmU4ZDE1YjkxY2JkIn0.AH5ounJh_3IMmLs-b3fEAENzMMSSEcjFtpR-v7be5YM
[2022-11-23T15:00:38Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T15:00:38Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:00:38Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc0MzgsImlhdCI6MTY2OTIxNTYzOCwianRpIjoiZGEwODBjMzYtYzczNS00OGE2LWEyYWEtMTkzOTgwOTg3ZjIwIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiRE1WQnJPZ05hc3Bkek10OVo2ZV94ZyIsInNlc3Npb25fc3RhdGUiOiJmNmM5MGE5NS1jMTA4LTQyZGMtYjU4Yy1iZThkMTViOTFjYmQiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiZjZjOTBhOTUtYzEwOC00MmRjLWI1OGMtYmU4ZDE1YjkxY2JkIn0.AH5ounJh_3IMmLs-b3fEAENzMMSSEcjFtpR-v7be5YM&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T15:00:39Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:00:39Z INFO  drogue_cloud_tests::resources::apps] Create application: 55447390-d5c2-4367-9a98-3814e21ed0b2
[2022-11-23T15:00:39Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;55447390-d5c2-4367-9a98-3814e21ed0b2&quot;
[2022-11-23T15:00:39Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:00:39Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;55447390-d5c2-4367-9a98-3814e21ed0b2&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:00:39Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;55447390-d5c2-4367-9a98-3814e21ed0b2\&quot;,\n    \&quot;uid\&quot;: \&quot;b2bf2dfa-21b6-4641-85ec-bfaa9623ef05\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:00:39.793349Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;c0abb312-5e52-407c-b592-0f0a82c6d3b4\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:39.822225341Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:39.822226323Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:39.822226674Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:39.822227084Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:39.822227726Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:39.822232645Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:39.822276688Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: HasFinalizer\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:39.822253744Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:00:39Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;55447390-d5c2-4367-9a98-3814e21ed0b2&quot;), &quot;uid&quot;: String(&quot;b2bf2dfa-21b6-4641-85ec-bfaa9623ef05&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:00:39.793349Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;c0abb312-5e52-407c-b592-0f0a82c6d3b4&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:39.822225341Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:39.822226323Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:39.822226674Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:39.822227084Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:39.822227726Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:39.822232645Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:39.822276688Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: HasFinalizer&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:39.822253744Z&quot;)}]}}
[2022-11-23T15:00:39Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-11-23T15:00:40Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;55447390-d5c2-4367-9a98-3814e21ed0b2&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:00:40Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;55447390-d5c2-4367-9a98-3814e21ed0b2\&quot;,\n    \&quot;uid\&quot;: \&quot;b2bf2dfa-21b6-4641-85ec-bfaa9623ef05\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:00:39.793349Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;aa847945-3cbc-4048-99ae-1129a3730d57\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;VyX5ZP5oue8g\&quot;,\n        \&quot;username\&quot;: \&quot;user-55447390-d5c2-4367-9a98-3814e21ed0b2\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:39.849826721Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:39.865716920Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:39.951218965Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:39.957811940Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:40.120895513Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:40.120916102Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:40.121150160Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:40.120942431Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:00:40Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;55447390-d5c2-4367-9a98-3814e21ed0b2&quot;), &quot;uid&quot;: String(&quot;b2bf2dfa-21b6-4641-85ec-bfaa9623ef05&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:00:39.793349Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;aa847945-3cbc-4048-99ae-1129a3730d57&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;VyX5ZP5oue8g&quot;), &quot;username&quot;: String(&quot;user-55447390-d5c2-4367-9a98-3814e21ed0b2&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:39.849826721Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:39.865716920Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:39.951218965Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:39.957811940Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:40.120895513Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:40.120916102Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:40.121150160Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:40.120942431Z&quot;)}]}}
[2022-11-23T15:00:40Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-11-23T15:00:40Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;55447390-d5c2-4367-9a98-3814e21ed0b2&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:00:40Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;55447390-d5c2-4367-9a98-3814e21ed0b2\&quot;,\n    \&quot;uid\&quot;: \&quot;b2bf2dfa-21b6-4641-85ec-bfaa9623ef05\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:00:39.793349Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;aa847945-3cbc-4048-99ae-1129a3730d57\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;VyX5ZP5oue8g\&quot;,\n        \&quot;username\&quot;: \&quot;user-55447390-d5c2-4367-9a98-3814e21ed0b2\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:39.849826721Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:39.865716920Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:39.951218965Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:39.957811940Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:40.120895513Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:40.120916102Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:40.121150160Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:40.120942431Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:00:40Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;55447390-d5c2-4367-9a98-3814e21ed0b2&quot;), &quot;uid&quot;: String(&quot;b2bf2dfa-21b6-4641-85ec-bfaa9623ef05&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:00:39.793349Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;aa847945-3cbc-4048-99ae-1129a3730d57&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;VyX5ZP5oue8g&quot;), &quot;username&quot;: String(&quot;user-55447390-d5c2-4367-9a98-3814e21ed0b2&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:39.849826721Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:39.865716920Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:39.951218965Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:39.957811940Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:40.120895513Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:40.120916102Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:40.121150160Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:40.120942431Z&quot;)}]}}
[2022-11-23T15:00:40Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-11-23T15:00:40Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-11-23T15:00:40Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;55447390-d5c2-4367-9a98-3814e21ed0b2&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-11-23T15:00:41Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:00:41Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-11-23T15:00:41Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;55447390-d5c2-4367-9a98-3814e21ed0b2&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-11-23T15:00:41Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:00:41Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T15:00:41Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:00:41Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T15:00:41Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTU5MzksImlhdCI6MTY2OTIxNTYzOSwiYXV0aF90aW1lIjoxNjY5MjE1NjM2LCJqdGkiOiJmM2I5Njg0Ny1lMDU0LTRhYmUtODMxNy03NzkwMjMwNzlkY2UiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IkRNVkJyT2dOYXNwZHpNdDlaNmVfeGciLCJzZXNzaW9uX3N0YXRlIjoiZjZjOTBhOTUtYzEwOC00MmRjLWI1OGMtYmU4ZDE1YjkxY2JkIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImY2YzkwYTk1LWMxMDgtNDJkYy1iNThjLWJlOGQxNWI5MWNiZCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.etAlfiIUktc7IUI_bzf4jYNFbRzEJcshMGRsq--0gerXw03cwVZN3PkBUE3qOwUG9ZtLxdsFmjpAnLn4D8MFTr8a52i7ov_3FC4RU7aXHMR5Cdw8NqqWNA0mzrFB7Co7dlAJt8LnUpibXA1oM6p8gMkSOWqCFg6YZWLLTmBuwuq4CZ0rF-9eqzUFIAgmohrYbjROqPM0enX-jQZ1HvK_HoORvvVXb2MTFsTCii8xhe2SF2lnXjM1Q2Ii2m-7qK71m4DlyqeNk3ftiLFcaBGiigM0wuZ64OdVcMo_N0DagLkAp_3t3RtRyo-2rssKCdIPDREbt3m-pn0FGBchzqrf2Q\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:00:41Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:00:41Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-11-23T15:00:41Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;55447390-d5c2-4367-9a98-3814e21ed0b2&quot; &quot;device1&quot;
[2022-11-23T15:00:41Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:00:41Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-11-23T15:00:41Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;55447390-d5c2-4367-9a98-3814e21ed0b2&quot; &quot;gateway1&quot;
[2022-11-23T15:00:41Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:00:41Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;55447390-d5c2-4367-9a98-3814e21ed0b2&#x27;
[2022-11-23T15:00:41Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;55447390-d5c2-4367-9a98-3814e21ed0b2&quot;
[2022-11-23T15:00:41Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_2::integration_version_3::integration_ws_1

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T15:00:43Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T15:00:43Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:00:43Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:00:43Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:00:44Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T15:00:45Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T15:00:45Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:00:45Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:00:47Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc0NDcsImlhdCI6MTY2OTIxNTY0NywianRpIjoiMTY0ZTA3ZWMtOGY2Yi00YjNlLWIxNDUtMTczNzQ3OThiZWZlIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiOWhOcmZqbkZFcmV5eXFYVHBHLXBuQSIsInNlc3Npb25fc3RhdGUiOiIxMDMzOGNhYi0zOTZhLTRlNDAtYjYwOS04MDExNjBiODI3NTAiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMTAzMzhjYWItMzk2YS00ZTQwLWI2MDktODAxMTYwYjgyNzUwIn0.R5uEw4Apuo6eSbbMeK4I1ZnQ9awObafKWkBnUI6QwcY
[2022-11-23T15:00:47Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T15:00:47Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:00:47Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc0NDcsImlhdCI6MTY2OTIxNTY0NywianRpIjoiMTY0ZTA3ZWMtOGY2Yi00YjNlLWIxNDUtMTczNzQ3OThiZWZlIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiOWhOcmZqbkZFcmV5eXFYVHBHLXBuQSIsInNlc3Npb25fc3RhdGUiOiIxMDMzOGNhYi0zOTZhLTRlNDAtYjYwOS04MDExNjBiODI3NTAiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMTAzMzhjYWItMzk2YS00ZTQwLWI2MDktODAxMTYwYjgyNzUwIn0.R5uEw4Apuo6eSbbMeK4I1ZnQ9awObafKWkBnUI6QwcY&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T15:00:47Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:00:48Z INFO  drogue_cloud_tests::resources::apps] Create application: c31ce0c5-37d7-4fc6-90ce-0b028c036777
[2022-11-23T15:00:48Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;c31ce0c5-37d7-4fc6-90ce-0b028c036777&quot;
[2022-11-23T15:00:48Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:00:48Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;c31ce0c5-37d7-4fc6-90ce-0b028c036777&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:00:48Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;c31ce0c5-37d7-4fc6-90ce-0b028c036777\&quot;,\n    \&quot;uid\&quot;: \&quot;6ce45c4d-7595-43bd-936c-96b859928274\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:00:48.421437Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;f7ffaac3-f7e0-40fe-8531-a2e20d4d6b9b\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:48.444055660Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:48.444056401Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:48.444056772Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:48.444057172Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:48.444057714Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:48.444061962Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:48.444104792Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: HasFinalizer\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:48.444082430Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:00:48Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;c31ce0c5-37d7-4fc6-90ce-0b028c036777&quot;), &quot;uid&quot;: String(&quot;6ce45c4d-7595-43bd-936c-96b859928274&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:00:48.421437Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;f7ffaac3-f7e0-40fe-8531-a2e20d4d6b9b&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:48.444055660Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:48.444056401Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:48.444056772Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:48.444057172Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:48.444057714Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:48.444061962Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:48.444104792Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: HasFinalizer&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:48.444082430Z&quot;)}]}}
[2022-11-23T15:00:48Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-11-23T15:00:49Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;c31ce0c5-37d7-4fc6-90ce-0b028c036777&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:00:49Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;c31ce0c5-37d7-4fc6-90ce-0b028c036777\&quot;,\n    \&quot;uid\&quot;: \&quot;6ce45c4d-7595-43bd-936c-96b859928274\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:00:48.421437Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;a8d209c1-77e5-4cf3-a871-1a2c977b549f\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;oNvxisDrwaNV\&quot;,\n        \&quot;username\&quot;: \&quot;user-c31ce0c5-37d7-4fc6-90ce-0b028c036777\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:48.479597005Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:48.487966313Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:48.544946087Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:48.552972394Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:48.677197929Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:48.677298587Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:48.677446424Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:48.677331749Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:00:49Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;c31ce0c5-37d7-4fc6-90ce-0b028c036777&quot;), &quot;uid&quot;: String(&quot;6ce45c4d-7595-43bd-936c-96b859928274&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:00:48.421437Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;a8d209c1-77e5-4cf3-a871-1a2c977b549f&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;oNvxisDrwaNV&quot;), &quot;username&quot;: String(&quot;user-c31ce0c5-37d7-4fc6-90ce-0b028c036777&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:48.479597005Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:48.487966313Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:48.544946087Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:48.552972394Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:48.677197929Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:48.677298587Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:48.677446424Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:48.677331749Z&quot;)}]}}
[2022-11-23T15:00:49Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-11-23T15:00:49Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;c31ce0c5-37d7-4fc6-90ce-0b028c036777&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:00:49Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;c31ce0c5-37d7-4fc6-90ce-0b028c036777\&quot;,\n    \&quot;uid\&quot;: \&quot;6ce45c4d-7595-43bd-936c-96b859928274\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:00:48.421437Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;a8d209c1-77e5-4cf3-a871-1a2c977b549f\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;oNvxisDrwaNV\&quot;,\n        \&quot;username\&quot;: \&quot;user-c31ce0c5-37d7-4fc6-90ce-0b028c036777\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:48.479597005Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:48.487966313Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:48.544946087Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:48.552972394Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:48.677197929Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:48.677298587Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:48.677446424Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:48.677331749Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:00:49Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;c31ce0c5-37d7-4fc6-90ce-0b028c036777&quot;), &quot;uid&quot;: String(&quot;6ce45c4d-7595-43bd-936c-96b859928274&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:00:48.421437Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;a8d209c1-77e5-4cf3-a871-1a2c977b549f&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;oNvxisDrwaNV&quot;), &quot;username&quot;: String(&quot;user-c31ce0c5-37d7-4fc6-90ce-0b028c036777&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:48.479597005Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:48.487966313Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:48.544946087Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:48.552972394Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:48.677197929Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:48.677298587Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:48.677446424Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:48.677331749Z&quot;)}]}}
[2022-11-23T15:00:49Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-11-23T15:00:49Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-11-23T15:00:49Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;c31ce0c5-37d7-4fc6-90ce-0b028c036777&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-11-23T15:00:49Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:00:49Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-11-23T15:00:49Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;c31ce0c5-37d7-4fc6-90ce-0b028c036777&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-11-23T15:00:49Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:00:49Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T15:00:49Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:00:49Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T15:00:49Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTU5NDcsImlhdCI6MTY2OTIxNTY0NywiYXV0aF90aW1lIjoxNjY5MjE1NjQ0LCJqdGkiOiJlM2ZlZTI3NS1iZmRiLTQzNjQtYTIyYS0xZDBhNGFkYTdlYjkiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IjloTnJmam5GRXJleXlxWFRwRy1wbkEiLCJzZXNzaW9uX3N0YXRlIjoiMTAzMzhjYWItMzk2YS00ZTQwLWI2MDktODAxMTYwYjgyNzUwIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjEwMzM4Y2FiLTM5NmEtNGU0MC1iNjA5LTgwMTE2MGI4Mjc1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.lpYb1uP4xOZVf8yrIsmA5UkF8JiUkr4w7fsxJILk3DMMftBkL0Mg4vgwDH35C99TaRuZondp2TsFmPH_Plyl3vCwQ2M0JjdHLypz4pSM9fEsx9UCoagOwwJfePDvWcHVTm1E8r3gxaN9JSx4gIXUpGB7n_nTk1huE66d65Oi4mtcCMG0JiYPAxkKFjApJAG548-DkC5Uvl49GgBdEhBAjC8gfC1BxV4xRznSNadU381xDzJt4GTTAQ3gkTjm1-SXbvQe-g6Rbs9p1T7UMuEReu90_jwRav36Lt05-m1p4xrHBaoo9b3cR-7Ql92C9tY8_68tMIL3jPQkiTQlHMS55A\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:00:49Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:00:49Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-11-23T15:00:49Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;c31ce0c5-37d7-4fc6-90ce-0b028c036777&quot; &quot;device1&quot;
[2022-11-23T15:00:49Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:00:49Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-11-23T15:00:49Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;c31ce0c5-37d7-4fc6-90ce-0b028c036777&quot; &quot;gateway1&quot;
[2022-11-23T15:00:49Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:00:49Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;c31ce0c5-37d7-4fc6-90ce-0b028c036777&#x27;
[2022-11-23T15:00:49Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;c31ce0c5-37d7-4fc6-90ce-0b028c036777&quot;
[2022-11-23T15:00:49Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_1::endpoint_ws_2::integration_version_3::integration_ws_2

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T15:00:52Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T15:00:52Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:00:52Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:00:52Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:00:53Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T15:00:54Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T15:00:54Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:00:54Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:00:56Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc0NTUsImlhdCI6MTY2OTIxNTY1NSwianRpIjoiMzAyMDcxYmQtZWIyMy00MjNiLThmY2ItNmJlYjk3NzQ5MDY5IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoidTZjSzVvdzZTVUYya1VXa2YwRWNVdyIsInNlc3Npb25fc3RhdGUiOiI3YTcyMWE1NC1mY2MwLTQ1ZTMtOGJhYS1lMzQyNGIxYjNhOGEiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiN2E3MjFhNTQtZmNjMC00NWUzLThiYWEtZTM0MjRiMWIzYThhIn0.MrSK_L1al4JxE6BMVa-ZYWAuUUxKPgQvNnnHz9N-mH8
[2022-11-23T15:00:56Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T15:00:56Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:00:56Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc0NTUsImlhdCI6MTY2OTIxNTY1NSwianRpIjoiMzAyMDcxYmQtZWIyMy00MjNiLThmY2ItNmJlYjk3NzQ5MDY5IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoidTZjSzVvdzZTVUYya1VXa2YwRWNVdyIsInNlc3Npb25fc3RhdGUiOiI3YTcyMWE1NC1mY2MwLTQ1ZTMtOGJhYS1lMzQyNGIxYjNhOGEiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiN2E3MjFhNTQtZmNjMC00NWUzLThiYWEtZTM0MjRiMWIzYThhIn0.MrSK_L1al4JxE6BMVa-ZYWAuUUxKPgQvNnnHz9N-mH8&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T15:00:56Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:00:56Z INFO  drogue_cloud_tests::resources::apps] Create application: df11e2b0-df91-49ea-a6c7-9e0969ccd105
[2022-11-23T15:00:56Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;df11e2b0-df91-49ea-a6c7-9e0969ccd105&quot;
[2022-11-23T15:00:56Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:00:56Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;df11e2b0-df91-49ea-a6c7-9e0969ccd105&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:00:56Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;df11e2b0-df91-49ea-a6c7-9e0969ccd105\&quot;,\n    \&quot;uid\&quot;: \&quot;f9c4829d-29f9-4126-928c-a7764c4ec7b0\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:00:56.908910Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;70e5e0c0-91bc-43dc-93aa-e2e3cee2c3c9\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:56.950076281Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:56.955964949Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:56.956009392Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:56.922864389Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:56.922896148Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:56.922917338Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:56.922957023Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:56.923036943Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:00:56Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;df11e2b0-df91-49ea-a6c7-9e0969ccd105&quot;), &quot;uid&quot;: String(&quot;f9c4829d-29f9-4126-928c-a7764c4ec7b0&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:00:56.908910Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;70e5e0c0-91bc-43dc-93aa-e2e3cee2c3c9&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:56.950076281Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:56.955964949Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:56.956009392Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:56.922864389Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:56.922896148Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:56.922917338Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:56.922957023Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:56.923036943Z&quot;)}]}}
[2022-11-23T15:00:56Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-11-23T15:00:57Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;df11e2b0-df91-49ea-a6c7-9e0969ccd105&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:00:58Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;df11e2b0-df91-49ea-a6c7-9e0969ccd105\&quot;,\n    \&quot;uid\&quot;: \&quot;f9c4829d-29f9-4126-928c-a7764c4ec7b0\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:00:56.908910Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;feb9d98f-25aa-49aa-b177-fd2eca99f1f9\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;MLqCtlsrlGST\&quot;,\n        \&quot;username\&quot;: \&quot;user-df11e2b0-df91-49ea-a6c7-9e0969ccd105\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:56.950076281Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:56.955964949Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:57.023887005Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:57.031902882Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:57.197163894Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:57.197183932Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:57.197212894Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:57.197283277Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:00:58Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;df11e2b0-df91-49ea-a6c7-9e0969ccd105&quot;), &quot;uid&quot;: String(&quot;f9c4829d-29f9-4126-928c-a7764c4ec7b0&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:00:56.908910Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;feb9d98f-25aa-49aa-b177-fd2eca99f1f9&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;MLqCtlsrlGST&quot;), &quot;username&quot;: String(&quot;user-df11e2b0-df91-49ea-a6c7-9e0969ccd105&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:56.950076281Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:56.955964949Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:57.023887005Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:57.031902882Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:57.197163894Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:57.197183932Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:57.197212894Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:57.197283277Z&quot;)}]}}
[2022-11-23T15:00:58Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-11-23T15:00:58Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;df11e2b0-df91-49ea-a6c7-9e0969ccd105&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:00:58Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;df11e2b0-df91-49ea-a6c7-9e0969ccd105\&quot;,\n    \&quot;uid\&quot;: \&quot;f9c4829d-29f9-4126-928c-a7764c4ec7b0\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:00:56.908910Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;feb9d98f-25aa-49aa-b177-fd2eca99f1f9\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;MLqCtlsrlGST\&quot;,\n        \&quot;username\&quot;: \&quot;user-df11e2b0-df91-49ea-a6c7-9e0969ccd105\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:56.950076281Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:56.955964949Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:57.023887005Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:57.031902882Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:57.197163894Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:57.197183932Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:57.197212894Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:00:57.197283277Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:00:58Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;df11e2b0-df91-49ea-a6c7-9e0969ccd105&quot;), &quot;uid&quot;: String(&quot;f9c4829d-29f9-4126-928c-a7764c4ec7b0&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:00:56.908910Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;feb9d98f-25aa-49aa-b177-fd2eca99f1f9&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;MLqCtlsrlGST&quot;), &quot;username&quot;: String(&quot;user-df11e2b0-df91-49ea-a6c7-9e0969ccd105&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:56.950076281Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:56.955964949Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:57.023887005Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:57.031902882Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:57.197163894Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:57.197183932Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:57.197212894Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:00:57.197283277Z&quot;)}]}}
[2022-11-23T15:00:58Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-11-23T15:00:58Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-11-23T15:00:58Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;df11e2b0-df91-49ea-a6c7-9e0969ccd105&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-11-23T15:00:58Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:00:58Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-11-23T15:00:58Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;df11e2b0-df91-49ea-a6c7-9e0969ccd105&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-11-23T15:00:58Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:00:58Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T15:00:58Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:00:58Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T15:00:58Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTU5NTYsImlhdCI6MTY2OTIxNTY1NiwiYXV0aF90aW1lIjoxNjY5MjE1NjUzLCJqdGkiOiI4M2Q3NDUzMC02MGFhLTQzMjAtYWI2Ny1kNzljMTM4ZDI0OGYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InU2Y0s1b3c2U1VGMmtVV2tmMEVjVXciLCJzZXNzaW9uX3N0YXRlIjoiN2E3MjFhNTQtZmNjMC00NWUzLThiYWEtZTM0MjRiMWIzYThhIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjdhNzIxYTU0LWZjYzAtNDVlMy04YmFhLWUzNDI0YjFiM2E4YSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.C5aDMfhBfu0U8aiuw56m4Wq-iWaMC0u5tYTCwtKmV8USsIQvC0PfjW2sjTZHQamrfmuQtpuKggXS6g2PGxII0RdgJ5mULhZgFK0opyD4t90ncCWQoeQeQ6olbX9Cn--_Tmw5Ze7299WEQFCaaJ2p3DDz3GmDeRja3nhvnjitQBkpVItQWkY83XPNgLO8ieU8Wb2nRQAzKjjpuvgHt6b9r4vZH4e3dd1ozmkGVl4KCgps-xSBeQJRwkBlYwKRbPoPlkq5zIXyv4_V8IuuqfunRjzohGZfL3Zrm2A0RGsmejpDPT0aR3Zni0ABWZeH-if8RkEZMHXZ01rrKdOtbGDX4g\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:00:58Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:00:58Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-11-23T15:00:58Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;df11e2b0-df91-49ea-a6c7-9e0969ccd105&quot; &quot;device1&quot;
[2022-11-23T15:00:58Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:00:58Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-11-23T15:00:58Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;df11e2b0-df91-49ea-a6c7-9e0969ccd105&quot; &quot;gateway1&quot;
[2022-11-23T15:00:58Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:00:58Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;df11e2b0-df91-49ea-a6c7-9e0969ccd105&#x27;
[2022-11-23T15:00:58Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;df11e2b0-df91-49ea-a6c7-9e0969ccd105&quot;
[2022-11-23T15:00:58Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_1::integration_version_1::integration_ws_1

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T15:01:00Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T15:01:00Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:01:00Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:01:00Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:01:01Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T15:01:02Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T15:01:03Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:01:03Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:01:04Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc0NjQsImlhdCI6MTY2OTIxNTY2NCwianRpIjoiMjhlZGFhYmMtZDkxZC00YmIxLWI2YWUtNGNhMjVhNzAxZmVhIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiMUY3N3NUdHBTRHVsNVFyQkU3SWZ3dyIsInNlc3Npb25fc3RhdGUiOiI1ZjZmNDA1YS0wNzIwLTQ0NWQtODhlMy03ODM1YzM3ODQ4YTciLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiNWY2ZjQwNWEtMDcyMC00NDVkLTg4ZTMtNzgzNWMzNzg0OGE3In0.RRJwpUGMWA3wmdSND9i7N-zc0QeA2-FdnE1E5dpYHpU
[2022-11-23T15:01:04Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T15:01:04Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:01:04Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc0NjQsImlhdCI6MTY2OTIxNTY2NCwianRpIjoiMjhlZGFhYmMtZDkxZC00YmIxLWI2YWUtNGNhMjVhNzAxZmVhIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiMUY3N3NUdHBTRHVsNVFyQkU3SWZ3dyIsInNlc3Npb25fc3RhdGUiOiI1ZjZmNDA1YS0wNzIwLTQ0NWQtODhlMy03ODM1YzM3ODQ4YTciLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiNWY2ZjQwNWEtMDcyMC00NDVkLTg4ZTMtNzgzNWMzNzg0OGE3In0.RRJwpUGMWA3wmdSND9i7N-zc0QeA2-FdnE1E5dpYHpU&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T15:01:04Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:01:05Z INFO  drogue_cloud_tests::resources::apps] Create application: f73b7a5b-a994-4911-b38d-23af0def6d2f
[2022-11-23T15:01:05Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;f73b7a5b-a994-4911-b38d-23af0def6d2f&quot;
[2022-11-23T15:01:05Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:01:05Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;f73b7a5b-a994-4911-b38d-23af0def6d2f&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:01:05Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;f73b7a5b-a994-4911-b38d-23af0def6d2f\&quot;,\n    \&quot;uid\&quot;: \&quot;c56f8f24-e587-473e-a325-68eeec13c188\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:01:05.487344Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;def77c19-bd8c-4895-bec1-18b8e3a58db9\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:05.534219706Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:05.540279253Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:05.540309720Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:05.508481712Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:05.508482333Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:05.508543358Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:05.508591277Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:05.508566481Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:01:05Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;f73b7a5b-a994-4911-b38d-23af0def6d2f&quot;), &quot;uid&quot;: String(&quot;c56f8f24-e587-473e-a325-68eeec13c188&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:01:05.487344Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;def77c19-bd8c-4895-bec1-18b8e3a58db9&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:05.534219706Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:05.540279253Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:05.540309720Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:05.508481712Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:05.508482333Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:05.508543358Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:05.508591277Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:05.508566481Z&quot;)}]}}
[2022-11-23T15:01:05Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-11-23T15:01:06Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;f73b7a5b-a994-4911-b38d-23af0def6d2f&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:01:06Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;f73b7a5b-a994-4911-b38d-23af0def6d2f\&quot;,\n    \&quot;uid\&quot;: \&quot;c56f8f24-e587-473e-a325-68eeec13c188\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:01:05.487344Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;9048b49f-0ec6-4ba3-b460-cb99c9f9dc54\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;d4MPy644EwDe\&quot;,\n        \&quot;username\&quot;: \&quot;user-f73b7a5b-a994-4911-b38d-23af0def6d2f\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:05.534219706Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:05.540279253Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:05.604387586Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:05.610470527Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:05.731399949Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:05.731415517Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:05.731555789Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:05.731499605Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:01:06Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;f73b7a5b-a994-4911-b38d-23af0def6d2f&quot;), &quot;uid&quot;: String(&quot;c56f8f24-e587-473e-a325-68eeec13c188&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:01:05.487344Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;9048b49f-0ec6-4ba3-b460-cb99c9f9dc54&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;d4MPy644EwDe&quot;), &quot;username&quot;: String(&quot;user-f73b7a5b-a994-4911-b38d-23af0def6d2f&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:05.534219706Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:05.540279253Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:05.604387586Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:05.610470527Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:05.731399949Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:05.731415517Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:05.731555789Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:05.731499605Z&quot;)}]}}
[2022-11-23T15:01:06Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-11-23T15:01:06Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;f73b7a5b-a994-4911-b38d-23af0def6d2f&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:01:06Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;f73b7a5b-a994-4911-b38d-23af0def6d2f\&quot;,\n    \&quot;uid\&quot;: \&quot;c56f8f24-e587-473e-a325-68eeec13c188\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:01:05.487344Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;9048b49f-0ec6-4ba3-b460-cb99c9f9dc54\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;d4MPy644EwDe\&quot;,\n        \&quot;username\&quot;: \&quot;user-f73b7a5b-a994-4911-b38d-23af0def6d2f\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:05.534219706Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:05.540279253Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:05.604387586Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:05.610470527Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:05.731399949Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:05.731415517Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:05.731555789Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:05.731499605Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:01:06Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;f73b7a5b-a994-4911-b38d-23af0def6d2f&quot;), &quot;uid&quot;: String(&quot;c56f8f24-e587-473e-a325-68eeec13c188&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:01:05.487344Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;9048b49f-0ec6-4ba3-b460-cb99c9f9dc54&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;d4MPy644EwDe&quot;), &quot;username&quot;: String(&quot;user-f73b7a5b-a994-4911-b38d-23af0def6d2f&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:05.534219706Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:05.540279253Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:05.604387586Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:05.610470527Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:05.731399949Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:05.731415517Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:05.731555789Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:05.731499605Z&quot;)}]}}
[2022-11-23T15:01:06Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-11-23T15:01:06Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-11-23T15:01:06Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;f73b7a5b-a994-4911-b38d-23af0def6d2f&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-11-23T15:01:06Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:01:06Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-11-23T15:01:06Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;f73b7a5b-a994-4911-b38d-23af0def6d2f&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-11-23T15:01:06Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:01:06Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T15:01:06Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:01:06Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T15:01:06Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTU5NjQsImlhdCI6MTY2OTIxNTY2NCwiYXV0aF90aW1lIjoxNjY5MjE1NjYyLCJqdGkiOiJhZTc3Yzk0Mi1iOWM2LTQ4YmEtOGM0Ni0wNjEyZmFmODA1MTYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IjFGNzdzVHRwU0R1bDVRckJFN0lmd3ciLCJzZXNzaW9uX3N0YXRlIjoiNWY2ZjQwNWEtMDcyMC00NDVkLTg4ZTMtNzgzNWMzNzg0OGE3IiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjVmNmY0MDVhLTA3MjAtNDQ1ZC04OGUzLTc4MzVjMzc4NDhhNyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.PonMpzEIWo1otKJiApmeHdvYWj3arSpc3MKDxAxATvIsFVh1SwRIYikKdYW4McDRMJJ17XtOHAD26w8DQ7PaZumdrQK111AN8cIFi_piy-bpAn1mEXuSKuu8YOnwANMt8Du21xs8RyGd3B2fgiT-El4wxj-lMiTFqimDKNwPNmdBZ0RzXuEZsiwO5QuxzyN7oBkmlPB1wC7I7IRo5vXNyc4I6snDXC7J4N6dYgvr49Apc8KaN_NLNnznBPQ5Jj8jysGjAasozHrunub8yY1iDI8X86JKED93IWyLCZh9Zq9eFVih3Gn_RfUTyAqZZAXMliO6PdWXcietJkvw6HJQ2A\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:01:06Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:01:06Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-11-23T15:01:06Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;f73b7a5b-a994-4911-b38d-23af0def6d2f&quot; &quot;device1&quot;
[2022-11-23T15:01:06Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:01:06Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-11-23T15:01:06Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;f73b7a5b-a994-4911-b38d-23af0def6d2f&quot; &quot;gateway1&quot;
[2022-11-23T15:01:06Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:01:06Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;f73b7a5b-a994-4911-b38d-23af0def6d2f&#x27;
[2022-11-23T15:01:06Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;f73b7a5b-a994-4911-b38d-23af0def6d2f&quot;
[2022-11-23T15:01:07Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_1::integration_version_1::integration_ws_2

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T15:01:09Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T15:01:09Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:01:09Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:01:09Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:01:10Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T15:01:11Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T15:01:11Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:01:11Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:01:13Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc0NzMsImlhdCI6MTY2OTIxNTY3MywianRpIjoiNWEwZDMyYmMtMjVlNy00YTU2LThhYTAtODI3MTA5YTVlZTNhIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiY0o4enpmeXF1UUZwYkQ5Z2lfcGkxZyIsInNlc3Npb25fc3RhdGUiOiJjNTQ5ZTIzNi0xNjUyLTQzOTQtYWVhZC0wOTY4YWI4MTk5MGYiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiYzU0OWUyMzYtMTY1Mi00Mzk0LWFlYWQtMDk2OGFiODE5OTBmIn0.sbNvaUkxw65VzysMquSHg73sbh0uUfW1BMcKgPqgQrQ
[2022-11-23T15:01:13Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T15:01:13Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:01:13Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc0NzMsImlhdCI6MTY2OTIxNTY3MywianRpIjoiNWEwZDMyYmMtMjVlNy00YTU2LThhYTAtODI3MTA5YTVlZTNhIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiY0o4enpmeXF1UUZwYkQ5Z2lfcGkxZyIsInNlc3Npb25fc3RhdGUiOiJjNTQ5ZTIzNi0xNjUyLTQzOTQtYWVhZC0wOTY4YWI4MTk5MGYiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiYzU0OWUyMzYtMTY1Mi00Mzk0LWFlYWQtMDk2OGFiODE5OTBmIn0.sbNvaUkxw65VzysMquSHg73sbh0uUfW1BMcKgPqgQrQ&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T15:01:13Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:01:14Z INFO  drogue_cloud_tests::resources::apps] Create application: 03ea26eb-84e7-4ab2-aca2-2532c44be146
[2022-11-23T15:01:14Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;03ea26eb-84e7-4ab2-aca2-2532c44be146&quot;
[2022-11-23T15:01:14Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:01:14Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;03ea26eb-84e7-4ab2-aca2-2532c44be146&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:01:14Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;03ea26eb-84e7-4ab2-aca2-2532c44be146\&quot;,\n    \&quot;uid\&quot;: \&quot;1ac2bdb2-9701-4a2e-9029-92c398543da2\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:01:14.169203Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;53b46799-7b13-4a0e-b0a9-1d0b1dff8f8a\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:14.220719805Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:14.225749966Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:14.225831427Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:14.192465863Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:14.192466504Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:14.192472204Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:14.192530634Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:14.192506749Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:01:14Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;03ea26eb-84e7-4ab2-aca2-2532c44be146&quot;), &quot;uid&quot;: String(&quot;1ac2bdb2-9701-4a2e-9029-92c398543da2&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:01:14.169203Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;53b46799-7b13-4a0e-b0a9-1d0b1dff8f8a&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:14.220719805Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:14.225749966Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:14.225831427Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:14.192465863Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:14.192466504Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:14.192472204Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:14.192530634Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:14.192506749Z&quot;)}]}}
[2022-11-23T15:01:14Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-11-23T15:01:15Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;03ea26eb-84e7-4ab2-aca2-2532c44be146&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:01:15Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;03ea26eb-84e7-4ab2-aca2-2532c44be146\&quot;,\n    \&quot;uid\&quot;: \&quot;1ac2bdb2-9701-4a2e-9029-92c398543da2\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:01:14.169203Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;4d4cfd89-b23c-4234-8713-8a7de429447f\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;sfNLIBWCHovW\&quot;,\n        \&quot;username\&quot;: \&quot;user-03ea26eb-84e7-4ab2-aca2-2532c44be146\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:14.220719805Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:14.225749966Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:14.302183238Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:14.309494798Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:14.424038383Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:14.424054985Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:14.424187193Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:14.424082135Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:01:15Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;03ea26eb-84e7-4ab2-aca2-2532c44be146&quot;), &quot;uid&quot;: String(&quot;1ac2bdb2-9701-4a2e-9029-92c398543da2&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:01:14.169203Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;4d4cfd89-b23c-4234-8713-8a7de429447f&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;sfNLIBWCHovW&quot;), &quot;username&quot;: String(&quot;user-03ea26eb-84e7-4ab2-aca2-2532c44be146&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:14.220719805Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:14.225749966Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:14.302183238Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:14.309494798Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:14.424038383Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:14.424054985Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:14.424187193Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:14.424082135Z&quot;)}]}}
[2022-11-23T15:01:15Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-11-23T15:01:15Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;03ea26eb-84e7-4ab2-aca2-2532c44be146&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:01:15Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;03ea26eb-84e7-4ab2-aca2-2532c44be146\&quot;,\n    \&quot;uid\&quot;: \&quot;1ac2bdb2-9701-4a2e-9029-92c398543da2\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:01:14.169203Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;4d4cfd89-b23c-4234-8713-8a7de429447f\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;sfNLIBWCHovW\&quot;,\n        \&quot;username\&quot;: \&quot;user-03ea26eb-84e7-4ab2-aca2-2532c44be146\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:14.220719805Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:14.225749966Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:14.302183238Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:14.309494798Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:14.424038383Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:14.424054985Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:14.424187193Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:14.424082135Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:01:15Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;03ea26eb-84e7-4ab2-aca2-2532c44be146&quot;), &quot;uid&quot;: String(&quot;1ac2bdb2-9701-4a2e-9029-92c398543da2&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:01:14.169203Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;4d4cfd89-b23c-4234-8713-8a7de429447f&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;sfNLIBWCHovW&quot;), &quot;username&quot;: String(&quot;user-03ea26eb-84e7-4ab2-aca2-2532c44be146&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:14.220719805Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:14.225749966Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:14.302183238Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:14.309494798Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:14.424038383Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:14.424054985Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:14.424187193Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:14.424082135Z&quot;)}]}}
[2022-11-23T15:01:15Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-11-23T15:01:15Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-11-23T15:01:15Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;03ea26eb-84e7-4ab2-aca2-2532c44be146&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-11-23T15:01:15Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:01:15Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-11-23T15:01:15Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;03ea26eb-84e7-4ab2-aca2-2532c44be146&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-11-23T15:01:15Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:01:15Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T15:01:15Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:01:15Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T15:01:15Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTU5NzMsImlhdCI6MTY2OTIxNTY3MywiYXV0aF90aW1lIjoxNjY5MjE1NjcwLCJqdGkiOiIwNjMzMWFhNS04MzVhLTQzM2QtODJhYS05MTdiOWY3OTk4MTkiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImNKOHp6ZnlxdVFGcGJEOWdpX3BpMWciLCJzZXNzaW9uX3N0YXRlIjoiYzU0OWUyMzYtMTY1Mi00Mzk0LWFlYWQtMDk2OGFiODE5OTBmIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImM1NDllMjM2LTE2NTItNDM5NC1hZWFkLTA5NjhhYjgxOTkwZiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.A9wjBdxxc62LjveAavGdYIo_3ynQUagvh04-Sf7HVJ-6IREkmLD-ufpy9qB-BhRCruInRAFtWBteB3NacrgQDZLWrdcd7XNmiCeFyvB4eWYIRCx16mvB5N-uawwneNC5Y_WVHzxfUQSEHi4vophXNBypcFtwyxDAsiwyz1scESKR-psHtNZt3KNCMWo9slGljKt1_XVDSsaxwknzN6gp-K3rMJsIX91FTUiYQqP0T9gr8ZZYB74J86GLTLRTc8qlA5u9j7qHeKniJyUNKcsLl7sBLsukOVekPEmdtOPPEuesvf2JFpSQ26W6iHOrG57ryf-0PuBMe3LjI2mBcXYEyg\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:01:15Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:01:15Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-11-23T15:01:15Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;03ea26eb-84e7-4ab2-aca2-2532c44be146&quot; &quot;device1&quot;
[2022-11-23T15:01:15Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:01:15Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-11-23T15:01:15Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;03ea26eb-84e7-4ab2-aca2-2532c44be146&quot; &quot;gateway1&quot;
[2022-11-23T15:01:15Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:01:15Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;03ea26eb-84e7-4ab2-aca2-2532c44be146&#x27;
[2022-11-23T15:01:15Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;03ea26eb-84e7-4ab2-aca2-2532c44be146&quot;
[2022-11-23T15:01:15Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_1::integration_version_2::integration_ws_1

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T15:01:17Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T15:01:17Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:01:17Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:01:17Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:01:18Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T15:01:20Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T15:01:20Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:01:20Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:01:21Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc0ODEsImlhdCI6MTY2OTIxNTY4MSwianRpIjoiYzQzMmIzYmQtNzQ1Ny00MjFlLThlMTctODA3NWJkYTg3MDM3IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoieVhRN0ozd2tacEVlcVJWT0N3UHlYQSIsInNlc3Npb25fc3RhdGUiOiI2YTgxN2QyOS0zYmJiLTQzNzQtOGU5Zi1lZjM0MjhmMjJhYWQiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiNmE4MTdkMjktM2JiYi00Mzc0LThlOWYtZWYzNDI4ZjIyYWFkIn0.-n55iVg3GUr_9dP-xfad0mr-TYl_QFjgLCPSt2p77Fs
[2022-11-23T15:01:21Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T15:01:21Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:01:21Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc0ODEsImlhdCI6MTY2OTIxNTY4MSwianRpIjoiYzQzMmIzYmQtNzQ1Ny00MjFlLThlMTctODA3NWJkYTg3MDM3IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoieVhRN0ozd2tacEVlcVJWT0N3UHlYQSIsInNlc3Npb25fc3RhdGUiOiI2YTgxN2QyOS0zYmJiLTQzNzQtOGU5Zi1lZjM0MjhmMjJhYWQiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiNmE4MTdkMjktM2JiYi00Mzc0LThlOWYtZWYzNDI4ZjIyYWFkIn0.-n55iVg3GUr_9dP-xfad0mr-TYl_QFjgLCPSt2p77Fs&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T15:01:22Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:01:22Z INFO  drogue_cloud_tests::resources::apps] Create application: 0221d854-8f14-4ed5-a4e1-c7e67aae3842
[2022-11-23T15:01:22Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;0221d854-8f14-4ed5-a4e1-c7e67aae3842&quot;
[2022-11-23T15:01:22Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:01:22Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;0221d854-8f14-4ed5-a4e1-c7e67aae3842&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:01:22Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;0221d854-8f14-4ed5-a4e1-c7e67aae3842\&quot;,\n    \&quot;uid\&quot;: \&quot;124bfd02-5cb2-4f07-944c-cef2ac5698cb\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:01:22.799895Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;a08880bc-839c-4deb-959a-78c2958dedc1\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:22.844233417Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:22.850845849Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:22.850881737Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:22.817247017Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:22.817247677Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:22.817262625Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:22.817350791Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:22.817378903Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:01:22Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;0221d854-8f14-4ed5-a4e1-c7e67aae3842&quot;), &quot;uid&quot;: String(&quot;124bfd02-5cb2-4f07-944c-cef2ac5698cb&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:01:22.799895Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;a08880bc-839c-4deb-959a-78c2958dedc1&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:22.844233417Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:22.850845849Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:22.850881737Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:22.817247017Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:22.817247677Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:22.817262625Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:22.817350791Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:22.817378903Z&quot;)}]}}
[2022-11-23T15:01:22Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-11-23T15:01:23Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;0221d854-8f14-4ed5-a4e1-c7e67aae3842&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:01:23Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;0221d854-8f14-4ed5-a4e1-c7e67aae3842\&quot;,\n    \&quot;uid\&quot;: \&quot;124bfd02-5cb2-4f07-944c-cef2ac5698cb\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:01:22.799895Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;706952e4-95d9-43f0-9ce5-3483801b5f0c\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;I0GgdhdTATos\&quot;,\n        \&quot;username\&quot;: \&quot;user-0221d854-8f14-4ed5-a4e1-c7e67aae3842\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:22.844233417Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:22.850845849Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:22.914219899Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:22.921287212Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:23.035098810Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:23.035116192Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:23.035144816Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:23.035191001Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:01:23Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;0221d854-8f14-4ed5-a4e1-c7e67aae3842&quot;), &quot;uid&quot;: String(&quot;124bfd02-5cb2-4f07-944c-cef2ac5698cb&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:01:22.799895Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;706952e4-95d9-43f0-9ce5-3483801b5f0c&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;I0GgdhdTATos&quot;), &quot;username&quot;: String(&quot;user-0221d854-8f14-4ed5-a4e1-c7e67aae3842&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:22.844233417Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:22.850845849Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:22.914219899Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:22.921287212Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:23.035098810Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:23.035116192Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:23.035144816Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:23.035191001Z&quot;)}]}}
[2022-11-23T15:01:23Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-11-23T15:01:23Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;0221d854-8f14-4ed5-a4e1-c7e67aae3842&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:01:23Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;0221d854-8f14-4ed5-a4e1-c7e67aae3842\&quot;,\n    \&quot;uid\&quot;: \&quot;124bfd02-5cb2-4f07-944c-cef2ac5698cb\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:01:22.799895Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;706952e4-95d9-43f0-9ce5-3483801b5f0c\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;I0GgdhdTATos\&quot;,\n        \&quot;username\&quot;: \&quot;user-0221d854-8f14-4ed5-a4e1-c7e67aae3842\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:22.844233417Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:22.850845849Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:22.914219899Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:22.921287212Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:23.035098810Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:23.035116192Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:23.035144816Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:23.035191001Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:01:23Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;0221d854-8f14-4ed5-a4e1-c7e67aae3842&quot;), &quot;uid&quot;: String(&quot;124bfd02-5cb2-4f07-944c-cef2ac5698cb&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:01:22.799895Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;706952e4-95d9-43f0-9ce5-3483801b5f0c&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;I0GgdhdTATos&quot;), &quot;username&quot;: String(&quot;user-0221d854-8f14-4ed5-a4e1-c7e67aae3842&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:22.844233417Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:22.850845849Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:22.914219899Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:22.921287212Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:23.035098810Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:23.035116192Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:23.035144816Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:23.035191001Z&quot;)}]}}
[2022-11-23T15:01:23Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-11-23T15:01:23Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-11-23T15:01:23Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;0221d854-8f14-4ed5-a4e1-c7e67aae3842&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-11-23T15:01:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:01:24Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-11-23T15:01:24Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;0221d854-8f14-4ed5-a4e1-c7e67aae3842&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-11-23T15:01:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:01:24Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T15:01:24Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:01:24Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T15:01:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTU5ODIsImlhdCI6MTY2OTIxNTY4MiwiYXV0aF90aW1lIjoxNjY5MjE1Njc5LCJqdGkiOiI5OTI0MzJhOC03Yjc5LTQ1MzEtYWIyYS0xZTY5MDM5YmJmZTYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InlYUTdKM3drWnBFZXFSVk9Dd1B5WEEiLCJzZXNzaW9uX3N0YXRlIjoiNmE4MTdkMjktM2JiYi00Mzc0LThlOWYtZWYzNDI4ZjIyYWFkIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjZhODE3ZDI5LTNiYmItNDM3NC04ZTlmLWVmMzQyOGYyMmFhZCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.fdjteBXLWMGzh7n9EStHkcFBY6W1g5S7AsWSQIsPBKOh-CtwWCTviMHu5aP-d3vxpaVSSTLkM7HxH48pP7oIFMdhW2CTCHQafmHHTBxvGBehnCDC1QQ0eaEY_MZ-1l7J99am7eInXRCvGyU1vxKzw5-fh3E7gv2PHQMygRzk2hTV5dvmxObzoelYVIairmx0T5VOBkFZuwYacCv3C-ldstgrfCpScmWPCqBY9X95C0CGjgTTju5ovW_d7nFa8u9T5M-YhCAQXfJdsra8BlGZqFF2l1NgH-iYoIYRX8T8CaWXoCYs4PKO6zhq9zz3Yt1TrecrB2m1aD4Zf7w_uIGmqw\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:01:24Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:01:24Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-11-23T15:01:24Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;0221d854-8f14-4ed5-a4e1-c7e67aae3842&quot; &quot;device1&quot;
[2022-11-23T15:01:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:01:24Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-11-23T15:01:24Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;0221d854-8f14-4ed5-a4e1-c7e67aae3842&quot; &quot;gateway1&quot;
[2022-11-23T15:01:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:01:24Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;0221d854-8f14-4ed5-a4e1-c7e67aae3842&#x27;
[2022-11-23T15:01:24Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;0221d854-8f14-4ed5-a4e1-c7e67aae3842&quot;
[2022-11-23T15:01:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_1::integration_version_2::integration_ws_2

**Duration**: 9s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T15:01:26Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T15:01:26Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:01:26Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:01:26Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:01:27Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T15:01:29Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T15:01:29Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:01:29Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:01:31Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc0OTEsImlhdCI6MTY2OTIxNTY5MSwianRpIjoiZmU1NjQzODgtZTljNC00NjAwLWE4Y2ItYTg3YzA4ZGVkYjNiIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiRlNiYU1MdHhZSnJDOE9aNnV4Yl9kUSIsInNlc3Npb25fc3RhdGUiOiI4OTRjY2Q0NS1jMDBlLTQxZWMtYTU3ZC1mY2Q5MTBlMWIxMWMiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiODk0Y2NkNDUtYzAwZS00MWVjLWE1N2QtZmNkOTEwZTFiMTFjIn0.P4g-rLZI7xVhZtyg1u0JHNs4qHiHQw5aiSAYjVHiAk4
[2022-11-23T15:01:31Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T15:01:31Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:01:31Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc0OTEsImlhdCI6MTY2OTIxNTY5MSwianRpIjoiZmU1NjQzODgtZTljNC00NjAwLWE4Y2ItYTg3YzA4ZGVkYjNiIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiRlNiYU1MdHhZSnJDOE9aNnV4Yl9kUSIsInNlc3Npb25fc3RhdGUiOiI4OTRjY2Q0NS1jMDBlLTQxZWMtYTU3ZC1mY2Q5MTBlMWIxMWMiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiODk0Y2NkNDUtYzAwZS00MWVjLWE1N2QtZmNkOTEwZTFiMTFjIn0.P4g-rLZI7xVhZtyg1u0JHNs4qHiHQw5aiSAYjVHiAk4&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T15:01:31Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:01:32Z INFO  drogue_cloud_tests::resources::apps] Create application: 7959c53d-a0c4-4e36-9f1e-ce05672f2c90
[2022-11-23T15:01:32Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;7959c53d-a0c4-4e36-9f1e-ce05672f2c90&quot;
[2022-11-23T15:01:32Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:01:32Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;7959c53d-a0c4-4e36-9f1e-ce05672f2c90&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:01:32Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;7959c53d-a0c4-4e36-9f1e-ce05672f2c90\&quot;,\n    \&quot;uid\&quot;: \&quot;0528afbe-729b-4f20-b733-8e79c284b019\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:01:32.647529Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;6cb45a2d-f8f7-4bd6-bc5a-9e7036352d6f\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:32.690112536Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:32.696030078Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:32.696073329Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:32.659165585Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:32.659166416Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:32.659180071Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:32.659215017Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:32.659267515Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:01:32Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;7959c53d-a0c4-4e36-9f1e-ce05672f2c90&quot;), &quot;uid&quot;: String(&quot;0528afbe-729b-4f20-b733-8e79c284b019&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:01:32.647529Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;6cb45a2d-f8f7-4bd6-bc5a-9e7036352d6f&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:32.690112536Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:32.696030078Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:32.696073329Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:32.659165585Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:32.659166416Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:32.659180071Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:32.659215017Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:32.659267515Z&quot;)}]}}
[2022-11-23T15:01:32Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-11-23T15:01:33Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;7959c53d-a0c4-4e36-9f1e-ce05672f2c90&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:01:33Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;7959c53d-a0c4-4e36-9f1e-ce05672f2c90\&quot;,\n    \&quot;uid\&quot;: \&quot;0528afbe-729b-4f20-b733-8e79c284b019\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:01:32.647529Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;a26d0b6b-4c74-4e96-897b-9bc0ce36db0e\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;HqtNFXSgoDmt\&quot;,\n        \&quot;username\&quot;: \&quot;user-7959c53d-a0c4-4e36-9f1e-ce05672f2c90\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:32.690112536Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:32.696030078Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:32.779153269Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:32.786658001Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:32.914849273Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:32.914866576Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:32.914892845Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:32.914951694Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:01:33Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;7959c53d-a0c4-4e36-9f1e-ce05672f2c90&quot;), &quot;uid&quot;: String(&quot;0528afbe-729b-4f20-b733-8e79c284b019&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:01:32.647529Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;a26d0b6b-4c74-4e96-897b-9bc0ce36db0e&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;HqtNFXSgoDmt&quot;), &quot;username&quot;: String(&quot;user-7959c53d-a0c4-4e36-9f1e-ce05672f2c90&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:32.690112536Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:32.696030078Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:32.779153269Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:32.786658001Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:32.914849273Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:32.914866576Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:32.914892845Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:32.914951694Z&quot;)}]}}
[2022-11-23T15:01:33Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-11-23T15:01:33Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;7959c53d-a0c4-4e36-9f1e-ce05672f2c90&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:01:33Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;7959c53d-a0c4-4e36-9f1e-ce05672f2c90\&quot;,\n    \&quot;uid\&quot;: \&quot;0528afbe-729b-4f20-b733-8e79c284b019\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:01:32.647529Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;a26d0b6b-4c74-4e96-897b-9bc0ce36db0e\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;HqtNFXSgoDmt\&quot;,\n        \&quot;username\&quot;: \&quot;user-7959c53d-a0c4-4e36-9f1e-ce05672f2c90\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:32.690112536Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:32.696030078Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:32.779153269Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:32.786658001Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:32.914849273Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:32.914866576Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:32.914892845Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:32.914951694Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:01:33Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;7959c53d-a0c4-4e36-9f1e-ce05672f2c90&quot;), &quot;uid&quot;: String(&quot;0528afbe-729b-4f20-b733-8e79c284b019&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:01:32.647529Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;a26d0b6b-4c74-4e96-897b-9bc0ce36db0e&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;HqtNFXSgoDmt&quot;), &quot;username&quot;: String(&quot;user-7959c53d-a0c4-4e36-9f1e-ce05672f2c90&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:32.690112536Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:32.696030078Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:32.779153269Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:32.786658001Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:32.914849273Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:32.914866576Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:32.914892845Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:32.914951694Z&quot;)}]}}
[2022-11-23T15:01:33Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-11-23T15:01:33Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-11-23T15:01:33Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;7959c53d-a0c4-4e36-9f1e-ce05672f2c90&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-11-23T15:01:33Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:01:33Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-11-23T15:01:33Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;7959c53d-a0c4-4e36-9f1e-ce05672f2c90&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-11-23T15:01:33Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:01:33Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T15:01:34Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:01:34Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T15:01:34Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTU5OTEsImlhdCI6MTY2OTIxNTY5MSwiYXV0aF90aW1lIjoxNjY5MjE1Njg4LCJqdGkiOiI3N2FmNWZjOC1jYTA4LTRiZDAtOGVmNy1kYTE4Nzk0NjQ4MjkiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IkZTYmFNTHR4WUpyQzhPWjZ1eGJfZFEiLCJzZXNzaW9uX3N0YXRlIjoiODk0Y2NkNDUtYzAwZS00MWVjLWE1N2QtZmNkOTEwZTFiMTFjIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6Ijg5NGNjZDQ1LWMwMGUtNDFlYy1hNTdkLWZjZDkxMGUxYjExYyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.d9Vq8gBIqvnvCvwPgZQDy7IxPzIcY6aRlBj0xD17xYC55g0UpCTg1-LB2Ho9vO4hby9dfk1Dn0OOq03IaIZ8W9RdgqTQzvIHm9GZSDP6lEBqV6O2cH_eaGPmgUE9qEGHzoOf5jhi7tTccm84OSpvBG71rv6OMgudODcUUch4AynMX5y1wJ6YGuWMnFwyXRCMvNKR2gzKuF4ULW-Yi1gaVtDqGi8MpQ3diG41aGXJog9K5zUb-3T9Mc-Sw3RHxTRMPy4Hsa778F_a3cQ5DnLQSg6uxTmOmGqkZdCp3Yb6Re4uOdCdNckEhHZWzJEZvf2a0sC67pt2v6UAlQUz0TkpgQ\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:01:34Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:01:34Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-11-23T15:01:34Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;7959c53d-a0c4-4e36-9f1e-ce05672f2c90&quot; &quot;device1&quot;
[2022-11-23T15:01:34Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:01:34Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-11-23T15:01:34Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;7959c53d-a0c4-4e36-9f1e-ce05672f2c90&quot; &quot;gateway1&quot;
[2022-11-23T15:01:34Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:01:34Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;7959c53d-a0c4-4e36-9f1e-ce05672f2c90&#x27;
[2022-11-23T15:01:34Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;7959c53d-a0c4-4e36-9f1e-ce05672f2c90&quot;
[2022-11-23T15:01:34Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_1::integration_version_3::integration_ws_1

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T15:01:36Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T15:01:36Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:01:36Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:01:36Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:01:37Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T15:01:38Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T15:01:38Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:01:38Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:01:40Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc1MDAsImlhdCI6MTY2OTIxNTcwMCwianRpIjoiYTM5MDVjNzItMzdmNy00NDczLWFkMzMtY2YwZmM1NmIzZmY3IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiYnhpaVBCTzM1Mkk0c255QkwzN1YtZyIsInNlc3Npb25fc3RhdGUiOiIyZGMxYTQ5NS01ZjNiLTQzYTQtYmU2ZS0yZTc0NGIyOTc3ODQiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMmRjMWE0OTUtNWYzYi00M2E0LWJlNmUtMmU3NDRiMjk3Nzg0In0.4nvfaYdwwhasE7D1P2afCr9m0wbc1pGSFa2MIfkveV8
[2022-11-23T15:01:40Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T15:01:40Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:01:40Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc1MDAsImlhdCI6MTY2OTIxNTcwMCwianRpIjoiYTM5MDVjNzItMzdmNy00NDczLWFkMzMtY2YwZmM1NmIzZmY3IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiYnhpaVBCTzM1Mkk0c255QkwzN1YtZyIsInNlc3Npb25fc3RhdGUiOiIyZGMxYTQ5NS01ZjNiLTQzYTQtYmU2ZS0yZTc0NGIyOTc3ODQiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMmRjMWE0OTUtNWYzYi00M2E0LWJlNmUtMmU3NDRiMjk3Nzg0In0.4nvfaYdwwhasE7D1P2afCr9m0wbc1pGSFa2MIfkveV8&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T15:01:40Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:01:41Z INFO  drogue_cloud_tests::resources::apps] Create application: 9fb8ee60-b7df-4745-92cb-64cefd07a885
[2022-11-23T15:01:41Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;9fb8ee60-b7df-4745-92cb-64cefd07a885&quot;
[2022-11-23T15:01:41Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:01:41Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;9fb8ee60-b7df-4745-92cb-64cefd07a885&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:01:41Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;9fb8ee60-b7df-4745-92cb-64cefd07a885\&quot;,\n    \&quot;uid\&quot;: \&quot;d176ebd7-cdf7-4b17-9270-21c64975712b\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:01:41.119539Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;f5193484-0c0d-4787-b0af-49a069d2be65\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:41.159086183Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:41.164456871Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:41.164499011Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:41.132488339Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:41.132489191Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:41.132503427Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:41.132566876Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:41.132607112Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:01:41Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;9fb8ee60-b7df-4745-92cb-64cefd07a885&quot;), &quot;uid&quot;: String(&quot;d176ebd7-cdf7-4b17-9270-21c64975712b&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:01:41.119539Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;f5193484-0c0d-4787-b0af-49a069d2be65&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:41.159086183Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:41.164456871Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:41.164499011Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:41.132488339Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:41.132489191Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:41.132503427Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:41.132566876Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:41.132607112Z&quot;)}]}}
[2022-11-23T15:01:41Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-11-23T15:01:42Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;9fb8ee60-b7df-4745-92cb-64cefd07a885&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:01:42Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;9fb8ee60-b7df-4745-92cb-64cefd07a885\&quot;,\n    \&quot;uid\&quot;: \&quot;d176ebd7-cdf7-4b17-9270-21c64975712b\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:01:41.119539Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;474300a7-c9e8-4f84-aff5-e1a0fd6b08d4\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;p3lJrm92JNAt\&quot;,\n        \&quot;username\&quot;: \&quot;user-9fb8ee60-b7df-4745-92cb-64cefd07a885\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:41.159086183Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:41.164456871Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:41.234546248Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:41.240130036Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:41.368082544Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:41.368139099Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:41.368190556Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:41.368268682Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:01:42Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;9fb8ee60-b7df-4745-92cb-64cefd07a885&quot;), &quot;uid&quot;: String(&quot;d176ebd7-cdf7-4b17-9270-21c64975712b&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:01:41.119539Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;474300a7-c9e8-4f84-aff5-e1a0fd6b08d4&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;p3lJrm92JNAt&quot;), &quot;username&quot;: String(&quot;user-9fb8ee60-b7df-4745-92cb-64cefd07a885&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:41.159086183Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:41.164456871Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:41.234546248Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:41.240130036Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:41.368082544Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:41.368139099Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:41.368190556Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:41.368268682Z&quot;)}]}}
[2022-11-23T15:01:42Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-11-23T15:01:42Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;9fb8ee60-b7df-4745-92cb-64cefd07a885&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:01:42Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;9fb8ee60-b7df-4745-92cb-64cefd07a885\&quot;,\n    \&quot;uid\&quot;: \&quot;d176ebd7-cdf7-4b17-9270-21c64975712b\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:01:41.119539Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;474300a7-c9e8-4f84-aff5-e1a0fd6b08d4\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;p3lJrm92JNAt\&quot;,\n        \&quot;username\&quot;: \&quot;user-9fb8ee60-b7df-4745-92cb-64cefd07a885\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:41.159086183Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:41.164456871Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:41.234546248Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:41.240130036Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:41.368082544Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:41.368139099Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:41.368190556Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:41.368268682Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:01:42Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;9fb8ee60-b7df-4745-92cb-64cefd07a885&quot;), &quot;uid&quot;: String(&quot;d176ebd7-cdf7-4b17-9270-21c64975712b&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:01:41.119539Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;474300a7-c9e8-4f84-aff5-e1a0fd6b08d4&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;p3lJrm92JNAt&quot;), &quot;username&quot;: String(&quot;user-9fb8ee60-b7df-4745-92cb-64cefd07a885&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:41.159086183Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:41.164456871Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:41.234546248Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:41.240130036Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:41.368082544Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:41.368139099Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:41.368190556Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:41.368268682Z&quot;)}]}}
[2022-11-23T15:01:42Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-11-23T15:01:42Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-11-23T15:01:42Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;9fb8ee60-b7df-4745-92cb-64cefd07a885&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-11-23T15:01:42Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:01:42Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-11-23T15:01:42Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;9fb8ee60-b7df-4745-92cb-64cefd07a885&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-11-23T15:01:42Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:01:42Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T15:01:42Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:01:42Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T15:01:42Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTYwMDAsImlhdCI6MTY2OTIxNTcwMCwiYXV0aF90aW1lIjoxNjY5MjE1Njk3LCJqdGkiOiI4MjgyOGRlNC0zYjAxLTRhZDAtOGEyZi1mYmE0MDA2YzczMGMiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImJ4aWlQQk8zNTJJNHNueUJMMzdWLWciLCJzZXNzaW9uX3N0YXRlIjoiMmRjMWE0OTUtNWYzYi00M2E0LWJlNmUtMmU3NDRiMjk3Nzg0IiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjJkYzFhNDk1LTVmM2ItNDNhNC1iZTZlLTJlNzQ0YjI5Nzc4NCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.KznwM-tVuB8rDQf_kT33cG4p0_jnCfO5XPkBHdrGkcBSQzPnJrUW1kyQfYet_S9zSJY94uD71kYVB-btsBnvcY5xc8rBXvgDdxhBWeGqxJTm8DrLZqrucpVEd-YqFLqZO2GdKjEbE_oSu8391R6jBaMM_himxPAq_w0sYKXQ741aQN_SPnRlO7AcJyEfjERdHiLZ4ZUT7ise09AJ6RZLScsvO0lpdQSUK0w1iqo25cYhcGCVSE6a2M5gvszNbzr_W4AJpGnHWVEtKHmxa79tAevc63-YjlKy-NsZoLvKXR4col5wYYZECgehMS7JslfRbOSz-o4Rmu-LBNklCENgEQ\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:01:42Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:01:42Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-11-23T15:01:42Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;9fb8ee60-b7df-4745-92cb-64cefd07a885&quot; &quot;device1&quot;
[2022-11-23T15:01:42Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:01:42Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-11-23T15:01:42Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;9fb8ee60-b7df-4745-92cb-64cefd07a885&quot; &quot;gateway1&quot;
[2022-11-23T15:01:42Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:01:42Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;9fb8ee60-b7df-4745-92cb-64cefd07a885&#x27;
[2022-11-23T15:01:42Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;9fb8ee60-b7df-4745-92cb-64cefd07a885&quot;
[2022-11-23T15:01:42Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_1::integration_version_3::integration_ws_2

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T15:01:44Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T15:01:44Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:01:44Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:01:44Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:01:45Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T15:01:47Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T15:01:47Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:01:47Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:01:49Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc1MDksImlhdCI6MTY2OTIxNTcwOSwianRpIjoiNDc2YzMzYjQtMGJlMi00MjNhLTk4NTAtMDA4MTBkZGExZDQ2IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiX3lCNm80TXhnYTRTTWxFdGx4dk5hQSIsInNlc3Npb25fc3RhdGUiOiJhNTZlMzNkOC0zOWNjLTQzMjItYmQzMy1hNzNhOGIwZTk5ODkiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiYTU2ZTMzZDgtMzljYy00MzIyLWJkMzMtYTczYThiMGU5OTg5In0.FjhIqMsclNAeD1smQuC80SglT-gF_QgOn-8b33znklo
[2022-11-23T15:01:49Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T15:01:49Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:01:49Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc1MDksImlhdCI6MTY2OTIxNTcwOSwianRpIjoiNDc2YzMzYjQtMGJlMi00MjNhLTk4NTAtMDA4MTBkZGExZDQ2IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiX3lCNm80TXhnYTRTTWxFdGx4dk5hQSIsInNlc3Npb25fc3RhdGUiOiJhNTZlMzNkOC0zOWNjLTQzMjItYmQzMy1hNzNhOGIwZTk5ODkiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiYTU2ZTMzZDgtMzljYy00MzIyLWJkMzMtYTczYThiMGU5OTg5In0.FjhIqMsclNAeD1smQuC80SglT-gF_QgOn-8b33znklo&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T15:01:49Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:01:50Z INFO  drogue_cloud_tests::resources::apps] Create application: 236459e1-5be5-4f39-958f-c0e8f7177096
[2022-11-23T15:01:50Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;236459e1-5be5-4f39-958f-c0e8f7177096&quot;
[2022-11-23T15:01:50Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:01:50Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;236459e1-5be5-4f39-958f-c0e8f7177096&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:01:50Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;236459e1-5be5-4f39-958f-c0e8f7177096\&quot;,\n    \&quot;uid\&quot;: \&quot;b83649ef-6c30-479e-8210-1e8998386904\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:01:50.145615Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;fc21b7d4-5a24-4be9-80de-a4ce93e92037\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:50.193821132Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:50.199370696Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:50.199408437Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:50.169899555Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:50.169900126Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:50.169969886Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:50.170044897Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:50.170019008Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:01:50Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;236459e1-5be5-4f39-958f-c0e8f7177096&quot;), &quot;uid&quot;: String(&quot;b83649ef-6c30-479e-8210-1e8998386904&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:01:50.145615Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;fc21b7d4-5a24-4be9-80de-a4ce93e92037&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:50.193821132Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:50.199370696Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:50.199408437Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:50.169899555Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:50.169900126Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:50.169969886Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:50.170044897Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:50.170019008Z&quot;)}]}}
[2022-11-23T15:01:50Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-11-23T15:01:51Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;236459e1-5be5-4f39-958f-c0e8f7177096&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:01:51Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;236459e1-5be5-4f39-958f-c0e8f7177096\&quot;,\n    \&quot;uid\&quot;: \&quot;b83649ef-6c30-479e-8210-1e8998386904\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:01:50.145615Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;4a9b6743-5521-43cd-99b9-300c8390111b\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;q2HS3mkYeOfN\&quot;,\n        \&quot;username\&quot;: \&quot;user-236459e1-5be5-4f39-958f-c0e8f7177096\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:50.193821132Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:50.199370696Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:50.271686408Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:50.278789439Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:50.410756109Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:50.410774513Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:50.410851857Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:50.410803637Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:01:51Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;236459e1-5be5-4f39-958f-c0e8f7177096&quot;), &quot;uid&quot;: String(&quot;b83649ef-6c30-479e-8210-1e8998386904&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:01:50.145615Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;4a9b6743-5521-43cd-99b9-300c8390111b&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;q2HS3mkYeOfN&quot;), &quot;username&quot;: String(&quot;user-236459e1-5be5-4f39-958f-c0e8f7177096&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:50.193821132Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:50.199370696Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:50.271686408Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:50.278789439Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:50.410756109Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:50.410774513Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:50.410851857Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:50.410803637Z&quot;)}]}}
[2022-11-23T15:01:51Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-11-23T15:01:51Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;236459e1-5be5-4f39-958f-c0e8f7177096&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:01:51Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;236459e1-5be5-4f39-958f-c0e8f7177096\&quot;,\n    \&quot;uid\&quot;: \&quot;b83649ef-6c30-479e-8210-1e8998386904\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:01:50.145615Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;4a9b6743-5521-43cd-99b9-300c8390111b\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;q2HS3mkYeOfN\&quot;,\n        \&quot;username\&quot;: \&quot;user-236459e1-5be5-4f39-958f-c0e8f7177096\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:50.193821132Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:50.199370696Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:50.271686408Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:50.278789439Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:50.410756109Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:50.410774513Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:50.410851857Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:50.410803637Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:01:51Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;236459e1-5be5-4f39-958f-c0e8f7177096&quot;), &quot;uid&quot;: String(&quot;b83649ef-6c30-479e-8210-1e8998386904&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:01:50.145615Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;4a9b6743-5521-43cd-99b9-300c8390111b&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;q2HS3mkYeOfN&quot;), &quot;username&quot;: String(&quot;user-236459e1-5be5-4f39-958f-c0e8f7177096&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:50.193821132Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:50.199370696Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:50.271686408Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:50.278789439Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:50.410756109Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:50.410774513Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:50.410851857Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:50.410803637Z&quot;)}]}}
[2022-11-23T15:01:51Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-11-23T15:01:51Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-11-23T15:01:51Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;236459e1-5be5-4f39-958f-c0e8f7177096&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-11-23T15:01:51Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:01:51Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-11-23T15:01:51Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;236459e1-5be5-4f39-958f-c0e8f7177096&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-11-23T15:01:51Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:01:51Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T15:01:51Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:01:51Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T15:01:51Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTYwMDksImlhdCI6MTY2OTIxNTcwOSwiYXV0aF90aW1lIjoxNjY5MjE1NzA2LCJqdGkiOiI0MGUwNDkxNC1iZDAxLTRmNDItYTU2NS1kY2Y4MDBmOTNlY2MiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Il95QjZvNE14Z2E0U01sRXRseHZOYUEiLCJzZXNzaW9uX3N0YXRlIjoiYTU2ZTMzZDgtMzljYy00MzIyLWJkMzMtYTczYThiMGU5OTg5IiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImE1NmUzM2Q4LTM5Y2MtNDMyMi1iZDMzLWE3M2E4YjBlOTk4OSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.VeuVYKRAAHjo9MnW3_Jslfxd6A3g7ibPJo4Nrs6S11650R-SoFiahaAiCsFgTL73yWgPgApO_-YPiniInykGeWXYoP3qED7TlTiFumiljo8-XcFkxKm1_6V-icJnEuMZnXe0Gv-9YZ7RJxvpBPE4aj0NGbwyfYJLw-C--wPi8kAE8SZL2Ccf4ebV57flEZf0yPh4q2L975yjJWoSe71_qjci9mFAsvfWm5nE2p2dRj7LktxWqXGyIJ8bXI-SrRLtju5sIdyqnID62JbrFiOK3lkhp0WFQpBwh4Jr-5mUOWE577Xe0Ja5a5vxGY0m4AxlLz-yyeFC5jrl-_-GNZL6_A\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:01:51Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:01:51Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-11-23T15:01:51Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;236459e1-5be5-4f39-958f-c0e8f7177096&quot; &quot;device1&quot;
[2022-11-23T15:01:51Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:01:51Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-11-23T15:01:51Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;236459e1-5be5-4f39-958f-c0e8f7177096&quot; &quot;gateway1&quot;
[2022-11-23T15:01:51Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:01:51Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;236459e1-5be5-4f39-958f-c0e8f7177096&#x27;
[2022-11-23T15:01:51Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;236459e1-5be5-4f39-958f-c0e8f7177096&quot;
[2022-11-23T15:01:51Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_2::integration_version_1::integration_ws_1

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T15:01:53Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T15:01:53Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:01:53Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:01:53Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:01:54Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T15:01:56Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T15:01:56Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:01:56Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:01:57Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc1MTcsImlhdCI6MTY2OTIxNTcxNywianRpIjoiYTNiZWI5ZDgtMjA4Yy00YWNiLWJkYjAtMDdjMTdhZTVhNjEzIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiOWNkVHk1N24tVnlmQzZOUW1Nb2szdyIsInNlc3Npb25fc3RhdGUiOiI3Nzc2NWZkZi1hZDRmLTRlYmItYWIxMC02MGU1YTYyMWNlZWIiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiNzc3NjVmZGYtYWQ0Zi00ZWJiLWFiMTAtNjBlNWE2MjFjZWViIn0.TL3M74vOgd2jNaGcVMY5KcXBCTLUkxULTNy-cNT_f2g
[2022-11-23T15:01:57Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T15:01:57Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:01:57Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc1MTcsImlhdCI6MTY2OTIxNTcxNywianRpIjoiYTNiZWI5ZDgtMjA4Yy00YWNiLWJkYjAtMDdjMTdhZTVhNjEzIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiOWNkVHk1N24tVnlmQzZOUW1Nb2szdyIsInNlc3Npb25fc3RhdGUiOiI3Nzc2NWZkZi1hZDRmLTRlYmItYWIxMC02MGU1YTYyMWNlZWIiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiNzc3NjVmZGYtYWQ0Zi00ZWJiLWFiMTAtNjBlNWE2MjFjZWViIn0.TL3M74vOgd2jNaGcVMY5KcXBCTLUkxULTNy-cNT_f2g&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T15:01:58Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:01:58Z INFO  drogue_cloud_tests::resources::apps] Create application: 7ded022b-6058-4e69-a7f2-33ea9f055f0b
[2022-11-23T15:01:58Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;7ded022b-6058-4e69-a7f2-33ea9f055f0b&quot;
[2022-11-23T15:01:58Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:01:58Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;7ded022b-6058-4e69-a7f2-33ea9f055f0b&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:01:58Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;7ded022b-6058-4e69-a7f2-33ea9f055f0b\&quot;,\n    \&quot;uid\&quot;: \&quot;90e95be7-a1fd-40d1-84e7-fe89c9a2958b\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:01:58.693465Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;0279b3e1-c5b0-4f6c-846d-833a23c83041\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:58.732544718Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:58.739701197Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:58.739754957Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:58.714845482Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:58.714846043Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:58.714854348Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:58.714928747Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:58.714897629Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:01:58Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;7ded022b-6058-4e69-a7f2-33ea9f055f0b&quot;), &quot;uid&quot;: String(&quot;90e95be7-a1fd-40d1-84e7-fe89c9a2958b&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:01:58.693465Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;0279b3e1-c5b0-4f6c-846d-833a23c83041&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:58.732544718Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:58.739701197Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:58.739754957Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:58.714845482Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:58.714846043Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:58.714854348Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:58.714928747Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:58.714897629Z&quot;)}]}}
[2022-11-23T15:01:58Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-11-23T15:01:59Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;7ded022b-6058-4e69-a7f2-33ea9f055f0b&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:01:59Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;7ded022b-6058-4e69-a7f2-33ea9f055f0b\&quot;,\n    \&quot;uid\&quot;: \&quot;90e95be7-a1fd-40d1-84e7-fe89c9a2958b\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:01:58.693465Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;e75f376d-eddd-43b3-9eac-ff0d6f73e80b\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;hmxyupfBwKBf\&quot;,\n        \&quot;username\&quot;: \&quot;user-7ded022b-6058-4e69-a7f2-33ea9f055f0b\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:58.732544718Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:58.739701197Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:58.833426910Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:58.838943771Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:58.973598652Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:58.973613730Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:58.973683652Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:58.973641903Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:01:59Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;7ded022b-6058-4e69-a7f2-33ea9f055f0b&quot;), &quot;uid&quot;: String(&quot;90e95be7-a1fd-40d1-84e7-fe89c9a2958b&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:01:58.693465Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;e75f376d-eddd-43b3-9eac-ff0d6f73e80b&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;hmxyupfBwKBf&quot;), &quot;username&quot;: String(&quot;user-7ded022b-6058-4e69-a7f2-33ea9f055f0b&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:58.732544718Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:58.739701197Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:58.833426910Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:58.838943771Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:58.973598652Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:58.973613730Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:58.973683652Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:58.973641903Z&quot;)}]}}
[2022-11-23T15:01:59Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-11-23T15:01:59Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;7ded022b-6058-4e69-a7f2-33ea9f055f0b&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:01:59Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;7ded022b-6058-4e69-a7f2-33ea9f055f0b\&quot;,\n    \&quot;uid\&quot;: \&quot;90e95be7-a1fd-40d1-84e7-fe89c9a2958b\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:01:58.693465Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;e75f376d-eddd-43b3-9eac-ff0d6f73e80b\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;hmxyupfBwKBf\&quot;,\n        \&quot;username\&quot;: \&quot;user-7ded022b-6058-4e69-a7f2-33ea9f055f0b\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:58.732544718Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:58.739701197Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:58.833426910Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:58.838943771Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:58.973598652Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:58.973613730Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:58.973683652Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:01:58.973641903Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:01:59Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;7ded022b-6058-4e69-a7f2-33ea9f055f0b&quot;), &quot;uid&quot;: String(&quot;90e95be7-a1fd-40d1-84e7-fe89c9a2958b&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:01:58.693465Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;e75f376d-eddd-43b3-9eac-ff0d6f73e80b&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;hmxyupfBwKBf&quot;), &quot;username&quot;: String(&quot;user-7ded022b-6058-4e69-a7f2-33ea9f055f0b&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:58.732544718Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:58.739701197Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:58.833426910Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:58.838943771Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:58.973598652Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:58.973613730Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:58.973683652Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:01:58.973641903Z&quot;)}]}}
[2022-11-23T15:01:59Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-11-23T15:01:59Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-11-23T15:01:59Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;7ded022b-6058-4e69-a7f2-33ea9f055f0b&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-11-23T15:01:59Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:01:59Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-11-23T15:01:59Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;7ded022b-6058-4e69-a7f2-33ea9f055f0b&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-11-23T15:02:00Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:02:00Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T15:02:00Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:02:00Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T15:02:00Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTYwMTgsImlhdCI6MTY2OTIxNTcxOCwiYXV0aF90aW1lIjoxNjY5MjE1NzE1LCJqdGkiOiJkMmU0YjNkMi01ZmYxLTQ5MzAtYTQ5NS01NzQ0ZDZkNzg0YWYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IjljZFR5NTduLVZ5ZkM2TlFtTW9rM3ciLCJzZXNzaW9uX3N0YXRlIjoiNzc3NjVmZGYtYWQ0Zi00ZWJiLWFiMTAtNjBlNWE2MjFjZWViIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6Ijc3NzY1ZmRmLWFkNGYtNGViYi1hYjEwLTYwZTVhNjIxY2VlYiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.C0g6QCze4WV-MLDvzCbwnmahITIz7Tuh2vXtdKDKOAZyj4kWK09SwWpp2iPrrReDrhAdyXtwLCl_WR2qXVqfYXXUSF9Lf7K3TQqgnVJ_fIHowZP635QYectR3H2JiYuJF90ntPPyL9cINZaAjpTfUbYgVSTtfDZ-VjSb2L3lbXSIsflFvU28yw3ISTIxdmLNfvyyHefBEp2dG8jx77PpkRICvnAoh7iGSASJ47GLRQwl4tn_vl105XfpqL0mabWHQRF3X9Sjv-y78XOJ_OFsUf1b7wfyblSzOYHIUtPLJ1MoGELEbW1SJjF3ly52S_bzRfUNMyGJJ6ANYMnLFuhp0w\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:02:00Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:02:00Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-11-23T15:02:00Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;7ded022b-6058-4e69-a7f2-33ea9f055f0b&quot; &quot;device1&quot;
[2022-11-23T15:02:00Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:02:00Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-11-23T15:02:00Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;7ded022b-6058-4e69-a7f2-33ea9f055f0b&quot; &quot;gateway1&quot;
[2022-11-23T15:02:00Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:02:00Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;7ded022b-6058-4e69-a7f2-33ea9f055f0b&#x27;
[2022-11-23T15:02:00Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;7ded022b-6058-4e69-a7f2-33ea9f055f0b&quot;
[2022-11-23T15:02:00Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_2::integration_version_1::integration_ws_2

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T15:02:02Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T15:02:02Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:02:02Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:02:02Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:02:03Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T15:02:04Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T15:02:04Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:02:04Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:02:06Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc1MjYsImlhdCI6MTY2OTIxNTcyNiwianRpIjoiYjczZGU4MWMtNzEwNy00ZTQzLWI3MDQtNGJmZjlhMmM5MjgxIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiei1ETHRacDN6VklZTUxnUFpBbVJyZyIsInNlc3Npb25fc3RhdGUiOiJhZTM1NDdlOC0xMDAzLTQ5MWEtOWJhNi05MGViMzExMTY5MDMiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiYWUzNTQ3ZTgtMTAwMy00OTFhLTliYTYtOTBlYjMxMTE2OTAzIn0.zVn3dwZ7qvFskyGBibWWVYb9GC8wjyCVDH7_zcPuDww
[2022-11-23T15:02:06Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T15:02:06Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:02:06Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc1MjYsImlhdCI6MTY2OTIxNTcyNiwianRpIjoiYjczZGU4MWMtNzEwNy00ZTQzLWI3MDQtNGJmZjlhMmM5MjgxIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiei1ETHRacDN6VklZTUxnUFpBbVJyZyIsInNlc3Npb25fc3RhdGUiOiJhZTM1NDdlOC0xMDAzLTQ5MWEtOWJhNi05MGViMzExMTY5MDMiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiYWUzNTQ3ZTgtMTAwMy00OTFhLTliYTYtOTBlYjMxMTE2OTAzIn0.zVn3dwZ7qvFskyGBibWWVYb9GC8wjyCVDH7_zcPuDww&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T15:02:06Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:02:07Z INFO  drogue_cloud_tests::resources::apps] Create application: c51b5f6a-0ab9-424b-b0c9-f21ad218b011
[2022-11-23T15:02:07Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;c51b5f6a-0ab9-424b-b0c9-f21ad218b011&quot;
[2022-11-23T15:02:07Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:02:07Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;c51b5f6a-0ab9-424b-b0c9-f21ad218b011&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:02:07Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;c51b5f6a-0ab9-424b-b0c9-f21ad218b011\&quot;,\n    \&quot;uid\&quot;: \&quot;0a99cc33-128b-4f67-8520-9507dc040ef5\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:02:07.424919Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;382f3549-510e-4f95-b71c-0e2d915398a0\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:07.466000246Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:07.471392375Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:07.471432421Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:07.436056090Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:07.436057042Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:07.436074124Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:07.436109691Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:07.436280520Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:02:07Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;c51b5f6a-0ab9-424b-b0c9-f21ad218b011&quot;), &quot;uid&quot;: String(&quot;0a99cc33-128b-4f67-8520-9507dc040ef5&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:02:07.424919Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;382f3549-510e-4f95-b71c-0e2d915398a0&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:07.466000246Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:07.471392375Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:07.471432421Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:07.436056090Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:07.436057042Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:07.436074124Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:07.436109691Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:07.436280520Z&quot;)}]}}
[2022-11-23T15:02:07Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-11-23T15:02:08Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;c51b5f6a-0ab9-424b-b0c9-f21ad218b011&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:02:08Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;c51b5f6a-0ab9-424b-b0c9-f21ad218b011\&quot;,\n    \&quot;uid\&quot;: \&quot;0a99cc33-128b-4f67-8520-9507dc040ef5\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:02:07.424919Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;ef75c0f4-4f89-4f49-a62c-2ae439bae18f\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;cvx9bamiC7IG\&quot;,\n        \&quot;username\&quot;: \&quot;user-c51b5f6a-0ab9-424b-b0c9-f21ad218b011\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:07.466000246Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:07.471392375Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:07.538698938Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:07.544764566Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:07.682258021Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:07.682315407Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:07.682349221Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:07.682424381Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:02:08Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;c51b5f6a-0ab9-424b-b0c9-f21ad218b011&quot;), &quot;uid&quot;: String(&quot;0a99cc33-128b-4f67-8520-9507dc040ef5&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:02:07.424919Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;ef75c0f4-4f89-4f49-a62c-2ae439bae18f&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;cvx9bamiC7IG&quot;), &quot;username&quot;: String(&quot;user-c51b5f6a-0ab9-424b-b0c9-f21ad218b011&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:07.466000246Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:07.471392375Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:07.538698938Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:07.544764566Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:07.682258021Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:07.682315407Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:07.682349221Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:07.682424381Z&quot;)}]}}
[2022-11-23T15:02:08Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-11-23T15:02:08Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;c51b5f6a-0ab9-424b-b0c9-f21ad218b011&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:02:08Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;c51b5f6a-0ab9-424b-b0c9-f21ad218b011\&quot;,\n    \&quot;uid\&quot;: \&quot;0a99cc33-128b-4f67-8520-9507dc040ef5\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:02:07.424919Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;ef75c0f4-4f89-4f49-a62c-2ae439bae18f\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;cvx9bamiC7IG\&quot;,\n        \&quot;username\&quot;: \&quot;user-c51b5f6a-0ab9-424b-b0c9-f21ad218b011\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:07.466000246Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:07.471392375Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:07.538698938Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:07.544764566Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:07.682258021Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:07.682315407Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:07.682349221Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:07.682424381Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:02:08Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;c51b5f6a-0ab9-424b-b0c9-f21ad218b011&quot;), &quot;uid&quot;: String(&quot;0a99cc33-128b-4f67-8520-9507dc040ef5&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:02:07.424919Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;ef75c0f4-4f89-4f49-a62c-2ae439bae18f&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;cvx9bamiC7IG&quot;), &quot;username&quot;: String(&quot;user-c51b5f6a-0ab9-424b-b0c9-f21ad218b011&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:07.466000246Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:07.471392375Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:07.538698938Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:07.544764566Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:07.682258021Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:07.682315407Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:07.682349221Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:07.682424381Z&quot;)}]}}
[2022-11-23T15:02:08Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-11-23T15:02:08Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-11-23T15:02:08Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;c51b5f6a-0ab9-424b-b0c9-f21ad218b011&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-11-23T15:02:08Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:02:08Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-11-23T15:02:08Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;c51b5f6a-0ab9-424b-b0c9-f21ad218b011&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-11-23T15:02:08Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:02:08Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T15:02:08Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:02:08Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T15:02:08Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTYwMjYsImlhdCI6MTY2OTIxNTcyNiwiYXV0aF90aW1lIjoxNjY5MjE1NzIzLCJqdGkiOiI4M2Q4MmM2OC1lZGJlLTRiNzctOGMwYi1lMzQxODZiMTFmZWIiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InotREx0WnAzelZJWU1MZ1BaQW1ScmciLCJzZXNzaW9uX3N0YXRlIjoiYWUzNTQ3ZTgtMTAwMy00OTFhLTliYTYtOTBlYjMxMTE2OTAzIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImFlMzU0N2U4LTEwMDMtNDkxYS05YmE2LTkwZWIzMTExNjkwMyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.IZpq8xDPy-CrtI8UtTXrFs0tvpntiweRvzN2dLzan57FszoBnZ1gJMd82pUsgcWBctuN7n2dHUmqhskAqu1QEPE_kJSQtp1y28W8nenivhHi7x4u6MwJDCslOL_K2nXG-pBId-gArrnHPuqlOgrbAyj4HC9lxRrrwIwUylln9qKLg6_q6jNHYUQci5yvFnGmIACSY9SwGDEZDoJHmVzq_dUcEkEmFGA9key4-oN_3siP6pUIBwSTFYCQBC5kYrtOV-oIttVnAR-2rwMv4CYXbs9UNcC55u6UacC5GDApeSGEu4cCRyhdAWGptOH-DDNX-RpJv2wMTZ1z2UveJrWy4Q\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:02:08Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:02:08Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-11-23T15:02:08Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;c51b5f6a-0ab9-424b-b0c9-f21ad218b011&quot; &quot;device1&quot;
[2022-11-23T15:02:08Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:02:08Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-11-23T15:02:08Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;c51b5f6a-0ab9-424b-b0c9-f21ad218b011&quot; &quot;gateway1&quot;
[2022-11-23T15:02:08Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:02:08Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;c51b5f6a-0ab9-424b-b0c9-f21ad218b011&#x27;
[2022-11-23T15:02:08Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;c51b5f6a-0ab9-424b-b0c9-f21ad218b011&quot;
[2022-11-23T15:02:08Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_2::integration_version_2::integration_ws_1

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T15:02:11Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T15:02:11Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:02:11Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:02:11Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:02:12Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T15:02:13Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T15:02:13Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:02:13Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:02:15Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc1MzUsImlhdCI6MTY2OTIxNTczNSwianRpIjoiYWM5NmMxN2MtODExNS00MjRhLWJkMTMtMDllZTUxYjk1NjI4IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiS250Z3BZekRBQ3ltajZhVVE5bkJaUSIsInNlc3Npb25fc3RhdGUiOiJhYzE0YWM2MC04ZDQ5LTQyMGYtOWU3Ny03ZDhhNjAzODg3ZjciLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiYWMxNGFjNjAtOGQ0OS00MjBmLTllNzctN2Q4YTYwMzg4N2Y3In0.JQwr3l-rxVKIKJjV5FInf5gKXferehuY6ChYdp4sSkk
[2022-11-23T15:02:15Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T15:02:15Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:02:15Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc1MzUsImlhdCI6MTY2OTIxNTczNSwianRpIjoiYWM5NmMxN2MtODExNS00MjRhLWJkMTMtMDllZTUxYjk1NjI4IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiS250Z3BZekRBQ3ltajZhVVE5bkJaUSIsInNlc3Npb25fc3RhdGUiOiJhYzE0YWM2MC04ZDQ5LTQyMGYtOWU3Ny03ZDhhNjAzODg3ZjciLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiYWMxNGFjNjAtOGQ0OS00MjBmLTllNzctN2Q4YTYwMzg4N2Y3In0.JQwr3l-rxVKIKJjV5FInf5gKXferehuY6ChYdp4sSkk&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T15:02:15Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:02:16Z INFO  drogue_cloud_tests::resources::apps] Create application: 8a1daf33-0974-465f-835c-148c0e06578b
[2022-11-23T15:02:16Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;8a1daf33-0974-465f-835c-148c0e06578b&quot;
[2022-11-23T15:02:16Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:02:16Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;8a1daf33-0974-465f-835c-148c0e06578b&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:02:16Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;8a1daf33-0974-465f-835c-148c0e06578b\&quot;,\n    \&quot;uid\&quot;: \&quot;a7479485-1f07-4bbc-9103-3593319f2858\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:02:16.112656Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;55c09ee7-9860-41d8-84bf-8f7cad47a9e3\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:16.161922302Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:16.167499478Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:16.167532409Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:16.137600335Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:16.137600996Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:16.137668834Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:16.137732523Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:16.137707296Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:02:16Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;8a1daf33-0974-465f-835c-148c0e06578b&quot;), &quot;uid&quot;: String(&quot;a7479485-1f07-4bbc-9103-3593319f2858&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:02:16.112656Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;55c09ee7-9860-41d8-84bf-8f7cad47a9e3&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:16.161922302Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:16.167499478Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:16.167532409Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:16.137600335Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:16.137600996Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:16.137668834Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:16.137732523Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:16.137707296Z&quot;)}]}}
[2022-11-23T15:02:16Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-11-23T15:02:17Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;8a1daf33-0974-465f-835c-148c0e06578b&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:02:17Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;8a1daf33-0974-465f-835c-148c0e06578b\&quot;,\n    \&quot;uid\&quot;: \&quot;a7479485-1f07-4bbc-9103-3593319f2858\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:02:16.112656Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;ad2d563b-34ec-410f-9f21-e224a756ce91\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;uwQqJd1Mthud\&quot;,\n        \&quot;username\&quot;: \&quot;user-8a1daf33-0974-465f-835c-148c0e06578b\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:16.161922302Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:16.167499478Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:16.256682783Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:16.263835116Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:16.384913668Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:16.384930028Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:16.385031839Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:16.384956969Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:02:17Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;8a1daf33-0974-465f-835c-148c0e06578b&quot;), &quot;uid&quot;: String(&quot;a7479485-1f07-4bbc-9103-3593319f2858&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:02:16.112656Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;ad2d563b-34ec-410f-9f21-e224a756ce91&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;uwQqJd1Mthud&quot;), &quot;username&quot;: String(&quot;user-8a1daf33-0974-465f-835c-148c0e06578b&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:16.161922302Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:16.167499478Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:16.256682783Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:16.263835116Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:16.384913668Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:16.384930028Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:16.385031839Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:16.384956969Z&quot;)}]}}
[2022-11-23T15:02:17Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-11-23T15:02:17Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;8a1daf33-0974-465f-835c-148c0e06578b&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:02:17Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;8a1daf33-0974-465f-835c-148c0e06578b\&quot;,\n    \&quot;uid\&quot;: \&quot;a7479485-1f07-4bbc-9103-3593319f2858\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:02:16.112656Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;ad2d563b-34ec-410f-9f21-e224a756ce91\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;uwQqJd1Mthud\&quot;,\n        \&quot;username\&quot;: \&quot;user-8a1daf33-0974-465f-835c-148c0e06578b\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:16.161922302Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:16.167499478Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:16.256682783Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:16.263835116Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:16.384913668Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:16.384930028Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:16.385031839Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:16.384956969Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:02:17Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;8a1daf33-0974-465f-835c-148c0e06578b&quot;), &quot;uid&quot;: String(&quot;a7479485-1f07-4bbc-9103-3593319f2858&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:02:16.112656Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;ad2d563b-34ec-410f-9f21-e224a756ce91&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;uwQqJd1Mthud&quot;), &quot;username&quot;: String(&quot;user-8a1daf33-0974-465f-835c-148c0e06578b&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:16.161922302Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:16.167499478Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:16.256682783Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:16.263835116Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:16.384913668Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:16.384930028Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:16.385031839Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:16.384956969Z&quot;)}]}}
[2022-11-23T15:02:17Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-11-23T15:02:17Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-11-23T15:02:17Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;8a1daf33-0974-465f-835c-148c0e06578b&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-11-23T15:02:17Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:02:17Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-11-23T15:02:17Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;8a1daf33-0974-465f-835c-148c0e06578b&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-11-23T15:02:17Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:02:17Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T15:02:17Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:02:17Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T15:02:17Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTYwMzUsImlhdCI6MTY2OTIxNTczNSwiYXV0aF90aW1lIjoxNjY5MjE1NzMyLCJqdGkiOiIwNWEyNzI1ZC1lODFhLTQxZmUtODQ3MS0wOWVhYWU0NTAwNzgiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IktudGdwWXpEQUN5bWo2YVVROW5CWlEiLCJzZXNzaW9uX3N0YXRlIjoiYWMxNGFjNjAtOGQ0OS00MjBmLTllNzctN2Q4YTYwMzg4N2Y3IiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImFjMTRhYzYwLThkNDktNDIwZi05ZTc3LTdkOGE2MDM4ODdmNyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.g-ezB22jQw6qIeD097EVgKhvSgeIjC498ZgyEJuez2lEv3u-nTYXil_OtxCoPtsGxlUQpyFjSeyS9YrpgWo7GsyQDHkVSIAjxvKshGupy1dJE33GWHrjDzeRFna_-GfIRnrZkXewnpk8WUBgju9N3TToi2VXLNmkX9BS3nY0cIUtSi716U6LQGg7Rl9HJQ5WOFE00iJKUwgnzQRQL3fDiyAVwqpdv_xIgAxXrlwf65MQABVBLDgbSG0Z2rzL47S1RHyc0ihH6yN3fW3dneS6YdBJvmexo1m0lkmbZ7dxwfXFNUVwhfFIi-QV3lNp8qNZS3w93IDxJq-DURjooGjNKg\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:02:17Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:02:17Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-11-23T15:02:17Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;8a1daf33-0974-465f-835c-148c0e06578b&quot; &quot;device1&quot;
[2022-11-23T15:02:17Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:02:17Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-11-23T15:02:17Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;8a1daf33-0974-465f-835c-148c0e06578b&quot; &quot;gateway1&quot;
[2022-11-23T15:02:17Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:02:17Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;8a1daf33-0974-465f-835c-148c0e06578b&#x27;
[2022-11-23T15:02:17Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;8a1daf33-0974-465f-835c-148c0e06578b&quot;
[2022-11-23T15:02:17Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_2::integration_version_2::integration_ws_2

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T15:02:19Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T15:02:19Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:02:19Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:02:19Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:02:20Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T15:02:22Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T15:02:22Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:02:22Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:02:24Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc1NDQsImlhdCI6MTY2OTIxNTc0NCwianRpIjoiZGUyYTM0NGEtYzdiOC00N2NjLTgxNTctYzNlM2FjZGZhNDU4IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiLThyWG4za3FkcGpKS1BaREJnMjNwZyIsInNlc3Npb25fc3RhdGUiOiJiNTk4NTMyYi0yNzdjLTRkNGEtYmE5Ny05NzYyNGRhZmEyMTkiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiYjU5ODUzMmItMjc3Yy00ZDRhLWJhOTctOTc2MjRkYWZhMjE5In0.8lBC3MxTHYCaQO6kXMiWxsiEU-o2WD-RlmY6j6XHK7U
[2022-11-23T15:02:24Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T15:02:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:02:24Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc1NDQsImlhdCI6MTY2OTIxNTc0NCwianRpIjoiZGUyYTM0NGEtYzdiOC00N2NjLTgxNTctYzNlM2FjZGZhNDU4IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiLThyWG4za3FkcGpKS1BaREJnMjNwZyIsInNlc3Npb25fc3RhdGUiOiJiNTk4NTMyYi0yNzdjLTRkNGEtYmE5Ny05NzYyNGRhZmEyMTkiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiYjU5ODUzMmItMjc3Yy00ZDRhLWJhOTctOTc2MjRkYWZhMjE5In0.8lBC3MxTHYCaQO6kXMiWxsiEU-o2WD-RlmY6j6XHK7U&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T15:02:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:02:24Z INFO  drogue_cloud_tests::resources::apps] Create application: f891ac29-5a7c-4630-a6ec-25875574caa5
[2022-11-23T15:02:24Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;f891ac29-5a7c-4630-a6ec-25875574caa5&quot;
[2022-11-23T15:02:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:02:24Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;f891ac29-5a7c-4630-a6ec-25875574caa5&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:02:25Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;f891ac29-5a7c-4630-a6ec-25875574caa5\&quot;,\n    \&quot;uid\&quot;: \&quot;8ecb07b9-1680-4683-8f50-4adf6ca662d0\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:02:24.975509Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;72f9b4bf-9458-42fd-b56a-51e1b4508702\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:25.016611527Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:25.021515412Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:25.021581456Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:24.988449435Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:24.988450096Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:24.988589526Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:24.988657394Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:24.988747512Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:02:25Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;f891ac29-5a7c-4630-a6ec-25875574caa5&quot;), &quot;uid&quot;: String(&quot;8ecb07b9-1680-4683-8f50-4adf6ca662d0&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:02:24.975509Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;72f9b4bf-9458-42fd-b56a-51e1b4508702&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:25.016611527Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:25.021515412Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:25.021581456Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:24.988449435Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:24.988450096Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:24.988589526Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:24.988657394Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:24.988747512Z&quot;)}]}}
[2022-11-23T15:02:25Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-11-23T15:02:26Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;f891ac29-5a7c-4630-a6ec-25875574caa5&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:02:26Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;f891ac29-5a7c-4630-a6ec-25875574caa5\&quot;,\n    \&quot;uid\&quot;: \&quot;8ecb07b9-1680-4683-8f50-4adf6ca662d0\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:02:24.975509Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;c8d12198-d317-4ee4-8e68-7f6c7fe65224\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;iPSbwB4kaSvg\&quot;,\n        \&quot;username\&quot;: \&quot;user-f891ac29-5a7c-4630-a6ec-25875574caa5\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:25.016611527Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:25.021515412Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:25.113647967Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:25.120532649Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:25.257496905Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:25.257514669Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:25.257581543Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:25.257640153Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:02:26Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;f891ac29-5a7c-4630-a6ec-25875574caa5&quot;), &quot;uid&quot;: String(&quot;8ecb07b9-1680-4683-8f50-4adf6ca662d0&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:02:24.975509Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;c8d12198-d317-4ee4-8e68-7f6c7fe65224&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;iPSbwB4kaSvg&quot;), &quot;username&quot;: String(&quot;user-f891ac29-5a7c-4630-a6ec-25875574caa5&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:25.016611527Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:25.021515412Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:25.113647967Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:25.120532649Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:25.257496905Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:25.257514669Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:25.257581543Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:25.257640153Z&quot;)}]}}
[2022-11-23T15:02:26Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-11-23T15:02:26Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;f891ac29-5a7c-4630-a6ec-25875574caa5&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:02:26Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;f891ac29-5a7c-4630-a6ec-25875574caa5\&quot;,\n    \&quot;uid\&quot;: \&quot;8ecb07b9-1680-4683-8f50-4adf6ca662d0\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:02:24.975509Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;c8d12198-d317-4ee4-8e68-7f6c7fe65224\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;iPSbwB4kaSvg\&quot;,\n        \&quot;username\&quot;: \&quot;user-f891ac29-5a7c-4630-a6ec-25875574caa5\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:25.016611527Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:25.021515412Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:25.113647967Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:25.120532649Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:25.257496905Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:25.257514669Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:25.257581543Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:25.257640153Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:02:26Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;f891ac29-5a7c-4630-a6ec-25875574caa5&quot;), &quot;uid&quot;: String(&quot;8ecb07b9-1680-4683-8f50-4adf6ca662d0&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:02:24.975509Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;c8d12198-d317-4ee4-8e68-7f6c7fe65224&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;iPSbwB4kaSvg&quot;), &quot;username&quot;: String(&quot;user-f891ac29-5a7c-4630-a6ec-25875574caa5&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:25.016611527Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:25.021515412Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:25.113647967Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:25.120532649Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:25.257496905Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:25.257514669Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:25.257581543Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:25.257640153Z&quot;)}]}}
[2022-11-23T15:02:26Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-11-23T15:02:26Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-11-23T15:02:26Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;f891ac29-5a7c-4630-a6ec-25875574caa5&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-11-23T15:02:26Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:02:26Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-11-23T15:02:26Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;f891ac29-5a7c-4630-a6ec-25875574caa5&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-11-23T15:02:26Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:02:26Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T15:02:26Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:02:26Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T15:02:26Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTYwNDQsImlhdCI6MTY2OTIxNTc0NCwiYXV0aF90aW1lIjoxNjY5MjE1NzQxLCJqdGkiOiJkOGFlMjVmNC1lYWJkLTQwOGYtYTE3Ny0wMTMwYjczMGMxZWMiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Ii04clhuM2txZHBqSktQWkRCZzIzcGciLCJzZXNzaW9uX3N0YXRlIjoiYjU5ODUzMmItMjc3Yy00ZDRhLWJhOTctOTc2MjRkYWZhMjE5IiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImI1OTg1MzJiLTI3N2MtNGQ0YS1iYTk3LTk3NjI0ZGFmYTIxOSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.E4i3FQjxEVftbv3lZ66DOR11l3K1R2Y4khFJ6XZZwAHncDUHqJGdryzhri_4W5XnBSi4hEZ3QxACD9vQTUfPpOWLklGAZxqOEkNXqK9LRwsONKQhADh3aA9DBe9eqgWQVo4xXwWkHplJ82adGRbKWuvKbLbXTs4cL74kNxe-RCZZljqsAWQ6zmyWf1sJDNxh8myQAH6whfAUGKew6HRYNhJGw3Nv0nu9PYiIJEES85vyAfDhLXeEZcroxjcil7TUL5KxPyL9FEfz0Wi-kczFrUjV8WsL7V_QirCNuiQrcDylSzW1g98R-Sw2U1sLowVs7I5vUMxDHqu0xGhcUWRA2w\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:02:26Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:02:26Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-11-23T15:02:26Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;f891ac29-5a7c-4630-a6ec-25875574caa5&quot; &quot;device1&quot;
[2022-11-23T15:02:26Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:02:26Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-11-23T15:02:26Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;f891ac29-5a7c-4630-a6ec-25875574caa5&quot; &quot;gateway1&quot;
[2022-11-23T15:02:26Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:02:26Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;f891ac29-5a7c-4630-a6ec-25875574caa5&#x27;
[2022-11-23T15:02:26Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;f891ac29-5a7c-4630-a6ec-25875574caa5&quot;
[2022-11-23T15:02:26Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_2::integration_version_3::integration_ws_1

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T15:02:28Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T15:02:28Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:02:28Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:02:28Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:02:29Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T15:02:31Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T15:02:31Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:02:31Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:02:32Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc1NTIsImlhdCI6MTY2OTIxNTc1MiwianRpIjoiMmU3ZDNmOWItMGIwZi00OWI5LWIxOTYtN2U0NGRiZmZjMjlkIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiNFpwNDRkUW9Zakx5eDhkNHpuR2hsZyIsInNlc3Npb25fc3RhdGUiOiIyODRhODhlZC01MmI5LTQ1MWMtOGFlYS1jMzBiMTU2YjBiMWEiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMjg0YTg4ZWQtNTJiOS00NTFjLThhZWEtYzMwYjE1NmIwYjFhIn0.3jfNgOw78MrRBnE1AhZA_D0gHUr18coo8Ip3AZJq7Zc
[2022-11-23T15:02:32Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T15:02:32Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:02:32Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc1NTIsImlhdCI6MTY2OTIxNTc1MiwianRpIjoiMmU3ZDNmOWItMGIwZi00OWI5LWIxOTYtN2U0NGRiZmZjMjlkIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiNFpwNDRkUW9Zakx5eDhkNHpuR2hsZyIsInNlc3Npb25fc3RhdGUiOiIyODRhODhlZC01MmI5LTQ1MWMtOGFlYS1jMzBiMTU2YjBiMWEiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMjg0YTg4ZWQtNTJiOS00NTFjLThhZWEtYzMwYjE1NmIwYjFhIn0.3jfNgOw78MrRBnE1AhZA_D0gHUr18coo8Ip3AZJq7Zc&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T15:02:32Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:02:33Z INFO  drogue_cloud_tests::resources::apps] Create application: 46fdce52-c0f6-4b90-985b-a6ba5d0dfabb
[2022-11-23T15:02:33Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;46fdce52-c0f6-4b90-985b-a6ba5d0dfabb&quot;
[2022-11-23T15:02:33Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:02:33Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;46fdce52-c0f6-4b90-985b-a6ba5d0dfabb&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:02:33Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;46fdce52-c0f6-4b90-985b-a6ba5d0dfabb\&quot;,\n    \&quot;uid\&quot;: \&quot;52292154-7069-4dcd-9ccf-3dc142c2e375\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:02:33.558927Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;9ef32352-f1b0-4494-bfb8-3a29ad18a3d1\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:33.599374824Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:33.606761284Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:33.606793905Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:33.572252085Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:33.572252887Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:33.572262335Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:33.572295066Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:33.572330582Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:02:33Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;46fdce52-c0f6-4b90-985b-a6ba5d0dfabb&quot;), &quot;uid&quot;: String(&quot;52292154-7069-4dcd-9ccf-3dc142c2e375&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:02:33.558927Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;9ef32352-f1b0-4494-bfb8-3a29ad18a3d1&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:33.599374824Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:33.606761284Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:33.606793905Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:33.572252085Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:33.572252887Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:33.572262335Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:33.572295066Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:33.572330582Z&quot;)}]}}
[2022-11-23T15:02:33Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-11-23T15:02:34Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;46fdce52-c0f6-4b90-985b-a6ba5d0dfabb&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:02:34Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;46fdce52-c0f6-4b90-985b-a6ba5d0dfabb\&quot;,\n    \&quot;uid\&quot;: \&quot;52292154-7069-4dcd-9ccf-3dc142c2e375\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:02:33.558927Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;cecb340b-a8e4-43f7-956f-4530fe5e2133\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;SxwSO9Z1Nttl\&quot;,\n        \&quot;username\&quot;: \&quot;user-46fdce52-c0f6-4b90-985b-a6ba5d0dfabb\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:33.599374824Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:33.606761284Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:33.678522303Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:33.684601306Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:33.860228786Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:33.860248703Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:33.860278219Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:33.860320969Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:02:34Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;46fdce52-c0f6-4b90-985b-a6ba5d0dfabb&quot;), &quot;uid&quot;: String(&quot;52292154-7069-4dcd-9ccf-3dc142c2e375&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:02:33.558927Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;cecb340b-a8e4-43f7-956f-4530fe5e2133&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;SxwSO9Z1Nttl&quot;), &quot;username&quot;: String(&quot;user-46fdce52-c0f6-4b90-985b-a6ba5d0dfabb&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:33.599374824Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:33.606761284Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:33.678522303Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:33.684601306Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:33.860228786Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:33.860248703Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:33.860278219Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:33.860320969Z&quot;)}]}}
[2022-11-23T15:02:34Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-11-23T15:02:34Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;46fdce52-c0f6-4b90-985b-a6ba5d0dfabb&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:02:34Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;46fdce52-c0f6-4b90-985b-a6ba5d0dfabb\&quot;,\n    \&quot;uid\&quot;: \&quot;52292154-7069-4dcd-9ccf-3dc142c2e375\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:02:33.558927Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;cecb340b-a8e4-43f7-956f-4530fe5e2133\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;SxwSO9Z1Nttl\&quot;,\n        \&quot;username\&quot;: \&quot;user-46fdce52-c0f6-4b90-985b-a6ba5d0dfabb\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:33.599374824Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:33.606761284Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:33.678522303Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:33.684601306Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:33.860228786Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:33.860248703Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:33.860278219Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:33.860320969Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:02:34Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;46fdce52-c0f6-4b90-985b-a6ba5d0dfabb&quot;), &quot;uid&quot;: String(&quot;52292154-7069-4dcd-9ccf-3dc142c2e375&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:02:33.558927Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;cecb340b-a8e4-43f7-956f-4530fe5e2133&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;SxwSO9Z1Nttl&quot;), &quot;username&quot;: String(&quot;user-46fdce52-c0f6-4b90-985b-a6ba5d0dfabb&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:33.599374824Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:33.606761284Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:33.678522303Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:33.684601306Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:33.860228786Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:33.860248703Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:33.860278219Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:33.860320969Z&quot;)}]}}
[2022-11-23T15:02:34Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-11-23T15:02:34Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-11-23T15:02:34Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;46fdce52-c0f6-4b90-985b-a6ba5d0dfabb&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-11-23T15:02:34Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:02:34Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-11-23T15:02:34Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;46fdce52-c0f6-4b90-985b-a6ba5d0dfabb&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-11-23T15:02:34Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:02:34Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T15:02:34Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:02:34Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T15:02:34Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTYwNTIsImlhdCI6MTY2OTIxNTc1MiwiYXV0aF90aW1lIjoxNjY5MjE1NzUwLCJqdGkiOiI3ZmIyOWE1My1hNDNhLTRjYTgtYWY0NC00NGI5NWI3NTJiY2QiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IjRacDQ0ZFFvWWpMeXg4ZDR6bkdobGciLCJzZXNzaW9uX3N0YXRlIjoiMjg0YTg4ZWQtNTJiOS00NTFjLThhZWEtYzMwYjE1NmIwYjFhIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjI4NGE4OGVkLTUyYjktNDUxYy04YWVhLWMzMGIxNTZiMGIxYSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.UK6R2Pdf9_aoPqCaRHXsHWUiBCiJLmZ1ZBIBuSjcXywQAWo6FMdrGhaCqCFHHMq7fQB0dwvoch_sSvzYU6b736aPkzg6x9C7YFcyeHDQwvwvl7C51xJBQeAk9S_tBqRhnmC1r9YieIlOTyWKj5Gggu5eG3T5pn9VWgI36toWhXO2iilz3XV6InAZK-695sFXEV_qKVdta49SkbVlO9W-nuJKZlvXnLkBC5exlhoP-6w2Zn77ik2T1urNAPSnB0O-uZe1-ikitUBmkmhAksovKTRIufYEXxP4XubHVp3LQ7d_Po0zSsi_iVdYBxgfKtFiugsn74V1lSXYvArIlHpoZg\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:02:34Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:02:34Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-11-23T15:02:34Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;46fdce52-c0f6-4b90-985b-a6ba5d0dfabb&quot; &quot;device1&quot;
[2022-11-23T15:02:34Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:02:34Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-11-23T15:02:34Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;46fdce52-c0f6-4b90-985b-a6ba5d0dfabb&quot; &quot;gateway1&quot;
[2022-11-23T15:02:35Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:02:35Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;46fdce52-c0f6-4b90-985b-a6ba5d0dfabb&#x27;
[2022-11-23T15:02:35Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;46fdce52-c0f6-4b90-985b-a6ba5d0dfabb&quot;
[2022-11-23T15:02:35Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_2::endpoint_ws_2::integration_version_3::integration_ws_2

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T15:02:37Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T15:02:37Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:02:37Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:02:37Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:02:38Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T15:02:39Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T15:02:39Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:02:39Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:02:41Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc1NjEsImlhdCI6MTY2OTIxNTc2MSwianRpIjoiYTZjNmQ0MjUtZWYyYi00MDAwLThkNjAtMWM5YzE2ZTYzZjMxIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiZzBmOGh4dUJod2lCTnlxbURVVUhhdyIsInNlc3Npb25fc3RhdGUiOiJmY2VmMmM3MC00OWFmLTQxOGMtYjg0Zi01MTdiZDdjMjZmNzIiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiZmNlZjJjNzAtNDlhZi00MThjLWI4NGYtNTE3YmQ3YzI2ZjcyIn0.NTllzGOZls5jbUB4YXaw4L3_uxWhvc7SG5qKA0e6kOM
[2022-11-23T15:02:41Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T15:02:41Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:02:41Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc1NjEsImlhdCI6MTY2OTIxNTc2MSwianRpIjoiYTZjNmQ0MjUtZWYyYi00MDAwLThkNjAtMWM5YzE2ZTYzZjMxIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiZzBmOGh4dUJod2lCTnlxbURVVUhhdyIsInNlc3Npb25fc3RhdGUiOiJmY2VmMmM3MC00OWFmLTQxOGMtYjg0Zi01MTdiZDdjMjZmNzIiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiZmNlZjJjNzAtNDlhZi00MThjLWI4NGYtNTE3YmQ3YzI2ZjcyIn0.NTllzGOZls5jbUB4YXaw4L3_uxWhvc7SG5qKA0e6kOM&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T15:02:41Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:02:42Z INFO  drogue_cloud_tests::resources::apps] Create application: 58719f97-c8d6-492f-a0d7-d33483892308
[2022-11-23T15:02:42Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;58719f97-c8d6-492f-a0d7-d33483892308&quot;
[2022-11-23T15:02:42Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:02:42Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;58719f97-c8d6-492f-a0d7-d33483892308&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:02:42Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;58719f97-c8d6-492f-a0d7-d33483892308\&quot;,\n    \&quot;uid\&quot;: \&quot;71b89f0d-5809-430c-bfe1-9fa41086c142\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:02:42.121204Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;d84c6eb5-951f-47d3-a703-3300193bec29\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:42.161026260Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:42.167140770Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:42.167173652Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:42.135284955Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:42.135285746Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:42.135302788Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:42.135396975Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:42.135472025Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:02:42Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;58719f97-c8d6-492f-a0d7-d33483892308&quot;), &quot;uid&quot;: String(&quot;71b89f0d-5809-430c-bfe1-9fa41086c142&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:02:42.121204Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;d84c6eb5-951f-47d3-a703-3300193bec29&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:42.161026260Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:42.167140770Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:42.167173652Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:42.135284955Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:42.135285746Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:42.135302788Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:42.135396975Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:42.135472025Z&quot;)}]}}
[2022-11-23T15:02:42Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-11-23T15:02:43Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;58719f97-c8d6-492f-a0d7-d33483892308&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:02:43Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;58719f97-c8d6-492f-a0d7-d33483892308\&quot;,\n    \&quot;uid\&quot;: \&quot;71b89f0d-5809-430c-bfe1-9fa41086c142\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:02:42.121204Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;adf080bb-ada5-446e-abc3-6949f3ebb7e5\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;dpN1slJ1LzqG\&quot;,\n        \&quot;username\&quot;: \&quot;user-58719f97-c8d6-492f-a0d7-d33483892308\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:42.161026260Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:42.167140770Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:42.217294762Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:42.222913535Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:42.360856606Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:42.360876383Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:42.360907541Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:42.361077860Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:02:43Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;58719f97-c8d6-492f-a0d7-d33483892308&quot;), &quot;uid&quot;: String(&quot;71b89f0d-5809-430c-bfe1-9fa41086c142&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:02:42.121204Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;adf080bb-ada5-446e-abc3-6949f3ebb7e5&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;dpN1slJ1LzqG&quot;), &quot;username&quot;: String(&quot;user-58719f97-c8d6-492f-a0d7-d33483892308&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:42.161026260Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:42.167140770Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:42.217294762Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:42.222913535Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:42.360856606Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:42.360876383Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:42.360907541Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:42.361077860Z&quot;)}]}}
[2022-11-23T15:02:43Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-11-23T15:02:43Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;58719f97-c8d6-492f-a0d7-d33483892308&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:02:43Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;58719f97-c8d6-492f-a0d7-d33483892308\&quot;,\n    \&quot;uid\&quot;: \&quot;71b89f0d-5809-430c-bfe1-9fa41086c142\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:02:42.121204Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;adf080bb-ada5-446e-abc3-6949f3ebb7e5\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;dpN1slJ1LzqG\&quot;,\n        \&quot;username\&quot;: \&quot;user-58719f97-c8d6-492f-a0d7-d33483892308\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:42.161026260Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:42.167140770Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:42.217294762Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:42.222913535Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:42.360856606Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:42.360876383Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:42.360907541Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:42.361077860Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:02:43Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;58719f97-c8d6-492f-a0d7-d33483892308&quot;), &quot;uid&quot;: String(&quot;71b89f0d-5809-430c-bfe1-9fa41086c142&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:02:42.121204Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;adf080bb-ada5-446e-abc3-6949f3ebb7e5&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;dpN1slJ1LzqG&quot;), &quot;username&quot;: String(&quot;user-58719f97-c8d6-492f-a0d7-d33483892308&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:42.161026260Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:42.167140770Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:42.217294762Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:42.222913535Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:42.360856606Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:42.360876383Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:42.360907541Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:42.361077860Z&quot;)}]}}
[2022-11-23T15:02:43Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-11-23T15:02:43Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-11-23T15:02:43Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;58719f97-c8d6-492f-a0d7-d33483892308&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-11-23T15:02:43Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:02:43Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-11-23T15:02:43Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;58719f97-c8d6-492f-a0d7-d33483892308&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-11-23T15:02:43Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:02:43Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T15:02:43Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:02:43Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T15:02:43Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTYwNjEsImlhdCI6MTY2OTIxNTc2MSwiYXV0aF90aW1lIjoxNjY5MjE1NzU4LCJqdGkiOiI1NWY4ZWNmMS00N2FmLTRjNGQtOGRmMC05NzVjY2YxODY0YjYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImcwZjhoeHVCaHdpQk55cW1EVVVIYXciLCJzZXNzaW9uX3N0YXRlIjoiZmNlZjJjNzAtNDlhZi00MThjLWI4NGYtNTE3YmQ3YzI2ZjcyIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImZjZWYyYzcwLTQ5YWYtNDE4Yy1iODRmLTUxN2JkN2MyNmY3MiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.oIZiK9jUvehURBc5VQeyYH4u0PSr3tBe30ij8773OAVl7R-CFm2-DDn_6uTDuHitiQ4aV1TqxlU14F3m5HXUypEbpIMCSGjRIlBNMw1sgPK_I1OJ753QkoOc7kwrblaVviYk2Ohie0jk0j_jJDP4ULWMP9k81sHZJtlU1S_pc6CEzWUQ9oBA67vQvas64fQJLmPlwy-Cd8uO0NoYSWXv9yagLyo4zGO37SkViKKirFO0l9RL6FMK5z_P_iKCGy9HWATW4WOERyY7RTBbnRPl4GJPmMOM85eaCrIw-QbhqFAHjFvQC8X5rJNhMOuSUO0ZrwRWOJKFL_rEHUYAAGG3KA\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:02:43Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:02:43Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-11-23T15:02:43Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;58719f97-c8d6-492f-a0d7-d33483892308&quot; &quot;device1&quot;
[2022-11-23T15:02:43Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:02:43Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-11-23T15:02:43Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;58719f97-c8d6-492f-a0d7-d33483892308&quot; &quot;gateway1&quot;
[2022-11-23T15:02:43Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:02:43Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;58719f97-c8d6-492f-a0d7-d33483892308&#x27;
[2022-11-23T15:02:43Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;58719f97-c8d6-492f-a0d7-d33483892308&quot;
[2022-11-23T15:02:43Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_1::integration_version_1::integration_ws_1

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T15:02:45Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T15:02:45Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:02:45Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:02:45Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:02:46Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T15:02:48Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T15:02:48Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:02:48Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:02:49Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc1NjksImlhdCI6MTY2OTIxNTc2OSwianRpIjoiNmI0OTZiZDgtMTAwNi00YjY1LTg3ZGEtYTdlYTAyZDY4ZGM5IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoidnR1eThrcElfRHdOMXptM0k4dURkQSIsInNlc3Npb25fc3RhdGUiOiIxNzdiYWQ4Zi04MWVhLTRiYzQtYWE5Yi0xMTVhNWI5MDgxZDciLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMTc3YmFkOGYtODFlYS00YmM0LWFhOWItMTE1YTViOTA4MWQ3In0.Ktcg3o4zv7W9CNpVbK8UAea3O4EnEZjNWix8CEgiGvE
[2022-11-23T15:02:49Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T15:02:49Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:02:49Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc1NjksImlhdCI6MTY2OTIxNTc2OSwianRpIjoiNmI0OTZiZDgtMTAwNi00YjY1LTg3ZGEtYTdlYTAyZDY4ZGM5IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoidnR1eThrcElfRHdOMXptM0k4dURkQSIsInNlc3Npb25fc3RhdGUiOiIxNzdiYWQ4Zi04MWVhLTRiYzQtYWE5Yi0xMTVhNWI5MDgxZDciLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMTc3YmFkOGYtODFlYS00YmM0LWFhOWItMTE1YTViOTA4MWQ3In0.Ktcg3o4zv7W9CNpVbK8UAea3O4EnEZjNWix8CEgiGvE&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T15:02:50Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:02:50Z INFO  drogue_cloud_tests::resources::apps] Create application: dae5ee96-30a8-4268-9296-a8aaf5a123bd
[2022-11-23T15:02:50Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;dae5ee96-30a8-4268-9296-a8aaf5a123bd&quot;
[2022-11-23T15:02:50Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:02:50Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;dae5ee96-30a8-4268-9296-a8aaf5a123bd&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:02:50Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;dae5ee96-30a8-4268-9296-a8aaf5a123bd\&quot;,\n    \&quot;uid\&quot;: \&quot;14fab840-4751-4ae7-af59-ce5425f3d16c\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:02:50.618211Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;5ddb147f-6f6f-4d7a-bf13-24c6a62d1697\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:50.663908534Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:50.669657Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:50.669694410Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:50.638486917Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:50.638487759Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:50.638498109Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:50.638545879Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:50.638521533Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:02:50Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;dae5ee96-30a8-4268-9296-a8aaf5a123bd&quot;), &quot;uid&quot;: String(&quot;14fab840-4751-4ae7-af59-ce5425f3d16c&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:02:50.618211Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;5ddb147f-6f6f-4d7a-bf13-24c6a62d1697&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:50.663908534Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:50.669657Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:50.669694410Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:50.638486917Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:50.638487759Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:50.638498109Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:50.638545879Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:50.638521533Z&quot;)}]}}
[2022-11-23T15:02:50Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-11-23T15:02:51Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;dae5ee96-30a8-4268-9296-a8aaf5a123bd&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:02:51Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;dae5ee96-30a8-4268-9296-a8aaf5a123bd\&quot;,\n    \&quot;uid\&quot;: \&quot;14fab840-4751-4ae7-af59-ce5425f3d16c\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:02:50.618211Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;ee48bb77-8e9c-4349-a902-8a8fe75f7981\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;jt4QPSNQ2zaU\&quot;,\n        \&quot;username\&quot;: \&quot;user-dae5ee96-30a8-4268-9296-a8aaf5a123bd\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:50.663908534Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:50.669657Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:50.725758490Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:50.731817849Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:50.852922986Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:50.852940177Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:50.853013394Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:50.852969212Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:02:51Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;dae5ee96-30a8-4268-9296-a8aaf5a123bd&quot;), &quot;uid&quot;: String(&quot;14fab840-4751-4ae7-af59-ce5425f3d16c&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:02:50.618211Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;ee48bb77-8e9c-4349-a902-8a8fe75f7981&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;jt4QPSNQ2zaU&quot;), &quot;username&quot;: String(&quot;user-dae5ee96-30a8-4268-9296-a8aaf5a123bd&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:50.663908534Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:50.669657Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:50.725758490Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:50.731817849Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:50.852922986Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:50.852940177Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:50.853013394Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:50.852969212Z&quot;)}]}}
[2022-11-23T15:02:51Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-11-23T15:02:51Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;dae5ee96-30a8-4268-9296-a8aaf5a123bd&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:02:51Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;dae5ee96-30a8-4268-9296-a8aaf5a123bd\&quot;,\n    \&quot;uid\&quot;: \&quot;14fab840-4751-4ae7-af59-ce5425f3d16c\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:02:50.618211Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;ee48bb77-8e9c-4349-a902-8a8fe75f7981\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;jt4QPSNQ2zaU\&quot;,\n        \&quot;username\&quot;: \&quot;user-dae5ee96-30a8-4268-9296-a8aaf5a123bd\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:50.663908534Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:50.669657Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:50.725758490Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:50.731817849Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:50.852922986Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:50.852940177Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:50.853013394Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:50.852969212Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:02:51Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;dae5ee96-30a8-4268-9296-a8aaf5a123bd&quot;), &quot;uid&quot;: String(&quot;14fab840-4751-4ae7-af59-ce5425f3d16c&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:02:50.618211Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;ee48bb77-8e9c-4349-a902-8a8fe75f7981&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;jt4QPSNQ2zaU&quot;), &quot;username&quot;: String(&quot;user-dae5ee96-30a8-4268-9296-a8aaf5a123bd&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:50.663908534Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:50.669657Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:50.725758490Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:50.731817849Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:50.852922986Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:50.852940177Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:50.853013394Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:50.852969212Z&quot;)}]}}
[2022-11-23T15:02:51Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-11-23T15:02:51Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-11-23T15:02:51Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;dae5ee96-30a8-4268-9296-a8aaf5a123bd&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-11-23T15:02:51Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:02:51Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-11-23T15:02:51Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;dae5ee96-30a8-4268-9296-a8aaf5a123bd&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-11-23T15:02:51Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:02:51Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T15:02:51Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:02:51Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T15:02:51Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTYwNzAsImlhdCI6MTY2OTIxNTc3MCwiYXV0aF90aW1lIjoxNjY5MjE1NzY3LCJqdGkiOiI3MDM3Njk4Ni1jMTc0LTQ2NjAtYjFmZC00YzZlZWMwNzdhZjgiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InZ0dXk4a3BJX0R3TjF6bTNJOHVEZEEiLCJzZXNzaW9uX3N0YXRlIjoiMTc3YmFkOGYtODFlYS00YmM0LWFhOWItMTE1YTViOTA4MWQ3IiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjE3N2JhZDhmLTgxZWEtNGJjNC1hYTliLTExNWE1YjkwODFkNyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.GK9sCgrb8n7dewfuczaC2pqSdO0pI1J-sAybFonNeTKo7ur6m2OULzO9bhUUllMJyxkYLg254O2JzIM088yMEIouLYCvCRy7PzeM6Ijq7UFjb3tmEczMgrp_iBeOssv6Vo-awSefJpeUwhqA6cPwQIImne66vPYdAmtcZQoaQteGiT2rmi2u5umgcwRF9R6OzPTrhSFQ8RSzuUNHawQSJI6d-WgRUZuafEJ1Xq0pK29OCw7WDCNFluvYlhJIg9_cccm1lL1AyX6P4SZvhgWi5aOKrnwSQ3AHyDIuu4ZGCjFcOIDTIbchFjZFeTmJtZxc5PHl2LFTPaK8yTgp-dzOhw\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:02:51Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:02:51Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-11-23T15:02:51Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;dae5ee96-30a8-4268-9296-a8aaf5a123bd&quot; &quot;device1&quot;
[2022-11-23T15:02:52Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:02:52Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-11-23T15:02:52Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;dae5ee96-30a8-4268-9296-a8aaf5a123bd&quot; &quot;gateway1&quot;
[2022-11-23T15:02:52Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:02:52Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;dae5ee96-30a8-4268-9296-a8aaf5a123bd&#x27;
[2022-11-23T15:02:52Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;dae5ee96-30a8-4268-9296-a8aaf5a123bd&quot;
[2022-11-23T15:02:52Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_1::integration_version_1::integration_ws_2

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T15:02:54Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T15:02:54Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:02:54Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:02:54Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:02:55Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T15:02:56Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T15:02:56Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:02:56Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:02:58Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc1NzgsImlhdCI6MTY2OTIxNTc3OCwianRpIjoiZTk1NThlODgtYjUxNS00ZWVjLWI1ZGUtYmJhMGZkMzE2YjAyIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiSkp6eDJ6aXRQUnNpQVJtRmNKZXFvZyIsInNlc3Npb25fc3RhdGUiOiI1M2UzN2JkNC0xNDRjLTQyODktYTlkOC0xMzcwMDRhMThmODgiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiNTNlMzdiZDQtMTQ0Yy00Mjg5LWE5ZDgtMTM3MDA0YTE4Zjg4In0.VFoGM9UXzckhSUzRgjtJJKL1R3o6E2Z1YIfbsx5lkRg
[2022-11-23T15:02:58Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T15:02:58Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:02:58Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc1NzgsImlhdCI6MTY2OTIxNTc3OCwianRpIjoiZTk1NThlODgtYjUxNS00ZWVjLWI1ZGUtYmJhMGZkMzE2YjAyIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiSkp6eDJ6aXRQUnNpQVJtRmNKZXFvZyIsInNlc3Npb25fc3RhdGUiOiI1M2UzN2JkNC0xNDRjLTQyODktYTlkOC0xMzcwMDRhMThmODgiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiNTNlMzdiZDQtMTQ0Yy00Mjg5LWE5ZDgtMTM3MDA0YTE4Zjg4In0.VFoGM9UXzckhSUzRgjtJJKL1R3o6E2Z1YIfbsx5lkRg&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T15:02:58Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:02:59Z INFO  drogue_cloud_tests::resources::apps] Create application: a6f31f40-9fbf-4cbc-b5d0-7da23cdc23a7
[2022-11-23T15:02:59Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;a6f31f40-9fbf-4cbc-b5d0-7da23cdc23a7&quot;
[2022-11-23T15:02:59Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:02:59Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;a6f31f40-9fbf-4cbc-b5d0-7da23cdc23a7&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:02:59Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;a6f31f40-9fbf-4cbc-b5d0-7da23cdc23a7\&quot;,\n    \&quot;uid\&quot;: \&quot;9755dcea-d614-4801-bb90-acfce1f9a874\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:02:59.254585Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;2696d867-bf08-4f92-afb4-5abc257b346d\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:59.298916537Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:59.298917669Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:59.298918050Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:59.298918440Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:59.298919272Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:59.298954106Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:59.299187603Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: HasFinalizer\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:59.298978462Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:02:59Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;a6f31f40-9fbf-4cbc-b5d0-7da23cdc23a7&quot;), &quot;uid&quot;: String(&quot;9755dcea-d614-4801-bb90-acfce1f9a874&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:02:59.254585Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;2696d867-bf08-4f92-afb4-5abc257b346d&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:59.298916537Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:59.298917669Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:59.298918050Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:59.298918440Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:59.298919272Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:59.298954106Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:59.299187603Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: HasFinalizer&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:59.298978462Z&quot;)}]}}
[2022-11-23T15:02:59Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-11-23T15:03:00Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;a6f31f40-9fbf-4cbc-b5d0-7da23cdc23a7&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:03:00Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;a6f31f40-9fbf-4cbc-b5d0-7da23cdc23a7\&quot;,\n    \&quot;uid\&quot;: \&quot;9755dcea-d614-4801-bb90-acfce1f9a874\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:02:59.254585Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;eefdbffc-6dea-46c6-b3b4-d1eddd358820\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;FFjb3NobmbVH\&quot;,\n        \&quot;username\&quot;: \&quot;user-a6f31f40-9fbf-4cbc-b5d0-7da23cdc23a7\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:59.326107332Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:59.332766152Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:59.392591189Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:59.398995774Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:59.529479380Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:59.529526549Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:59.529647023Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:59.529598884Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:03:00Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;a6f31f40-9fbf-4cbc-b5d0-7da23cdc23a7&quot;), &quot;uid&quot;: String(&quot;9755dcea-d614-4801-bb90-acfce1f9a874&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:02:59.254585Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;eefdbffc-6dea-46c6-b3b4-d1eddd358820&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;FFjb3NobmbVH&quot;), &quot;username&quot;: String(&quot;user-a6f31f40-9fbf-4cbc-b5d0-7da23cdc23a7&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:59.326107332Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:59.332766152Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:59.392591189Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:59.398995774Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:59.529479380Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:59.529526549Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:59.529647023Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:59.529598884Z&quot;)}]}}
[2022-11-23T15:03:00Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-11-23T15:03:00Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;a6f31f40-9fbf-4cbc-b5d0-7da23cdc23a7&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:03:00Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;a6f31f40-9fbf-4cbc-b5d0-7da23cdc23a7\&quot;,\n    \&quot;uid\&quot;: \&quot;9755dcea-d614-4801-bb90-acfce1f9a874\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:02:59.254585Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;eefdbffc-6dea-46c6-b3b4-d1eddd358820\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;FFjb3NobmbVH\&quot;,\n        \&quot;username\&quot;: \&quot;user-a6f31f40-9fbf-4cbc-b5d0-7da23cdc23a7\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:59.326107332Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:59.332766152Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:59.392591189Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:59.398995774Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:59.529479380Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:59.529526549Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:59.529647023Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:02:59.529598884Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:03:00Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;a6f31f40-9fbf-4cbc-b5d0-7da23cdc23a7&quot;), &quot;uid&quot;: String(&quot;9755dcea-d614-4801-bb90-acfce1f9a874&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:02:59.254585Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;eefdbffc-6dea-46c6-b3b4-d1eddd358820&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;FFjb3NobmbVH&quot;), &quot;username&quot;: String(&quot;user-a6f31f40-9fbf-4cbc-b5d0-7da23cdc23a7&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:59.326107332Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:59.332766152Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:59.392591189Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:59.398995774Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:59.529479380Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:59.529526549Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:59.529647023Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:02:59.529598884Z&quot;)}]}}
[2022-11-23T15:03:00Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-11-23T15:03:00Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-11-23T15:03:00Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;a6f31f40-9fbf-4cbc-b5d0-7da23cdc23a7&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-11-23T15:03:00Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:03:00Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-11-23T15:03:00Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;a6f31f40-9fbf-4cbc-b5d0-7da23cdc23a7&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-11-23T15:03:00Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:03:00Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T15:03:00Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:03:00Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T15:03:00Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTYwNzgsImlhdCI6MTY2OTIxNTc3OCwiYXV0aF90aW1lIjoxNjY5MjE1Nzc1LCJqdGkiOiI5NzVkMzhkNi0xMmQ2LTRlN2YtODU3MS05ZWMzYzk2ZDRlNmEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IkpKengyeml0UFJzaUFSbUZjSmVxb2ciLCJzZXNzaW9uX3N0YXRlIjoiNTNlMzdiZDQtMTQ0Yy00Mjg5LWE5ZDgtMTM3MDA0YTE4Zjg4IiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjUzZTM3YmQ0LTE0NGMtNDI4OS1hOWQ4LTEzNzAwNGExOGY4OCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.W4xJEilUfP-JJKVQg0SlSPg1dIwbAAgN-inH8QJaZ4K1eELw2mwY_j82KnZOlcju1QERjUEurJGV9Qf8NDF_LLKp0DUuUT1Q7bColaUW2JwNzs2ksx3xbqm-7Y4EwdOmp-Zd39lWf4WVFxZ37bl2RFBcKSCtfa61IACNafpq1Ao7txOdmKG4CcmB2YrNapHz5tOQSZJdgGmamCpGtBD_TVOJCBBUL46peD_zlL71DNGlqQXgioxJgv5hWu38miDzJIhYbrgZlQ2eRm4l7NZcwKiIeccr31p_MTHYmYwePBaLu8Rt9EYKc0qHbYq5X4yp77Kmgpzc_cZOBJh4Wl_3QQ\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:03:00Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:03:00Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-11-23T15:03:00Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;a6f31f40-9fbf-4cbc-b5d0-7da23cdc23a7&quot; &quot;device1&quot;
[2022-11-23T15:03:00Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:03:00Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-11-23T15:03:00Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;a6f31f40-9fbf-4cbc-b5d0-7da23cdc23a7&quot; &quot;gateway1&quot;
[2022-11-23T15:03:00Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:03:00Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;a6f31f40-9fbf-4cbc-b5d0-7da23cdc23a7&#x27;
[2022-11-23T15:03:00Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;a6f31f40-9fbf-4cbc-b5d0-7da23cdc23a7&quot;
[2022-11-23T15:03:00Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_1::integration_version_2::integration_ws_1

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T15:03:02Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T15:03:02Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:03:02Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:03:02Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:03:03Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T15:03:05Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T15:03:05Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:03:05Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:03:06Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc1ODYsImlhdCI6MTY2OTIxNTc4NiwianRpIjoiMTcyZmI2MTktNmFhZi00MzIyLTllMDUtMWM5YTRjYmFjYTQyIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiUkFKTU54VkdJM0g1blhvdF9vRGtEdyIsInNlc3Npb25fc3RhdGUiOiIxOTIyNDMzMC05NzI3LTQ4NGUtODVmNC04MzJkOTVhZTllZjQiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMTkyMjQzMzAtOTcyNy00ODRlLTg1ZjQtODMyZDk1YWU5ZWY0In0.t4l4SX6ktB7isUz0O8FNi8Ok-SwsaXOK5tE5WhxnWCg
[2022-11-23T15:03:06Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T15:03:06Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:03:06Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc1ODYsImlhdCI6MTY2OTIxNTc4NiwianRpIjoiMTcyZmI2MTktNmFhZi00MzIyLTllMDUtMWM5YTRjYmFjYTQyIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiUkFKTU54VkdJM0g1blhvdF9vRGtEdyIsInNlc3Npb25fc3RhdGUiOiIxOTIyNDMzMC05NzI3LTQ4NGUtODVmNC04MzJkOTVhZTllZjQiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMTkyMjQzMzAtOTcyNy00ODRlLTg1ZjQtODMyZDk1YWU5ZWY0In0.t4l4SX6ktB7isUz0O8FNi8Ok-SwsaXOK5tE5WhxnWCg&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T15:03:06Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:03:07Z INFO  drogue_cloud_tests::resources::apps] Create application: 3acec3b0-e3bd-4e53-84bc-d7657f24b2b6
[2022-11-23T15:03:07Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;3acec3b0-e3bd-4e53-84bc-d7657f24b2b6&quot;
[2022-11-23T15:03:07Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:03:07Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;3acec3b0-e3bd-4e53-84bc-d7657f24b2b6&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:03:07Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;3acec3b0-e3bd-4e53-84bc-d7657f24b2b6\&quot;,\n    \&quot;uid\&quot;: \&quot;ac4c2e78-713b-461b-8ca4-e326d630c674\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:03:07.566983Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;87d09e34-7354-4aa3-b7b7-ee4d663f7bde\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:07.608592638Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:07.616085047Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:07.616125854Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:07.577123517Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:07.577124028Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:07.577134618Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:07.577180984Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:07.577220167Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:03:07Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;3acec3b0-e3bd-4e53-84bc-d7657f24b2b6&quot;), &quot;uid&quot;: String(&quot;ac4c2e78-713b-461b-8ca4-e326d630c674&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:03:07.566983Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;87d09e34-7354-4aa3-b7b7-ee4d663f7bde&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:07.608592638Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:07.616085047Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:07.616125854Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:07.577123517Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:07.577124028Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:07.577134618Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:07.577180984Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:07.577220167Z&quot;)}]}}
[2022-11-23T15:03:07Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-11-23T15:03:08Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;3acec3b0-e3bd-4e53-84bc-d7657f24b2b6&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:03:08Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;3acec3b0-e3bd-4e53-84bc-d7657f24b2b6\&quot;,\n    \&quot;uid\&quot;: \&quot;ac4c2e78-713b-461b-8ca4-e326d630c674\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:03:07.566983Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;728c354c-c305-4d6d-86df-e5d3574fd757\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;v3QK0yJMFIGj\&quot;,\n        \&quot;username\&quot;: \&quot;user-3acec3b0-e3bd-4e53-84bc-d7657f24b2b6\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:07.608592638Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:07.616085047Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:07.683769722Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:07.690863404Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:07.818271930Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:07.818287489Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:07.818333425Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:07.818376775Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:03:08Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;3acec3b0-e3bd-4e53-84bc-d7657f24b2b6&quot;), &quot;uid&quot;: String(&quot;ac4c2e78-713b-461b-8ca4-e326d630c674&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:03:07.566983Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;728c354c-c305-4d6d-86df-e5d3574fd757&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;v3QK0yJMFIGj&quot;), &quot;username&quot;: String(&quot;user-3acec3b0-e3bd-4e53-84bc-d7657f24b2b6&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:07.608592638Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:07.616085047Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:07.683769722Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:07.690863404Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:07.818271930Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:07.818287489Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:07.818333425Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:07.818376775Z&quot;)}]}}
[2022-11-23T15:03:08Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-11-23T15:03:08Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;3acec3b0-e3bd-4e53-84bc-d7657f24b2b6&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:03:08Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;3acec3b0-e3bd-4e53-84bc-d7657f24b2b6\&quot;,\n    \&quot;uid\&quot;: \&quot;ac4c2e78-713b-461b-8ca4-e326d630c674\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:03:07.566983Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;728c354c-c305-4d6d-86df-e5d3574fd757\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;v3QK0yJMFIGj\&quot;,\n        \&quot;username\&quot;: \&quot;user-3acec3b0-e3bd-4e53-84bc-d7657f24b2b6\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:07.608592638Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:07.616085047Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:07.683769722Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:07.690863404Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:07.818271930Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:07.818287489Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:07.818333425Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:07.818376775Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:03:08Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;3acec3b0-e3bd-4e53-84bc-d7657f24b2b6&quot;), &quot;uid&quot;: String(&quot;ac4c2e78-713b-461b-8ca4-e326d630c674&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:03:07.566983Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;728c354c-c305-4d6d-86df-e5d3574fd757&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;v3QK0yJMFIGj&quot;), &quot;username&quot;: String(&quot;user-3acec3b0-e3bd-4e53-84bc-d7657f24b2b6&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:07.608592638Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:07.616085047Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:07.683769722Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:07.690863404Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:07.818271930Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:07.818287489Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:07.818333425Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:07.818376775Z&quot;)}]}}
[2022-11-23T15:03:08Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-11-23T15:03:08Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-11-23T15:03:08Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;3acec3b0-e3bd-4e53-84bc-d7657f24b2b6&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-11-23T15:03:08Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:03:08Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-11-23T15:03:08Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;3acec3b0-e3bd-4e53-84bc-d7657f24b2b6&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-11-23T15:03:08Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:03:08Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T15:03:08Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:03:08Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T15:03:08Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTYwODYsImlhdCI6MTY2OTIxNTc4NiwiYXV0aF90aW1lIjoxNjY5MjE1Nzg0LCJqdGkiOiIxMzE4MjJlZC1mMDQxLTQyYTgtODljYi0zNGI4N2Y0M2IwOWEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlJBSk1OeFZHSTNINW5Yb3Rfb0RrRHciLCJzZXNzaW9uX3N0YXRlIjoiMTkyMjQzMzAtOTcyNy00ODRlLTg1ZjQtODMyZDk1YWU5ZWY0IiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjE5MjI0MzMwLTk3MjctNDg0ZS04NWY0LTgzMmQ5NWFlOWVmNCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.RoEXJXbGIb8Hqyme8oICkqLgGEtiIfWIMZndKwb9KkYsj1UYzC8-uFEBshL8hlwmax9aYTJB-SUK9y-qHNubVy32VuGy-rZVt7VpfNkQmNz3Gr7gGko9compP08i1myDT1mpMKgt4ZTZSqybqGKT4lAqE3UrzhqtnI3GWprRWZoHK3s-4FxPB9E_0PcmLIWVR1mWxFyNIFk6DI9zo7hewY_8YyjXxZMd2J_yUxQra03QSqAnCGaAosU5d-MDnltaXJATeU0jBU5eNOqKk6PstB2fp6DF_Ni-jKNn-lGay7IW2gG0sOJMtEUDw1Q4LKnMKdgnmbOLRoE1LDeBeY_jqg\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:03:08Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:03:08Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-11-23T15:03:08Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;3acec3b0-e3bd-4e53-84bc-d7657f24b2b6&quot; &quot;device1&quot;
[2022-11-23T15:03:08Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:03:08Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-11-23T15:03:08Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;3acec3b0-e3bd-4e53-84bc-d7657f24b2b6&quot; &quot;gateway1&quot;
[2022-11-23T15:03:09Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:03:09Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;3acec3b0-e3bd-4e53-84bc-d7657f24b2b6&#x27;
[2022-11-23T15:03:09Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;3acec3b0-e3bd-4e53-84bc-d7657f24b2b6&quot;
[2022-11-23T15:03:09Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_1::integration_version_2::integration_ws_2

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T15:03:11Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T15:03:11Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:03:11Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:03:11Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:03:12Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T15:03:13Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T15:03:13Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:03:13Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:03:15Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc1OTUsImlhdCI6MTY2OTIxNTc5NSwianRpIjoiNzk0OGMwMDYtYjcxNy00NzE1LTg3OWQtZTIwZWExNmRlMzI4IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiYkJsOFFvN2o4WXpmX2ZPUlhnM05NdyIsInNlc3Npb25fc3RhdGUiOiI5MmQwNDU5OS02ZjU3LTQzOWMtODU2ZS03MmIwZjQwZjc0MjkiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiOTJkMDQ1OTktNmY1Ny00MzljLTg1NmUtNzJiMGY0MGY3NDI5In0.CKX8JdlU6UsFRkqPanpR3Z9oCxUZHQYa3bZM0ztPE5s
[2022-11-23T15:03:15Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T15:03:15Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:03:15Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc1OTUsImlhdCI6MTY2OTIxNTc5NSwianRpIjoiNzk0OGMwMDYtYjcxNy00NzE1LTg3OWQtZTIwZWExNmRlMzI4IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiYkJsOFFvN2o4WXpmX2ZPUlhnM05NdyIsInNlc3Npb25fc3RhdGUiOiI5MmQwNDU5OS02ZjU3LTQzOWMtODU2ZS03MmIwZjQwZjc0MjkiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiOTJkMDQ1OTktNmY1Ny00MzljLTg1NmUtNzJiMGY0MGY3NDI5In0.CKX8JdlU6UsFRkqPanpR3Z9oCxUZHQYa3bZM0ztPE5s&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T15:03:15Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:03:16Z INFO  drogue_cloud_tests::resources::apps] Create application: 08135056-cbfd-4651-aad4-801d599e8425
[2022-11-23T15:03:16Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;08135056-cbfd-4651-aad4-801d599e8425&quot;
[2022-11-23T15:03:16Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:03:16Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;08135056-cbfd-4651-aad4-801d599e8425&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:03:16Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;08135056-cbfd-4651-aad4-801d599e8425\&quot;,\n    \&quot;uid\&quot;: \&quot;5475d534-b97c-451b-bcd7-ab169e0969ba\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:03:16.162602Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;77c5687e-b435-44c4-8886-1879503a5f55\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:16.209527009Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:16.214959623Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:16.214996341Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:16.185089182Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:16.185089793Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:16.185098950Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:16.185168841Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:16.185119608Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:03:16Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;08135056-cbfd-4651-aad4-801d599e8425&quot;), &quot;uid&quot;: String(&quot;5475d534-b97c-451b-bcd7-ab169e0969ba&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:03:16.162602Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;77c5687e-b435-44c4-8886-1879503a5f55&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:16.209527009Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:16.214959623Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:16.214996341Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:16.185089182Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:16.185089793Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:16.185098950Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:16.185168841Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:16.185119608Z&quot;)}]}}
[2022-11-23T15:03:16Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-11-23T15:03:17Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;08135056-cbfd-4651-aad4-801d599e8425&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:03:17Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;08135056-cbfd-4651-aad4-801d599e8425\&quot;,\n    \&quot;uid\&quot;: \&quot;5475d534-b97c-451b-bcd7-ab169e0969ba\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:03:16.162602Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;7b8834b9-b6b6-4737-9f8b-5447490de2f4\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;nRpTo1wO1uft\&quot;,\n        \&quot;username\&quot;: \&quot;user-08135056-cbfd-4651-aad4-801d599e8425\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:16.209527009Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:16.214959623Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:16.270669312Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:16.277151731Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:16.397188162Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:16.397203120Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:16.397364532Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:16.397277810Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:03:17Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;08135056-cbfd-4651-aad4-801d599e8425&quot;), &quot;uid&quot;: String(&quot;5475d534-b97c-451b-bcd7-ab169e0969ba&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:03:16.162602Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;7b8834b9-b6b6-4737-9f8b-5447490de2f4&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;nRpTo1wO1uft&quot;), &quot;username&quot;: String(&quot;user-08135056-cbfd-4651-aad4-801d599e8425&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:16.209527009Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:16.214959623Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:16.270669312Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:16.277151731Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:16.397188162Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:16.397203120Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:16.397364532Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:16.397277810Z&quot;)}]}}
[2022-11-23T15:03:17Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-11-23T15:03:17Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;08135056-cbfd-4651-aad4-801d599e8425&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:03:17Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;08135056-cbfd-4651-aad4-801d599e8425\&quot;,\n    \&quot;uid\&quot;: \&quot;5475d534-b97c-451b-bcd7-ab169e0969ba\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:03:16.162602Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;7b8834b9-b6b6-4737-9f8b-5447490de2f4\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;nRpTo1wO1uft\&quot;,\n        \&quot;username\&quot;: \&quot;user-08135056-cbfd-4651-aad4-801d599e8425\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:16.209527009Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:16.214959623Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:16.270669312Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:16.277151731Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:16.397188162Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:16.397203120Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:16.397364532Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:16.397277810Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:03:17Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;08135056-cbfd-4651-aad4-801d599e8425&quot;), &quot;uid&quot;: String(&quot;5475d534-b97c-451b-bcd7-ab169e0969ba&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:03:16.162602Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;7b8834b9-b6b6-4737-9f8b-5447490de2f4&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;nRpTo1wO1uft&quot;), &quot;username&quot;: String(&quot;user-08135056-cbfd-4651-aad4-801d599e8425&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:16.209527009Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:16.214959623Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:16.270669312Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:16.277151731Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:16.397188162Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:16.397203120Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:16.397364532Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:16.397277810Z&quot;)}]}}
[2022-11-23T15:03:17Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-11-23T15:03:17Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-11-23T15:03:17Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;08135056-cbfd-4651-aad4-801d599e8425&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-11-23T15:03:17Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:03:17Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-11-23T15:03:17Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;08135056-cbfd-4651-aad4-801d599e8425&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-11-23T15:03:17Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:03:17Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T15:03:17Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:03:17Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T15:03:17Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTYwOTUsImlhdCI6MTY2OTIxNTc5NSwiYXV0aF90aW1lIjoxNjY5MjE1NzkyLCJqdGkiOiJiZGVkYTNmYi1mMTMyLTQyMzQtODQ1Ni0xMTU2MTA1YzhhMDgiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImJCbDhRbzdqOFl6Zl9mT1JYZzNOTXciLCJzZXNzaW9uX3N0YXRlIjoiOTJkMDQ1OTktNmY1Ny00MzljLTg1NmUtNzJiMGY0MGY3NDI5IiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjkyZDA0NTk5LTZmNTctNDM5Yy04NTZlLTcyYjBmNDBmNzQyOSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.jwWOSIkBQy9kqDaoxhOUyUZBThETXD3odMheqf3qn1eAoP3iPlCWbult0n7jSAVazIkwi5pnhqkFuJY6nYlbswD6qdaI1bLZ3KyGnQryeo-dpEDEKJn0ngQE7m_vohdmWrWz9Wi-LjFGMX310LReglWZBxlN_q3Nw5Tr1JbivI-whi9j47WGCTF31sbjdcl8upKMq-Nvg-8KeDEMpj8chcRrjkDXRVieTkXEQIOjpcbXniy98c0vIkJ8DwZeMetBvRYclgsxXconvjNIUVTWjXx6DmYrsdBx7vtrqCx1CDR9xKt8-O3dQaW2r6fxp1m2MPgT4l2Np7adDk_uh3kSsw\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:03:17Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:03:17Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-11-23T15:03:17Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;08135056-cbfd-4651-aad4-801d599e8425&quot; &quot;device1&quot;
[2022-11-23T15:03:17Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:03:17Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-11-23T15:03:17Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;08135056-cbfd-4651-aad4-801d599e8425&quot; &quot;gateway1&quot;
[2022-11-23T15:03:17Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:03:17Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;08135056-cbfd-4651-aad4-801d599e8425&#x27;
[2022-11-23T15:03:17Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;08135056-cbfd-4651-aad4-801d599e8425&quot;
[2022-11-23T15:03:17Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_1::integration_version_3::integration_ws_1

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T15:03:19Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T15:03:19Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:03:19Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:03:19Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:03:20Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T15:03:22Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T15:03:22Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:03:22Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:03:23Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc2MDMsImlhdCI6MTY2OTIxNTgwMywianRpIjoiMzllMDJhZWEtZWYwMC00MjAxLTlmZjYtZjY2ZmJkN2ZhMDVjIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiRXh5TkI4Vy1LRXlFZEVXSmk0VkZnZyIsInNlc3Npb25fc3RhdGUiOiJhOWI1ZTNlNC1hMWEzLTRkZDAtODRhOS0yYTc3NzU4NmZjMjciLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiYTliNWUzZTQtYTFhMy00ZGQwLTg0YTktMmE3Nzc1ODZmYzI3In0.zcC4XqKqL8rzQiH5RzqyoEc7X_bjl9WZQrINx5bWp50
[2022-11-23T15:03:23Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T15:03:23Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:03:23Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc2MDMsImlhdCI6MTY2OTIxNTgwMywianRpIjoiMzllMDJhZWEtZWYwMC00MjAxLTlmZjYtZjY2ZmJkN2ZhMDVjIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiRXh5TkI4Vy1LRXlFZEVXSmk0VkZnZyIsInNlc3Npb25fc3RhdGUiOiJhOWI1ZTNlNC1hMWEzLTRkZDAtODRhOS0yYTc3NzU4NmZjMjciLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiYTliNWUzZTQtYTFhMy00ZGQwLTg0YTktMmE3Nzc1ODZmYzI3In0.zcC4XqKqL8rzQiH5RzqyoEc7X_bjl9WZQrINx5bWp50&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T15:03:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:03:24Z INFO  drogue_cloud_tests::resources::apps] Create application: 3449c8ab-df5e-4a71-9d4c-2aee12d92169
[2022-11-23T15:03:24Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;3449c8ab-df5e-4a71-9d4c-2aee12d92169&quot;
[2022-11-23T15:03:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:03:24Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;3449c8ab-df5e-4a71-9d4c-2aee12d92169&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:03:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;3449c8ab-df5e-4a71-9d4c-2aee12d92169\&quot;,\n    \&quot;uid\&quot;: \&quot;3322e139-0f5a-43d2-96b8-156cffcc66bd\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:03:24.702332Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;575f5e4f-b028-4921-8597-01a6f236be88\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:24.746852292Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:24.752993593Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:24.753030372Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:24.723427040Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:24.723427622Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:24.723432651Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:24.723520204Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:24.723494877Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:03:24Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;3449c8ab-df5e-4a71-9d4c-2aee12d92169&quot;), &quot;uid&quot;: String(&quot;3322e139-0f5a-43d2-96b8-156cffcc66bd&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:03:24.702332Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;575f5e4f-b028-4921-8597-01a6f236be88&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:24.746852292Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:24.752993593Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:24.753030372Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:24.723427040Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:24.723427622Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:24.723432651Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:24.723520204Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:24.723494877Z&quot;)}]}}
[2022-11-23T15:03:24Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-11-23T15:03:25Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;3449c8ab-df5e-4a71-9d4c-2aee12d92169&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:03:25Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;3449c8ab-df5e-4a71-9d4c-2aee12d92169\&quot;,\n    \&quot;uid\&quot;: \&quot;3322e139-0f5a-43d2-96b8-156cffcc66bd\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:03:24.702332Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;67568d1a-ae96-450c-9f73-b66dd29eb6ee\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;vhNRzYAQuBtu\&quot;,\n        \&quot;username\&quot;: \&quot;user-3449c8ab-df5e-4a71-9d4c-2aee12d92169\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:24.746852292Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:24.752993593Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:24.817261065Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:24.823562977Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:24.953992316Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:24.954007785Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:24.954077815Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:24.954035216Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:03:25Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;3449c8ab-df5e-4a71-9d4c-2aee12d92169&quot;), &quot;uid&quot;: String(&quot;3322e139-0f5a-43d2-96b8-156cffcc66bd&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:03:24.702332Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;67568d1a-ae96-450c-9f73-b66dd29eb6ee&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;vhNRzYAQuBtu&quot;), &quot;username&quot;: String(&quot;user-3449c8ab-df5e-4a71-9d4c-2aee12d92169&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:24.746852292Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:24.752993593Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:24.817261065Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:24.823562977Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:24.953992316Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:24.954007785Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:24.954077815Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:24.954035216Z&quot;)}]}}
[2022-11-23T15:03:25Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-11-23T15:03:25Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;3449c8ab-df5e-4a71-9d4c-2aee12d92169&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:03:25Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;3449c8ab-df5e-4a71-9d4c-2aee12d92169\&quot;,\n    \&quot;uid\&quot;: \&quot;3322e139-0f5a-43d2-96b8-156cffcc66bd\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:03:24.702332Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;67568d1a-ae96-450c-9f73-b66dd29eb6ee\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;vhNRzYAQuBtu\&quot;,\n        \&quot;username\&quot;: \&quot;user-3449c8ab-df5e-4a71-9d4c-2aee12d92169\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:24.746852292Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:24.752993593Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:24.817261065Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:24.823562977Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:24.953992316Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:24.954007785Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:24.954077815Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:24.954035216Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:03:25Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;3449c8ab-df5e-4a71-9d4c-2aee12d92169&quot;), &quot;uid&quot;: String(&quot;3322e139-0f5a-43d2-96b8-156cffcc66bd&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:03:24.702332Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;67568d1a-ae96-450c-9f73-b66dd29eb6ee&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;vhNRzYAQuBtu&quot;), &quot;username&quot;: String(&quot;user-3449c8ab-df5e-4a71-9d4c-2aee12d92169&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:24.746852292Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:24.752993593Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:24.817261065Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:24.823562977Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:24.953992316Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:24.954007785Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:24.954077815Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:24.954035216Z&quot;)}]}}
[2022-11-23T15:03:25Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-11-23T15:03:25Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-11-23T15:03:25Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;3449c8ab-df5e-4a71-9d4c-2aee12d92169&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-11-23T15:03:25Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:03:25Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-11-23T15:03:25Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;3449c8ab-df5e-4a71-9d4c-2aee12d92169&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-11-23T15:03:26Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:03:26Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T15:03:26Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:03:26Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T15:03:26Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTYxMDQsImlhdCI6MTY2OTIxNTgwNCwiYXV0aF90aW1lIjoxNjY5MjE1ODAxLCJqdGkiOiI4YzA1ZWVhMi02YzNjLTQwMzctYTljYy02YjgxNThlNTRmOWIiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IkV4eU5COFctS0V5RWRFV0ppNFZGZ2ciLCJzZXNzaW9uX3N0YXRlIjoiYTliNWUzZTQtYTFhMy00ZGQwLTg0YTktMmE3Nzc1ODZmYzI3IiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImE5YjVlM2U0LWExYTMtNGRkMC04NGE5LTJhNzc3NTg2ZmMyNyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.UT2yIfwmXpXg6ToKL56P2N9FsSBBbR_CBuP3rnFnnpjaJEnU-0cA3ryPo0ImC_nve1LAfvUdSPM249Oo03LPRpWZeRjdsKU14sq_jEOl35dwlC4zRLbfHKUniE6V-LYNc7-kIcBUoVCYQWcFbHGTsmgwraQ57pjgajwmNjRfD0IX9tuQ99-KAKpnH8LdECNpowt-s5Sg1tq5n4UL0Qw5STJYUGzZ78-mHkk0_3Nzm3rkHa_cRU1JlSFqzgOCcbzOLZLh1u5M-GT4pPm6jAurXBKrk8wTpMJ0uPWtJeXHahnvsVKOo5EZL2laH4E8SZCKSAdP0WfhXXhj07b7IVZo5Q\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:03:26Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:03:26Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-11-23T15:03:26Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;3449c8ab-df5e-4a71-9d4c-2aee12d92169&quot; &quot;device1&quot;
[2022-11-23T15:03:26Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:03:26Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-11-23T15:03:26Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;3449c8ab-df5e-4a71-9d4c-2aee12d92169&quot; &quot;gateway1&quot;
[2022-11-23T15:03:26Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:03:26Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;3449c8ab-df5e-4a71-9d4c-2aee12d92169&#x27;
[2022-11-23T15:03:26Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;3449c8ab-df5e-4a71-9d4c-2aee12d92169&quot;
[2022-11-23T15:03:26Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_1::integration_version_3::integration_ws_2

**Duration**: 9s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T15:03:28Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T15:03:28Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:03:28Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:03:28Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:03:29Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T15:03:31Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T15:03:31Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:03:31Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:03:33Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc2MTMsImlhdCI6MTY2OTIxNTgxMywianRpIjoiNDgxMzgwY2YtYjRjYy00MWRiLWIxODQtMGFiMjNiMWQ4OWJiIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoidXlLVXcxTkVnXzdhQmVKckoxdnBzUSIsInNlc3Npb25fc3RhdGUiOiI5ZDRjYTczNy02NjYwLTQ0OTMtYjBjMy01N2I5NjFkN2JhZjciLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiOWQ0Y2E3MzctNjY2MC00NDkzLWIwYzMtNTdiOTYxZDdiYWY3In0.FpdEkhpqWuK4XZiX9AfHXa8b3z4yDRyAaxU2bOosrTc
[2022-11-23T15:03:33Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T15:03:33Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:03:33Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc2MTMsImlhdCI6MTY2OTIxNTgxMywianRpIjoiNDgxMzgwY2YtYjRjYy00MWRiLWIxODQtMGFiMjNiMWQ4OWJiIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoidXlLVXcxTkVnXzdhQmVKckoxdnBzUSIsInNlc3Npb25fc3RhdGUiOiI5ZDRjYTczNy02NjYwLTQ0OTMtYjBjMy01N2I5NjFkN2JhZjciLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiOWQ0Y2E3MzctNjY2MC00NDkzLWIwYzMtNTdiOTYxZDdiYWY3In0.FpdEkhpqWuK4XZiX9AfHXa8b3z4yDRyAaxU2bOosrTc&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T15:03:33Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:03:33Z INFO  drogue_cloud_tests::resources::apps] Create application: f81c876a-5bb4-4dfb-8c02-e70044acd5b5
[2022-11-23T15:03:33Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;f81c876a-5bb4-4dfb-8c02-e70044acd5b5&quot;
[2022-11-23T15:03:34Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:03:34Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;f81c876a-5bb4-4dfb-8c02-e70044acd5b5&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:03:34Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;f81c876a-5bb4-4dfb-8c02-e70044acd5b5\&quot;,\n    \&quot;uid\&quot;: \&quot;f614abd8-f27f-4a27-90c4-3cf177e3603f\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:03:34.005175Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;8194bddc-7023-472c-84ef-ddbf8478b207\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:34.065475538Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:34.072906092Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:34.072942139Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:34.033467778Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:34.033468299Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:34.033575359Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:34.033620083Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:34.033599705Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:03:34Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;f81c876a-5bb4-4dfb-8c02-e70044acd5b5&quot;), &quot;uid&quot;: String(&quot;f614abd8-f27f-4a27-90c4-3cf177e3603f&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:03:34.005175Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;8194bddc-7023-472c-84ef-ddbf8478b207&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:34.065475538Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:34.072906092Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:34.072942139Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:34.033467778Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:34.033468299Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:34.033575359Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:34.033620083Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:34.033599705Z&quot;)}]}}
[2022-11-23T15:03:34Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-11-23T15:03:35Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;f81c876a-5bb4-4dfb-8c02-e70044acd5b5&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:03:35Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;f81c876a-5bb4-4dfb-8c02-e70044acd5b5\&quot;,\n    \&quot;uid\&quot;: \&quot;f614abd8-f27f-4a27-90c4-3cf177e3603f\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:03:34.005175Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;d3971ff5-ee44-4186-8f72-913a36040edb\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;V7PhtfDdz3wt\&quot;,\n        \&quot;username\&quot;: \&quot;user-f81c876a-5bb4-4dfb-8c02-e70044acd5b5\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:34.065475538Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:34.072906092Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:34.144370030Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:34.151387841Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:34.291692971Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:34.291710965Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:34.291801995Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:34.291738807Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:03:35Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;f81c876a-5bb4-4dfb-8c02-e70044acd5b5&quot;), &quot;uid&quot;: String(&quot;f614abd8-f27f-4a27-90c4-3cf177e3603f&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:03:34.005175Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;d3971ff5-ee44-4186-8f72-913a36040edb&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;V7PhtfDdz3wt&quot;), &quot;username&quot;: String(&quot;user-f81c876a-5bb4-4dfb-8c02-e70044acd5b5&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:34.065475538Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:34.072906092Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:34.144370030Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:34.151387841Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:34.291692971Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:34.291710965Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:34.291801995Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:34.291738807Z&quot;)}]}}
[2022-11-23T15:03:35Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-11-23T15:03:35Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;f81c876a-5bb4-4dfb-8c02-e70044acd5b5&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:03:35Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;f81c876a-5bb4-4dfb-8c02-e70044acd5b5\&quot;,\n    \&quot;uid\&quot;: \&quot;f614abd8-f27f-4a27-90c4-3cf177e3603f\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:03:34.005175Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;d3971ff5-ee44-4186-8f72-913a36040edb\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;V7PhtfDdz3wt\&quot;,\n        \&quot;username\&quot;: \&quot;user-f81c876a-5bb4-4dfb-8c02-e70044acd5b5\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:34.065475538Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:34.072906092Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:34.144370030Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:34.151387841Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:34.291692971Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:34.291710965Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:34.291801995Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:34.291738807Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:03:35Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;f81c876a-5bb4-4dfb-8c02-e70044acd5b5&quot;), &quot;uid&quot;: String(&quot;f614abd8-f27f-4a27-90c4-3cf177e3603f&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:03:34.005175Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;d3971ff5-ee44-4186-8f72-913a36040edb&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;V7PhtfDdz3wt&quot;), &quot;username&quot;: String(&quot;user-f81c876a-5bb4-4dfb-8c02-e70044acd5b5&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:34.065475538Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:34.072906092Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:34.144370030Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:34.151387841Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:34.291692971Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:34.291710965Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:34.291801995Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:34.291738807Z&quot;)}]}}
[2022-11-23T15:03:35Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-11-23T15:03:35Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-11-23T15:03:35Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;f81c876a-5bb4-4dfb-8c02-e70044acd5b5&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-11-23T15:03:35Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:03:35Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-11-23T15:03:35Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;f81c876a-5bb4-4dfb-8c02-e70044acd5b5&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-11-23T15:03:35Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:03:35Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T15:03:35Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:03:35Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T15:03:35Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTYxMTMsImlhdCI6MTY2OTIxNTgxMywiYXV0aF90aW1lIjoxNjY5MjE1ODEwLCJqdGkiOiIzZjc3OWE2Yi0xMTMxLTQ0OGUtOWVmOC0zNzQyM2IwNDZlNTQiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InV5S1V3MU5FZ183YUJlSnJKMXZwc1EiLCJzZXNzaW9uX3N0YXRlIjoiOWQ0Y2E3MzctNjY2MC00NDkzLWIwYzMtNTdiOTYxZDdiYWY3IiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjlkNGNhNzM3LTY2NjAtNDQ5My1iMGMzLTU3Yjk2MWQ3YmFmNyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.YEGy2hD8TTo5XYun9ka1rtbKrR1Sma3ROvJQl3smymFskdpcPs3TD7PIrbNH1vsl7JJoK01AKS5Hs8M6FxFGF0TjVXKAjxasCzV4vQvPLran94NgXv5pEhlwHTXxhsr5_tVIyc07EE8E8fwcYcZHi6YLmmbsUZHarDccfzRrk_V7WZNh5Zi-GaWBzALePNKPNH40WT9lAXM_NZX8mWnBwTJ9rK1GjdrV7kT8Q9JGgOwa61ZNNmCTt8KiZqKi4z0tyAycy8z1UIDRV0VZscTzX55qxvIq1XqFI4vpShYPKNV5EBjdh2KB8xKVeYMqI9FvGLiry2-c7BJAHP8zWWyn2w\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:03:35Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:03:35Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-11-23T15:03:35Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;f81c876a-5bb4-4dfb-8c02-e70044acd5b5&quot; &quot;device1&quot;
[2022-11-23T15:03:35Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:03:35Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-11-23T15:03:35Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;f81c876a-5bb4-4dfb-8c02-e70044acd5b5&quot; &quot;gateway1&quot;
[2022-11-23T15:03:35Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:03:35Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;f81c876a-5bb4-4dfb-8c02-e70044acd5b5&#x27;
[2022-11-23T15:03:35Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;f81c876a-5bb4-4dfb-8c02-e70044acd5b5&quot;
[2022-11-23T15:03:35Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_2::integration_version_1::integration_ws_1

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T15:03:37Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T15:03:37Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:03:37Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:03:37Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:03:38Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T15:03:40Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T15:03:40Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:03:40Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:03:41Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc2MjEsImlhdCI6MTY2OTIxNTgyMSwianRpIjoiMDFmYmNmNmItNGQyNC00OThmLThjNTItODc0YzliZTU0ZTNjIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiZTFESWtYYmFZRFR2NXFQQ25MZnctZyIsInNlc3Npb25fc3RhdGUiOiIzMWVjMzNlOS0zYTE5LTRjYTQtOTBhZS1hMzNiMDRlN2I4ZDQiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMzFlYzMzZTktM2ExOS00Y2E0LTkwYWUtYTMzYjA0ZTdiOGQ0In0.YDofkrI0P0sYhASYXQ9HaEHoU5dyitGDWhyWDkwF4gA
[2022-11-23T15:03:41Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T15:03:41Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:03:41Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc2MjEsImlhdCI6MTY2OTIxNTgyMSwianRpIjoiMDFmYmNmNmItNGQyNC00OThmLThjNTItODc0YzliZTU0ZTNjIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiZTFESWtYYmFZRFR2NXFQQ25MZnctZyIsInNlc3Npb25fc3RhdGUiOiIzMWVjMzNlOS0zYTE5LTRjYTQtOTBhZS1hMzNiMDRlN2I4ZDQiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMzFlYzMzZTktM2ExOS00Y2E0LTkwYWUtYTMzYjA0ZTdiOGQ0In0.YDofkrI0P0sYhASYXQ9HaEHoU5dyitGDWhyWDkwF4gA&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T15:03:42Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:03:42Z INFO  drogue_cloud_tests::resources::apps] Create application: c35f0533-1b18-4b9e-8309-22ba3cabeee4
[2022-11-23T15:03:42Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;c35f0533-1b18-4b9e-8309-22ba3cabeee4&quot;
[2022-11-23T15:03:42Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:03:42Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;c35f0533-1b18-4b9e-8309-22ba3cabeee4&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:03:42Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;c35f0533-1b18-4b9e-8309-22ba3cabeee4\&quot;,\n    \&quot;uid\&quot;: \&quot;7b37b593-e18c-4f3f-be4f-d56cb6a1f6d5\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:03:42.673422Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;d055e68a-0020-4ab1-8492-9f4d505759fc\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:42.718691401Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:42.726298505Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:42.726334773Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:42.694343453Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:42.694344295Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:42.694354674Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:42.694399428Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:42.694376575Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:03:42Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;c35f0533-1b18-4b9e-8309-22ba3cabeee4&quot;), &quot;uid&quot;: String(&quot;7b37b593-e18c-4f3f-be4f-d56cb6a1f6d5&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:03:42.673422Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;d055e68a-0020-4ab1-8492-9f4d505759fc&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:42.718691401Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:42.726298505Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:42.726334773Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:42.694343453Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:42.694344295Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:42.694354674Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:42.694399428Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:42.694376575Z&quot;)}]}}
[2022-11-23T15:03:42Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-11-23T15:03:43Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;c35f0533-1b18-4b9e-8309-22ba3cabeee4&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:03:43Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;c35f0533-1b18-4b9e-8309-22ba3cabeee4\&quot;,\n    \&quot;uid\&quot;: \&quot;7b37b593-e18c-4f3f-be4f-d56cb6a1f6d5\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:03:42.673422Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;755ddfbd-7a0c-41cc-9e46-9b9b1f63e67c\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;onBIiOAmoN56\&quot;,\n        \&quot;username\&quot;: \&quot;user-c35f0533-1b18-4b9e-8309-22ba3cabeee4\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:42.718691401Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:42.726298505Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:42.812729499Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:42.819393299Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:42.976391044Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:42.976408717Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:42.976601087Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:42.976435706Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:03:43Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;c35f0533-1b18-4b9e-8309-22ba3cabeee4&quot;), &quot;uid&quot;: String(&quot;7b37b593-e18c-4f3f-be4f-d56cb6a1f6d5&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:03:42.673422Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;755ddfbd-7a0c-41cc-9e46-9b9b1f63e67c&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;onBIiOAmoN56&quot;), &quot;username&quot;: String(&quot;user-c35f0533-1b18-4b9e-8309-22ba3cabeee4&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:42.718691401Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:42.726298505Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:42.812729499Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:42.819393299Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:42.976391044Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:42.976408717Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:42.976601087Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:42.976435706Z&quot;)}]}}
[2022-11-23T15:03:43Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-11-23T15:03:43Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;c35f0533-1b18-4b9e-8309-22ba3cabeee4&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:03:43Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;c35f0533-1b18-4b9e-8309-22ba3cabeee4\&quot;,\n    \&quot;uid\&quot;: \&quot;7b37b593-e18c-4f3f-be4f-d56cb6a1f6d5\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:03:42.673422Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;755ddfbd-7a0c-41cc-9e46-9b9b1f63e67c\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;onBIiOAmoN56\&quot;,\n        \&quot;username\&quot;: \&quot;user-c35f0533-1b18-4b9e-8309-22ba3cabeee4\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:42.718691401Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:42.726298505Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:42.812729499Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:42.819393299Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:42.976391044Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:42.976408717Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:42.976601087Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:42.976435706Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:03:43Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;c35f0533-1b18-4b9e-8309-22ba3cabeee4&quot;), &quot;uid&quot;: String(&quot;7b37b593-e18c-4f3f-be4f-d56cb6a1f6d5&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:03:42.673422Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;755ddfbd-7a0c-41cc-9e46-9b9b1f63e67c&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;onBIiOAmoN56&quot;), &quot;username&quot;: String(&quot;user-c35f0533-1b18-4b9e-8309-22ba3cabeee4&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:42.718691401Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:42.726298505Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:42.812729499Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:42.819393299Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:42.976391044Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:42.976408717Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:42.976601087Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:42.976435706Z&quot;)}]}}
[2022-11-23T15:03:43Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-11-23T15:03:43Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-11-23T15:03:43Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;c35f0533-1b18-4b9e-8309-22ba3cabeee4&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-11-23T15:03:43Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:03:43Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-11-23T15:03:43Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;c35f0533-1b18-4b9e-8309-22ba3cabeee4&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-11-23T15:03:44Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:03:44Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T15:03:44Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:03:44Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T15:03:44Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTYxMjIsImlhdCI6MTY2OTIxNTgyMiwiYXV0aF90aW1lIjoxNjY5MjE1ODE5LCJqdGkiOiJjNTliYWNlZi04OTU3LTQzZDUtYTMzNy0xNDdlZTUwY2I4ZDQiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImUxRElrWGJhWURUdjVxUENuTGZ3LWciLCJzZXNzaW9uX3N0YXRlIjoiMzFlYzMzZTktM2ExOS00Y2E0LTkwYWUtYTMzYjA0ZTdiOGQ0IiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjMxZWMzM2U5LTNhMTktNGNhNC05MGFlLWEzM2IwNGU3YjhkNCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.av2MFT3eNGqQPVZypuTqyzU10eSOhUsnDxW-5T0DprXbYtDhS-i2lGMM_nV9RTQQ-1v6lr3H3PIqvN9zHwh9AWrTSPd-nMPC41NzikWWfJAxrb5wfa-FlSD16gOgXHAIK5I-pNRx01Bc-Th_nL0kdrSKHx9tfX7cIlAGYvHHNIJk5X7VazKwx4f-9Sy9T4CZLfTz28p8c3VYeLOMymomxfnI_PC23DZRWJ5sIXkp9ny1Cetwu3MPdtaRecpSXs9zAa6Q9pl7_17xIfzhOpiN910triVobVWhKI_8GLmlKOLZzadDLO5XPY11RyAyd_dM1-EsViGoD1hbXhQTopLmuw\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:03:44Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:03:44Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-11-23T15:03:44Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;c35f0533-1b18-4b9e-8309-22ba3cabeee4&quot; &quot;device1&quot;
[2022-11-23T15:03:44Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:03:44Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-11-23T15:03:44Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;c35f0533-1b18-4b9e-8309-22ba3cabeee4&quot; &quot;gateway1&quot;
[2022-11-23T15:03:44Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:03:44Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;c35f0533-1b18-4b9e-8309-22ba3cabeee4&#x27;
[2022-11-23T15:03:44Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;c35f0533-1b18-4b9e-8309-22ba3cabeee4&quot;
[2022-11-23T15:03:44Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_2::integration_version_1::integration_ws_2

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T15:03:46Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T15:03:46Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:03:46Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:03:46Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:03:47Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T15:03:48Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T15:03:48Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:03:48Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:03:50Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc2MzAsImlhdCI6MTY2OTIxNTgzMCwianRpIjoiOWU4NGQxYWYtOGVmNy00MGMxLWFhNTQtYjQwMmUxZWI1MGI1IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiNm5IQURLdU9vMVZ3dkRVSFVrcExldyIsInNlc3Npb25fc3RhdGUiOiJkZDQ1ODIyMS01NTk1LTQ4OTQtYjg3My1iMzIxNTlkMzA0YmMiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiZGQ0NTgyMjEtNTU5NS00ODk0LWI4NzMtYjMyMTU5ZDMwNGJjIn0.mm3_Fq2sus_MflC1WLEW96Cn2rKqRp1ZYLNxrfC6tyQ
[2022-11-23T15:03:50Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T15:03:50Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:03:50Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc2MzAsImlhdCI6MTY2OTIxNTgzMCwianRpIjoiOWU4NGQxYWYtOGVmNy00MGMxLWFhNTQtYjQwMmUxZWI1MGI1IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiNm5IQURLdU9vMVZ3dkRVSFVrcExldyIsInNlc3Npb25fc3RhdGUiOiJkZDQ1ODIyMS01NTk1LTQ4OTQtYjg3My1iMzIxNTlkMzA0YmMiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiZGQ0NTgyMjEtNTU5NS00ODk0LWI4NzMtYjMyMTU5ZDMwNGJjIn0.mm3_Fq2sus_MflC1WLEW96Cn2rKqRp1ZYLNxrfC6tyQ&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T15:03:50Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:03:51Z INFO  drogue_cloud_tests::resources::apps] Create application: fb4a5cdb-3f71-4ffc-b5f0-e39896969ff5
[2022-11-23T15:03:51Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;fb4a5cdb-3f71-4ffc-b5f0-e39896969ff5&quot;
[2022-11-23T15:03:51Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:03:51Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;fb4a5cdb-3f71-4ffc-b5f0-e39896969ff5&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:03:51Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;fb4a5cdb-3f71-4ffc-b5f0-e39896969ff5\&quot;,\n    \&quot;uid\&quot;: \&quot;2ace3e2a-9fd7-4bb0-8d82-2e57904e2dc6\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:03:51.258069Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;72b7fedb-9ceb-46ea-8563-e74434020987\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:51.298303403Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:51.303717574Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:51.303752069Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:51.271450748Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:51.271451840Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:51.271464504Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:51.271504678Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:51.271548771Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:03:51Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;fb4a5cdb-3f71-4ffc-b5f0-e39896969ff5&quot;), &quot;uid&quot;: String(&quot;2ace3e2a-9fd7-4bb0-8d82-2e57904e2dc6&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:03:51.258069Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;72b7fedb-9ceb-46ea-8563-e74434020987&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:51.298303403Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:51.303717574Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:51.303752069Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:51.271450748Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:51.271451840Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:51.271464504Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:51.271504678Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:51.271548771Z&quot;)}]}}
[2022-11-23T15:03:51Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-11-23T15:03:52Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;fb4a5cdb-3f71-4ffc-b5f0-e39896969ff5&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:03:52Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;fb4a5cdb-3f71-4ffc-b5f0-e39896969ff5\&quot;,\n    \&quot;uid\&quot;: \&quot;2ace3e2a-9fd7-4bb0-8d82-2e57904e2dc6\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:03:51.258069Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;f2a1d10e-d921-4a8e-8664-a3ffe535e579\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;uPfeM9Geacy2\&quot;,\n        \&quot;username\&quot;: \&quot;user-fb4a5cdb-3f71-4ffc-b5f0-e39896969ff5\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:51.298303403Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:51.303717574Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:51.363075652Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:51.369041194Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:51.493786581Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:51.493801840Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:51.493830062Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:51.493909811Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:03:52Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;fb4a5cdb-3f71-4ffc-b5f0-e39896969ff5&quot;), &quot;uid&quot;: String(&quot;2ace3e2a-9fd7-4bb0-8d82-2e57904e2dc6&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:03:51.258069Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;f2a1d10e-d921-4a8e-8664-a3ffe535e579&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;uPfeM9Geacy2&quot;), &quot;username&quot;: String(&quot;user-fb4a5cdb-3f71-4ffc-b5f0-e39896969ff5&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:51.298303403Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:51.303717574Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:51.363075652Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:51.369041194Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:51.493786581Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:51.493801840Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:51.493830062Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:51.493909811Z&quot;)}]}}
[2022-11-23T15:03:52Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-11-23T15:03:52Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;fb4a5cdb-3f71-4ffc-b5f0-e39896969ff5&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:03:52Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;fb4a5cdb-3f71-4ffc-b5f0-e39896969ff5\&quot;,\n    \&quot;uid\&quot;: \&quot;2ace3e2a-9fd7-4bb0-8d82-2e57904e2dc6\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:03:51.258069Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;f2a1d10e-d921-4a8e-8664-a3ffe535e579\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;uPfeM9Geacy2\&quot;,\n        \&quot;username\&quot;: \&quot;user-fb4a5cdb-3f71-4ffc-b5f0-e39896969ff5\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:51.298303403Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:51.303717574Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:51.363075652Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:51.369041194Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:51.493786581Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:51.493801840Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:51.493830062Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:51.493909811Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:03:52Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;fb4a5cdb-3f71-4ffc-b5f0-e39896969ff5&quot;), &quot;uid&quot;: String(&quot;2ace3e2a-9fd7-4bb0-8d82-2e57904e2dc6&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:03:51.258069Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;f2a1d10e-d921-4a8e-8664-a3ffe535e579&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;uPfeM9Geacy2&quot;), &quot;username&quot;: String(&quot;user-fb4a5cdb-3f71-4ffc-b5f0-e39896969ff5&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:51.298303403Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:51.303717574Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:51.363075652Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:51.369041194Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:51.493786581Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:51.493801840Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:51.493830062Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:51.493909811Z&quot;)}]}}
[2022-11-23T15:03:52Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-11-23T15:03:52Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-11-23T15:03:52Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;fb4a5cdb-3f71-4ffc-b5f0-e39896969ff5&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-11-23T15:03:52Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:03:52Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-11-23T15:03:52Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;fb4a5cdb-3f71-4ffc-b5f0-e39896969ff5&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-11-23T15:03:52Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:03:52Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T15:03:52Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:03:52Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T15:03:52Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTYxMzAsImlhdCI6MTY2OTIxNTgzMCwiYXV0aF90aW1lIjoxNjY5MjE1ODI3LCJqdGkiOiJhYWY1ZDVhOS00ODA2LTQ5YTctODU2OC01MTc3MzgyYWU2MmUiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IjZuSEFES3VPbzFWd3ZEVUhVa3BMZXciLCJzZXNzaW9uX3N0YXRlIjoiZGQ0NTgyMjEtNTU5NS00ODk0LWI4NzMtYjMyMTU5ZDMwNGJjIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImRkNDU4MjIxLTU1OTUtNDg5NC1iODczLWIzMjE1OWQzMDRiYyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.c_lFCEx-MSb_7SU3IYz8AIzWY4gTzgSrA-xxy5iq9YPwXr2c-TCyUOhNKBFZBAATHslQjwWWZ_TIl-naeSZy6B74wjW2UkKZBrSkMdyoJbmUzMCZ7CCF0-jnNBSQIDsHcCkQoQ-wJ4N2uEqKAqgoCtRFFlHMFLX-oagxOlteqzyRZR-PII3NOgr_FUKU0mhEAv9JZwGUxU9-WqWhtCFoUmhIv8QAjq6Amgmz9i53GyBmRS6Ncgbz-STQNpJavsWkQGqZT5ugZlhH1mEzWSX91ks4FFPFFtBDsvEm6ATwzQAh2iGuItGHzYuwXGStpClBAOpJCPCiicucKqD-CECyWw\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:03:52Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:03:52Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-11-23T15:03:52Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;fb4a5cdb-3f71-4ffc-b5f0-e39896969ff5&quot; &quot;device1&quot;
[2022-11-23T15:03:52Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:03:52Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-11-23T15:03:52Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;fb4a5cdb-3f71-4ffc-b5f0-e39896969ff5&quot; &quot;gateway1&quot;
[2022-11-23T15:03:52Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:03:52Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;fb4a5cdb-3f71-4ffc-b5f0-e39896969ff5&#x27;
[2022-11-23T15:03:52Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;fb4a5cdb-3f71-4ffc-b5f0-e39896969ff5&quot;
[2022-11-23T15:03:52Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_2::integration_version_2::integration_ws_1

**Duration**: 9s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T15:03:55Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T15:03:55Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:03:55Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:03:55Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:03:55Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T15:03:57Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T15:03:57Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:03:57Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:03:59Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc2MzgsImlhdCI6MTY2OTIxNTgzOCwianRpIjoiNDE4ZmVhNzEtNjVlNC00ZmJkLWJjYTctZTMxYjQxNDZlNTUxIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoicEFFZUt2UDlBZm9jR2gtZEFyNXZBdyIsInNlc3Npb25fc3RhdGUiOiJkN2VlN2FlZi0wMmQyLTRkOWQtYTFkNi05ZTM0YTg3MDBmMzQiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiZDdlZTdhZWYtMDJkMi00ZDlkLWExZDYtOWUzNGE4NzAwZjM0In0.6pfMXrtjddQ8yAC5SivpRtW35mhVKl78CI4hE9gFvj0
[2022-11-23T15:03:59Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T15:03:59Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:03:59Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc2MzgsImlhdCI6MTY2OTIxNTgzOCwianRpIjoiNDE4ZmVhNzEtNjVlNC00ZmJkLWJjYTctZTMxYjQxNDZlNTUxIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoicEFFZUt2UDlBZm9jR2gtZEFyNXZBdyIsInNlc3Npb25fc3RhdGUiOiJkN2VlN2FlZi0wMmQyLTRkOWQtYTFkNi05ZTM0YTg3MDBmMzQiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiZDdlZTdhZWYtMDJkMi00ZDlkLWExZDYtOWUzNGE4NzAwZjM0In0.6pfMXrtjddQ8yAC5SivpRtW35mhVKl78CI4hE9gFvj0&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T15:03:59Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:03:59Z INFO  drogue_cloud_tests::resources::apps] Create application: 6f14e9c1-ac7e-4e53-819a-a7603b613fd5
[2022-11-23T15:03:59Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;6f14e9c1-ac7e-4e53-819a-a7603b613fd5&quot;
[2022-11-23T15:03:59Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:03:59Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;6f14e9c1-ac7e-4e53-819a-a7603b613fd5&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:03:59Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;6f14e9c1-ac7e-4e53-819a-a7603b613fd5\&quot;,\n    \&quot;uid\&quot;: \&quot;44bed3d0-27e8-4d2d-8014-e326bd27aef7\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:03:59.888610Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;c9bbd0ed-ec0a-4b11-be75-1baa9cd56641\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:59.943838507Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:59.949706146Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:59.949737675Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:59.913841808Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:59.913842438Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:59.913894296Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:59.913991668Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:59.913917179Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:03:59Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;6f14e9c1-ac7e-4e53-819a-a7603b613fd5&quot;), &quot;uid&quot;: String(&quot;44bed3d0-27e8-4d2d-8014-e326bd27aef7&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:03:59.888610Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;c9bbd0ed-ec0a-4b11-be75-1baa9cd56641&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:59.943838507Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:59.949706146Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:59.949737675Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:59.913841808Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:59.913842438Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:59.913894296Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:59.913991668Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:59.913917179Z&quot;)}]}}
[2022-11-23T15:03:59Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-11-23T15:04:00Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;6f14e9c1-ac7e-4e53-819a-a7603b613fd5&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:04:01Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;6f14e9c1-ac7e-4e53-819a-a7603b613fd5\&quot;,\n    \&quot;uid\&quot;: \&quot;44bed3d0-27e8-4d2d-8014-e326bd27aef7\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:03:59.888610Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;bd89639d-9829-4a66-b6a5-feadd3a1153a\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;x5fnSNDGxhcB\&quot;,\n        \&quot;username\&quot;: \&quot;user-6f14e9c1-ac7e-4e53-819a-a7603b613fd5\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:59.943838507Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:59.949706146Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:00.072823247Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:00.086994854Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:00.226728759Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:00.226744759Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:00.226977364Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:00.226917061Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:04:01Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;6f14e9c1-ac7e-4e53-819a-a7603b613fd5&quot;), &quot;uid&quot;: String(&quot;44bed3d0-27e8-4d2d-8014-e326bd27aef7&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:03:59.888610Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;bd89639d-9829-4a66-b6a5-feadd3a1153a&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;x5fnSNDGxhcB&quot;), &quot;username&quot;: String(&quot;user-6f14e9c1-ac7e-4e53-819a-a7603b613fd5&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:59.943838507Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:59.949706146Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:00.072823247Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:00.086994854Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:00.226728759Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:00.226744759Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:00.226977364Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:00.226917061Z&quot;)}]}}
[2022-11-23T15:04:01Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-11-23T15:04:01Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;6f14e9c1-ac7e-4e53-819a-a7603b613fd5&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:04:01Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;6f14e9c1-ac7e-4e53-819a-a7603b613fd5\&quot;,\n    \&quot;uid\&quot;: \&quot;44bed3d0-27e8-4d2d-8014-e326bd27aef7\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:03:59.888610Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;bd89639d-9829-4a66-b6a5-feadd3a1153a\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;x5fnSNDGxhcB\&quot;,\n        \&quot;username\&quot;: \&quot;user-6f14e9c1-ac7e-4e53-819a-a7603b613fd5\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:59.943838507Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:03:59.949706146Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:00.072823247Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:00.086994854Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:00.226728759Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:00.226744759Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:00.226977364Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:00.226917061Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:04:01Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;6f14e9c1-ac7e-4e53-819a-a7603b613fd5&quot;), &quot;uid&quot;: String(&quot;44bed3d0-27e8-4d2d-8014-e326bd27aef7&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:03:59.888610Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;bd89639d-9829-4a66-b6a5-feadd3a1153a&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;x5fnSNDGxhcB&quot;), &quot;username&quot;: String(&quot;user-6f14e9c1-ac7e-4e53-819a-a7603b613fd5&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:59.943838507Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:03:59.949706146Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:00.072823247Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:00.086994854Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:00.226728759Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:00.226744759Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:00.226977364Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:00.226917061Z&quot;)}]}}
[2022-11-23T15:04:01Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-11-23T15:04:01Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-11-23T15:04:01Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;6f14e9c1-ac7e-4e53-819a-a7603b613fd5&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-11-23T15:04:01Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:04:01Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-11-23T15:04:01Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;6f14e9c1-ac7e-4e53-819a-a7603b613fd5&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-11-23T15:04:01Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:04:01Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T15:04:01Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:04:01Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T15:04:01Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTYxMzksImlhdCI6MTY2OTIxNTgzOSwiYXV0aF90aW1lIjoxNjY5MjE1ODM2LCJqdGkiOiI4NzFmYjYzMi1jYzllLTRlZWYtOGE1ZS0zY2Y1M2E0OWU0OGUiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InBBRWVLdlA5QWZvY0doLWRBcjV2QXciLCJzZXNzaW9uX3N0YXRlIjoiZDdlZTdhZWYtMDJkMi00ZDlkLWExZDYtOWUzNGE4NzAwZjM0IiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImQ3ZWU3YWVmLTAyZDItNGQ5ZC1hMWQ2LTllMzRhODcwMGYzNCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.OjK7y4TzB2MpQ7QAzmufZ69z7Dq7HcDl0dNYmaeOD-qAC6VJ9ktzxCVryN2iw7McDkHGi8IJkv9pNHDUK1v8EmqjlRBbDDg2sS4d8V1hq9viPFjkhsa5WtHrPp6bZ5t-31xi3FpPYoK4UeycX7DSGuMc3Z60OrDV5zXU_Qj7Hvr_FN-y-i0-SSxKAuucjQOOT06DWN1UPb3oaJXnqcAp73FnyuI9AR__EO8o7wbkcseyl4nDKRC57bXD-vefMJAYDjl0JtRYpd-lmRv77MEun91jXsFAjz8zyQfzoolkQih-3-CXm_hJmr2cku-zHpur_2WK9m5xBkVNVoz-QKaGBA\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:04:01Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:04:01Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-11-23T15:04:01Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;6f14e9c1-ac7e-4e53-819a-a7603b613fd5&quot; &quot;device1&quot;
[2022-11-23T15:04:02Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:04:02Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-11-23T15:04:02Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;6f14e9c1-ac7e-4e53-819a-a7603b613fd5&quot; &quot;gateway1&quot;
[2022-11-23T15:04:02Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:04:02Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;6f14e9c1-ac7e-4e53-819a-a7603b613fd5&#x27;
[2022-11-23T15:04:02Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;6f14e9c1-ac7e-4e53-819a-a7603b613fd5&quot;
[2022-11-23T15:04:02Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_2::integration_version_2::integration_ws_2

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T15:04:04Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T15:04:04Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:04:04Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:04:04Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:04:05Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T15:04:07Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T15:04:07Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:04:07Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:04:08Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc2NDgsImlhdCI6MTY2OTIxNTg0OCwianRpIjoiYWQxZjFhYjktMzI2ZC00YzhkLTlhMjYtMzYxNzUyZWZhODY3IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiSllRUEZ1dmVJVTZ2UklPN05CV05jZyIsInNlc3Npb25fc3RhdGUiOiIzNTRjNDdhZC04YmE4LTQ3MWEtYmM3NC0xOWE0YWFlMjFkMzkiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMzU0YzQ3YWQtOGJhOC00NzFhLWJjNzQtMTlhNGFhZTIxZDM5In0._VxjuoRlqhPm0Em_dflgI_1AzNeFaxi-n4EBucv9lWo
[2022-11-23T15:04:08Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T15:04:08Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:04:08Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc2NDgsImlhdCI6MTY2OTIxNTg0OCwianRpIjoiYWQxZjFhYjktMzI2ZC00YzhkLTlhMjYtMzYxNzUyZWZhODY3IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiSllRUEZ1dmVJVTZ2UklPN05CV05jZyIsInNlc3Npb25fc3RhdGUiOiIzNTRjNDdhZC04YmE4LTQ3MWEtYmM3NC0xOWE0YWFlMjFkMzkiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMzU0YzQ3YWQtOGJhOC00NzFhLWJjNzQtMTlhNGFhZTIxZDM5In0._VxjuoRlqhPm0Em_dflgI_1AzNeFaxi-n4EBucv9lWo&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T15:04:09Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:04:09Z INFO  drogue_cloud_tests::resources::apps] Create application: 9b2817b4-68d0-4e7f-906c-0d2eb0f4ab9f
[2022-11-23T15:04:09Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;9b2817b4-68d0-4e7f-906c-0d2eb0f4ab9f&quot;
[2022-11-23T15:04:09Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:04:09Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;9b2817b4-68d0-4e7f-906c-0d2eb0f4ab9f&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:04:09Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;9b2817b4-68d0-4e7f-906c-0d2eb0f4ab9f\&quot;,\n    \&quot;uid\&quot;: \&quot;94ebd3da-6d37-4faa-83d9-9e1f065e9b3f\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:04:09.777716Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;3228ec75-fc86-47bb-8d71-f98979a43870\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:09.803624025Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:09.803624867Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:09.803625237Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:09.803625649Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:09.803626180Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:09.803631159Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:09.803673077Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: HasFinalizer\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:09.803653541Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:04:09Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;9b2817b4-68d0-4e7f-906c-0d2eb0f4ab9f&quot;), &quot;uid&quot;: String(&quot;94ebd3da-6d37-4faa-83d9-9e1f065e9b3f&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:04:09.777716Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;3228ec75-fc86-47bb-8d71-f98979a43870&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:09.803624025Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:09.803624867Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:09.803625237Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:09.803625649Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:09.803626180Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:09.803631159Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:09.803673077Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: HasFinalizer&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:09.803653541Z&quot;)}]}}
[2022-11-23T15:04:09Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-11-23T15:04:10Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;9b2817b4-68d0-4e7f-906c-0d2eb0f4ab9f&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:04:10Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;9b2817b4-68d0-4e7f-906c-0d2eb0f4ab9f\&quot;,\n    \&quot;uid\&quot;: \&quot;94ebd3da-6d37-4faa-83d9-9e1f065e9b3f\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:04:09.777716Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;6aecc5e0-defc-4317-b12f-85bec70a8aab\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;Tqrz9pEUqvo0\&quot;,\n        \&quot;username\&quot;: \&quot;user-9b2817b4-68d0-4e7f-906c-0d2eb0f4ab9f\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:09.833932979Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:09.847060763Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:09.906131975Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:09.912566275Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:10.045971488Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:10.046011514Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:10.046152538Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:10.046046288Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:04:10Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;9b2817b4-68d0-4e7f-906c-0d2eb0f4ab9f&quot;), &quot;uid&quot;: String(&quot;94ebd3da-6d37-4faa-83d9-9e1f065e9b3f&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:04:09.777716Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;6aecc5e0-defc-4317-b12f-85bec70a8aab&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;Tqrz9pEUqvo0&quot;), &quot;username&quot;: String(&quot;user-9b2817b4-68d0-4e7f-906c-0d2eb0f4ab9f&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:09.833932979Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:09.847060763Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:09.906131975Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:09.912566275Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:10.045971488Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:10.046011514Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:10.046152538Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:10.046046288Z&quot;)}]}}
[2022-11-23T15:04:10Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-11-23T15:04:10Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;9b2817b4-68d0-4e7f-906c-0d2eb0f4ab9f&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:04:10Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;9b2817b4-68d0-4e7f-906c-0d2eb0f4ab9f\&quot;,\n    \&quot;uid\&quot;: \&quot;94ebd3da-6d37-4faa-83d9-9e1f065e9b3f\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:04:09.777716Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;6aecc5e0-defc-4317-b12f-85bec70a8aab\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;Tqrz9pEUqvo0\&quot;,\n        \&quot;username\&quot;: \&quot;user-9b2817b4-68d0-4e7f-906c-0d2eb0f4ab9f\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:09.833932979Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:09.847060763Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:09.906131975Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:09.912566275Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:10.045971488Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:10.046011514Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:10.046152538Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:10.046046288Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:04:10Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;9b2817b4-68d0-4e7f-906c-0d2eb0f4ab9f&quot;), &quot;uid&quot;: String(&quot;94ebd3da-6d37-4faa-83d9-9e1f065e9b3f&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:04:09.777716Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;6aecc5e0-defc-4317-b12f-85bec70a8aab&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;Tqrz9pEUqvo0&quot;), &quot;username&quot;: String(&quot;user-9b2817b4-68d0-4e7f-906c-0d2eb0f4ab9f&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:09.833932979Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:09.847060763Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:09.906131975Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:09.912566275Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:10.045971488Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:10.046011514Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:10.046152538Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:10.046046288Z&quot;)}]}}
[2022-11-23T15:04:10Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-11-23T15:04:10Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-11-23T15:04:10Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;9b2817b4-68d0-4e7f-906c-0d2eb0f4ab9f&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-11-23T15:04:11Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:04:11Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-11-23T15:04:11Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;9b2817b4-68d0-4e7f-906c-0d2eb0f4ab9f&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-11-23T15:04:11Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:04:11Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T15:04:11Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:04:11Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T15:04:11Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTYxNDksImlhdCI6MTY2OTIxNTg0OSwiYXV0aF90aW1lIjoxNjY5MjE1ODQ2LCJqdGkiOiIwY2RkNDkzNy1iZTBjLTRkZTItYjdmNi0yYzM5YWI1YmQ2ZjIiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IkpZUVBGdXZlSVU2dlJJTzdOQldOY2ciLCJzZXNzaW9uX3N0YXRlIjoiMzU0YzQ3YWQtOGJhOC00NzFhLWJjNzQtMTlhNGFhZTIxZDM5IiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjM1NGM0N2FkLThiYTgtNDcxYS1iYzc0LTE5YTRhYWUyMWQzOSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.Z7MUTp7x9wAJzUyjavE_dntJDpH61ogr29LhI1DziwJZ-Vr1H0QifWEKpl9WwR9so42V9U6lC42vpJ0-opuP9_oIBue25a-eOqGreLXtXXHtrxr21npNK46chc1LIZN4KJ0dYmElpk24aYhAYJS0Hr2UEA1a0rveZmozRn9zLND8gAsAw-SO_qKhhBLfABkk-HwPhmKbBWMa7c-pvp7FDlnILfZ6giN2L2uEvsKJ32dYRhPkeG21QLCqgNwgk7rJKJPS9zh5BIlhmxV5-bE86afaomzeP0VqrOaQMgDkj1Bwn95d8rOAbHdrRzuUoBzhh4Knl28U8eldIvgqOY-ZJQ\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:04:11Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:04:11Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-11-23T15:04:11Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;9b2817b4-68d0-4e7f-906c-0d2eb0f4ab9f&quot; &quot;device1&quot;
[2022-11-23T15:04:11Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:04:11Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-11-23T15:04:11Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;9b2817b4-68d0-4e7f-906c-0d2eb0f4ab9f&quot; &quot;gateway1&quot;
[2022-11-23T15:04:11Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:04:11Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;9b2817b4-68d0-4e7f-906c-0d2eb0f4ab9f&#x27;
[2022-11-23T15:04:11Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;9b2817b4-68d0-4e7f-906c-0d2eb0f4ab9f&quot;
[2022-11-23T15:04:11Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_2::integration_version_3::integration_ws_1

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T15:04:13Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T15:04:13Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:04:13Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:04:13Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:04:14Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T15:04:15Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T15:04:15Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:04:15Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:04:17Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc2NTcsImlhdCI6MTY2OTIxNTg1NywianRpIjoiYjRiMTY1OGUtZGMxYy00ZTlhLTk2ZmMtN2NiNDgzMDM2Y2E5IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiWC1NRHhOTkRfOXFWOG9pUEIzajNxZyIsInNlc3Npb25fc3RhdGUiOiI2OGFiM2IzMC03ODI5LTQwMjctODZjNy00NTFmMDlhNTAzMTQiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiNjhhYjNiMzAtNzgyOS00MDI3LTg2YzctNDUxZjA5YTUwMzE0In0.3K_SbNfGHaysQdqnJ1dgvYApUPXxpfaS8pLLJMiB18E
[2022-11-23T15:04:17Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T15:04:17Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:04:17Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc2NTcsImlhdCI6MTY2OTIxNTg1NywianRpIjoiYjRiMTY1OGUtZGMxYy00ZTlhLTk2ZmMtN2NiNDgzMDM2Y2E5IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiWC1NRHhOTkRfOXFWOG9pUEIzajNxZyIsInNlc3Npb25fc3RhdGUiOiI2OGFiM2IzMC03ODI5LTQwMjctODZjNy00NTFmMDlhNTAzMTQiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiNjhhYjNiMzAtNzgyOS00MDI3LTg2YzctNDUxZjA5YTUwMzE0In0.3K_SbNfGHaysQdqnJ1dgvYApUPXxpfaS8pLLJMiB18E&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T15:04:17Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:04:18Z INFO  drogue_cloud_tests::resources::apps] Create application: 4dd4b6cc-27cc-43e7-8a9f-07e98565e7cc
[2022-11-23T15:04:18Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;4dd4b6cc-27cc-43e7-8a9f-07e98565e7cc&quot;
[2022-11-23T15:04:18Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:04:18Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;4dd4b6cc-27cc-43e7-8a9f-07e98565e7cc&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:04:18Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;4dd4b6cc-27cc-43e7-8a9f-07e98565e7cc\&quot;,\n    \&quot;uid\&quot;: \&quot;e42563a4-7e47-4bad-90e2-35a425dfe645\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:04:18.283966Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;a09163e1-b0f3-4cff-9b5b-23ab8e72068f\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:18.323770102Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:18.330744903Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:18.330783425Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:18.296524662Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:18.296525483Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:18.296560168Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:18.296614009Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:18.296703987Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:04:18Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;4dd4b6cc-27cc-43e7-8a9f-07e98565e7cc&quot;), &quot;uid&quot;: String(&quot;e42563a4-7e47-4bad-90e2-35a425dfe645&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:04:18.283966Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;a09163e1-b0f3-4cff-9b5b-23ab8e72068f&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:18.323770102Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:18.330744903Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:18.330783425Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:18.296524662Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:18.296525483Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:18.296560168Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:18.296614009Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:18.296703987Z&quot;)}]}}
[2022-11-23T15:04:18Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-11-23T15:04:19Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;4dd4b6cc-27cc-43e7-8a9f-07e98565e7cc&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:04:19Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;4dd4b6cc-27cc-43e7-8a9f-07e98565e7cc\&quot;,\n    \&quot;uid\&quot;: \&quot;e42563a4-7e47-4bad-90e2-35a425dfe645\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:04:18.283966Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;9db4a413-c063-4ba7-aefc-e23fe4185221\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;ulvdo72kCMrA\&quot;,\n        \&quot;username\&quot;: \&quot;user-4dd4b6cc-27cc-43e7-8a9f-07e98565e7cc\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:18.323770102Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:18.330744903Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:18.400129093Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:18.406096750Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:18.550244496Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:18.550260536Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:18.550288699Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:18.550333192Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:04:19Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;4dd4b6cc-27cc-43e7-8a9f-07e98565e7cc&quot;), &quot;uid&quot;: String(&quot;e42563a4-7e47-4bad-90e2-35a425dfe645&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:04:18.283966Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;9db4a413-c063-4ba7-aefc-e23fe4185221&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;ulvdo72kCMrA&quot;), &quot;username&quot;: String(&quot;user-4dd4b6cc-27cc-43e7-8a9f-07e98565e7cc&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:18.323770102Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:18.330744903Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:18.400129093Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:18.406096750Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:18.550244496Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:18.550260536Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:18.550288699Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:18.550333192Z&quot;)}]}}
[2022-11-23T15:04:19Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-11-23T15:04:19Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;4dd4b6cc-27cc-43e7-8a9f-07e98565e7cc&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:04:19Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;4dd4b6cc-27cc-43e7-8a9f-07e98565e7cc\&quot;,\n    \&quot;uid\&quot;: \&quot;e42563a4-7e47-4bad-90e2-35a425dfe645\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:04:18.283966Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;9db4a413-c063-4ba7-aefc-e23fe4185221\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;ulvdo72kCMrA\&quot;,\n        \&quot;username\&quot;: \&quot;user-4dd4b6cc-27cc-43e7-8a9f-07e98565e7cc\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:18.323770102Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:18.330744903Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:18.400129093Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:18.406096750Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:18.550244496Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:18.550260536Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:18.550288699Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:18.550333192Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:04:19Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;4dd4b6cc-27cc-43e7-8a9f-07e98565e7cc&quot;), &quot;uid&quot;: String(&quot;e42563a4-7e47-4bad-90e2-35a425dfe645&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:04:18.283966Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;9db4a413-c063-4ba7-aefc-e23fe4185221&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;ulvdo72kCMrA&quot;), &quot;username&quot;: String(&quot;user-4dd4b6cc-27cc-43e7-8a9f-07e98565e7cc&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:18.323770102Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:18.330744903Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:18.400129093Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:18.406096750Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:18.550244496Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:18.550260536Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:18.550288699Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:18.550333192Z&quot;)}]}}
[2022-11-23T15:04:19Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-11-23T15:04:19Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-11-23T15:04:19Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;4dd4b6cc-27cc-43e7-8a9f-07e98565e7cc&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-11-23T15:04:19Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:04:19Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-11-23T15:04:19Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;4dd4b6cc-27cc-43e7-8a9f-07e98565e7cc&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-11-23T15:04:19Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:04:19Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T15:04:19Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:04:19Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T15:04:19Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTYxNTcsImlhdCI6MTY2OTIxNTg1NywiYXV0aF90aW1lIjoxNjY5MjE1ODU0LCJqdGkiOiI2MTlkMmM1Ni1lODc5LTQzYjItYmFiMy1mZGViNmMwOTE2NGIiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlgtTUR4Tk5EXzlxVjhvaVBCM2ozcWciLCJzZXNzaW9uX3N0YXRlIjoiNjhhYjNiMzAtNzgyOS00MDI3LTg2YzctNDUxZjA5YTUwMzE0IiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjY4YWIzYjMwLTc4MjktNDAyNy04NmM3LTQ1MWYwOWE1MDMxNCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.MNeBUUVxzMAiy1jE1WmSZgp6lpLBAcxbWsD1B80ou-0vbhfQBzBzcNBy4VV_jBeItPtpZt9QovVHYJalBNzjtu6vSACn3gjj5ixrlAYAjLmAQcJ-5QPl4n9tK-R61pmnSTHjFqKv4OLoHJVFhGqV0Oa0klFefP5FFcbAUhNcpRdLi1e5SSLBqCDlWIilbQK62udg25mjU6sGOJk_rxNH9aLfdM5jvd4DvzjDCGrhx4AgSVjoBRco9bFxn0rR_9mAnRjDPbyUMICqaOjAQkxPEboNAaq4ZYvKfA30MdZ7U8nncX6BE-Om5R1Wjvw9syu9_T3fiMnq-4cUgxHTbCeOFA\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:04:19Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:04:19Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-11-23T15:04:19Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;4dd4b6cc-27cc-43e7-8a9f-07e98565e7cc&quot; &quot;device1&quot;
[2022-11-23T15:04:19Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:04:19Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-11-23T15:04:19Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;4dd4b6cc-27cc-43e7-8a9f-07e98565e7cc&quot; &quot;gateway1&quot;
[2022-11-23T15:04:19Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:04:19Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;4dd4b6cc-27cc-43e7-8a9f-07e98565e7cc&#x27;
[2022-11-23T15:04:19Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;4dd4b6cc-27cc-43e7-8a9f-07e98565e7cc&quot;
[2022-11-23T15:04:19Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_gateway_pass::endpoint_version_3::endpoint_ws_2::integration_version_3::integration_ws_2

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T15:04:21Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T15:04:21Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:04:22Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:04:22Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:04:22Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T15:04:24Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T15:04:24Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:04:24Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:04:25Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc2NjUsImlhdCI6MTY2OTIxNTg2NSwianRpIjoiYThkMzRlZDctZDAwZi00YjFlLWJkZjAtMmJkZjIxZjUzZmQ0IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoibTBKYTlrcS1QSTAyYUh4WTBUSlN4USIsInNlc3Npb25fc3RhdGUiOiIzMWM1ODE0MC1jZmI2LTRhNzgtYjczYy02MDExM2QyNjE3OWQiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMzFjNTgxNDAtY2ZiNi00YTc4LWI3M2MtNjAxMTNkMjYxNzlkIn0.M1KitlQP_1tnTpFTgQ7q_VTTtE7fypvjjC9EIZqWsKE
[2022-11-23T15:04:25Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T15:04:25Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:04:25Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc2NjUsImlhdCI6MTY2OTIxNTg2NSwianRpIjoiYThkMzRlZDctZDAwZi00YjFlLWJkZjAtMmJkZjIxZjUzZmQ0IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoibTBKYTlrcS1QSTAyYUh4WTBUSlN4USIsInNlc3Npb25fc3RhdGUiOiIzMWM1ODE0MC1jZmI2LTRhNzgtYjczYy02MDExM2QyNjE3OWQiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMzFjNTgxNDAtY2ZiNi00YTc4LWI3M2MtNjAxMTNkMjYxNzlkIn0.M1KitlQP_1tnTpFTgQ7q_VTTtE7fypvjjC9EIZqWsKE&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T15:04:26Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:04:26Z INFO  drogue_cloud_tests::resources::apps] Create application: 84ebd4ff-7ecc-4cb6-9009-940247f72f01
[2022-11-23T15:04:26Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;84ebd4ff-7ecc-4cb6-9009-940247f72f01&quot;
[2022-11-23T15:04:26Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:04:26Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;84ebd4ff-7ecc-4cb6-9009-940247f72f01&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:04:26Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;84ebd4ff-7ecc-4cb6-9009-940247f72f01\&quot;,\n    \&quot;uid\&quot;: \&quot;fc358476-dadc-4cd7-a5ac-ab493da020da\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:04:26.738843Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;8cdc9ced-ffe6-4d44-a0bc-992b87348baa\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:26.799436434Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:26.804195478Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:26.804230244Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:26.751236332Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:26.751237124Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:26.751275656Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:26.751312385Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:26.751368720Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:04:26Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;84ebd4ff-7ecc-4cb6-9009-940247f72f01&quot;), &quot;uid&quot;: String(&quot;fc358476-dadc-4cd7-a5ac-ab493da020da&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:04:26.738843Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;8cdc9ced-ffe6-4d44-a0bc-992b87348baa&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:26.799436434Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:26.804195478Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:26.804230244Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:26.751236332Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:26.751237124Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:26.751275656Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:26.751312385Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:26.751368720Z&quot;)}]}}
[2022-11-23T15:04:26Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-11-23T15:04:27Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;84ebd4ff-7ecc-4cb6-9009-940247f72f01&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:04:27Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;84ebd4ff-7ecc-4cb6-9009-940247f72f01\&quot;,\n    \&quot;uid\&quot;: \&quot;fc358476-dadc-4cd7-a5ac-ab493da020da\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:04:26.738843Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;35806bae-e473-4153-b06c-4fc9cec6b96f\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;cdqLDyGhI5Mx\&quot;,\n        \&quot;username\&quot;: \&quot;user-84ebd4ff-7ecc-4cb6-9009-940247f72f01\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:26.799436434Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:26.804195478Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:26.866886124Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:26.872599135Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:27.007255452Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:27.007361089Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:27.007392538Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:27.007438034Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:04:27Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;84ebd4ff-7ecc-4cb6-9009-940247f72f01&quot;), &quot;uid&quot;: String(&quot;fc358476-dadc-4cd7-a5ac-ab493da020da&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:04:26.738843Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;35806bae-e473-4153-b06c-4fc9cec6b96f&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;cdqLDyGhI5Mx&quot;), &quot;username&quot;: String(&quot;user-84ebd4ff-7ecc-4cb6-9009-940247f72f01&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:26.799436434Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:26.804195478Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:26.866886124Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:26.872599135Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:27.007255452Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:27.007361089Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:27.007392538Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:27.007438034Z&quot;)}]}}
[2022-11-23T15:04:27Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-11-23T15:04:27Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;84ebd4ff-7ecc-4cb6-9009-940247f72f01&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:04:27Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;84ebd4ff-7ecc-4cb6-9009-940247f72f01\&quot;,\n    \&quot;uid\&quot;: \&quot;fc358476-dadc-4cd7-a5ac-ab493da020da\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:04:26.738843Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;35806bae-e473-4153-b06c-4fc9cec6b96f\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;cdqLDyGhI5Mx\&quot;,\n        \&quot;username\&quot;: \&quot;user-84ebd4ff-7ecc-4cb6-9009-940247f72f01\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:26.799436434Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:26.804195478Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:26.866886124Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:26.872599135Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:27.007255452Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:27.007361089Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:27.007392538Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:27.007438034Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:04:27Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;84ebd4ff-7ecc-4cb6-9009-940247f72f01&quot;), &quot;uid&quot;: String(&quot;fc358476-dadc-4cd7-a5ac-ab493da020da&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:04:26.738843Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;35806bae-e473-4153-b06c-4fc9cec6b96f&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;cdqLDyGhI5Mx&quot;), &quot;username&quot;: String(&quot;user-84ebd4ff-7ecc-4cb6-9009-940247f72f01&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:26.799436434Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:26.804195478Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:26.866886124Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:26.872599135Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:27.007255452Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:27.007361089Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:27.007392538Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:27.007438034Z&quot;)}]}}
[2022-11-23T15:04:27Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-11-23T15:04:27Z INFO  drogue_cloud_tests::resources::devices] Create device: gateway1
[2022-11-23T15:04:27Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;84ebd4ff-7ecc-4cb6-9009-940247f72f01&quot; &quot;gateway1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-11-23T15:04:28Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:04:28Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-11-23T15:04:28Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;84ebd4ff-7ecc-4cb6-9009-940247f72f01&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;gatewaySelector\&quot;:{\&quot;matchNames\&quot;:[\&quot;gateway1\&quot;]}}&quot;
[2022-11-23T15:04:28Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:04:28Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T15:04:28Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:04:28Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T15:04:28Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTYxNjYsImlhdCI6MTY2OTIxNTg2NiwiYXV0aF90aW1lIjoxNjY5MjE1ODYzLCJqdGkiOiIwMGZiOTM4NC0yNjNiLTQzOTEtYWZkNi0wMDZlYzU5NzU1N2QiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Im0wSmE5a3EtUEkwMmFIeFkwVEpTeFEiLCJzZXNzaW9uX3N0YXRlIjoiMzFjNTgxNDAtY2ZiNi00YTc4LWI3M2MtNjAxMTNkMjYxNzlkIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjMxYzU4MTQwLWNmYjYtNGE3OC1iNzNjLTYwMTEzZDI2MTc5ZCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.JXdIcyTH8-cvCX6gKlUPVTRzo9tieEnNNi-cz_0vTTuBAIVBhyeaQNswdTdorM2BjSxD9eh0yBOpUgh7wQYqx9TygKJahNwxbFOapmKZgdutN9x8IDS9ykiNwb1VIY_jaMBCLrW9rdYaxpgEGA4e17FuiWWQNOhewTxi-HryFSgxMsVGv-Sq82w82GReOTPsxjNqiMvuPSG5_HC-RGgF9Yjil7WHuVULmgaP2RG-IU_TFujI2pjOMBqA2D-gsx3Sox7BDE6ZmYN12ZnFgQr1mvAbaaSESpB2ceylo89esc1F5RERBfZoqLA0WYuyW2HmjWH-GuRbWjVmu6ExXYiwEQ\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:04:28Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:04:28Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-11-23T15:04:28Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;84ebd4ff-7ecc-4cb6-9009-940247f72f01&quot; &quot;device1&quot;
[2022-11-23T15:04:28Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:04:28Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;gateway1&#x27;
[2022-11-23T15:04:28Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;84ebd4ff-7ecc-4cb6-9009-940247f72f01&quot; &quot;gateway1&quot;
[2022-11-23T15:04:28Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:04:28Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;84ebd4ff-7ecc-4cb6-9009-940247f72f01&#x27;
[2022-11-23T15:04:28Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;84ebd4ff-7ecc-4cb6-9009-940247f72f01&quot;
[2022-11-23T15:04:28Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_1::integration_version_1::integration_ws_1

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T15:04:30Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T15:04:30Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:04:30Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:04:30Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:04:31Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T15:04:32Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T15:04:32Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:04:32Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:04:34Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc2NzQsImlhdCI6MTY2OTIxNTg3NCwianRpIjoiYTc0YzMxNGMtYTc2ZC00NmJkLTgyZTAtY2RmYWIwYmMyYjQ5IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiUXhOS1RBbzlMU1RNWHNuS0daMWFXQSIsInNlc3Npb25fc3RhdGUiOiIzNDNlYWQ2Ni02MzQzLTQ2ODMtYjRmMC1lYTE3YjU1MWY4MTQiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMzQzZWFkNjYtNjM0My00NjgzLWI0ZjAtZWExN2I1NTFmODE0In0._PJ_xlKoLCNqKffRChnH1ansuqpLV23TB0VhHVOIPYQ
[2022-11-23T15:04:34Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T15:04:34Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:04:34Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc2NzQsImlhdCI6MTY2OTIxNTg3NCwianRpIjoiYTc0YzMxNGMtYTc2ZC00NmJkLTgyZTAtY2RmYWIwYmMyYjQ5IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiUXhOS1RBbzlMU1RNWHNuS0daMWFXQSIsInNlc3Npb25fc3RhdGUiOiIzNDNlYWQ2Ni02MzQzLTQ2ODMtYjRmMC1lYTE3YjU1MWY4MTQiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMzQzZWFkNjYtNjM0My00NjgzLWI0ZjAtZWExN2I1NTFmODE0In0._PJ_xlKoLCNqKffRChnH1ansuqpLV23TB0VhHVOIPYQ&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T15:04:34Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:04:35Z INFO  drogue_cloud_tests::resources::apps] Create application: 2e50eee7-a520-4b33-a24b-0c9aebabe363
[2022-11-23T15:04:35Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;2e50eee7-a520-4b33-a24b-0c9aebabe363&quot;
[2022-11-23T15:04:35Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:04:35Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;2e50eee7-a520-4b33-a24b-0c9aebabe363&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:04:35Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;2e50eee7-a520-4b33-a24b-0c9aebabe363\&quot;,\n    \&quot;uid\&quot;: \&quot;516187f0-1687-41fe-a03b-451eaf02cbe7\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:04:35.331574Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;718f26ad-9808-4b35-a396-687012ea3fb4\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:35.382964426Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:35.389529100Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:35.389591898Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:35.354285352Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:35.354286625Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:35.354300941Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:35.354377185Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:35.354347659Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:04:35Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;2e50eee7-a520-4b33-a24b-0c9aebabe363&quot;), &quot;uid&quot;: String(&quot;516187f0-1687-41fe-a03b-451eaf02cbe7&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:04:35.331574Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;718f26ad-9808-4b35-a396-687012ea3fb4&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:35.382964426Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:35.389529100Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:35.389591898Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:35.354285352Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:35.354286625Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:35.354300941Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:35.354377185Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:35.354347659Z&quot;)}]}}
[2022-11-23T15:04:35Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-11-23T15:04:36Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;2e50eee7-a520-4b33-a24b-0c9aebabe363&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:04:36Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;2e50eee7-a520-4b33-a24b-0c9aebabe363\&quot;,\n    \&quot;uid\&quot;: \&quot;516187f0-1687-41fe-a03b-451eaf02cbe7\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:04:35.331574Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;61e68530-e0a0-425e-b119-505f6a77bb9e\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;jQwjrvE0BDAM\&quot;,\n        \&quot;username\&quot;: \&quot;user-2e50eee7-a520-4b33-a24b-0c9aebabe363\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:35.382964426Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:35.389529100Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:35.461965002Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:35.468772660Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:35.614203831Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:35.614219951Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:35.614344664Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:35.614302565Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:04:36Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;2e50eee7-a520-4b33-a24b-0c9aebabe363&quot;), &quot;uid&quot;: String(&quot;516187f0-1687-41fe-a03b-451eaf02cbe7&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:04:35.331574Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;61e68530-e0a0-425e-b119-505f6a77bb9e&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;jQwjrvE0BDAM&quot;), &quot;username&quot;: String(&quot;user-2e50eee7-a520-4b33-a24b-0c9aebabe363&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:35.382964426Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:35.389529100Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:35.461965002Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:35.468772660Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:35.614203831Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:35.614219951Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:35.614344664Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:35.614302565Z&quot;)}]}}
[2022-11-23T15:04:36Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-11-23T15:04:36Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;2e50eee7-a520-4b33-a24b-0c9aebabe363&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:04:36Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;2e50eee7-a520-4b33-a24b-0c9aebabe363\&quot;,\n    \&quot;uid\&quot;: \&quot;516187f0-1687-41fe-a03b-451eaf02cbe7\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:04:35.331574Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;61e68530-e0a0-425e-b119-505f6a77bb9e\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;jQwjrvE0BDAM\&quot;,\n        \&quot;username\&quot;: \&quot;user-2e50eee7-a520-4b33-a24b-0c9aebabe363\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:35.382964426Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:35.389529100Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:35.461965002Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:35.468772660Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:35.614203831Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:35.614219951Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:35.614344664Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:35.614302565Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:04:36Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;2e50eee7-a520-4b33-a24b-0c9aebabe363&quot;), &quot;uid&quot;: String(&quot;516187f0-1687-41fe-a03b-451eaf02cbe7&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:04:35.331574Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;61e68530-e0a0-425e-b119-505f6a77bb9e&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;jQwjrvE0BDAM&quot;), &quot;username&quot;: String(&quot;user-2e50eee7-a520-4b33-a24b-0c9aebabe363&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:35.382964426Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:35.389529100Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:35.461965002Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:35.468772660Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:35.614203831Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:35.614219951Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:35.614344664Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:35.614302565Z&quot;)}]}}
[2022-11-23T15:04:36Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-11-23T15:04:36Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-11-23T15:04:36Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;2e50eee7-a520-4b33-a24b-0c9aebabe363&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-11-23T15:04:36Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:04:36Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T15:04:36Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:04:36Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T15:04:36Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTYxNzQsImlhdCI6MTY2OTIxNTg3NCwiYXV0aF90aW1lIjoxNjY5MjE1ODcxLCJqdGkiOiIzYTRmMTlkMi1iZDY0LTQ4NTItYjA3ZC1iOTdlYjZlMmEwYTciLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlF4TktUQW85TFNUTVhzbktHWjFhV0EiLCJzZXNzaW9uX3N0YXRlIjoiMzQzZWFkNjYtNjM0My00NjgzLWI0ZjAtZWExN2I1NTFmODE0IiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjM0M2VhZDY2LTYzNDMtNDY4My1iNGYwLWVhMTdiNTUxZjgxNCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.Uo2JhsWjfsgxjIYSsukr5NMvWc5GmLxF1q8N_-0o-3o0BlZG4OQ-bnbU3afJPWZ8i3g1f1vsbuAvevWl4XqQKoSqodT2jpSPxq3WvIQ068i2s_XntL247tDwrsivdm6APFBWMu4ioJca-G3VWy-R-rmGTVgKCnttUHN5kIeXquG93GHFgcLU6XjCE5AzanIQJUNuIugWMU76hKvKe8bQ7iG1ydhfrk1psvNDOUm6HnOcCBrevedWzVac7aHO7x6UtjU738heNTRZ0ku-L2CZRU_wB2YPGKikk12TV2ayS2Pzk2Tp5ACmLjecXdPnc7SCscD3FBEtNtqcwzg684UbUw\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:04:36Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:04:36Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-11-23T15:04:36Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;2e50eee7-a520-4b33-a24b-0c9aebabe363&quot; &quot;device1&quot;
[2022-11-23T15:04:36Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:04:36Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;2e50eee7-a520-4b33-a24b-0c9aebabe363&#x27;
[2022-11-23T15:04:36Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;2e50eee7-a520-4b33-a24b-0c9aebabe363&quot;
[2022-11-23T15:04:36Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_1::integration_version_1::integration_ws_2

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T15:04:38Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T15:04:38Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:04:38Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:04:38Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:04:39Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T15:04:41Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T15:04:41Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:04:41Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:04:42Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc2ODIsImlhdCI6MTY2OTIxNTg4MiwianRpIjoiZjE5ODNmNWQtMmM2NS00MzJkLTlkYTMtYzdlYjc0ZjZkMTA5IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoidFlaVGRuTDBuemJNbnJ5THdHYWtwdyIsInNlc3Npb25fc3RhdGUiOiIwMTllYTBmMC1jODI0LTQ4ZWEtOWE4OC04NThmNzg3ZGU2NWEiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMDE5ZWEwZjAtYzgyNC00OGVhLTlhODgtODU4Zjc4N2RlNjVhIn0.nFfTYClHW4-lNUh_CV8zXlfHK4wsdyFeshwbinHT800
[2022-11-23T15:04:42Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T15:04:42Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:04:42Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc2ODIsImlhdCI6MTY2OTIxNTg4MiwianRpIjoiZjE5ODNmNWQtMmM2NS00MzJkLTlkYTMtYzdlYjc0ZjZkMTA5IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoidFlaVGRuTDBuemJNbnJ5THdHYWtwdyIsInNlc3Npb25fc3RhdGUiOiIwMTllYTBmMC1jODI0LTQ4ZWEtOWE4OC04NThmNzg3ZGU2NWEiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMDE5ZWEwZjAtYzgyNC00OGVhLTlhODgtODU4Zjc4N2RlNjVhIn0.nFfTYClHW4-lNUh_CV8zXlfHK4wsdyFeshwbinHT800&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T15:04:43Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:04:43Z INFO  drogue_cloud_tests::resources::apps] Create application: 54dc0463-b488-4371-9546-9d842dbcf935
[2022-11-23T15:04:43Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;54dc0463-b488-4371-9546-9d842dbcf935&quot;
[2022-11-23T15:04:43Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:04:43Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;54dc0463-b488-4371-9546-9d842dbcf935&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:04:43Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;54dc0463-b488-4371-9546-9d842dbcf935\&quot;,\n    \&quot;uid\&quot;: \&quot;f6e0be9d-9fe9-4051-9299-0bc8f371d7fd\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:04:43.699729Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;34fe021f-f4b0-436f-bbcc-3e52ca53fb83\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:43.762101557Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:43.769817143Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:43.769852099Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:43.716928398Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:43.716929099Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:43.716993770Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:43.717059825Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:43.717087846Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:04:43Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;54dc0463-b488-4371-9546-9d842dbcf935&quot;), &quot;uid&quot;: String(&quot;f6e0be9d-9fe9-4051-9299-0bc8f371d7fd&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:04:43.699729Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;34fe021f-f4b0-436f-bbcc-3e52ca53fb83&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:43.762101557Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:43.769817143Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:43.769852099Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:43.716928398Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:43.716929099Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:43.716993770Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:43.717059825Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:43.717087846Z&quot;)}]}}
[2022-11-23T15:04:43Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-11-23T15:04:44Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;54dc0463-b488-4371-9546-9d842dbcf935&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:04:44Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;54dc0463-b488-4371-9546-9d842dbcf935\&quot;,\n    \&quot;uid\&quot;: \&quot;f6e0be9d-9fe9-4051-9299-0bc8f371d7fd\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:04:43.699729Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;e524660e-d288-424f-b282-e97c05551210\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;IbVFcKyMl2cs\&quot;,\n        \&quot;username\&quot;: \&quot;user-54dc0463-b488-4371-9546-9d842dbcf935\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:43.762101557Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:43.769817143Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:43.860648959Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:43.867176983Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:44.017866042Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:44.017922840Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:44.017955691Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:44.018000374Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:04:44Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;54dc0463-b488-4371-9546-9d842dbcf935&quot;), &quot;uid&quot;: String(&quot;f6e0be9d-9fe9-4051-9299-0bc8f371d7fd&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:04:43.699729Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;e524660e-d288-424f-b282-e97c05551210&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;IbVFcKyMl2cs&quot;), &quot;username&quot;: String(&quot;user-54dc0463-b488-4371-9546-9d842dbcf935&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:43.762101557Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:43.769817143Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:43.860648959Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:43.867176983Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:44.017866042Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:44.017922840Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:44.017955691Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:44.018000374Z&quot;)}]}}
[2022-11-23T15:04:44Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-11-23T15:04:44Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;54dc0463-b488-4371-9546-9d842dbcf935&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:04:44Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;54dc0463-b488-4371-9546-9d842dbcf935\&quot;,\n    \&quot;uid\&quot;: \&quot;f6e0be9d-9fe9-4051-9299-0bc8f371d7fd\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:04:43.699729Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;e524660e-d288-424f-b282-e97c05551210\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;IbVFcKyMl2cs\&quot;,\n        \&quot;username\&quot;: \&quot;user-54dc0463-b488-4371-9546-9d842dbcf935\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:43.762101557Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:43.769817143Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:43.860648959Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:43.867176983Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:44.017866042Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:44.017922840Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:44.017955691Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:44.018000374Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:04:44Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;54dc0463-b488-4371-9546-9d842dbcf935&quot;), &quot;uid&quot;: String(&quot;f6e0be9d-9fe9-4051-9299-0bc8f371d7fd&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:04:43.699729Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;e524660e-d288-424f-b282-e97c05551210&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;IbVFcKyMl2cs&quot;), &quot;username&quot;: String(&quot;user-54dc0463-b488-4371-9546-9d842dbcf935&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:43.762101557Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:43.769817143Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:43.860648959Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:43.867176983Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:44.017866042Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:44.017922840Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:44.017955691Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:44.018000374Z&quot;)}]}}
[2022-11-23T15:04:44Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-11-23T15:04:44Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-11-23T15:04:44Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;54dc0463-b488-4371-9546-9d842dbcf935&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-11-23T15:04:44Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:04:44Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T15:04:45Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:04:45Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T15:04:45Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTYxODMsImlhdCI6MTY2OTIxNTg4MywiYXV0aF90aW1lIjoxNjY5MjE1ODgwLCJqdGkiOiI4ZjMzMjViYi1hMzc5LTQ0NjYtODcyZS1hNzI5OWY3YTUwNmQiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InRZWlRkbkwwbnpiTW5yeUx3R2FrcHciLCJzZXNzaW9uX3N0YXRlIjoiMDE5ZWEwZjAtYzgyNC00OGVhLTlhODgtODU4Zjc4N2RlNjVhIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjAxOWVhMGYwLWM4MjQtNDhlYS05YTg4LTg1OGY3ODdkZTY1YSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.V4E3Vr4AOWwVsHViSgfa4jywet9oK40CghOxaF7Cx0-JjYFRmhf0UP3pkNI_iCWoOwO9fOLlEWJB-0dbjvKWQp8hdTM4mCDNGzUwiUgF1F3vtLwMIQgyP0KBxdYEY8UEQavRUTbgsTVf1BKpkSnQC2j1O_ZfROAuRuOH-FS2gI5Tv6rgy0e8ytv1Hleo448kxwhQBFBCts0fHcRFBdoE3naiF-de3xcu4CuApdZntV14Nc9dgjR-xaKFFDjnH8o3D9EZwTzKgcelaD33-DjUS3pUjR__Lo2ptZlJq7pFgHX4L2wzrLURVAFKnSJWeGCIlZpd9YzPycXvZdICY-uxYQ\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:04:45Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:04:45Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-11-23T15:04:45Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;54dc0463-b488-4371-9546-9d842dbcf935&quot; &quot;device1&quot;
[2022-11-23T15:04:45Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:04:45Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;54dc0463-b488-4371-9546-9d842dbcf935&#x27;
[2022-11-23T15:04:45Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;54dc0463-b488-4371-9546-9d842dbcf935&quot;
[2022-11-23T15:04:45Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_1::integration_version_2::integration_ws_1

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T15:04:47Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T15:04:47Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:04:47Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:04:47Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:04:48Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T15:04:49Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T15:04:49Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:04:49Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:04:51Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc2OTEsImlhdCI6MTY2OTIxNTg5MSwianRpIjoiNDhmOGVmOWItZmFlZS00MDAyLWEzOTctZGNjZGNhYzUyYWJlIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiakZtS2lFM0dCNDZUcGc2XzlBTk1GZyIsInNlc3Npb25fc3RhdGUiOiI3YjZkMTQ3MS05NTA2LTRmMDktOTQwNy03OGI1YmIwMzQ2YTYiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiN2I2ZDE0NzEtOTUwNi00ZjA5LTk0MDctNzhiNWJiMDM0NmE2In0.z_0MEuOsmzPH5v60dHFzEfIXXxsOyOfzklsip4MqvsU
[2022-11-23T15:04:51Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T15:04:51Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:04:51Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc2OTEsImlhdCI6MTY2OTIxNTg5MSwianRpIjoiNDhmOGVmOWItZmFlZS00MDAyLWEzOTctZGNjZGNhYzUyYWJlIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiakZtS2lFM0dCNDZUcGc2XzlBTk1GZyIsInNlc3Npb25fc3RhdGUiOiI3YjZkMTQ3MS05NTA2LTRmMDktOTQwNy03OGI1YmIwMzQ2YTYiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiN2I2ZDE0NzEtOTUwNi00ZjA5LTk0MDctNzhiNWJiMDM0NmE2In0.z_0MEuOsmzPH5v60dHFzEfIXXxsOyOfzklsip4MqvsU&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T15:04:51Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:04:52Z INFO  drogue_cloud_tests::resources::apps] Create application: f1eabc70-4882-4918-9c4d-f8cec6d65f74
[2022-11-23T15:04:52Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;f1eabc70-4882-4918-9c4d-f8cec6d65f74&quot;
[2022-11-23T15:04:52Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:04:52Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;f1eabc70-4882-4918-9c4d-f8cec6d65f74&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:04:52Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;f1eabc70-4882-4918-9c4d-f8cec6d65f74\&quot;,\n    \&quot;uid\&quot;: \&quot;94bcf5de-b37a-4381-bd67-6df19385fe43\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:04:52.077032Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;d8ae08b2-1427-4514-a75e-7b1eb34bdda6\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:52.117923596Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:52.125429882Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:52.125470338Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:52.088965980Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:52.088966832Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:52.089670789Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:52.089708770Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:52.089756470Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:04:52Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;f1eabc70-4882-4918-9c4d-f8cec6d65f74&quot;), &quot;uid&quot;: String(&quot;94bcf5de-b37a-4381-bd67-6df19385fe43&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:04:52.077032Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;d8ae08b2-1427-4514-a75e-7b1eb34bdda6&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:52.117923596Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:52.125429882Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:52.125470338Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:52.088965980Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:52.088966832Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:52.089670789Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:52.089708770Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:52.089756470Z&quot;)}]}}
[2022-11-23T15:04:52Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-11-23T15:04:53Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;f1eabc70-4882-4918-9c4d-f8cec6d65f74&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:04:53Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;f1eabc70-4882-4918-9c4d-f8cec6d65f74\&quot;,\n    \&quot;uid\&quot;: \&quot;94bcf5de-b37a-4381-bd67-6df19385fe43\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:04:52.077032Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;cbc23514-92e1-4fee-94f1-711a412b3bf8\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;XBQn3T6IdFqr\&quot;,\n        \&quot;username\&quot;: \&quot;user-f1eabc70-4882-4918-9c4d-f8cec6d65f74\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:52.117923596Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:52.125429882Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:52.185257352Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:52.192313746Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:52.340575485Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:52.340592005Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:52.340618515Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:52.340677095Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:04:53Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;f1eabc70-4882-4918-9c4d-f8cec6d65f74&quot;), &quot;uid&quot;: String(&quot;94bcf5de-b37a-4381-bd67-6df19385fe43&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:04:52.077032Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;cbc23514-92e1-4fee-94f1-711a412b3bf8&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;XBQn3T6IdFqr&quot;), &quot;username&quot;: String(&quot;user-f1eabc70-4882-4918-9c4d-f8cec6d65f74&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:52.117923596Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:52.125429882Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:52.185257352Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:52.192313746Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:52.340575485Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:52.340592005Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:52.340618515Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:52.340677095Z&quot;)}]}}
[2022-11-23T15:04:53Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-11-23T15:04:53Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;f1eabc70-4882-4918-9c4d-f8cec6d65f74&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:04:53Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;f1eabc70-4882-4918-9c4d-f8cec6d65f74\&quot;,\n    \&quot;uid\&quot;: \&quot;94bcf5de-b37a-4381-bd67-6df19385fe43\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:04:52.077032Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;cbc23514-92e1-4fee-94f1-711a412b3bf8\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;XBQn3T6IdFqr\&quot;,\n        \&quot;username\&quot;: \&quot;user-f1eabc70-4882-4918-9c4d-f8cec6d65f74\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:52.117923596Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:52.125429882Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:52.185257352Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:52.192313746Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:52.340575485Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:52.340592005Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:52.340618515Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:04:52.340677095Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:04:53Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;f1eabc70-4882-4918-9c4d-f8cec6d65f74&quot;), &quot;uid&quot;: String(&quot;94bcf5de-b37a-4381-bd67-6df19385fe43&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:04:52.077032Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;cbc23514-92e1-4fee-94f1-711a412b3bf8&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;XBQn3T6IdFqr&quot;), &quot;username&quot;: String(&quot;user-f1eabc70-4882-4918-9c4d-f8cec6d65f74&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:52.117923596Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:52.125429882Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:52.185257352Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:52.192313746Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:52.340575485Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:52.340592005Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:52.340618515Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:04:52.340677095Z&quot;)}]}}
[2022-11-23T15:04:53Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-11-23T15:04:53Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-11-23T15:04:53Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;f1eabc70-4882-4918-9c4d-f8cec6d65f74&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-11-23T15:04:53Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:04:53Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T15:04:53Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:04:53Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T15:04:53Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTYxOTEsImlhdCI6MTY2OTIxNTg5MSwiYXV0aF90aW1lIjoxNjY5MjE1ODg4LCJqdGkiOiJlNTExOGFiNi0yYTY0LTRhYjItYjkzMC1iOTJhMmZmMDFhZmMiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImpGbUtpRTNHQjQ2VHBnNl85QU5NRmciLCJzZXNzaW9uX3N0YXRlIjoiN2I2ZDE0NzEtOTUwNi00ZjA5LTk0MDctNzhiNWJiMDM0NmE2IiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjdiNmQxNDcxLTk1MDYtNGYwOS05NDA3LTc4YjViYjAzNDZhNiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.MI5AxMiQG2WDzrWInSpN_GM-1NAQ-tp2jHxrPym-6dLlWefA3v0VJDBAPLa8rAHq9CtCOGqMaYYl9BuJ-howlNc0A0WwrwdQTZ9XRWihmYGEI0P0GmFoyrNDrfr8DqDMT5RcW0yCCgF3rewSn85wP_tTZP7iOkIN_XNO-AFg-Ehh79cY75DPGFkAL0Ut6bKAV1gmrE5goVIIuMXHUAQfVuORqXW6OmntE1rkGsSKuPDbvaggiV2F-UjUJyWKQZLHeH7wuEnwqRtQsBL3sOkXP4tHc5zZbxccp4mmlM3AU2fFJfqjAEaVdW7zHSJtdF7WLQ2uR616hBbHyZD3XB0HTw\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:04:53Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:04:53Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-11-23T15:04:53Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;f1eabc70-4882-4918-9c4d-f8cec6d65f74&quot; &quot;device1&quot;
[2022-11-23T15:04:53Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:04:53Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;f1eabc70-4882-4918-9c4d-f8cec6d65f74&#x27;
[2022-11-23T15:04:53Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;f1eabc70-4882-4918-9c4d-f8cec6d65f74&quot;
[2022-11-23T15:04:53Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_1::integration_version_2::integration_ws_2

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T15:04:55Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T15:04:55Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:04:55Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:04:55Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:04:56Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T15:04:57Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T15:04:58Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:04:58Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:04:59Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc2OTksImlhdCI6MTY2OTIxNTg5OSwianRpIjoiNTVlOTRhOTgtMWZmMC00N2M2LTljYjMtYzhkMGVkNDliMGRiIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiLU1UR2xOX3NDQmVUTG8yVjBPSGhyQSIsInNlc3Npb25fc3RhdGUiOiIxMTI0OGI3ZS01YTc1LTQyNTEtOTk4Mi02Yzc0NzkyMzU4ZjEiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMTEyNDhiN2UtNWE3NS00MjUxLTk5ODItNmM3NDc5MjM1OGYxIn0._soelb-TEjXLRoJt2onv5-sbmLgA83pBEA6uBx2M09g
[2022-11-23T15:04:59Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T15:04:59Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:04:59Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc2OTksImlhdCI6MTY2OTIxNTg5OSwianRpIjoiNTVlOTRhOTgtMWZmMC00N2M2LTljYjMtYzhkMGVkNDliMGRiIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiLU1UR2xOX3NDQmVUTG8yVjBPSGhyQSIsInNlc3Npb25fc3RhdGUiOiIxMTI0OGI3ZS01YTc1LTQyNTEtOTk4Mi02Yzc0NzkyMzU4ZjEiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMTEyNDhiN2UtNWE3NS00MjUxLTk5ODItNmM3NDc5MjM1OGYxIn0._soelb-TEjXLRoJt2onv5-sbmLgA83pBEA6uBx2M09g&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T15:05:00Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:05:00Z INFO  drogue_cloud_tests::resources::apps] Create application: f4f6c6ec-33ca-43a1-bcc4-bcef073fccf3
[2022-11-23T15:05:00Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;f4f6c6ec-33ca-43a1-bcc4-bcef073fccf3&quot;
[2022-11-23T15:05:00Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:05:00Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;f4f6c6ec-33ca-43a1-bcc4-bcef073fccf3&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:05:00Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;f4f6c6ec-33ca-43a1-bcc4-bcef073fccf3\&quot;,\n    \&quot;uid\&quot;: \&quot;7e21a588-3851-4759-b929-9c4f58a482dd\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:05:00.626381Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;a6ade5ba-c3d3-40b9-8b06-80289ae9d562\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:00.667474874Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:00.674727835Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:00.674820378Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:00.641310433Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:00.641311295Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:00.641437050Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:00.641472667Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:00.641505359Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:05:00Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;f4f6c6ec-33ca-43a1-bcc4-bcef073fccf3&quot;), &quot;uid&quot;: String(&quot;7e21a588-3851-4759-b929-9c4f58a482dd&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:05:00.626381Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;a6ade5ba-c3d3-40b9-8b06-80289ae9d562&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:00.667474874Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:00.674727835Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:00.674820378Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:00.641310433Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:00.641311295Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:00.641437050Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:00.641472667Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:00.641505359Z&quot;)}]}}
[2022-11-23T15:05:00Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-11-23T15:05:01Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;f4f6c6ec-33ca-43a1-bcc4-bcef073fccf3&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:05:01Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;f4f6c6ec-33ca-43a1-bcc4-bcef073fccf3\&quot;,\n    \&quot;uid\&quot;: \&quot;7e21a588-3851-4759-b929-9c4f58a482dd\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:05:00.626381Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;976948ce-7044-403d-9420-d82be83e1158\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;Vy1EE3u6BfTJ\&quot;,\n        \&quot;username\&quot;: \&quot;user-f4f6c6ec-33ca-43a1-bcc4-bcef073fccf3\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:00.667474874Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:00.674727835Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:00.747117642Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:00.753207357Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:00.905970992Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:00.905991500Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:00.906020515Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:00.906063965Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:05:01Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;f4f6c6ec-33ca-43a1-bcc4-bcef073fccf3&quot;), &quot;uid&quot;: String(&quot;7e21a588-3851-4759-b929-9c4f58a482dd&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:05:00.626381Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;976948ce-7044-403d-9420-d82be83e1158&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;Vy1EE3u6BfTJ&quot;), &quot;username&quot;: String(&quot;user-f4f6c6ec-33ca-43a1-bcc4-bcef073fccf3&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:00.667474874Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:00.674727835Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:00.747117642Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:00.753207357Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:00.905970992Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:00.905991500Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:00.906020515Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:00.906063965Z&quot;)}]}}
[2022-11-23T15:05:01Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-11-23T15:05:01Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;f4f6c6ec-33ca-43a1-bcc4-bcef073fccf3&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:05:01Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;f4f6c6ec-33ca-43a1-bcc4-bcef073fccf3\&quot;,\n    \&quot;uid\&quot;: \&quot;7e21a588-3851-4759-b929-9c4f58a482dd\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:05:00.626381Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;976948ce-7044-403d-9420-d82be83e1158\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;Vy1EE3u6BfTJ\&quot;,\n        \&quot;username\&quot;: \&quot;user-f4f6c6ec-33ca-43a1-bcc4-bcef073fccf3\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:00.667474874Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:00.674727835Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:00.747117642Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:00.753207357Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:00.905970992Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:00.905991500Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:00.906020515Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:00.906063965Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:05:01Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;f4f6c6ec-33ca-43a1-bcc4-bcef073fccf3&quot;), &quot;uid&quot;: String(&quot;7e21a588-3851-4759-b929-9c4f58a482dd&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:05:00.626381Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;976948ce-7044-403d-9420-d82be83e1158&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;Vy1EE3u6BfTJ&quot;), &quot;username&quot;: String(&quot;user-f4f6c6ec-33ca-43a1-bcc4-bcef073fccf3&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:00.667474874Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:00.674727835Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:00.747117642Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:00.753207357Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:00.905970992Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:00.905991500Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:00.906020515Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:00.906063965Z&quot;)}]}}
[2022-11-23T15:05:01Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-11-23T15:05:01Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-11-23T15:05:01Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;f4f6c6ec-33ca-43a1-bcc4-bcef073fccf3&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-11-23T15:05:01Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:05:01Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T15:05:01Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:05:01Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T15:05:01Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTYyMDAsImlhdCI6MTY2OTIxNTkwMCwiYXV0aF90aW1lIjoxNjY5MjE1ODk3LCJqdGkiOiJkNWJlNjY1Yi0zOTM4LTRiNTEtODIzNy02MjlmZTA0NTdiNzQiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Ii1NVEdsTl9zQ0JlVExvMlYwT0hockEiLCJzZXNzaW9uX3N0YXRlIjoiMTEyNDhiN2UtNWE3NS00MjUxLTk5ODItNmM3NDc5MjM1OGYxIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjExMjQ4YjdlLTVhNzUtNDI1MS05OTgyLTZjNzQ3OTIzNThmMSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.OFD0l9k8-rEtSyC1pXP0ea9ek612HHZqlzaxHMyxbgXvw5yvd0AOgmK21B2h9gcL4iCnJ4WH-MRHaSLFJXAha_xwwvnWiOif9X4NjfbZimygZjy0Jk0xe1rLMHndSEsF4BBCjFfOjAkEgnp3F6ocJmrg_t1DYYdyHUiwbldc-PvsdhCeIHYnK-v9FIZ5KN7TPQ2IppXHDgC-pVvH51SHgg54wmn1_iuO2xkUf2ObMEWjCwXtCa6BNxfpAqWUldCCD5CiiCbuxg4KUrSopZI4cEmFRaivmGEB0cxRsFcOQCnJQIlvPAmqEftDHfvihvEaFNNBQfKC5gss-ifNseoiEg\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:05:01Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:05:01Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-11-23T15:05:01Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;f4f6c6ec-33ca-43a1-bcc4-bcef073fccf3&quot; &quot;device1&quot;
[2022-11-23T15:05:01Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:05:01Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;f4f6c6ec-33ca-43a1-bcc4-bcef073fccf3&#x27;
[2022-11-23T15:05:01Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;f4f6c6ec-33ca-43a1-bcc4-bcef073fccf3&quot;
[2022-11-23T15:05:02Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_1::integration_version_3::integration_ws_1

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T15:05:04Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T15:05:04Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:05:04Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:05:04Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:05:05Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T15:05:06Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T15:05:06Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:05:06Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:05:08Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc3MDgsImlhdCI6MTY2OTIxNTkwOCwianRpIjoiMjc2MzVhNzktYzMxYy00YzcwLTkyZjktYWQ1ZWM3MDBhZjQyIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiT1hjMXluZlgwODJLY3lVdVQ3WVNzQSIsInNlc3Npb25fc3RhdGUiOiI1NDI1MzA4Yy00OTliLTQxZGYtODJkNi05OTBjNDBmZTEwMWIiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiNTQyNTMwOGMtNDk5Yi00MWRmLTgyZDYtOTkwYzQwZmUxMDFiIn0.4u1kuTUIHDn3hxUpgXJKs-tMzZCfyNqMDzeEm5YP9FY
[2022-11-23T15:05:08Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T15:05:08Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:05:08Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc3MDgsImlhdCI6MTY2OTIxNTkwOCwianRpIjoiMjc2MzVhNzktYzMxYy00YzcwLTkyZjktYWQ1ZWM3MDBhZjQyIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiT1hjMXluZlgwODJLY3lVdVQ3WVNzQSIsInNlc3Npb25fc3RhdGUiOiI1NDI1MzA4Yy00OTliLTQxZGYtODJkNi05OTBjNDBmZTEwMWIiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiNTQyNTMwOGMtNDk5Yi00MWRmLTgyZDYtOTkwYzQwZmUxMDFiIn0.4u1kuTUIHDn3hxUpgXJKs-tMzZCfyNqMDzeEm5YP9FY&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T15:05:08Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:05:09Z INFO  drogue_cloud_tests::resources::apps] Create application: d7417898-1997-4253-904e-623cb09a211f
[2022-11-23T15:05:09Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;d7417898-1997-4253-904e-623cb09a211f&quot;
[2022-11-23T15:05:09Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:05:09Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;d7417898-1997-4253-904e-623cb09a211f&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:05:09Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;d7417898-1997-4253-904e-623cb09a211f\&quot;,\n    \&quot;uid\&quot;: \&quot;bcfab01d-96f7-4bf9-a866-42610da9ace9\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:05:09.167763Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;77cf7b4c-875a-4dc5-907b-e468f3d5b2a5\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:09.215274961Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:09.230412166Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:09.230446180Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:09.190488030Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:09.190488661Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:09.190493439Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:09.190560435Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:09.190513096Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:05:09Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;d7417898-1997-4253-904e-623cb09a211f&quot;), &quot;uid&quot;: String(&quot;bcfab01d-96f7-4bf9-a866-42610da9ace9&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:05:09.167763Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;77cf7b4c-875a-4dc5-907b-e468f3d5b2a5&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:09.215274961Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:09.230412166Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:09.230446180Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:09.190488030Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:09.190488661Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:09.190493439Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:09.190560435Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:09.190513096Z&quot;)}]}}
[2022-11-23T15:05:09Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-11-23T15:05:10Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;d7417898-1997-4253-904e-623cb09a211f&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:05:10Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;d7417898-1997-4253-904e-623cb09a211f\&quot;,\n    \&quot;uid\&quot;: \&quot;bcfab01d-96f7-4bf9-a866-42610da9ace9\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:05:09.167763Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;05325d3e-9eb9-4361-a755-2bd0f0137595\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;g6Ydu3KsXiSJ\&quot;,\n        \&quot;username\&quot;: \&quot;user-d7417898-1997-4253-904e-623cb09a211f\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:09.215274961Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:09.230412166Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:09.293933570Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:09.301044556Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:09.440007377Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:09.440022676Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:09.440092306Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:09.440049456Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:05:10Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;d7417898-1997-4253-904e-623cb09a211f&quot;), &quot;uid&quot;: String(&quot;bcfab01d-96f7-4bf9-a866-42610da9ace9&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:05:09.167763Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;05325d3e-9eb9-4361-a755-2bd0f0137595&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;g6Ydu3KsXiSJ&quot;), &quot;username&quot;: String(&quot;user-d7417898-1997-4253-904e-623cb09a211f&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:09.215274961Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:09.230412166Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:09.293933570Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:09.301044556Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:09.440007377Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:09.440022676Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:09.440092306Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:09.440049456Z&quot;)}]}}
[2022-11-23T15:05:10Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-11-23T15:05:10Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;d7417898-1997-4253-904e-623cb09a211f&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:05:10Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;d7417898-1997-4253-904e-623cb09a211f\&quot;,\n    \&quot;uid\&quot;: \&quot;bcfab01d-96f7-4bf9-a866-42610da9ace9\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:05:09.167763Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;05325d3e-9eb9-4361-a755-2bd0f0137595\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;g6Ydu3KsXiSJ\&quot;,\n        \&quot;username\&quot;: \&quot;user-d7417898-1997-4253-904e-623cb09a211f\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:09.215274961Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:09.230412166Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:09.293933570Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:09.301044556Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:09.440007377Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:09.440022676Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:09.440092306Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:09.440049456Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:05:10Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;d7417898-1997-4253-904e-623cb09a211f&quot;), &quot;uid&quot;: String(&quot;bcfab01d-96f7-4bf9-a866-42610da9ace9&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:05:09.167763Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;05325d3e-9eb9-4361-a755-2bd0f0137595&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;g6Ydu3KsXiSJ&quot;), &quot;username&quot;: String(&quot;user-d7417898-1997-4253-904e-623cb09a211f&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:09.215274961Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:09.230412166Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:09.293933570Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:09.301044556Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:09.440007377Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:09.440022676Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:09.440092306Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:09.440049456Z&quot;)}]}}
[2022-11-23T15:05:10Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-11-23T15:05:10Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-11-23T15:05:10Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;d7417898-1997-4253-904e-623cb09a211f&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-11-23T15:05:10Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:05:10Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T15:05:10Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:05:10Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T15:05:10Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTYyMDgsImlhdCI6MTY2OTIxNTkwOCwiYXV0aF90aW1lIjoxNjY5MjE1OTA1LCJqdGkiOiI0MGQwZTk0Yi1iODhjLTRjYjEtYjBhOS05Yzc3MjFlMjcxYzIiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Ik9YYzF5bmZYMDgyS2N5VXVUN1lTc0EiLCJzZXNzaW9uX3N0YXRlIjoiNTQyNTMwOGMtNDk5Yi00MWRmLTgyZDYtOTkwYzQwZmUxMDFiIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjU0MjUzMDhjLTQ5OWItNDFkZi04MmQ2LTk5MGM0MGZlMTAxYiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.CB0mYgo62ycwcjpmiM4kUK1bWkEtkMDig366gw9wR9LMFXtJjk5M5vdkd8rs9X8pKGaV3HzhudYnVtT0Ao49Ac-GLIFUG2cdySvNBXgAp_9etFJRH74BUFtyzFTY_7N5rtEJs9JPeiQHQXkrFWjlyBewgT8mOd_zSumgLK0yemPM0FodQk8eFSomXGY4Czig6zE2urnE_FbkqRqA4C7ky4a1W5UzwX0IhrB1I256RbdDg0HuIhmoPNDOlTYBEAkXrjNAWQhOjupCAZKz3c3736KpZpvYiqi7Rgf-dXkTflIcDgZBBEGOskTcqER4MjDOKufyQROhjSYJws0jo3jlmQ\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:05:10Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:05:10Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-11-23T15:05:10Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;d7417898-1997-4253-904e-623cb09a211f&quot; &quot;device1&quot;
[2022-11-23T15:05:10Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:05:10Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;d7417898-1997-4253-904e-623cb09a211f&#x27;
[2022-11-23T15:05:10Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;d7417898-1997-4253-904e-623cb09a211f&quot;
[2022-11-23T15:05:10Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_1::integration_version_3::integration_ws_2

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T15:05:12Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T15:05:12Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:05:12Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:05:12Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:05:13Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T15:05:14Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T15:05:15Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:05:15Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:05:16Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc3MTYsImlhdCI6MTY2OTIxNTkxNiwianRpIjoiNTJjYWI1NmItNTE0OC00NjFmLWEyYzktZDUxNDFiY2U2Y2I2IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoieE5GN0w1cGN5MGdIdkRCQjdSTENIdyIsInNlc3Npb25fc3RhdGUiOiI2MzgxNjE1OS04M2VkLTQ4YzItOTRlMS02OWRiZGY4YzY1ZmUiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiNjM4MTYxNTktODNlZC00OGMyLTk0ZTEtNjlkYmRmOGM2NWZlIn0.dkp1rb9KYXObXF6K19gSIbs1dM5w1EsCcKKDQskHTUY
[2022-11-23T15:05:16Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T15:05:16Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:05:16Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc3MTYsImlhdCI6MTY2OTIxNTkxNiwianRpIjoiNTJjYWI1NmItNTE0OC00NjFmLWEyYzktZDUxNDFiY2U2Y2I2IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoieE5GN0w1cGN5MGdIdkRCQjdSTENIdyIsInNlc3Npb25fc3RhdGUiOiI2MzgxNjE1OS04M2VkLTQ4YzItOTRlMS02OWRiZGY4YzY1ZmUiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiNjM4MTYxNTktODNlZC00OGMyLTk0ZTEtNjlkYmRmOGM2NWZlIn0.dkp1rb9KYXObXF6K19gSIbs1dM5w1EsCcKKDQskHTUY&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T15:05:16Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:05:17Z INFO  drogue_cloud_tests::resources::apps] Create application: abc92e25-b2e3-425e-9e08-3743b3d4f3f7
[2022-11-23T15:05:17Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;abc92e25-b2e3-425e-9e08-3743b3d4f3f7&quot;
[2022-11-23T15:05:17Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:05:17Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;abc92e25-b2e3-425e-9e08-3743b3d4f3f7&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:05:17Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;abc92e25-b2e3-425e-9e08-3743b3d4f3f7\&quot;,\n    \&quot;uid\&quot;: \&quot;0fc9e42e-fc76-4e8f-ae4e-e21822ce70a7\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:05:17.600888Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;de5a840e-a38c-4573-8c66-b9b51f053945\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:17.639218984Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:17.646192603Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:17.646224955Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:17.612447658Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:17.612448450Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:17.613021412Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:17.613060034Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:17.613113855Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:05:17Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;abc92e25-b2e3-425e-9e08-3743b3d4f3f7&quot;), &quot;uid&quot;: String(&quot;0fc9e42e-fc76-4e8f-ae4e-e21822ce70a7&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:05:17.600888Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;de5a840e-a38c-4573-8c66-b9b51f053945&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:17.639218984Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:17.646192603Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:17.646224955Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:17.612447658Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:17.612448450Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:17.613021412Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:17.613060034Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:17.613113855Z&quot;)}]}}
[2022-11-23T15:05:17Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-11-23T15:05:18Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;abc92e25-b2e3-425e-9e08-3743b3d4f3f7&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:05:18Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;abc92e25-b2e3-425e-9e08-3743b3d4f3f7\&quot;,\n    \&quot;uid\&quot;: \&quot;0fc9e42e-fc76-4e8f-ae4e-e21822ce70a7\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:05:17.600888Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;18945878-9306-48d1-87e5-96b521047cc0\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;XKv8s22CY1kI\&quot;,\n        \&quot;username\&quot;: \&quot;user-abc92e25-b2e3-425e-9e08-3743b3d4f3f7\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:17.639218984Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:17.646192603Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:17.697866318Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:17.704527342Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:17.886629247Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:17.886946361Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:17.887115396Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:17.887378108Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:05:18Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;abc92e25-b2e3-425e-9e08-3743b3d4f3f7&quot;), &quot;uid&quot;: String(&quot;0fc9e42e-fc76-4e8f-ae4e-e21822ce70a7&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:05:17.600888Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;18945878-9306-48d1-87e5-96b521047cc0&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;XKv8s22CY1kI&quot;), &quot;username&quot;: String(&quot;user-abc92e25-b2e3-425e-9e08-3743b3d4f3f7&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:17.639218984Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:17.646192603Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:17.697866318Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:17.704527342Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:17.886629247Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:17.886946361Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:17.887115396Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:17.887378108Z&quot;)}]}}
[2022-11-23T15:05:18Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-11-23T15:05:18Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;abc92e25-b2e3-425e-9e08-3743b3d4f3f7&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:05:18Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;abc92e25-b2e3-425e-9e08-3743b3d4f3f7\&quot;,\n    \&quot;uid\&quot;: \&quot;0fc9e42e-fc76-4e8f-ae4e-e21822ce70a7\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:05:17.600888Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;18945878-9306-48d1-87e5-96b521047cc0\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;XKv8s22CY1kI\&quot;,\n        \&quot;username\&quot;: \&quot;user-abc92e25-b2e3-425e-9e08-3743b3d4f3f7\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:17.639218984Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:17.646192603Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:17.697866318Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:17.704527342Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:17.886629247Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:17.886946361Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:17.887115396Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:17.887378108Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:05:18Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;abc92e25-b2e3-425e-9e08-3743b3d4f3f7&quot;), &quot;uid&quot;: String(&quot;0fc9e42e-fc76-4e8f-ae4e-e21822ce70a7&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:05:17.600888Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;18945878-9306-48d1-87e5-96b521047cc0&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;XKv8s22CY1kI&quot;), &quot;username&quot;: String(&quot;user-abc92e25-b2e3-425e-9e08-3743b3d4f3f7&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:17.639218984Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:17.646192603Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:17.697866318Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:17.704527342Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:17.886629247Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:17.886946361Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:17.887115396Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:17.887378108Z&quot;)}]}}
[2022-11-23T15:05:18Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-11-23T15:05:18Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-11-23T15:05:18Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;abc92e25-b2e3-425e-9e08-3743b3d4f3f7&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-11-23T15:05:18Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:05:18Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T15:05:18Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:05:18Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T15:05:18Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTYyMTYsImlhdCI6MTY2OTIxNTkxNiwiYXV0aF90aW1lIjoxNjY5MjE1OTE0LCJqdGkiOiJjZDdjYjhjNC1kMmQ4LTQ3ZjAtOTJjOS1hODQ5ZjNlODdhMWQiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InhORjdMNXBjeTBnSHZEQkI3UkxDSHciLCJzZXNzaW9uX3N0YXRlIjoiNjM4MTYxNTktODNlZC00OGMyLTk0ZTEtNjlkYmRmOGM2NWZlIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjYzODE2MTU5LTgzZWQtNDhjMi05NGUxLTY5ZGJkZjhjNjVmZSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.tJ9V1uLNt0LcXkPrNPASxPuaon_FZ318NaEpy36hYFf5L8vtjPV5dqlQH1VUfvZRsyBKYib_LC5X4n3Tih5f-FRHWShSsndqA8E7uzihvY5ffIitmoxScqSPKJ86iA4xMDqKRZj9rMvtVZ35Vg9jhJ_9u2NyD6IUOXoI7xX5m4zJXlQLJ9ZxIryrZ6S0EE8C8oT0iKa2nUit50eNfYInRq8P8rDSvE5a2ewnzuyvXx8NJUAGPwy8CzlytyME3W2biwLutHnUBxMaUJdMvP4qnGhJQBlo8zt58C7roYIfYRxGNt-3VAwqjqJ7VohliFKSX6Tafq-NI4_VqQ4799cO3A\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:05:18Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:05:18Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-11-23T15:05:18Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;abc92e25-b2e3-425e-9e08-3743b3d4f3f7&quot; &quot;device1&quot;
[2022-11-23T15:05:18Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:05:18Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;abc92e25-b2e3-425e-9e08-3743b3d4f3f7&#x27;
[2022-11-23T15:05:18Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;abc92e25-b2e3-425e-9e08-3743b3d4f3f7&quot;
[2022-11-23T15:05:19Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_2::integration_version_1::integration_ws_1

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T15:05:21Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T15:05:21Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:05:21Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:05:21Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:05:22Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T15:05:23Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T15:05:23Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:05:23Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:05:25Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc3MjUsImlhdCI6MTY2OTIxNTkyNSwianRpIjoiYTc5MGY0MjItMzE4NS00YjNmLWFkYjMtOWIyODAyZjk3MjQ5IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiUkMzX1dBTDBLT0c2OEZtSjkwc3FRZyIsInNlc3Npb25fc3RhdGUiOiI5ODRjYWZlOC04YTJkLTRjMTgtYWMyYS0wYTg5YTVkZTE5MDYiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiOTg0Y2FmZTgtOGEyZC00YzE4LWFjMmEtMGE4OWE1ZGUxOTA2In0.gmjiUiW4DjFZ42QmO2nMfxbOTSFhQQzFQ28Js7aLA6s
[2022-11-23T15:05:25Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T15:05:25Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:05:25Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc3MjUsImlhdCI6MTY2OTIxNTkyNSwianRpIjoiYTc5MGY0MjItMzE4NS00YjNmLWFkYjMtOWIyODAyZjk3MjQ5IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiUkMzX1dBTDBLT0c2OEZtSjkwc3FRZyIsInNlc3Npb25fc3RhdGUiOiI5ODRjYWZlOC04YTJkLTRjMTgtYWMyYS0wYTg5YTVkZTE5MDYiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiOTg0Y2FmZTgtOGEyZC00YzE4LWFjMmEtMGE4OWE1ZGUxOTA2In0.gmjiUiW4DjFZ42QmO2nMfxbOTSFhQQzFQ28Js7aLA6s&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T15:05:25Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:05:26Z INFO  drogue_cloud_tests::resources::apps] Create application: 3497fed5-fc11-4059-be73-2f3e5ff5bac7
[2022-11-23T15:05:26Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;3497fed5-fc11-4059-be73-2f3e5ff5bac7&quot;
[2022-11-23T15:05:26Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:05:26Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;3497fed5-fc11-4059-be73-2f3e5ff5bac7&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:05:26Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;3497fed5-fc11-4059-be73-2f3e5ff5bac7\&quot;,\n    \&quot;uid\&quot;: \&quot;60255e00-5821-49c5-835d-f0eb2016071b\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:05:26.044324Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;52b1f6d2-d0e4-4e62-85ac-d590dd18490d\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:26.082422692Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:26.089088845Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:26.089119212Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:26.064393824Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:26.064394465Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:26.064399104Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:26.064444639Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:26.064419773Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:05:26Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;3497fed5-fc11-4059-be73-2f3e5ff5bac7&quot;), &quot;uid&quot;: String(&quot;60255e00-5821-49c5-835d-f0eb2016071b&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:05:26.044324Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;52b1f6d2-d0e4-4e62-85ac-d590dd18490d&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:26.082422692Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:26.089088845Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:26.089119212Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:26.064393824Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:26.064394465Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:26.064399104Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:26.064444639Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:26.064419773Z&quot;)}]}}
[2022-11-23T15:05:26Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-11-23T15:05:27Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;3497fed5-fc11-4059-be73-2f3e5ff5bac7&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:05:27Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;3497fed5-fc11-4059-be73-2f3e5ff5bac7\&quot;,\n    \&quot;uid\&quot;: \&quot;60255e00-5821-49c5-835d-f0eb2016071b\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:05:26.044324Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;b713d6b2-dea6-48f7-b41b-20d59293600f\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;LeQgVzp6Bq40\&quot;,\n        \&quot;username\&quot;: \&quot;user-3497fed5-fc11-4059-be73-2f3e5ff5bac7\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:26.082422692Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:26.089088845Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:26.140931395Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:26.146416729Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:26.302501362Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:26.302520448Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:26.302593383Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:26.302548730Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:05:27Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;3497fed5-fc11-4059-be73-2f3e5ff5bac7&quot;), &quot;uid&quot;: String(&quot;60255e00-5821-49c5-835d-f0eb2016071b&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:05:26.044324Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;b713d6b2-dea6-48f7-b41b-20d59293600f&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;LeQgVzp6Bq40&quot;), &quot;username&quot;: String(&quot;user-3497fed5-fc11-4059-be73-2f3e5ff5bac7&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:26.082422692Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:26.089088845Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:26.140931395Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:26.146416729Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:26.302501362Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:26.302520448Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:26.302593383Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:26.302548730Z&quot;)}]}}
[2022-11-23T15:05:27Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-11-23T15:05:27Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;3497fed5-fc11-4059-be73-2f3e5ff5bac7&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:05:27Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;3497fed5-fc11-4059-be73-2f3e5ff5bac7\&quot;,\n    \&quot;uid\&quot;: \&quot;60255e00-5821-49c5-835d-f0eb2016071b\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:05:26.044324Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;b713d6b2-dea6-48f7-b41b-20d59293600f\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;LeQgVzp6Bq40\&quot;,\n        \&quot;username\&quot;: \&quot;user-3497fed5-fc11-4059-be73-2f3e5ff5bac7\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:26.082422692Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:26.089088845Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:26.140931395Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:26.146416729Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:26.302501362Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:26.302520448Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:26.302593383Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:26.302548730Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:05:27Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;3497fed5-fc11-4059-be73-2f3e5ff5bac7&quot;), &quot;uid&quot;: String(&quot;60255e00-5821-49c5-835d-f0eb2016071b&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:05:26.044324Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;b713d6b2-dea6-48f7-b41b-20d59293600f&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;LeQgVzp6Bq40&quot;), &quot;username&quot;: String(&quot;user-3497fed5-fc11-4059-be73-2f3e5ff5bac7&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:26.082422692Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:26.089088845Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:26.140931395Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:26.146416729Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:26.302501362Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:26.302520448Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:26.302593383Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:26.302548730Z&quot;)}]}}
[2022-11-23T15:05:27Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-11-23T15:05:27Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-11-23T15:05:27Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;3497fed5-fc11-4059-be73-2f3e5ff5bac7&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-11-23T15:05:27Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:05:27Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T15:05:27Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:05:27Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T15:05:27Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTYyMjUsImlhdCI6MTY2OTIxNTkyNSwiYXV0aF90aW1lIjoxNjY5MjE1OTIyLCJqdGkiOiIyNTU3Y2NlNS1iYjg2LTRjYzctYTEwZi1mMDBjNDczM2ExZjgiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlJDM19XQUwwS09HNjhGbUo5MHNxUWciLCJzZXNzaW9uX3N0YXRlIjoiOTg0Y2FmZTgtOGEyZC00YzE4LWFjMmEtMGE4OWE1ZGUxOTA2IiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6Ijk4NGNhZmU4LThhMmQtNGMxOC1hYzJhLTBhODlhNWRlMTkwNiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.l2OF3_KZBJr21eSj0YxUu9XQBRINXiBcdOs4n0mgecSu2ZSVh4oi_LWsHIqu1pEvOM6nnfBlGp60SWxrbOg2Un6ZZ_iUznyv5WqK_mMW5LeFbedlXzmX_EQp3O-jF-y15U3Tb63TjgsQ_Y_HC9NLX3pi9QqqkUYHpJoYaUFeGgUDNx7lL4F-x3dpwJx36vRpm_5jsZ8QJcgxmJaOI1dCTXxs9O8uQ0O0jfPNbZFJXNTGsWDzY1tykNjImgfUeMSFItk8rNb5NVHXIFmglbiRXzmHh0dArFGfptGiZO4QjwsLQfqjspaj1mx1uCR7HyDTVS71yXDFwL4cGQeb9wyX9Q\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:05:27Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:05:27Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-11-23T15:05:27Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;3497fed5-fc11-4059-be73-2f3e5ff5bac7&quot; &quot;device1&quot;
[2022-11-23T15:05:27Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:05:27Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;3497fed5-fc11-4059-be73-2f3e5ff5bac7&#x27;
[2022-11-23T15:05:27Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;3497fed5-fc11-4059-be73-2f3e5ff5bac7&quot;
[2022-11-23T15:05:27Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_2::integration_version_1::integration_ws_2

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T15:05:29Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T15:05:29Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:05:29Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:05:29Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:05:30Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T15:05:32Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T15:05:32Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:05:32Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:05:34Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc3MzQsImlhdCI6MTY2OTIxNTkzNCwianRpIjoiZjA3NDRhM2MtYTI2NS00MmM3LWFhMzctZGVlOTEyMTY1NjYzIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoic1RxWkZCWS1DUUcyaW85SUZEX2dDUSIsInNlc3Npb25fc3RhdGUiOiJhYjBkZmZiYy1kODlkLTRkZDUtODhiMi01MzA0YTAxYjIyOTEiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiYWIwZGZmYmMtZDg5ZC00ZGQ1LTg4YjItNTMwNGEwMWIyMjkxIn0.O70QcruHh2R_uHwzjgCwKwkHRdNEg5uGmLvrcKvkdUI
[2022-11-23T15:05:34Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T15:05:34Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:05:34Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc3MzQsImlhdCI6MTY2OTIxNTkzNCwianRpIjoiZjA3NDRhM2MtYTI2NS00MmM3LWFhMzctZGVlOTEyMTY1NjYzIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoic1RxWkZCWS1DUUcyaW85SUZEX2dDUSIsInNlc3Npb25fc3RhdGUiOiJhYjBkZmZiYy1kODlkLTRkZDUtODhiMi01MzA0YTAxYjIyOTEiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiYWIwZGZmYmMtZDg5ZC00ZGQ1LTg4YjItNTMwNGEwMWIyMjkxIn0.O70QcruHh2R_uHwzjgCwKwkHRdNEg5uGmLvrcKvkdUI&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T15:05:34Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:05:34Z INFO  drogue_cloud_tests::resources::apps] Create application: 66ee1cec-cdf0-44d0-901e-93c363c1f8b7
[2022-11-23T15:05:34Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;66ee1cec-cdf0-44d0-901e-93c363c1f8b7&quot;
[2022-11-23T15:05:34Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:05:34Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;66ee1cec-cdf0-44d0-901e-93c363c1f8b7&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:05:34Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;66ee1cec-cdf0-44d0-901e-93c363c1f8b7\&quot;,\n    \&quot;uid\&quot;: \&quot;55fa7775-0498-488b-b975-29fa393763f4\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:05:34.903680Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;500d6562-aee8-4691-8cae-7240bf7ee2f8\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:34.956419934Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:34.962514689Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:34.962549013Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:34.928168038Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:34.928168579Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:34.928177035Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:34.928225686Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:34.928199506Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:05:34Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;66ee1cec-cdf0-44d0-901e-93c363c1f8b7&quot;), &quot;uid&quot;: String(&quot;55fa7775-0498-488b-b975-29fa393763f4&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:05:34.903680Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;500d6562-aee8-4691-8cae-7240bf7ee2f8&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:34.956419934Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:34.962514689Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:34.962549013Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:34.928168038Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:34.928168579Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:34.928177035Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:34.928225686Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:34.928199506Z&quot;)}]}}
[2022-11-23T15:05:34Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-11-23T15:05:35Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;66ee1cec-cdf0-44d0-901e-93c363c1f8b7&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:05:36Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;66ee1cec-cdf0-44d0-901e-93c363c1f8b7\&quot;,\n    \&quot;uid\&quot;: \&quot;55fa7775-0498-488b-b975-29fa393763f4\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:05:34.903680Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;0ceffa05-bd2d-432e-82c9-ae4eb9c10355\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;T4NAR100VHLn\&quot;,\n        \&quot;username\&quot;: \&quot;user-66ee1cec-cdf0-44d0-901e-93c363c1f8b7\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:34.956419934Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:34.962514689Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:35.023556333Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:35.029660355Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:35.173232896Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:35.173247853Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:35.173318736Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:35.173275285Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:05:36Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;66ee1cec-cdf0-44d0-901e-93c363c1f8b7&quot;), &quot;uid&quot;: String(&quot;55fa7775-0498-488b-b975-29fa393763f4&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:05:34.903680Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;0ceffa05-bd2d-432e-82c9-ae4eb9c10355&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;T4NAR100VHLn&quot;), &quot;username&quot;: String(&quot;user-66ee1cec-cdf0-44d0-901e-93c363c1f8b7&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:34.956419934Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:34.962514689Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:35.023556333Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:35.029660355Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:35.173232896Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:35.173247853Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:35.173318736Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:35.173275285Z&quot;)}]}}
[2022-11-23T15:05:36Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-11-23T15:05:36Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;66ee1cec-cdf0-44d0-901e-93c363c1f8b7&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:05:36Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;66ee1cec-cdf0-44d0-901e-93c363c1f8b7\&quot;,\n    \&quot;uid\&quot;: \&quot;55fa7775-0498-488b-b975-29fa393763f4\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:05:34.903680Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;0ceffa05-bd2d-432e-82c9-ae4eb9c10355\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;T4NAR100VHLn\&quot;,\n        \&quot;username\&quot;: \&quot;user-66ee1cec-cdf0-44d0-901e-93c363c1f8b7\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:34.956419934Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:34.962514689Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:35.023556333Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:35.029660355Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:35.173232896Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:35.173247853Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:35.173318736Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:35.173275285Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:05:36Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;66ee1cec-cdf0-44d0-901e-93c363c1f8b7&quot;), &quot;uid&quot;: String(&quot;55fa7775-0498-488b-b975-29fa393763f4&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:05:34.903680Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;0ceffa05-bd2d-432e-82c9-ae4eb9c10355&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;T4NAR100VHLn&quot;), &quot;username&quot;: String(&quot;user-66ee1cec-cdf0-44d0-901e-93c363c1f8b7&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:34.956419934Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:34.962514689Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:35.023556333Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:35.029660355Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:35.173232896Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:35.173247853Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:35.173318736Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:35.173275285Z&quot;)}]}}
[2022-11-23T15:05:36Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-11-23T15:05:36Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-11-23T15:05:36Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;66ee1cec-cdf0-44d0-901e-93c363c1f8b7&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-11-23T15:05:36Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:05:36Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T15:05:36Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:05:36Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T15:05:36Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTYyMzQsImlhdCI6MTY2OTIxNTkzNCwiYXV0aF90aW1lIjoxNjY5MjE1OTMxLCJqdGkiOiJlZmFlNWVlYS03NzUxLTQwMDQtYTliNC03ZmZlOGVmM2VhNjQiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InNUcVpGQlktQ1FHMmlvOUlGRF9nQ1EiLCJzZXNzaW9uX3N0YXRlIjoiYWIwZGZmYmMtZDg5ZC00ZGQ1LTg4YjItNTMwNGEwMWIyMjkxIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImFiMGRmZmJjLWQ4OWQtNGRkNS04OGIyLTUzMDRhMDFiMjI5MSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.D6a2ffRFQ6bTE9qHVsyqaHcLpUnFahKDfa8JDYORBXyL_my6WnVTjPeL7mkDNSWbc1Fl9ziwhnxZe0I0LQC64jp0JBDpVi2mztCKm2Wkz3p_Pt-kwbJtoKcsV4xdWHMTW3KfOVlKriFs53GG2S0NP5Y7W2s1UqnPA8InMkxmvbAjM3tPrdr7tkpNc9eUETb-OTFgwMY6di9tG7AkT1Ehp2NAtSygf5VWJv-0J177vKo7znQUr8ESjdStP0YI9XtZjEtJefYgL2wm5phMQPMulzK5DfK4ZtK2duqc2EaxtaqX6xKMmSlfib-q_jtW3LfqAecZVWCT64eViDDx-yD_Qw\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:05:36Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:05:36Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-11-23T15:05:36Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;66ee1cec-cdf0-44d0-901e-93c363c1f8b7&quot; &quot;device1&quot;
[2022-11-23T15:05:36Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:05:36Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;66ee1cec-cdf0-44d0-901e-93c363c1f8b7&#x27;
[2022-11-23T15:05:36Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;66ee1cec-cdf0-44d0-901e-93c363c1f8b7&quot;
[2022-11-23T15:05:36Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_2::integration_version_2::integration_ws_1

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T15:05:38Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T15:05:38Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:05:38Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:05:38Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:05:39Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T15:05:40Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T15:05:40Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:05:40Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:05:42Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc3NDIsImlhdCI6MTY2OTIxNTk0MiwianRpIjoiMThkYjRhMmUtOGE3MS00NmI5LWFiMzktNjZlOTI4ODA2MTIxIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoidUQtMnZNRUlJeDBRNXBFQTljdnZudyIsInNlc3Npb25fc3RhdGUiOiJiMDZlYzg4OS0yZjE2LTQyNGYtYWEwMi04ZmE5OTNjNDY1NjciLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiYjA2ZWM4ODktMmYxNi00MjRmLWFhMDItOGZhOTkzYzQ2NTY3In0.NW-rKVOCVzGXAG8xIdjbqlGQ3xl7iJ-HwjWpjN40nUA
[2022-11-23T15:05:42Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T15:05:42Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:05:42Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc3NDIsImlhdCI6MTY2OTIxNTk0MiwianRpIjoiMThkYjRhMmUtOGE3MS00NmI5LWFiMzktNjZlOTI4ODA2MTIxIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoidUQtMnZNRUlJeDBRNXBFQTljdnZudyIsInNlc3Npb25fc3RhdGUiOiJiMDZlYzg4OS0yZjE2LTQyNGYtYWEwMi04ZmE5OTNjNDY1NjciLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiYjA2ZWM4ODktMmYxNi00MjRmLWFhMDItOGZhOTkzYzQ2NTY3In0.NW-rKVOCVzGXAG8xIdjbqlGQ3xl7iJ-HwjWpjN40nUA&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T15:05:42Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:05:43Z INFO  drogue_cloud_tests::resources::apps] Create application: 76354c28-2eb7-46f4-a24a-4077cf4d959c
[2022-11-23T15:05:43Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;76354c28-2eb7-46f4-a24a-4077cf4d959c&quot;
[2022-11-23T15:05:43Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:05:43Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;76354c28-2eb7-46f4-a24a-4077cf4d959c&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:05:43Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;76354c28-2eb7-46f4-a24a-4077cf4d959c\&quot;,\n    \&quot;uid\&quot;: \&quot;2e16b7af-e1fe-45d9-8037-cf3b72987d8e\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:05:43.412390Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;ad6f67d4-6d07-4b09-925f-8ba4184b56a5\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:43.454083028Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:43.460863697Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:43.460898221Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:43.427652029Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:43.427653011Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:43.427679711Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:43.427772363Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:43.427821316Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:05:43Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;76354c28-2eb7-46f4-a24a-4077cf4d959c&quot;), &quot;uid&quot;: String(&quot;2e16b7af-e1fe-45d9-8037-cf3b72987d8e&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:05:43.412390Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;ad6f67d4-6d07-4b09-925f-8ba4184b56a5&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:43.454083028Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:43.460863697Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:43.460898221Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:43.427652029Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:43.427653011Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:43.427679711Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:43.427772363Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:43.427821316Z&quot;)}]}}
[2022-11-23T15:05:43Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-11-23T15:05:44Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;76354c28-2eb7-46f4-a24a-4077cf4d959c&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:05:44Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;76354c28-2eb7-46f4-a24a-4077cf4d959c\&quot;,\n    \&quot;uid\&quot;: \&quot;2e16b7af-e1fe-45d9-8037-cf3b72987d8e\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:05:43.412390Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;9f5627d5-79f6-4276-abe9-7642d85d9ef3\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;F7sqHdnQmv35\&quot;,\n        \&quot;username\&quot;: \&quot;user-76354c28-2eb7-46f4-a24a-4077cf4d959c\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:43.454083028Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:43.460863697Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:43.507751927Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:43.513992263Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:43.654015774Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:43.654043125Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:43.654089011Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:43.654140627Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:05:44Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;76354c28-2eb7-46f4-a24a-4077cf4d959c&quot;), &quot;uid&quot;: String(&quot;2e16b7af-e1fe-45d9-8037-cf3b72987d8e&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:05:43.412390Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;9f5627d5-79f6-4276-abe9-7642d85d9ef3&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;F7sqHdnQmv35&quot;), &quot;username&quot;: String(&quot;user-76354c28-2eb7-46f4-a24a-4077cf4d959c&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:43.454083028Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:43.460863697Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:43.507751927Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:43.513992263Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:43.654015774Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:43.654043125Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:43.654089011Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:43.654140627Z&quot;)}]}}
[2022-11-23T15:05:44Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-11-23T15:05:44Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;76354c28-2eb7-46f4-a24a-4077cf4d959c&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:05:44Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;76354c28-2eb7-46f4-a24a-4077cf4d959c\&quot;,\n    \&quot;uid\&quot;: \&quot;2e16b7af-e1fe-45d9-8037-cf3b72987d8e\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:05:43.412390Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;9f5627d5-79f6-4276-abe9-7642d85d9ef3\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;F7sqHdnQmv35\&quot;,\n        \&quot;username\&quot;: \&quot;user-76354c28-2eb7-46f4-a24a-4077cf4d959c\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:43.454083028Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:43.460863697Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:43.507751927Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:43.513992263Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:43.654015774Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:43.654043125Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:43.654089011Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:43.654140627Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:05:44Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;76354c28-2eb7-46f4-a24a-4077cf4d959c&quot;), &quot;uid&quot;: String(&quot;2e16b7af-e1fe-45d9-8037-cf3b72987d8e&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:05:43.412390Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;9f5627d5-79f6-4276-abe9-7642d85d9ef3&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;F7sqHdnQmv35&quot;), &quot;username&quot;: String(&quot;user-76354c28-2eb7-46f4-a24a-4077cf4d959c&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:43.454083028Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:43.460863697Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:43.507751927Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:43.513992263Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:43.654015774Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:43.654043125Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:43.654089011Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:43.654140627Z&quot;)}]}}
[2022-11-23T15:05:44Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-11-23T15:05:44Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-11-23T15:05:44Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;76354c28-2eb7-46f4-a24a-4077cf4d959c&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-11-23T15:05:44Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:05:44Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T15:05:44Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:05:44Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T15:05:44Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTYyNDIsImlhdCI6MTY2OTIxNTk0MiwiYXV0aF90aW1lIjoxNjY5MjE1OTM5LCJqdGkiOiIyNjhhNjcxNi1hOWEwLTQwZDctYmVlNC00NWJlMjU3ZDQwZDMiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InVELTJ2TUVJSXgwUTVwRUE5Y3Z2bnciLCJzZXNzaW9uX3N0YXRlIjoiYjA2ZWM4ODktMmYxNi00MjRmLWFhMDItOGZhOTkzYzQ2NTY3IiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImIwNmVjODg5LTJmMTYtNDI0Zi1hYTAyLThmYTk5M2M0NjU2NyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.uO3dgCcNVW5KdKyqvzs-lVghw_o7Wmcrorwlx-3hlqIUiXweJGP4OHNef4ZZDhjUfMp0blabpObA8tWFI5TISk1kwuOXiOgSFlkJk6D2VztfadNa14eThVwMyEdgk9FYmV2nbNwDbcrxXfLjQq4M5SeYLEufMK5tB5YJyyKoRjoqQvjMLxZ9-1y_NIp446hfzjR78r8jI3sME8OaFutH27-j-uCCpnfzYE2pGuDKxkZ6IinYis4tZyfjdPMhQw3rpbWTCEY1ILWUEkYQaOG7B7XQHLYLiMqTb_EgeAAYZXvcWd_TH_o3cnFNB1vBovyJDGVXrNqRlRd7CYpfQuA-ng\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:05:44Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:05:44Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-11-23T15:05:44Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;76354c28-2eb7-46f4-a24a-4077cf4d959c&quot; &quot;device1&quot;
[2022-11-23T15:05:44Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:05:44Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;76354c28-2eb7-46f4-a24a-4077cf4d959c&#x27;
[2022-11-23T15:05:44Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;76354c28-2eb7-46f4-a24a-4077cf4d959c&quot;
[2022-11-23T15:05:44Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_2::integration_version_2::integration_ws_2

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T15:05:46Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T15:05:46Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:05:46Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:05:46Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:05:47Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T15:05:49Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T15:05:49Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:05:49Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:05:51Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc3NTAsImlhdCI6MTY2OTIxNTk1MCwianRpIjoiMWZkYWJlZDMtYzgxYi00ODRkLWE0MzUtYzI0NTExMTFmYTM3IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoic3FZWE5NbXF4MFRyYUNyNVVaOGt2USIsInNlc3Npb25fc3RhdGUiOiI5MmY1N2I4YS0zODk3LTRkNjUtODYxZS00N2U3NmZhMWVmZmIiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiOTJmNTdiOGEtMzg5Ny00ZDY1LTg2MWUtNDdlNzZmYTFlZmZiIn0.Te1tKirJFJIXY2yJN2rojb_dFVPN0cXFl5meNDGc3O0
[2022-11-23T15:05:51Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T15:05:51Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:05:51Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc3NTAsImlhdCI6MTY2OTIxNTk1MCwianRpIjoiMWZkYWJlZDMtYzgxYi00ODRkLWE0MzUtYzI0NTExMTFmYTM3IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoic3FZWE5NbXF4MFRyYUNyNVVaOGt2USIsInNlc3Npb25fc3RhdGUiOiI5MmY1N2I4YS0zODk3LTRkNjUtODYxZS00N2U3NmZhMWVmZmIiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiOTJmNTdiOGEtMzg5Ny00ZDY1LTg2MWUtNDdlNzZmYTFlZmZiIn0.Te1tKirJFJIXY2yJN2rojb_dFVPN0cXFl5meNDGc3O0&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T15:05:51Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:05:51Z INFO  drogue_cloud_tests::resources::apps] Create application: 8c246257-c553-463c-b303-9ce126b4f2f8
[2022-11-23T15:05:51Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;8c246257-c553-463c-b303-9ce126b4f2f8&quot;
[2022-11-23T15:05:51Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:05:51Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;8c246257-c553-463c-b303-9ce126b4f2f8&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:05:51Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;8c246257-c553-463c-b303-9ce126b4f2f8\&quot;,\n    \&quot;uid\&quot;: \&quot;c7cf1df8-a788-4d16-baa3-9d07c25ae2af\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:05:51.883543Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;350e5e6b-43a9-402f-a71f-34396d9a296f\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:51.922868047Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:51.929721351Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:51.929814966Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:51.895540880Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:51.895541702Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:51.895552983Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:51.895588239Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:51.895904060Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:05:51Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;8c246257-c553-463c-b303-9ce126b4f2f8&quot;), &quot;uid&quot;: String(&quot;c7cf1df8-a788-4d16-baa3-9d07c25ae2af&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:05:51.883543Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;350e5e6b-43a9-402f-a71f-34396d9a296f&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:51.922868047Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:51.929721351Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:51.929814966Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:51.895540880Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:51.895541702Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:51.895552983Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:51.895588239Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:51.895904060Z&quot;)}]}}
[2022-11-23T15:05:51Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-11-23T15:05:52Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;8c246257-c553-463c-b303-9ce126b4f2f8&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:05:53Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;8c246257-c553-463c-b303-9ce126b4f2f8\&quot;,\n    \&quot;uid\&quot;: \&quot;c7cf1df8-a788-4d16-baa3-9d07c25ae2af\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:05:51.883543Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;82cc2f21-68cf-4c26-b463-bfce1991fc53\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;mV34Nj7rxAcW\&quot;,\n        \&quot;username\&quot;: \&quot;user-8c246257-c553-463c-b303-9ce126b4f2f8\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:51.922868047Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:51.929721351Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:52.009021934Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:52.016012985Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:52.151463059Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:52.151524193Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:52.151557736Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:52.151646883Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:05:53Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;8c246257-c553-463c-b303-9ce126b4f2f8&quot;), &quot;uid&quot;: String(&quot;c7cf1df8-a788-4d16-baa3-9d07c25ae2af&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:05:51.883543Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;82cc2f21-68cf-4c26-b463-bfce1991fc53&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;mV34Nj7rxAcW&quot;), &quot;username&quot;: String(&quot;user-8c246257-c553-463c-b303-9ce126b4f2f8&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:51.922868047Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:51.929721351Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:52.009021934Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:52.016012985Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:52.151463059Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:52.151524193Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:52.151557736Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:52.151646883Z&quot;)}]}}
[2022-11-23T15:05:53Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-11-23T15:05:53Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;8c246257-c553-463c-b303-9ce126b4f2f8&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:05:53Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;8c246257-c553-463c-b303-9ce126b4f2f8\&quot;,\n    \&quot;uid\&quot;: \&quot;c7cf1df8-a788-4d16-baa3-9d07c25ae2af\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:05:51.883543Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;82cc2f21-68cf-4c26-b463-bfce1991fc53\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;mV34Nj7rxAcW\&quot;,\n        \&quot;username\&quot;: \&quot;user-8c246257-c553-463c-b303-9ce126b4f2f8\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:51.922868047Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:51.929721351Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:52.009021934Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:52.016012985Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:52.151463059Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:52.151524193Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:52.151557736Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:05:52.151646883Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:05:53Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;8c246257-c553-463c-b303-9ce126b4f2f8&quot;), &quot;uid&quot;: String(&quot;c7cf1df8-a788-4d16-baa3-9d07c25ae2af&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:05:51.883543Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;82cc2f21-68cf-4c26-b463-bfce1991fc53&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;mV34Nj7rxAcW&quot;), &quot;username&quot;: String(&quot;user-8c246257-c553-463c-b303-9ce126b4f2f8&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:51.922868047Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:51.929721351Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:52.009021934Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:52.016012985Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:52.151463059Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:52.151524193Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:52.151557736Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:05:52.151646883Z&quot;)}]}}
[2022-11-23T15:05:53Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-11-23T15:05:53Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-11-23T15:05:53Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;8c246257-c553-463c-b303-9ce126b4f2f8&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-11-23T15:05:53Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:05:53Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T15:05:53Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:05:53Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T15:05:53Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTYyNTEsImlhdCI6MTY2OTIxNTk1MSwiYXV0aF90aW1lIjoxNjY5MjE1OTQ4LCJqdGkiOiI5NDFkYTg3Ni02MzgyLTQxNGQtYTcwZC00OGM4MDAxZGQyYjgiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InNxWVhOTW1xeDBUcmFDcjVVWjhrdlEiLCJzZXNzaW9uX3N0YXRlIjoiOTJmNTdiOGEtMzg5Ny00ZDY1LTg2MWUtNDdlNzZmYTFlZmZiIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjkyZjU3YjhhLTM4OTctNGQ2NS04NjFlLTQ3ZTc2ZmExZWZmYiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.RdoDPVn2uxoBLnKxxCabw3r2iag7rENLl5GcGOxsOUmmKb_QlLKwZB7mV8Z3Iefy-h8JJSuZRDdADh5UmF5VKsHOAaF8lhwghlEv3mJ3dRLgMrDW5CkWawVEpl6rEU6FLAfbrf_E-OL2MCzyzP0gFJDTtmHcrg_4EpPoNPSTF2_gPsq5B_qolz4R8eTV9Ld4ciiwtVW2Ws-c6oFfvFbqPhX7lC1gYMAZMfLdAdu03uBwu9gdNWaNpHn_TXaceUPqgrHesFxX2hxBaUSMMITcCX2f3tqymlPP-9skDq5mZbwLKlD0e4Bm5JCYVlRpgnoIuh0M584SFKfnujo8kPmrcQ\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:05:53Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:05:53Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-11-23T15:05:53Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;8c246257-c553-463c-b303-9ce126b4f2f8&quot; &quot;device1&quot;
[2022-11-23T15:05:53Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:05:53Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;8c246257-c553-463c-b303-9ce126b4f2f8&#x27;
[2022-11-23T15:05:53Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;8c246257-c553-463c-b303-9ce126b4f2f8&quot;
[2022-11-23T15:05:53Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_2::integration_version_3::integration_ws_1

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T15:05:55Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T15:05:55Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:05:55Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:05:55Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:05:56Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T15:05:57Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T15:05:57Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:05:57Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:05:59Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc3NTksImlhdCI6MTY2OTIxNTk1OSwianRpIjoiYWIzOWI1YjktZDkyZC00MjllLTkzOWQtNDBlNTRjNjc1ZmI4IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiYkd0ekpOTjE4c2VOT016RWY0eUhHQSIsInNlc3Npb25fc3RhdGUiOiIzMjA3NTZkOC02YjNiLTQ3Y2EtYjUzYi01N2JlNzUwNmYyYWUiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMzIwNzU2ZDgtNmIzYi00N2NhLWI1M2ItNTdiZTc1MDZmMmFlIn0.p7oEfHhj9pLRD6iLRaEwHH188T_Wq5MPK4ySQ4nEJMo
[2022-11-23T15:05:59Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T15:05:59Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:05:59Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc3NTksImlhdCI6MTY2OTIxNTk1OSwianRpIjoiYWIzOWI1YjktZDkyZC00MjllLTkzOWQtNDBlNTRjNjc1ZmI4IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiYkd0ekpOTjE4c2VOT016RWY0eUhHQSIsInNlc3Npb25fc3RhdGUiOiIzMjA3NTZkOC02YjNiLTQ3Y2EtYjUzYi01N2JlNzUwNmYyYWUiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMzIwNzU2ZDgtNmIzYi00N2NhLWI1M2ItNTdiZTc1MDZmMmFlIn0.p7oEfHhj9pLRD6iLRaEwHH188T_Wq5MPK4ySQ4nEJMo&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T15:05:59Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:06:00Z INFO  drogue_cloud_tests::resources::apps] Create application: 9cf49a31-972f-4744-b226-3d81c08688fc
[2022-11-23T15:06:00Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;9cf49a31-972f-4744-b226-3d81c08688fc&quot;
[2022-11-23T15:06:00Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:06:00Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;9cf49a31-972f-4744-b226-3d81c08688fc&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:06:00Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;9cf49a31-972f-4744-b226-3d81c08688fc\&quot;,\n    \&quot;uid\&quot;: \&quot;56e74d3b-be85-49d1-9540-7d9a1930b334\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:06:00.513710Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;734de7cb-8af9-4ed8-88e4-1a5fb4aed4c6\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:00.564500600Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:00.571386497Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:00.571418205Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:00.538902479Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:00.538904073Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:00.538913710Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:00.538965127Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:00.538943547Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:06:00Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;9cf49a31-972f-4744-b226-3d81c08688fc&quot;), &quot;uid&quot;: String(&quot;56e74d3b-be85-49d1-9540-7d9a1930b334&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:06:00.513710Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;734de7cb-8af9-4ed8-88e4-1a5fb4aed4c6&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:00.564500600Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:00.571386497Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:00.571418205Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:00.538902479Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:00.538904073Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:00.538913710Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:00.538965127Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:00.538943547Z&quot;)}]}}
[2022-11-23T15:06:00Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-11-23T15:06:01Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;9cf49a31-972f-4744-b226-3d81c08688fc&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:06:01Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;9cf49a31-972f-4744-b226-3d81c08688fc\&quot;,\n    \&quot;uid\&quot;: \&quot;56e74d3b-be85-49d1-9540-7d9a1930b334\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:06:00.513710Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;6858c6e3-a01f-4466-8f41-34bc3114c765\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;K5Xv33JqyZph\&quot;,\n        \&quot;username\&quot;: \&quot;user-9cf49a31-972f-4744-b226-3d81c08688fc\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:00.564500600Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:00.571386497Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:00.629902004Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:00.636187126Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:00.774488074Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:00.774503103Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:00.774635641Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:00.774531205Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:06:01Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;9cf49a31-972f-4744-b226-3d81c08688fc&quot;), &quot;uid&quot;: String(&quot;56e74d3b-be85-49d1-9540-7d9a1930b334&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:06:00.513710Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;6858c6e3-a01f-4466-8f41-34bc3114c765&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;K5Xv33JqyZph&quot;), &quot;username&quot;: String(&quot;user-9cf49a31-972f-4744-b226-3d81c08688fc&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:00.564500600Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:00.571386497Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:00.629902004Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:00.636187126Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:00.774488074Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:00.774503103Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:00.774635641Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:00.774531205Z&quot;)}]}}
[2022-11-23T15:06:01Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-11-23T15:06:01Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;9cf49a31-972f-4744-b226-3d81c08688fc&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:06:01Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;9cf49a31-972f-4744-b226-3d81c08688fc\&quot;,\n    \&quot;uid\&quot;: \&quot;56e74d3b-be85-49d1-9540-7d9a1930b334\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:06:00.513710Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;6858c6e3-a01f-4466-8f41-34bc3114c765\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;K5Xv33JqyZph\&quot;,\n        \&quot;username\&quot;: \&quot;user-9cf49a31-972f-4744-b226-3d81c08688fc\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:00.564500600Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:00.571386497Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:00.629902004Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:00.636187126Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:00.774488074Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:00.774503103Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:00.774635641Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:00.774531205Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:06:01Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;9cf49a31-972f-4744-b226-3d81c08688fc&quot;), &quot;uid&quot;: String(&quot;56e74d3b-be85-49d1-9540-7d9a1930b334&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:06:00.513710Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;6858c6e3-a01f-4466-8f41-34bc3114c765&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;K5Xv33JqyZph&quot;), &quot;username&quot;: String(&quot;user-9cf49a31-972f-4744-b226-3d81c08688fc&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:00.564500600Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:00.571386497Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:00.629902004Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:00.636187126Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:00.774488074Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:00.774503103Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:00.774635641Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:00.774531205Z&quot;)}]}}
[2022-11-23T15:06:01Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-11-23T15:06:01Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-11-23T15:06:01Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;9cf49a31-972f-4744-b226-3d81c08688fc&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-11-23T15:06:01Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:06:01Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T15:06:01Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:06:01Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T15:06:01Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTYyNTksImlhdCI6MTY2OTIxNTk1OSwiYXV0aF90aW1lIjoxNjY5MjE1OTU2LCJqdGkiOiIyZjIzMmM3My05ODRhLTRlNzEtODE2Yy03MTRmY2M0NzBkN2YiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImJHdHpKTk4xOHNlTk9NekVmNHlIR0EiLCJzZXNzaW9uX3N0YXRlIjoiMzIwNzU2ZDgtNmIzYi00N2NhLWI1M2ItNTdiZTc1MDZmMmFlIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjMyMDc1NmQ4LTZiM2ItNDdjYS1iNTNiLTU3YmU3NTA2ZjJhZSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.esXf1oua7Uug4BiJBzOjjqYyBBOmG0uBFAlABdVDNQuyGa886VswZkKFupwFt-VVITVaPCDZ-cHATHdHFq6gPOo1JncEYU2DWNsVn5Fe2IStdd8ImNug5JwSBpYnLK3PCLrk0p9y18kVB8MtMjiVR9OHGkZx3Bm6uHRQggp-7_hDgZKB5WEvI2yHUZ6N18HwItbFcDI8TJTVjZHLwWg5m3uMe3C6aTlEdUmEpd-SwmSilUGBi-MHUN87k8JPIeGRLiHwPmSRHgQw7cQa7s04vk3-FwjNUNcu_S-aRMvDf1GpgxzWoI-mrYrjjvxBsT1-qpksmVK6arrSCQWG4NqeDA\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:06:01Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:06:01Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-11-23T15:06:01Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;9cf49a31-972f-4744-b226-3d81c08688fc&quot; &quot;device1&quot;
[2022-11-23T15:06:01Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:06:01Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;9cf49a31-972f-4744-b226-3d81c08688fc&#x27;
[2022-11-23T15:06:01Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;9cf49a31-972f-4744-b226-3d81c08688fc&quot;
[2022-11-23T15:06:01Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_1::endpoint_ws_2::integration_version_3::integration_ws_2

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T15:06:04Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T15:06:04Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:06:04Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:06:04Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:06:04Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T15:06:06Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T15:06:06Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:06:06Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:06:08Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc3NjgsImlhdCI6MTY2OTIxNTk2OCwianRpIjoiY2EwNGI3YjktYjljZi00ZTVhLWE1ZWEtN2MxNjBmMjZjZmU4IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiOHk3ZFNmUVh4TTlHQlJ2Q052TFlIdyIsInNlc3Npb25fc3RhdGUiOiIwNjI3MzBjMi01MGYxLTQzZTgtYTY0OS03OWVjNDY3OTEwOGIiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMDYyNzMwYzItNTBmMS00M2U4LWE2NDktNzllYzQ2NzkxMDhiIn0.ELv6i-z6GZ_45RIlEK-mKuvFCZTeT7wPnX6ZoQKFVAo
[2022-11-23T15:06:08Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T15:06:08Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:06:08Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc3NjgsImlhdCI6MTY2OTIxNTk2OCwianRpIjoiY2EwNGI3YjktYjljZi00ZTVhLWE1ZWEtN2MxNjBmMjZjZmU4IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiOHk3ZFNmUVh4TTlHQlJ2Q052TFlIdyIsInNlc3Npb25fc3RhdGUiOiIwNjI3MzBjMi01MGYxLTQzZTgtYTY0OS03OWVjNDY3OTEwOGIiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMDYyNzMwYzItNTBmMS00M2U4LWE2NDktNzllYzQ2NzkxMDhiIn0.ELv6i-z6GZ_45RIlEK-mKuvFCZTeT7wPnX6ZoQKFVAo&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T15:06:08Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:06:08Z INFO  drogue_cloud_tests::resources::apps] Create application: df8e15b0-4f47-4dc9-92a6-832a28a9f41d
[2022-11-23T15:06:08Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;df8e15b0-4f47-4dc9-92a6-832a28a9f41d&quot;
[2022-11-23T15:06:09Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:06:09Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;df8e15b0-4f47-4dc9-92a6-832a28a9f41d&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:06:09Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;df8e15b0-4f47-4dc9-92a6-832a28a9f41d\&quot;,\n    \&quot;uid\&quot;: \&quot;14e2aaf8-2cfc-4dce-98e9-a630f7647c99\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:06:09.011652Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;49d336c8-b1a3-4fca-9c0c-f2df4f39def1\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:09.074440905Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:09.079617311Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:09.079656975Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:09.038298772Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:09.038299313Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:09.038312107Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:09.038364155Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:09.038336373Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:06:09Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;df8e15b0-4f47-4dc9-92a6-832a28a9f41d&quot;), &quot;uid&quot;: String(&quot;14e2aaf8-2cfc-4dce-98e9-a630f7647c99&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:06:09.011652Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;49d336c8-b1a3-4fca-9c0c-f2df4f39def1&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:09.074440905Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:09.079617311Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:09.079656975Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:09.038298772Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:09.038299313Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:09.038312107Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:09.038364155Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:09.038336373Z&quot;)}]}}
[2022-11-23T15:06:09Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-11-23T15:06:10Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;df8e15b0-4f47-4dc9-92a6-832a28a9f41d&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:06:10Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;df8e15b0-4f47-4dc9-92a6-832a28a9f41d\&quot;,\n    \&quot;uid\&quot;: \&quot;14e2aaf8-2cfc-4dce-98e9-a630f7647c99\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:06:09.011652Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;5072b701-4daa-483f-8b80-2cb7c4475dba\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;ZfwlTegg6UV5\&quot;,\n        \&quot;username\&quot;: \&quot;user-df8e15b0-4f47-4dc9-92a6-832a28a9f41d\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:09.074440905Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:09.079617311Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:09.137890416Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:09.144605882Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:09.327106712Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:09.327122121Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:09.327224783Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:09.327151486Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:06:10Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;df8e15b0-4f47-4dc9-92a6-832a28a9f41d&quot;), &quot;uid&quot;: String(&quot;14e2aaf8-2cfc-4dce-98e9-a630f7647c99&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:06:09.011652Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;5072b701-4daa-483f-8b80-2cb7c4475dba&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;ZfwlTegg6UV5&quot;), &quot;username&quot;: String(&quot;user-df8e15b0-4f47-4dc9-92a6-832a28a9f41d&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:09.074440905Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:09.079617311Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:09.137890416Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:09.144605882Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:09.327106712Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:09.327122121Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:09.327224783Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:09.327151486Z&quot;)}]}}
[2022-11-23T15:06:10Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-11-23T15:06:10Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;df8e15b0-4f47-4dc9-92a6-832a28a9f41d&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:06:10Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;df8e15b0-4f47-4dc9-92a6-832a28a9f41d\&quot;,\n    \&quot;uid\&quot;: \&quot;14e2aaf8-2cfc-4dce-98e9-a630f7647c99\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:06:09.011652Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;5072b701-4daa-483f-8b80-2cb7c4475dba\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;ZfwlTegg6UV5\&quot;,\n        \&quot;username\&quot;: \&quot;user-df8e15b0-4f47-4dc9-92a6-832a28a9f41d\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:09.074440905Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:09.079617311Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:09.137890416Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:09.144605882Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:09.327106712Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:09.327122121Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:09.327224783Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:09.327151486Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:06:10Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;df8e15b0-4f47-4dc9-92a6-832a28a9f41d&quot;), &quot;uid&quot;: String(&quot;14e2aaf8-2cfc-4dce-98e9-a630f7647c99&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:06:09.011652Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;5072b701-4daa-483f-8b80-2cb7c4475dba&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;ZfwlTegg6UV5&quot;), &quot;username&quot;: String(&quot;user-df8e15b0-4f47-4dc9-92a6-832a28a9f41d&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:09.074440905Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:09.079617311Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:09.137890416Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:09.144605882Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:09.327106712Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:09.327122121Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:09.327224783Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:09.327151486Z&quot;)}]}}
[2022-11-23T15:06:10Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-11-23T15:06:10Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-11-23T15:06:10Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;df8e15b0-4f47-4dc9-92a6-832a28a9f41d&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-11-23T15:06:10Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:06:10Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T15:06:10Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:06:10Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T15:06:10Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTYyNjgsImlhdCI6MTY2OTIxNTk2OCwiYXV0aF90aW1lIjoxNjY5MjE1OTY1LCJqdGkiOiI2NGFlNmJkMS00ZTI2LTQxMmMtOTVjZi0yMzA3MTA4NGRmNjQiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Ijh5N2RTZlFYeE05R0JSdkNOdkxZSHciLCJzZXNzaW9uX3N0YXRlIjoiMDYyNzMwYzItNTBmMS00M2U4LWE2NDktNzllYzQ2NzkxMDhiIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjA2MjczMGMyLTUwZjEtNDNlOC1hNjQ5LTc5ZWM0Njc5MTA4YiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.M3Fcaka5KIk31O1-tsF-u2rgsv-3g-azf6rG-H8OYs0tpuV5UkZaea3SnJG8NCFECXZ-VarUKDxfU0Z3ZeA-z49FkYJOt_cQe61Mw5NNY4KH33ISnoWGlB7PRiFDb91vQ9ZEtFay8HnJld3S-8cCkIWFB2QBCI0GkyTY7Yk-rlXPKz8_I-UymgzWs2bxCrXxvKfhnlut6KYGRew6zvODXXz8_PdtYQX46rHHN2HuD0n_AOLvotEDPofjSfWiJRd5o09L6brmCvMDYm_B73JTlnFpibnN0rxT03_aZCcsaHjwU8wc5hhLQe_2YhBUL-fDCRt_upEES4LZ1aiA2FB8DQ\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:06:10Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:06:10Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-11-23T15:06:10Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;df8e15b0-4f47-4dc9-92a6-832a28a9f41d&quot; &quot;device1&quot;
[2022-11-23T15:06:10Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:06:10Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;df8e15b0-4f47-4dc9-92a6-832a28a9f41d&#x27;
[2022-11-23T15:06:10Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;df8e15b0-4f47-4dc9-92a6-832a28a9f41d&quot;
[2022-11-23T15:06:10Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_1::integration_version_1::integration_ws_1

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T15:06:12Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T15:06:12Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:06:12Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:06:12Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:06:13Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T15:06:14Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T15:06:14Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:06:14Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:06:16Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc3NzYsImlhdCI6MTY2OTIxNTk3NiwianRpIjoiYTg3ODY4MmYtMGU2NS00MDU1LWI0YzQtZjQ3MjM3ZTRjYmEwIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoidDJKMUdiZkhTUWp3eVN1djJDb1MxQSIsInNlc3Npb25fc3RhdGUiOiJjMmM0Y2U1ZC1iYTYyLTQ1NTYtODc5MS01YTk3YzA0YzE5NTAiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiYzJjNGNlNWQtYmE2Mi00NTU2LTg3OTEtNWE5N2MwNGMxOTUwIn0.BkwVXxtskpsdIV9vXuXTt3KYRhDnBg-fstVtufKBNww
[2022-11-23T15:06:16Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T15:06:16Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:06:16Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc3NzYsImlhdCI6MTY2OTIxNTk3NiwianRpIjoiYTg3ODY4MmYtMGU2NS00MDU1LWI0YzQtZjQ3MjM3ZTRjYmEwIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoidDJKMUdiZkhTUWp3eVN1djJDb1MxQSIsInNlc3Npb25fc3RhdGUiOiJjMmM0Y2U1ZC1iYTYyLTQ1NTYtODc5MS01YTk3YzA0YzE5NTAiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiYzJjNGNlNWQtYmE2Mi00NTU2LTg3OTEtNWE5N2MwNGMxOTUwIn0.BkwVXxtskpsdIV9vXuXTt3KYRhDnBg-fstVtufKBNww&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T15:06:16Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:06:17Z INFO  drogue_cloud_tests::resources::apps] Create application: ae82ff07-0e82-4d12-8ea8-d39e43578afd
[2022-11-23T15:06:17Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;ae82ff07-0e82-4d12-8ea8-d39e43578afd&quot;
[2022-11-23T15:06:17Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:06:17Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;ae82ff07-0e82-4d12-8ea8-d39e43578afd&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:06:17Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;ae82ff07-0e82-4d12-8ea8-d39e43578afd\&quot;,\n    \&quot;uid\&quot;: \&quot;328f85a0-5178-4c53-b741-feb04a65712f\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:06:17.496988Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;f2f6dc08-0182-43a5-9299-f49aac6401d6\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:17.546490493Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:17.560681890Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:17.560725681Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:17.511888463Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:17.511889344Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:17.511897900Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:17.511924830Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:17.511950068Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:06:17Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;ae82ff07-0e82-4d12-8ea8-d39e43578afd&quot;), &quot;uid&quot;: String(&quot;328f85a0-5178-4c53-b741-feb04a65712f&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:06:17.496988Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;f2f6dc08-0182-43a5-9299-f49aac6401d6&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:17.546490493Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:17.560681890Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:17.560725681Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:17.511888463Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:17.511889344Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:17.511897900Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:17.511924830Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:17.511950068Z&quot;)}]}}
[2022-11-23T15:06:17Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-11-23T15:06:18Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;ae82ff07-0e82-4d12-8ea8-d39e43578afd&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:06:18Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;ae82ff07-0e82-4d12-8ea8-d39e43578afd\&quot;,\n    \&quot;uid\&quot;: \&quot;328f85a0-5178-4c53-b741-feb04a65712f\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:06:17.496988Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;2d70de0e-2359-4e01-bcf4-7c5f7f64f792\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;R6x97a9aYpKl\&quot;,\n        \&quot;username\&quot;: \&quot;user-ae82ff07-0e82-4d12-8ea8-d39e43578afd\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:17.546490493Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:17.560681890Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:17.610287305Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:17.616494490Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:17.758354932Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:17.758370992Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:17.758449949Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:17.758493440Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:06:18Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;ae82ff07-0e82-4d12-8ea8-d39e43578afd&quot;), &quot;uid&quot;: String(&quot;328f85a0-5178-4c53-b741-feb04a65712f&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:06:17.496988Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;2d70de0e-2359-4e01-bcf4-7c5f7f64f792&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;R6x97a9aYpKl&quot;), &quot;username&quot;: String(&quot;user-ae82ff07-0e82-4d12-8ea8-d39e43578afd&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:17.546490493Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:17.560681890Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:17.610287305Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:17.616494490Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:17.758354932Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:17.758370992Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:17.758449949Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:17.758493440Z&quot;)}]}}
[2022-11-23T15:06:18Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-11-23T15:06:18Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;ae82ff07-0e82-4d12-8ea8-d39e43578afd&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:06:18Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;ae82ff07-0e82-4d12-8ea8-d39e43578afd\&quot;,\n    \&quot;uid\&quot;: \&quot;328f85a0-5178-4c53-b741-feb04a65712f\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:06:17.496988Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;2d70de0e-2359-4e01-bcf4-7c5f7f64f792\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;R6x97a9aYpKl\&quot;,\n        \&quot;username\&quot;: \&quot;user-ae82ff07-0e82-4d12-8ea8-d39e43578afd\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:17.546490493Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:17.560681890Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:17.610287305Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:17.616494490Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:17.758354932Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:17.758370992Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:17.758449949Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:17.758493440Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:06:18Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;ae82ff07-0e82-4d12-8ea8-d39e43578afd&quot;), &quot;uid&quot;: String(&quot;328f85a0-5178-4c53-b741-feb04a65712f&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:06:17.496988Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;2d70de0e-2359-4e01-bcf4-7c5f7f64f792&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;R6x97a9aYpKl&quot;), &quot;username&quot;: String(&quot;user-ae82ff07-0e82-4d12-8ea8-d39e43578afd&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:17.546490493Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:17.560681890Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:17.610287305Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:17.616494490Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:17.758354932Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:17.758370992Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:17.758449949Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:17.758493440Z&quot;)}]}}
[2022-11-23T15:06:18Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-11-23T15:06:18Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-11-23T15:06:18Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;ae82ff07-0e82-4d12-8ea8-d39e43578afd&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-11-23T15:06:18Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:06:18Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T15:06:18Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:06:18Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T15:06:18Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTYyNzYsImlhdCI6MTY2OTIxNTk3NiwiYXV0aF90aW1lIjoxNjY5MjE1OTczLCJqdGkiOiIwNTUxYWYyNy0zZTllLTRjZTQtOGIyMi03ZjQ1ODY3YmU3OTUiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InQySjFHYmZIU1Fqd3lTdXYyQ29TMUEiLCJzZXNzaW9uX3N0YXRlIjoiYzJjNGNlNWQtYmE2Mi00NTU2LTg3OTEtNWE5N2MwNGMxOTUwIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImMyYzRjZTVkLWJhNjItNDU1Ni04NzkxLTVhOTdjMDRjMTk1MCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.ez_52Pj02oXDEA0qMUcvVNy7HbFFg8iKci4AKjSiU2P6C8TS-OhzwSiPxblhQGUMBa1OBYtBisJqEnju6X-mT1ImB-XuK-XiLz__V6io7SLBEDV_pzL6dOaE4eo2Vun8zo_Bf9uMChWTZKQW_Fup9SiS8_yr_QMiIm0-qNLp6ReOXQFRo9fbQ2xMut2Yman2DqUax728e4Po8oPwt1PnoB6BiXTuDeammA4MpWl5R9pCYmSRFHzkhIoc4W1lbUeU0NtuN1Rkg04aUCaJ3agqh8MiH5KPjp6j6FgzCnOnEYqYNLLIua6huJ2Adr9WmadrBQJ1dvxEyxpZSIq9P4XkLg\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:06:18Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:06:18Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-11-23T15:06:18Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;ae82ff07-0e82-4d12-8ea8-d39e43578afd&quot; &quot;device1&quot;
[2022-11-23T15:06:18Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:06:18Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;ae82ff07-0e82-4d12-8ea8-d39e43578afd&#x27;
[2022-11-23T15:06:18Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;ae82ff07-0e82-4d12-8ea8-d39e43578afd&quot;
[2022-11-23T15:06:18Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_1::integration_version_1::integration_ws_2

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T15:06:21Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T15:06:21Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:06:21Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:06:21Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:06:22Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T15:06:23Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T15:06:23Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:06:23Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:06:25Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc3ODUsImlhdCI6MTY2OTIxNTk4NSwianRpIjoiZjIzMGQyYjAtMzI3OS00NWYwLThkYzAtYjlmMDYxYzllODgwIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiRHR6QXdadEl3cFdfV0hxWGdnd1NMdyIsInNlc3Npb25fc3RhdGUiOiIxZTUwMjNlMS00YjRlLTQ0ZmItYmVmMy03Y2NiN2M5MzQ3MjgiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMWU1MDIzZTEtNGI0ZS00NGZiLWJlZjMtN2NjYjdjOTM0NzI4In0.pM_oYaOCQ868KUYI4U4ehT5OfnAzuZe7Ldu6xXNPZmo
[2022-11-23T15:06:25Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T15:06:25Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:06:25Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc3ODUsImlhdCI6MTY2OTIxNTk4NSwianRpIjoiZjIzMGQyYjAtMzI3OS00NWYwLThkYzAtYjlmMDYxYzllODgwIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiRHR6QXdadEl3cFdfV0hxWGdnd1NMdyIsInNlc3Npb25fc3RhdGUiOiIxZTUwMjNlMS00YjRlLTQ0ZmItYmVmMy03Y2NiN2M5MzQ3MjgiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMWU1MDIzZTEtNGI0ZS00NGZiLWJlZjMtN2NjYjdjOTM0NzI4In0.pM_oYaOCQ868KUYI4U4ehT5OfnAzuZe7Ldu6xXNPZmo&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T15:06:25Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:06:25Z INFO  drogue_cloud_tests::resources::apps] Create application: 8260d6e3-a4ad-4c98-9aeb-51cca8e279fb
[2022-11-23T15:06:25Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;8260d6e3-a4ad-4c98-9aeb-51cca8e279fb&quot;
[2022-11-23T15:06:25Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:06:25Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;8260d6e3-a4ad-4c98-9aeb-51cca8e279fb&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:06:26Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;8260d6e3-a4ad-4c98-9aeb-51cca8e279fb\&quot;,\n    \&quot;uid\&quot;: \&quot;14afc99e-011e-40ef-9338-22c4483a1e84\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:06:25.948127Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;24a039c0-7964-4d9d-87ff-82c47f3ef4da\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:25.995036898Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:25.999108457Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:25.999141870Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:25.969579420Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:25.969579951Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:25.969584208Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:25.969644752Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:25.969605358Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:06:26Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;8260d6e3-a4ad-4c98-9aeb-51cca8e279fb&quot;), &quot;uid&quot;: String(&quot;14afc99e-011e-40ef-9338-22c4483a1e84&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:06:25.948127Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;24a039c0-7964-4d9d-87ff-82c47f3ef4da&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:25.995036898Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:25.999108457Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:25.999141870Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:25.969579420Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:25.969579951Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:25.969584208Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:25.969644752Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:25.969605358Z&quot;)}]}}
[2022-11-23T15:06:26Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-11-23T15:06:27Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;8260d6e3-a4ad-4c98-9aeb-51cca8e279fb&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:06:27Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;8260d6e3-a4ad-4c98-9aeb-51cca8e279fb\&quot;,\n    \&quot;uid\&quot;: \&quot;14afc99e-011e-40ef-9338-22c4483a1e84\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:06:25.948127Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;dfdd3bb1-541c-4b8d-a0f1-ab383baa31b6\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;CLEXDGTOTL66\&quot;,\n        \&quot;username\&quot;: \&quot;user-8260d6e3-a4ad-4c98-9aeb-51cca8e279fb\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:25.995036898Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:25.999108457Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:26.065957803Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:26.072863374Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:26.218260725Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:26.218279911Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:26.218442666Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:26.218359871Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:06:27Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;8260d6e3-a4ad-4c98-9aeb-51cca8e279fb&quot;), &quot;uid&quot;: String(&quot;14afc99e-011e-40ef-9338-22c4483a1e84&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:06:25.948127Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;dfdd3bb1-541c-4b8d-a0f1-ab383baa31b6&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;CLEXDGTOTL66&quot;), &quot;username&quot;: String(&quot;user-8260d6e3-a4ad-4c98-9aeb-51cca8e279fb&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:25.995036898Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:25.999108457Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:26.065957803Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:26.072863374Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:26.218260725Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:26.218279911Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:26.218442666Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:26.218359871Z&quot;)}]}}
[2022-11-23T15:06:27Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-11-23T15:06:27Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;8260d6e3-a4ad-4c98-9aeb-51cca8e279fb&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:06:27Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;8260d6e3-a4ad-4c98-9aeb-51cca8e279fb\&quot;,\n    \&quot;uid\&quot;: \&quot;14afc99e-011e-40ef-9338-22c4483a1e84\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:06:25.948127Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;dfdd3bb1-541c-4b8d-a0f1-ab383baa31b6\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;CLEXDGTOTL66\&quot;,\n        \&quot;username\&quot;: \&quot;user-8260d6e3-a4ad-4c98-9aeb-51cca8e279fb\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:25.995036898Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:25.999108457Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:26.065957803Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:26.072863374Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:26.218260725Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:26.218279911Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:26.218442666Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:26.218359871Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:06:27Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;8260d6e3-a4ad-4c98-9aeb-51cca8e279fb&quot;), &quot;uid&quot;: String(&quot;14afc99e-011e-40ef-9338-22c4483a1e84&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:06:25.948127Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;dfdd3bb1-541c-4b8d-a0f1-ab383baa31b6&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;CLEXDGTOTL66&quot;), &quot;username&quot;: String(&quot;user-8260d6e3-a4ad-4c98-9aeb-51cca8e279fb&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:25.995036898Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:25.999108457Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:26.065957803Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:26.072863374Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:26.218260725Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:26.218279911Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:26.218442666Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:26.218359871Z&quot;)}]}}
[2022-11-23T15:06:27Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-11-23T15:06:27Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-11-23T15:06:27Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;8260d6e3-a4ad-4c98-9aeb-51cca8e279fb&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-11-23T15:06:27Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:06:27Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T15:06:27Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:06:27Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T15:06:27Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTYyODUsImlhdCI6MTY2OTIxNTk4NSwiYXV0aF90aW1lIjoxNjY5MjE1OTgyLCJqdGkiOiI3MjFkOTg1OS0zNDgxLTQzOTMtYTE2ZC0zODE3MTFjMWFjNDEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IkR0ekF3WnRJd3BXX1dIcVhnZ3dTTHciLCJzZXNzaW9uX3N0YXRlIjoiMWU1MDIzZTEtNGI0ZS00NGZiLWJlZjMtN2NjYjdjOTM0NzI4IiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjFlNTAyM2UxLTRiNGUtNDRmYi1iZWYzLTdjY2I3YzkzNDcyOCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.NAl-QCCoTn2B39pfToMPVOHpLwmThQDlrTRs6aKXVH8X1KvnFcun7Le9L3vsX_GLyaeleunD4QCH2saqzzKsngNCoB8UpSxkcU3H75buSn3aikvbPBtc9iJoByDELipIAdwwux1sZma8QC5mtTkaGIdTCXg1c6aXVSAp0QPnGQgIhmoMhL8rJFoH_LjOLGr0Q7tP9nL9Ft9MYXyjQg17zQdaNid8499PRaYYiN30z9U8vkuLNgH-yJC0uK1hJSdcIQW4e_1Hk5Q6nihOJ7xO0EJgeLeqfi0p6Fa80w69dGcsl9qdmDKlPooPmYq9mg77dzkAyX3p0OP0a1zixa96kw\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:06:27Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:06:27Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-11-23T15:06:27Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;8260d6e3-a4ad-4c98-9aeb-51cca8e279fb&quot; &quot;device1&quot;
[2022-11-23T15:06:27Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:06:27Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;8260d6e3-a4ad-4c98-9aeb-51cca8e279fb&#x27;
[2022-11-23T15:06:27Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;8260d6e3-a4ad-4c98-9aeb-51cca8e279fb&quot;
[2022-11-23T15:06:27Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_1::integration_version_2::integration_ws_1

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T15:06:29Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T15:06:29Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:06:29Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:06:29Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:06:30Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T15:06:31Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T15:06:31Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:06:31Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:06:33Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc3OTMsImlhdCI6MTY2OTIxNTk5MywianRpIjoiMzhmMjU3MWQtNDU5Mi00OTIxLWJkNjctOWJhZTJkZjZiODMyIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiajllTllRUEVUZ3l2Q2FidFNYUUNzZyIsInNlc3Npb25fc3RhdGUiOiIwMmU0NTA1ZS04ZWFhLTQ0ZjMtOGQxYy0xNzMxZTg4Nzg0ZDYiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMDJlNDUwNWUtOGVhYS00NGYzLThkMWMtMTczMWU4ODc4NGQ2In0.mz-wbnFi2509LUfChIb3SmRsMkImR6vlssw_jazbwMw
[2022-11-23T15:06:33Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T15:06:33Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:06:33Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc3OTMsImlhdCI6MTY2OTIxNTk5MywianRpIjoiMzhmMjU3MWQtNDU5Mi00OTIxLWJkNjctOWJhZTJkZjZiODMyIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiajllTllRUEVUZ3l2Q2FidFNYUUNzZyIsInNlc3Npb25fc3RhdGUiOiIwMmU0NTA1ZS04ZWFhLTQ0ZjMtOGQxYy0xNzMxZTg4Nzg0ZDYiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMDJlNDUwNWUtOGVhYS00NGYzLThkMWMtMTczMWU4ODc4NGQ2In0.mz-wbnFi2509LUfChIb3SmRsMkImR6vlssw_jazbwMw&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T15:06:33Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:06:34Z INFO  drogue_cloud_tests::resources::apps] Create application: adee860f-2196-4179-9984-566b57849bbe
[2022-11-23T15:06:34Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;adee860f-2196-4179-9984-566b57849bbe&quot;
[2022-11-23T15:06:34Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:06:34Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;adee860f-2196-4179-9984-566b57849bbe&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:06:34Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;adee860f-2196-4179-9984-566b57849bbe\&quot;,\n    \&quot;uid\&quot;: \&quot;619cbd95-4707-487d-9339-ea5bc05a0c20\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:06:34.386087Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;6f98ce01-a527-4bea-b614-df38bed926de\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:34.427509242Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:34.433961637Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:34.433996031Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:34.401747574Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:34.401748416Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:34.401765127Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:34.401823817Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:34.401951856Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:06:34Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;adee860f-2196-4179-9984-566b57849bbe&quot;), &quot;uid&quot;: String(&quot;619cbd95-4707-487d-9339-ea5bc05a0c20&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:06:34.386087Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;6f98ce01-a527-4bea-b614-df38bed926de&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:34.427509242Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:34.433961637Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:34.433996031Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:34.401747574Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:34.401748416Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:34.401765127Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:34.401823817Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:34.401951856Z&quot;)}]}}
[2022-11-23T15:06:34Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-11-23T15:06:35Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;adee860f-2196-4179-9984-566b57849bbe&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:06:35Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;adee860f-2196-4179-9984-566b57849bbe\&quot;,\n    \&quot;uid\&quot;: \&quot;619cbd95-4707-487d-9339-ea5bc05a0c20\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:06:34.386087Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;d5bad258-af7e-4f93-9d18-7399baf5517d\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;HeBciHyxxtYK\&quot;,\n        \&quot;username\&quot;: \&quot;user-adee860f-2196-4179-9984-566b57849bbe\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:34.427509242Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:34.433961637Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:34.498367589Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:34.504400278Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:34.652260388Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:34.652275216Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:34.652302347Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:34.652343916Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:06:35Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;adee860f-2196-4179-9984-566b57849bbe&quot;), &quot;uid&quot;: String(&quot;619cbd95-4707-487d-9339-ea5bc05a0c20&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:06:34.386087Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;d5bad258-af7e-4f93-9d18-7399baf5517d&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;HeBciHyxxtYK&quot;), &quot;username&quot;: String(&quot;user-adee860f-2196-4179-9984-566b57849bbe&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:34.427509242Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:34.433961637Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:34.498367589Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:34.504400278Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:34.652260388Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:34.652275216Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:34.652302347Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:34.652343916Z&quot;)}]}}
[2022-11-23T15:06:35Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-11-23T15:06:35Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;adee860f-2196-4179-9984-566b57849bbe&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:06:35Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;adee860f-2196-4179-9984-566b57849bbe\&quot;,\n    \&quot;uid\&quot;: \&quot;619cbd95-4707-487d-9339-ea5bc05a0c20\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:06:34.386087Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;d5bad258-af7e-4f93-9d18-7399baf5517d\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;HeBciHyxxtYK\&quot;,\n        \&quot;username\&quot;: \&quot;user-adee860f-2196-4179-9984-566b57849bbe\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:34.427509242Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:34.433961637Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:34.498367589Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:34.504400278Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:34.652260388Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:34.652275216Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:34.652302347Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:34.652343916Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:06:35Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;adee860f-2196-4179-9984-566b57849bbe&quot;), &quot;uid&quot;: String(&quot;619cbd95-4707-487d-9339-ea5bc05a0c20&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:06:34.386087Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;d5bad258-af7e-4f93-9d18-7399baf5517d&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;HeBciHyxxtYK&quot;), &quot;username&quot;: String(&quot;user-adee860f-2196-4179-9984-566b57849bbe&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:34.427509242Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:34.433961637Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:34.498367589Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:34.504400278Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:34.652260388Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:34.652275216Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:34.652302347Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:34.652343916Z&quot;)}]}}
[2022-11-23T15:06:35Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-11-23T15:06:35Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-11-23T15:06:35Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;adee860f-2196-4179-9984-566b57849bbe&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-11-23T15:06:35Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:06:35Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T15:06:35Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:06:35Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T15:06:35Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTYyOTMsImlhdCI6MTY2OTIxNTk5MywiYXV0aF90aW1lIjoxNjY5MjE1OTkwLCJqdGkiOiIxZmM5Nzg3Zi1mNGYyLTRiYmMtOTdjNi04OTczNjMzNzc3N2MiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Imo5ZU5ZUVBFVGd5dkNhYnRTWFFDc2ciLCJzZXNzaW9uX3N0YXRlIjoiMDJlNDUwNWUtOGVhYS00NGYzLThkMWMtMTczMWU4ODc4NGQ2IiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjAyZTQ1MDVlLThlYWEtNDRmMy04ZDFjLTE3MzFlODg3ODRkNiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.SRxAq1YvLNWmA5srcMiLTEqw1plm7FMkDq6nzaOLj3-NjEngFFmCQI9_8CB73Z7eyrc7qKafgbZ7IdXx1SWoBUDBRjN2vQgdohXIjWK8gieT4a5jyFE6_apeQMmOsx33CTtpJ53rFpSrEoyfcLgEMdjp-l9PDqwuDhNnpxgAtbxQ7MsDspJcGqWpf8qdk1e4VWhPoQ7CWO1twS4mY4-LOOtfCVokaD2_85vUJ92pknNYug7yU_hrZHhNF_kf747J_cat6g0RN8lyz4lMikoBxHxxMFB77CmBsRAqobw9th2jLNnForSy0l3tpfbg9bpy6B6VwGrBfzxcUOcBgIdxOQ\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:06:35Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:06:35Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-11-23T15:06:35Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;adee860f-2196-4179-9984-566b57849bbe&quot; &quot;device1&quot;
[2022-11-23T15:06:35Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:06:35Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;adee860f-2196-4179-9984-566b57849bbe&#x27;
[2022-11-23T15:06:35Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;adee860f-2196-4179-9984-566b57849bbe&quot;
[2022-11-23T15:06:35Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_1::integration_version_2::integration_ws_2

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T15:06:37Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T15:06:37Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:06:38Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:06:38Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:06:38Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T15:06:40Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T15:06:40Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:06:40Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:06:41Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc4MDEsImlhdCI6MTY2OTIxNjAwMSwianRpIjoiMTUwNWMwMTItYTk0Yi00NTJjLWIwOGUtZmExMGE5MTdkOTJjIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiMW9PU0dKWF9Za0d0c00ySERxRzdsUSIsInNlc3Npb25fc3RhdGUiOiI3ZWFiYTY4Ny0xODY3LTQ4YmEtOWZkOC0wMmMyMWQ3NmZiNTgiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiN2VhYmE2ODctMTg2Ny00OGJhLTlmZDgtMDJjMjFkNzZmYjU4In0.KJ-0yok1anrxOCPPdWNTJ-t_sNUR50UguF8KGEnSya0
[2022-11-23T15:06:41Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T15:06:41Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:06:41Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc4MDEsImlhdCI6MTY2OTIxNjAwMSwianRpIjoiMTUwNWMwMTItYTk0Yi00NTJjLWIwOGUtZmExMGE5MTdkOTJjIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiMW9PU0dKWF9Za0d0c00ySERxRzdsUSIsInNlc3Npb25fc3RhdGUiOiI3ZWFiYTY4Ny0xODY3LTQ4YmEtOWZkOC0wMmMyMWQ3NmZiNTgiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiN2VhYmE2ODctMTg2Ny00OGJhLTlmZDgtMDJjMjFkNzZmYjU4In0.KJ-0yok1anrxOCPPdWNTJ-t_sNUR50UguF8KGEnSya0&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T15:06:42Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:06:42Z INFO  drogue_cloud_tests::resources::apps] Create application: 4aef40ab-85fa-4b0b-963f-a70e20421a24
[2022-11-23T15:06:42Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;4aef40ab-85fa-4b0b-963f-a70e20421a24&quot;
[2022-11-23T15:06:42Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:06:42Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;4aef40ab-85fa-4b0b-963f-a70e20421a24&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:06:42Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;4aef40ab-85fa-4b0b-963f-a70e20421a24\&quot;,\n    \&quot;uid\&quot;: \&quot;633d947c-5b9e-4668-a459-ebf7c181c94e\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:06:42.724980Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;ba2b67f0-e0ea-4dfa-abad-7f9419ddab3c\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:42.765696424Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:42.771376103Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:42.771411048Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:42.736363704Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:42.736364496Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:42.736373923Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:42.736406673Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:42.736468550Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:06:42Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;4aef40ab-85fa-4b0b-963f-a70e20421a24&quot;), &quot;uid&quot;: String(&quot;633d947c-5b9e-4668-a459-ebf7c181c94e&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:06:42.724980Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;ba2b67f0-e0ea-4dfa-abad-7f9419ddab3c&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:42.765696424Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:42.771376103Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:42.771411048Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:42.736363704Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:42.736364496Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:42.736373923Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:42.736406673Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:42.736468550Z&quot;)}]}}
[2022-11-23T15:06:42Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-11-23T15:06:43Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;4aef40ab-85fa-4b0b-963f-a70e20421a24&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:06:43Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;4aef40ab-85fa-4b0b-963f-a70e20421a24\&quot;,\n    \&quot;uid\&quot;: \&quot;633d947c-5b9e-4668-a459-ebf7c181c94e\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:06:42.724980Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;6320e776-dcfa-41d3-98ec-da31f863a102\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;wYbQhqFc9f3H\&quot;,\n        \&quot;username\&quot;: \&quot;user-4aef40ab-85fa-4b0b-963f-a70e20421a24\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:42.765696424Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:42.771376103Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:42.849827950Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:42.859451810Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:43.011277211Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:43.011293442Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:43.011322085Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:43.011390283Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:06:43Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;4aef40ab-85fa-4b0b-963f-a70e20421a24&quot;), &quot;uid&quot;: String(&quot;633d947c-5b9e-4668-a459-ebf7c181c94e&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:06:42.724980Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;6320e776-dcfa-41d3-98ec-da31f863a102&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;wYbQhqFc9f3H&quot;), &quot;username&quot;: String(&quot;user-4aef40ab-85fa-4b0b-963f-a70e20421a24&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:42.765696424Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:42.771376103Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:42.849827950Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:42.859451810Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:43.011277211Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:43.011293442Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:43.011322085Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:43.011390283Z&quot;)}]}}
[2022-11-23T15:06:43Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-11-23T15:06:43Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;4aef40ab-85fa-4b0b-963f-a70e20421a24&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:06:43Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;4aef40ab-85fa-4b0b-963f-a70e20421a24\&quot;,\n    \&quot;uid\&quot;: \&quot;633d947c-5b9e-4668-a459-ebf7c181c94e\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:06:42.724980Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;6320e776-dcfa-41d3-98ec-da31f863a102\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;wYbQhqFc9f3H\&quot;,\n        \&quot;username\&quot;: \&quot;user-4aef40ab-85fa-4b0b-963f-a70e20421a24\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:42.765696424Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:42.771376103Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:42.849827950Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:42.859451810Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:43.011277211Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:43.011293442Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:43.011322085Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:43.011390283Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:06:43Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;4aef40ab-85fa-4b0b-963f-a70e20421a24&quot;), &quot;uid&quot;: String(&quot;633d947c-5b9e-4668-a459-ebf7c181c94e&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:06:42.724980Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;6320e776-dcfa-41d3-98ec-da31f863a102&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;wYbQhqFc9f3H&quot;), &quot;username&quot;: String(&quot;user-4aef40ab-85fa-4b0b-963f-a70e20421a24&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:42.765696424Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:42.771376103Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:42.849827950Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:42.859451810Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:43.011277211Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:43.011293442Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:43.011322085Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:43.011390283Z&quot;)}]}}
[2022-11-23T15:06:43Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-11-23T15:06:43Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-11-23T15:06:43Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;4aef40ab-85fa-4b0b-963f-a70e20421a24&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-11-23T15:06:44Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:06:44Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T15:06:44Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:06:44Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T15:06:44Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTYzMDIsImlhdCI6MTY2OTIxNjAwMiwiYXV0aF90aW1lIjoxNjY5MjE1OTk5LCJqdGkiOiI5MzZjNTJhYy0zZWIyLTQ1ZTYtOWFmMi1hOTljYmJmMzA4NDUiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IjFvT1NHSlhfWWtHdHNNMkhEcUc3bFEiLCJzZXNzaW9uX3N0YXRlIjoiN2VhYmE2ODctMTg2Ny00OGJhLTlmZDgtMDJjMjFkNzZmYjU4IiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjdlYWJhNjg3LTE4NjctNDhiYS05ZmQ4LTAyYzIxZDc2ZmI1OCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.S5DY9Jwyh_Xe2W1mt4jdGwPxOKcE-7nheoYREprB588VUoRFHnpP70-TlWtaSFPaL2eNmor6SykPRVk-GW_sVLlwrA8Co4Ebn0Of0i2tr3F1d3DSOBulwOAzkFpjHIEqcclzswW8JeAnSucpRFnR0QN758Vk5ycAa4yDnrtFJVN86j4XUxd9-wKHQcJbaeMGoOh0QG2dkxGEd7Spck5rcuAYy0c3HoCoMkdiXlKn4JGQKxhxxjbevDTpH_wR5NI_Qwk1XnTaBLqJYnKQhSS6BLwXaYqKFSmFs24s86EFLksxRVvsRb0wvmIPzI6L8g0iRdRWc1S3gXNnr16hFEZ_LA\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:06:44Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:06:44Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-11-23T15:06:44Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;4aef40ab-85fa-4b0b-963f-a70e20421a24&quot; &quot;device1&quot;
[2022-11-23T15:06:44Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:06:44Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;4aef40ab-85fa-4b0b-963f-a70e20421a24&#x27;
[2022-11-23T15:06:44Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;4aef40ab-85fa-4b0b-963f-a70e20421a24&quot;
[2022-11-23T15:06:44Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_1::integration_version_3::integration_ws_1

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T15:06:46Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T15:06:46Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:06:46Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:06:46Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:06:47Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T15:06:48Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T15:06:48Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:06:48Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:06:50Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc4MTAsImlhdCI6MTY2OTIxNjAxMCwianRpIjoiMDcxMzg0ZGUtODNjZS00Y2FhLWExZDktZWM5OTVjZTBhNGI3IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoidDZ0b3dxdVRMdFk4Q0F1bWJLOGt4dyIsInNlc3Npb25fc3RhdGUiOiI1YTBlMTYyMy02NjQxLTQ5ZTQtYjBmNS1lNmQwNjJiNzU0MTQiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiNWEwZTE2MjMtNjY0MS00OWU0LWIwZjUtZTZkMDYyYjc1NDE0In0.lzPHeJhoCCy_LapHdqt_k2zGWRkQGJPhScrk6pFg2Rk
[2022-11-23T15:06:50Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T15:06:50Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:06:50Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc4MTAsImlhdCI6MTY2OTIxNjAxMCwianRpIjoiMDcxMzg0ZGUtODNjZS00Y2FhLWExZDktZWM5OTVjZTBhNGI3IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoidDZ0b3dxdVRMdFk4Q0F1bWJLOGt4dyIsInNlc3Npb25fc3RhdGUiOiI1YTBlMTYyMy02NjQxLTQ5ZTQtYjBmNS1lNmQwNjJiNzU0MTQiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiNWEwZTE2MjMtNjY0MS00OWU0LWIwZjUtZTZkMDYyYjc1NDE0In0.lzPHeJhoCCy_LapHdqt_k2zGWRkQGJPhScrk6pFg2Rk&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T15:06:50Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:06:51Z INFO  drogue_cloud_tests::resources::apps] Create application: 3ef395fc-4186-4746-953f-deaac5e838d6
[2022-11-23T15:06:51Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;3ef395fc-4186-4746-953f-deaac5e838d6&quot;
[2022-11-23T15:06:51Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:06:51Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;3ef395fc-4186-4746-953f-deaac5e838d6&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:06:51Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;3ef395fc-4186-4746-953f-deaac5e838d6\&quot;,\n    \&quot;uid\&quot;: \&quot;ae0a777a-9d98-471d-a9e4-b9445c88794c\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:06:51.475219Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;d6e34f67-ff9d-459f-8de4-06368f7c2bf7\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:51.518210185Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:51.523427879Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:51.523521674Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:51.489252226Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:51.489253237Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:51.489355619Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:51.489393730Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:51.489594005Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:06:51Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;3ef395fc-4186-4746-953f-deaac5e838d6&quot;), &quot;uid&quot;: String(&quot;ae0a777a-9d98-471d-a9e4-b9445c88794c&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:06:51.475219Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;d6e34f67-ff9d-459f-8de4-06368f7c2bf7&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:51.518210185Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:51.523427879Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:51.523521674Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:51.489252226Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:51.489253237Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:51.489355619Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:51.489393730Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:51.489594005Z&quot;)}]}}
[2022-11-23T15:06:51Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-11-23T15:06:52Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;3ef395fc-4186-4746-953f-deaac5e838d6&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:06:52Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;3ef395fc-4186-4746-953f-deaac5e838d6\&quot;,\n    \&quot;uid\&quot;: \&quot;ae0a777a-9d98-471d-a9e4-b9445c88794c\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:06:51.475219Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;767a2395-e422-46b4-84f6-d382dd10e7f4\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;FS0qnX3nIE4L\&quot;,\n        \&quot;username\&quot;: \&quot;user-3ef395fc-4186-4746-953f-deaac5e838d6\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:51.518210185Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:51.523427879Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:51.581283345Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:51.589297261Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:51.740930815Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:51.740944931Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:51.740971251Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:51.741087248Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:06:52Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;3ef395fc-4186-4746-953f-deaac5e838d6&quot;), &quot;uid&quot;: String(&quot;ae0a777a-9d98-471d-a9e4-b9445c88794c&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:06:51.475219Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;767a2395-e422-46b4-84f6-d382dd10e7f4&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;FS0qnX3nIE4L&quot;), &quot;username&quot;: String(&quot;user-3ef395fc-4186-4746-953f-deaac5e838d6&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:51.518210185Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:51.523427879Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:51.581283345Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:51.589297261Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:51.740930815Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:51.740944931Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:51.740971251Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:51.741087248Z&quot;)}]}}
[2022-11-23T15:06:52Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-11-23T15:06:52Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;3ef395fc-4186-4746-953f-deaac5e838d6&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:06:52Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;3ef395fc-4186-4746-953f-deaac5e838d6\&quot;,\n    \&quot;uid\&quot;: \&quot;ae0a777a-9d98-471d-a9e4-b9445c88794c\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:06:51.475219Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;767a2395-e422-46b4-84f6-d382dd10e7f4\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;FS0qnX3nIE4L\&quot;,\n        \&quot;username\&quot;: \&quot;user-3ef395fc-4186-4746-953f-deaac5e838d6\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:51.518210185Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:51.523427879Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:51.581283345Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:51.589297261Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:51.740930815Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:51.740944931Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:51.740971251Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:06:51.741087248Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:06:52Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;3ef395fc-4186-4746-953f-deaac5e838d6&quot;), &quot;uid&quot;: String(&quot;ae0a777a-9d98-471d-a9e4-b9445c88794c&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:06:51.475219Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;767a2395-e422-46b4-84f6-d382dd10e7f4&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;FS0qnX3nIE4L&quot;), &quot;username&quot;: String(&quot;user-3ef395fc-4186-4746-953f-deaac5e838d6&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:51.518210185Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:51.523427879Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:51.581283345Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:51.589297261Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:51.740930815Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:51.740944931Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:51.740971251Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:06:51.741087248Z&quot;)}]}}
[2022-11-23T15:06:52Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-11-23T15:06:52Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-11-23T15:06:52Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;3ef395fc-4186-4746-953f-deaac5e838d6&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-11-23T15:06:52Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:06:52Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T15:06:52Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:06:52Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T15:06:52Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTYzMTAsImlhdCI6MTY2OTIxNjAxMCwiYXV0aF90aW1lIjoxNjY5MjE2MDA3LCJqdGkiOiI3ZjI1ZjZmMi00ODIxLTQxZTAtOWYxNi1hMDkzNmU3MjFlMDAiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InQ2dG93cXVUTHRZOENBdW1iSzhreHciLCJzZXNzaW9uX3N0YXRlIjoiNWEwZTE2MjMtNjY0MS00OWU0LWIwZjUtZTZkMDYyYjc1NDE0IiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjVhMGUxNjIzLTY2NDEtNDllNC1iMGY1LWU2ZDA2MmI3NTQxNCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.f52Tc6S4Jjqr65bo7J2O5QiQ_8K_aMZXvGswhx_hhQVwNSkaNd5okS4PncWj8vhAcelp8OI5v8wGrTXHqumfWvXGaFKX6lw2B3Z6BY50neGCpqYghEGDVgIJLFH7NE9UudbuEVfULtDYIF0VSj6NaEl-OcM9TG0ASdpHzV5eZh2YFdmbYqtyl2ZyiwE3VWGYm57nax4w_e-1xINa4gsCduMg3Y4mk5syENma3r5VL91sXUjwUu1nbP3CzWRg1OR4bOz4jEu2BxBeuhI1BsP2zRhrUIBiNDIRVX658SkuJYjtDo_X4mQuUXUUoJa0wOwK7xSbaR6GnC3FjlOhbfKzSA\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:06:52Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:06:52Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-11-23T15:06:52Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;3ef395fc-4186-4746-953f-deaac5e838d6&quot; &quot;device1&quot;
[2022-11-23T15:06:52Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:06:52Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;3ef395fc-4186-4746-953f-deaac5e838d6&#x27;
[2022-11-23T15:06:52Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;3ef395fc-4186-4746-953f-deaac5e838d6&quot;
[2022-11-23T15:06:52Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_1::integration_version_3::integration_ws_2

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T15:06:54Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T15:06:54Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:06:55Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:06:55Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:06:55Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T15:06:57Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T15:06:57Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:06:57Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:06:59Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc4MTksImlhdCI6MTY2OTIxNjAxOSwianRpIjoiZWRiMWI1NmMtZGM3Ni00OGI2LTk4NzgtNTdhYzcxNmE4ODY2IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiRy0zVVY4ejJHM0hZS3RhNWRfckg1dyIsInNlc3Npb25fc3RhdGUiOiJlNzM1ZTk1Mi1kNGNmLTRmMGYtOWZjYy02MGE4NTQ5NDVhZjUiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiZTczNWU5NTItZDRjZi00ZjBmLTlmY2MtNjBhODU0OTQ1YWY1In0.c0RmAlpXWGd9NmMT21eXY481ORSaDErYuG6mRn-IZg8
[2022-11-23T15:06:59Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T15:06:59Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:06:59Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc4MTksImlhdCI6MTY2OTIxNjAxOSwianRpIjoiZWRiMWI1NmMtZGM3Ni00OGI2LTk4NzgtNTdhYzcxNmE4ODY2IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiRy0zVVY4ejJHM0hZS3RhNWRfckg1dyIsInNlc3Npb25fc3RhdGUiOiJlNzM1ZTk1Mi1kNGNmLTRmMGYtOWZjYy02MGE4NTQ5NDVhZjUiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiZTczNWU5NTItZDRjZi00ZjBmLTlmY2MtNjBhODU0OTQ1YWY1In0.c0RmAlpXWGd9NmMT21eXY481ORSaDErYuG6mRn-IZg8&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T15:06:59Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:06:59Z INFO  drogue_cloud_tests::resources::apps] Create application: 8ac78ab8-485d-47fd-adac-d718656b2a71
[2022-11-23T15:06:59Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;8ac78ab8-485d-47fd-adac-d718656b2a71&quot;
[2022-11-23T15:07:00Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:07:00Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;8ac78ab8-485d-47fd-adac-d718656b2a71&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:07:00Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;8ac78ab8-485d-47fd-adac-d718656b2a71\&quot;,\n    \&quot;uid\&quot;: \&quot;309fd071-f5b6-4a61-b33d-f8157ab1b2ba\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:07:00.004304Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;314dbd4c-c76b-4fd3-9ca6-3b3895f5eaf5\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:00.029617586Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:00.029618638Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:00.029642353Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:00.029643354Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:00.029644116Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:00.029669955Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:00.029858527Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: HasFinalizer\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:00.029695342Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:07:00Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;8ac78ab8-485d-47fd-adac-d718656b2a71&quot;), &quot;uid&quot;: String(&quot;309fd071-f5b6-4a61-b33d-f8157ab1b2ba&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:07:00.004304Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;314dbd4c-c76b-4fd3-9ca6-3b3895f5eaf5&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:00.029617586Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:00.029618638Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:00.029642353Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:00.029643354Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:00.029644116Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:00.029669955Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:00.029858527Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: HasFinalizer&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:00.029695342Z&quot;)}]}}
[2022-11-23T15:07:00Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-11-23T15:07:01Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;8ac78ab8-485d-47fd-adac-d718656b2a71&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:07:01Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;8ac78ab8-485d-47fd-adac-d718656b2a71\&quot;,\n    \&quot;uid\&quot;: \&quot;309fd071-f5b6-4a61-b33d-f8157ab1b2ba\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:07:00.004304Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;171e8947-00cc-4287-a1af-851004c40934\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;KHfflTNwOleE\&quot;,\n        \&quot;username\&quot;: \&quot;user-8ac78ab8-485d-47fd-adac-d718656b2a71\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:00.055961665Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:00.062527832Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:00.198714681Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:00.206818465Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:00.370821618Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:00.370838019Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:00.370992006Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:00.370918479Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:07:01Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;8ac78ab8-485d-47fd-adac-d718656b2a71&quot;), &quot;uid&quot;: String(&quot;309fd071-f5b6-4a61-b33d-f8157ab1b2ba&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:07:00.004304Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;171e8947-00cc-4287-a1af-851004c40934&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;KHfflTNwOleE&quot;), &quot;username&quot;: String(&quot;user-8ac78ab8-485d-47fd-adac-d718656b2a71&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:00.055961665Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:00.062527832Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:00.198714681Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:00.206818465Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:00.370821618Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:00.370838019Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:00.370992006Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:00.370918479Z&quot;)}]}}
[2022-11-23T15:07:01Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-11-23T15:07:01Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;8ac78ab8-485d-47fd-adac-d718656b2a71&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:07:01Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;8ac78ab8-485d-47fd-adac-d718656b2a71\&quot;,\n    \&quot;uid\&quot;: \&quot;309fd071-f5b6-4a61-b33d-f8157ab1b2ba\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:07:00.004304Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;171e8947-00cc-4287-a1af-851004c40934\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;KHfflTNwOleE\&quot;,\n        \&quot;username\&quot;: \&quot;user-8ac78ab8-485d-47fd-adac-d718656b2a71\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:00.055961665Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:00.062527832Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:00.198714681Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:00.206818465Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:00.370821618Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:00.370838019Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:00.370992006Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:00.370918479Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:07:01Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;8ac78ab8-485d-47fd-adac-d718656b2a71&quot;), &quot;uid&quot;: String(&quot;309fd071-f5b6-4a61-b33d-f8157ab1b2ba&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:07:00.004304Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;171e8947-00cc-4287-a1af-851004c40934&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;KHfflTNwOleE&quot;), &quot;username&quot;: String(&quot;user-8ac78ab8-485d-47fd-adac-d718656b2a71&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:00.055961665Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:00.062527832Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:00.198714681Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:00.206818465Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:00.370821618Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:00.370838019Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:00.370992006Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:00.370918479Z&quot;)}]}}
[2022-11-23T15:07:01Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-11-23T15:07:01Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-11-23T15:07:01Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;8ac78ab8-485d-47fd-adac-d718656b2a71&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-11-23T15:07:01Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:07:01Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T15:07:01Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:07:01Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T15:07:01Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTYzMTksImlhdCI6MTY2OTIxNjAxOSwiYXV0aF90aW1lIjoxNjY5MjE2MDE2LCJqdGkiOiJiZDI4MjBhZi03OWQ4LTQwZGQtOTA3YS1mNGI0YjY5ZmM1ZmEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IkctM1VWOHoyRzNIWUt0YTVkX3JINXciLCJzZXNzaW9uX3N0YXRlIjoiZTczNWU5NTItZDRjZi00ZjBmLTlmY2MtNjBhODU0OTQ1YWY1IiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImU3MzVlOTUyLWQ0Y2YtNGYwZi05ZmNjLTYwYTg1NDk0NWFmNSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.JlKKXTrZ-YhQG_wSD6rE3H3VuN8dZFgUBKDzZrVPOY1uZeNaaNdPXFsyIEvJJUhcY6frDHoIBaZtON6E-lTc7snxu8OXh0g7rRPi1UJ7HJsBgD-RYnER7c2vtdHHN9MRUeCgUv5khTwtA9dT8Cc9QRRA1VpD3TD3qbdIQQUl65OGZQpWKP7MdQuFm897mUf4EdTdzxtVRxGihiBxAjIATNz1VN9BLmwQcCa8Zfpj9C1BgS1I9VUyD4CewOODZ1_rPkZio3bTav8m5Y5brteANjDLMvCjdLeGG9I1SLLaEHbMEOCCOvDg8aSSHdbr2Ue6xnU2DPzJ6_GlthMYnx-yiQ\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:07:01Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:07:01Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-11-23T15:07:01Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;8ac78ab8-485d-47fd-adac-d718656b2a71&quot; &quot;device1&quot;
[2022-11-23T15:07:01Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:07:01Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;8ac78ab8-485d-47fd-adac-d718656b2a71&#x27;
[2022-11-23T15:07:01Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;8ac78ab8-485d-47fd-adac-d718656b2a71&quot;
[2022-11-23T15:07:01Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_2::integration_version_1::integration_ws_1

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T15:07:03Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T15:07:03Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:07:03Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:07:03Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:07:04Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T15:07:05Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T15:07:05Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:07:05Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:07:07Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc4MjcsImlhdCI6MTY2OTIxNjAyNywianRpIjoiZTA0YjJhODMtNjlhNi00NmI5LWJjMzUtNWRjM2U2YTg3MzVmIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiVlduUm84SkgyRE50MXVxUXdZakpQdyIsInNlc3Npb25fc3RhdGUiOiJlZWQ3MmM5Yy0xODg1LTRlMTgtYmVkMS00NjZhZjljZDA1ZDEiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiZWVkNzJjOWMtMTg4NS00ZTE4LWJlZDEtNDY2YWY5Y2QwNWQxIn0.YvtADYq3Bbcg7bu0bAlc6CC4oC9FIxNAFMjWOKUbizY
[2022-11-23T15:07:07Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T15:07:07Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:07:07Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc4MjcsImlhdCI6MTY2OTIxNjAyNywianRpIjoiZTA0YjJhODMtNjlhNi00NmI5LWJjMzUtNWRjM2U2YTg3MzVmIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiVlduUm84SkgyRE50MXVxUXdZakpQdyIsInNlc3Npb25fc3RhdGUiOiJlZWQ3MmM5Yy0xODg1LTRlMTgtYmVkMS00NjZhZjljZDA1ZDEiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiZWVkNzJjOWMtMTg4NS00ZTE4LWJlZDEtNDY2YWY5Y2QwNWQxIn0.YvtADYq3Bbcg7bu0bAlc6CC4oC9FIxNAFMjWOKUbizY&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T15:07:07Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:07:08Z INFO  drogue_cloud_tests::resources::apps] Create application: a4c37b36-d647-40c7-bd1e-91465a75fb5d
[2022-11-23T15:07:08Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;a4c37b36-d647-40c7-bd1e-91465a75fb5d&quot;
[2022-11-23T15:07:08Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:07:08Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;a4c37b36-d647-40c7-bd1e-91465a75fb5d&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:07:08Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;a4c37b36-d647-40c7-bd1e-91465a75fb5d\&quot;,\n    \&quot;uid\&quot;: \&quot;76382197-16ec-4bad-8be4-b7d1bfc43b07\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:07:08.417177Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;5c1455b6-c350-4358-89f0-00f2dd88de76\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:08.467916652Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:08.474943522Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:08.474977866Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:08.441979906Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:08.441980547Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:08.441985156Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:08.442033446Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:08.442007067Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:07:08Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;a4c37b36-d647-40c7-bd1e-91465a75fb5d&quot;), &quot;uid&quot;: String(&quot;76382197-16ec-4bad-8be4-b7d1bfc43b07&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:07:08.417177Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;5c1455b6-c350-4358-89f0-00f2dd88de76&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:08.467916652Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:08.474943522Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:08.474977866Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:08.441979906Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:08.441980547Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:08.441985156Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:08.442033446Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:08.442007067Z&quot;)}]}}
[2022-11-23T15:07:08Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-11-23T15:07:09Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;a4c37b36-d647-40c7-bd1e-91465a75fb5d&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:07:09Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;a4c37b36-d647-40c7-bd1e-91465a75fb5d\&quot;,\n    \&quot;uid\&quot;: \&quot;76382197-16ec-4bad-8be4-b7d1bfc43b07\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:07:08.417177Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;aaad4d5d-6f9e-4be2-afbf-dfb40a18c935\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;pZ6bw5XXV4DV\&quot;,\n        \&quot;username\&quot;: \&quot;user-a4c37b36-d647-40c7-bd1e-91465a75fb5d\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:08.467916652Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:08.474943522Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:08.527513869Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:08.535002141Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:08.690976480Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:08.690992520Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:08.691074784Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:08.691021985Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:07:09Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;a4c37b36-d647-40c7-bd1e-91465a75fb5d&quot;), &quot;uid&quot;: String(&quot;76382197-16ec-4bad-8be4-b7d1bfc43b07&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:07:08.417177Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;aaad4d5d-6f9e-4be2-afbf-dfb40a18c935&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;pZ6bw5XXV4DV&quot;), &quot;username&quot;: String(&quot;user-a4c37b36-d647-40c7-bd1e-91465a75fb5d&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:08.467916652Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:08.474943522Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:08.527513869Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:08.535002141Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:08.690976480Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:08.690992520Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:08.691074784Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:08.691021985Z&quot;)}]}}
[2022-11-23T15:07:09Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-11-23T15:07:09Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;a4c37b36-d647-40c7-bd1e-91465a75fb5d&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:07:09Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;a4c37b36-d647-40c7-bd1e-91465a75fb5d\&quot;,\n    \&quot;uid\&quot;: \&quot;76382197-16ec-4bad-8be4-b7d1bfc43b07\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:07:08.417177Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;aaad4d5d-6f9e-4be2-afbf-dfb40a18c935\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;pZ6bw5XXV4DV\&quot;,\n        \&quot;username\&quot;: \&quot;user-a4c37b36-d647-40c7-bd1e-91465a75fb5d\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:08.467916652Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:08.474943522Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:08.527513869Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:08.535002141Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:08.690976480Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:08.690992520Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:08.691074784Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:08.691021985Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:07:09Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;a4c37b36-d647-40c7-bd1e-91465a75fb5d&quot;), &quot;uid&quot;: String(&quot;76382197-16ec-4bad-8be4-b7d1bfc43b07&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:07:08.417177Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;aaad4d5d-6f9e-4be2-afbf-dfb40a18c935&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;pZ6bw5XXV4DV&quot;), &quot;username&quot;: String(&quot;user-a4c37b36-d647-40c7-bd1e-91465a75fb5d&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:08.467916652Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:08.474943522Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:08.527513869Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:08.535002141Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:08.690976480Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:08.690992520Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:08.691074784Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:08.691021985Z&quot;)}]}}
[2022-11-23T15:07:09Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-11-23T15:07:09Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-11-23T15:07:09Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;a4c37b36-d647-40c7-bd1e-91465a75fb5d&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-11-23T15:07:09Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:07:09Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T15:07:09Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:07:09Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T15:07:09Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTYzMjcsImlhdCI6MTY2OTIxNjAyNywiYXV0aF90aW1lIjoxNjY5MjE2MDI0LCJqdGkiOiJkMzFjMzMyYS0wZTdjLTQzODItYTFiYi0wZGM0YjZmM2NmMDgiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlZXblJvOEpIMkROdDF1cVF3WWpKUHciLCJzZXNzaW9uX3N0YXRlIjoiZWVkNzJjOWMtMTg4NS00ZTE4LWJlZDEtNDY2YWY5Y2QwNWQxIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImVlZDcyYzljLTE4ODUtNGUxOC1iZWQxLTQ2NmFmOWNkMDVkMSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.ACypL_HK2mnDSKbMeJrnkqbp-BRZ1zV9gvZqTt_fPjH7PO9ZVq7-sKfhd_kfGsDwxNQ6sRatbti9QCLupL36fj0chau8UgsQDg0P-YddWWbULSwTJGRvR5ltQPv9uwG1tddJ6sNfQVHcVR7aOFPmk12yj1Nrmu1YsA41fVxQ66VQ455EotS_Gn4GosxfwbPZgXTNNS-B4Ot3059JUUwdpKsk-LtEqTZ2-5ii_ahQYpw9_69DVhNq0dpuPnKFXtEAbv9RXUV8YfA48RK_bg9iGQlJOVKi9KniwB-Hl7rbsK3Qa1Aylo5abJA-yyChkQR7AEU9FLKTL6zjTym4zUEQxw\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:07:09Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:07:09Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-11-23T15:07:09Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;a4c37b36-d647-40c7-bd1e-91465a75fb5d&quot; &quot;device1&quot;
[2022-11-23T15:07:09Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:07:09Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;a4c37b36-d647-40c7-bd1e-91465a75fb5d&#x27;
[2022-11-23T15:07:09Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;a4c37b36-d647-40c7-bd1e-91465a75fb5d&quot;
[2022-11-23T15:07:09Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_2::integration_version_1::integration_ws_2

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T15:07:11Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T15:07:11Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:07:11Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:07:11Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:07:12Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T15:07:14Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T15:07:14Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:07:14Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:07:15Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc4MzUsImlhdCI6MTY2OTIxNjAzNSwianRpIjoiNGM0NDI1NTAtZjFhNC00Y2MxLTk1NWYtZWRmNzViZjExZTdhIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiOFlldUJBN3laMVBXSkRad2VOVkdoQSIsInNlc3Npb25fc3RhdGUiOiJkOTc1NDU3OS0zM2JlLTRiODctYWY2MC0xMGVlMWJmYmQyNzMiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiZDk3NTQ1NzktMzNiZS00Yjg3LWFmNjAtMTBlZTFiZmJkMjczIn0.sdn5-9Qcu4GkBBA3dp4I3ErG-zh7BVtrrm4iYRw6faA
[2022-11-23T15:07:15Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T15:07:15Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:07:15Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc4MzUsImlhdCI6MTY2OTIxNjAzNSwianRpIjoiNGM0NDI1NTAtZjFhNC00Y2MxLTk1NWYtZWRmNzViZjExZTdhIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiOFlldUJBN3laMVBXSkRad2VOVkdoQSIsInNlc3Npb25fc3RhdGUiOiJkOTc1NDU3OS0zM2JlLTRiODctYWY2MC0xMGVlMWJmYmQyNzMiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiZDk3NTQ1NzktMzNiZS00Yjg3LWFmNjAtMTBlZTFiZmJkMjczIn0.sdn5-9Qcu4GkBBA3dp4I3ErG-zh7BVtrrm4iYRw6faA&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T15:07:16Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:07:16Z INFO  drogue_cloud_tests::resources::apps] Create application: 33e3e0ae-6110-4fdf-a712-ab3e262daf93
[2022-11-23T15:07:16Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;33e3e0ae-6110-4fdf-a712-ab3e262daf93&quot;
[2022-11-23T15:07:16Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:07:16Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;33e3e0ae-6110-4fdf-a712-ab3e262daf93&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:07:16Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;33e3e0ae-6110-4fdf-a712-ab3e262daf93\&quot;,\n    \&quot;uid\&quot;: \&quot;d09a7e03-6b5d-48ca-81d1-dc47ae899479\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:07:16.748791Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;dbfb92c4-c4ce-4760-80e0-800ebe12393a\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:16.801536412Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:16.806604025Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:16.806640763Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:16.775212961Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:16.775213593Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:16.775218642Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:16.775286970Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:16.775261843Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:07:16Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;33e3e0ae-6110-4fdf-a712-ab3e262daf93&quot;), &quot;uid&quot;: String(&quot;d09a7e03-6b5d-48ca-81d1-dc47ae899479&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:07:16.748791Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;dbfb92c4-c4ce-4760-80e0-800ebe12393a&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:16.801536412Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:16.806604025Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:16.806640763Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:16.775212961Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:16.775213593Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:16.775218642Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:16.775286970Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:16.775261843Z&quot;)}]}}
[2022-11-23T15:07:16Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-11-23T15:07:17Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;33e3e0ae-6110-4fdf-a712-ab3e262daf93&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:07:17Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;33e3e0ae-6110-4fdf-a712-ab3e262daf93\&quot;,\n    \&quot;uid\&quot;: \&quot;d09a7e03-6b5d-48ca-81d1-dc47ae899479\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:07:16.748791Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;b33ce68f-cabd-4b41-8f7a-6022e4249def\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;oOLqhzS30ZBy\&quot;,\n        \&quot;username\&quot;: \&quot;user-33e3e0ae-6110-4fdf-a712-ab3e262daf93\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:16.801536412Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:16.806604025Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:16.866530176Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:16.873779393Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:17.084597092Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:17.084610578Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:17.084683453Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:17.084640914Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:07:17Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;33e3e0ae-6110-4fdf-a712-ab3e262daf93&quot;), &quot;uid&quot;: String(&quot;d09a7e03-6b5d-48ca-81d1-dc47ae899479&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:07:16.748791Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;b33ce68f-cabd-4b41-8f7a-6022e4249def&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;oOLqhzS30ZBy&quot;), &quot;username&quot;: String(&quot;user-33e3e0ae-6110-4fdf-a712-ab3e262daf93&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:16.801536412Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:16.806604025Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:16.866530176Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:16.873779393Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:17.084597092Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:17.084610578Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:17.084683453Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:17.084640914Z&quot;)}]}}
[2022-11-23T15:07:17Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-11-23T15:07:17Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;33e3e0ae-6110-4fdf-a712-ab3e262daf93&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:07:17Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;33e3e0ae-6110-4fdf-a712-ab3e262daf93\&quot;,\n    \&quot;uid\&quot;: \&quot;d09a7e03-6b5d-48ca-81d1-dc47ae899479\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:07:16.748791Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;b33ce68f-cabd-4b41-8f7a-6022e4249def\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;oOLqhzS30ZBy\&quot;,\n        \&quot;username\&quot;: \&quot;user-33e3e0ae-6110-4fdf-a712-ab3e262daf93\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:16.801536412Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:16.806604025Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:16.866530176Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:16.873779393Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:17.084597092Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:17.084610578Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:17.084683453Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:17.084640914Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:07:17Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;33e3e0ae-6110-4fdf-a712-ab3e262daf93&quot;), &quot;uid&quot;: String(&quot;d09a7e03-6b5d-48ca-81d1-dc47ae899479&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:07:16.748791Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;b33ce68f-cabd-4b41-8f7a-6022e4249def&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;oOLqhzS30ZBy&quot;), &quot;username&quot;: String(&quot;user-33e3e0ae-6110-4fdf-a712-ab3e262daf93&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:16.801536412Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:16.806604025Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:16.866530176Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:16.873779393Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:17.084597092Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:17.084610578Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:17.084683453Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:17.084640914Z&quot;)}]}}
[2022-11-23T15:07:17Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-11-23T15:07:17Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-11-23T15:07:17Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;33e3e0ae-6110-4fdf-a712-ab3e262daf93&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-11-23T15:07:18Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:07:18Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T15:07:18Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:07:18Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T15:07:18Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTYzMzYsImlhdCI6MTY2OTIxNjAzNiwiYXV0aF90aW1lIjoxNjY5MjE2MDMzLCJqdGkiOiIzMDg0NzE5MS1mOTRmLTQzYTctOGEwYS0wZDgzZDQxZGYwNWUiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IjhZZXVCQTd5WjFQV0pEWndlTlZHaEEiLCJzZXNzaW9uX3N0YXRlIjoiZDk3NTQ1NzktMzNiZS00Yjg3LWFmNjAtMTBlZTFiZmJkMjczIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImQ5NzU0NTc5LTMzYmUtNGI4Ny1hZjYwLTEwZWUxYmZiZDI3MyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.Jv31CLYrEn5PhkwYHTa8SqRkXWDUH3dz-kPpe88WfGfmqzSBCt29ycoAPr4gua3kB9mZXNGWYwrqmGXSN14XCB1KW9VDKdK6OTz5fHFo0HGfwYxu6LVFQV8jLW_kjV0Zv1LXIT2tqVZF4U9BrparqPLOmWC8fSbSKZTEXLiEym7gGmGfjjYFLcums889ZlcBRrfr68sEg_0hj2U__7ClbIjwQ5LwlMEl0F0InsM5ch3EP_nokVzp88CA18VaEnjfStz7aiNp-IK1TrBI0QB_l2D2NVpVG-C1wtI8fVtD8dH2Cf8cT4Zqfa1zhk_bcTlr97043cdtVz7EyYRWCR22vA\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:07:18Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:07:18Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-11-23T15:07:18Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;33e3e0ae-6110-4fdf-a712-ab3e262daf93&quot; &quot;device1&quot;
[2022-11-23T15:07:18Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:07:18Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;33e3e0ae-6110-4fdf-a712-ab3e262daf93&#x27;
[2022-11-23T15:07:18Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;33e3e0ae-6110-4fdf-a712-ab3e262daf93&quot;
[2022-11-23T15:07:18Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_2::integration_version_2::integration_ws_1

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T15:07:20Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T15:07:20Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:07:20Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:07:20Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:07:21Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T15:07:22Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T15:07:22Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:07:22Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:07:24Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc4NDQsImlhdCI6MTY2OTIxNjA0NCwianRpIjoiYjMwMzg3OGYtMjJjYy00N2FkLWFmOWEtZjRhYTQxN2Q2NTRlIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoicE9tZ3B5TDdjdHlUZ2FBVlhXZEJCZyIsInNlc3Npb25fc3RhdGUiOiI1OGJkN2JjNi1hNDcyLTQzZTgtOTc2ZC1mOWYwYWJjNzZkOWYiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiNThiZDdiYzYtYTQ3Mi00M2U4LTk3NmQtZjlmMGFiYzc2ZDlmIn0.dCumq8IZY0fUakaMyHLn73K6d8_nXTQKmOcd1bOxgvQ
[2022-11-23T15:07:24Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T15:07:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:07:24Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc4NDQsImlhdCI6MTY2OTIxNjA0NCwianRpIjoiYjMwMzg3OGYtMjJjYy00N2FkLWFmOWEtZjRhYTQxN2Q2NTRlIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoicE9tZ3B5TDdjdHlUZ2FBVlhXZEJCZyIsInNlc3Npb25fc3RhdGUiOiI1OGJkN2JjNi1hNDcyLTQzZTgtOTc2ZC1mOWYwYWJjNzZkOWYiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiNThiZDdiYzYtYTQ3Mi00M2U4LTk3NmQtZjlmMGFiYzc2ZDlmIn0.dCumq8IZY0fUakaMyHLn73K6d8_nXTQKmOcd1bOxgvQ&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T15:07:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:07:25Z INFO  drogue_cloud_tests::resources::apps] Create application: 43b8b381-a13d-4f54-bf60-9f32b4ee8625
[2022-11-23T15:07:25Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;43b8b381-a13d-4f54-bf60-9f32b4ee8625&quot;
[2022-11-23T15:07:25Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:07:25Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;43b8b381-a13d-4f54-bf60-9f32b4ee8625&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:07:25Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;43b8b381-a13d-4f54-bf60-9f32b4ee8625\&quot;,\n    \&quot;uid\&quot;: \&quot;0c9c1483-0106-4ecc-bf25-b4d6589bd022\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:07:25.148562Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;5d78d728-5452-40ad-9c61-ae665930447e\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:25.200143855Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:25.205219132Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:25.205249299Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:25.176964027Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:25.176964698Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:25.176973464Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:25.177085615Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:25.176996167Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:07:25Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;43b8b381-a13d-4f54-bf60-9f32b4ee8625&quot;), &quot;uid&quot;: String(&quot;0c9c1483-0106-4ecc-bf25-b4d6589bd022&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:07:25.148562Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;5d78d728-5452-40ad-9c61-ae665930447e&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:25.200143855Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:25.205219132Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:25.205249299Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:25.176964027Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:25.176964698Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:25.176973464Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:25.177085615Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:25.176996167Z&quot;)}]}}
[2022-11-23T15:07:25Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-11-23T15:07:26Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;43b8b381-a13d-4f54-bf60-9f32b4ee8625&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:07:26Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;43b8b381-a13d-4f54-bf60-9f32b4ee8625\&quot;,\n    \&quot;uid\&quot;: \&quot;0c9c1483-0106-4ecc-bf25-b4d6589bd022\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:07:25.148562Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;84e0d252-6844-4750-8501-e8e9d4d8fd0d\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;DmrfaERB6YfQ\&quot;,\n        \&quot;username\&quot;: \&quot;user-43b8b381-a13d-4f54-bf60-9f32b4ee8625\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:25.200143855Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:25.205219132Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:25.259015704Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:25.266095422Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:25.444666098Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:25.444688229Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:25.444883595Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:25.444779290Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:07:26Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;43b8b381-a13d-4f54-bf60-9f32b4ee8625&quot;), &quot;uid&quot;: String(&quot;0c9c1483-0106-4ecc-bf25-b4d6589bd022&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:07:25.148562Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;84e0d252-6844-4750-8501-e8e9d4d8fd0d&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;DmrfaERB6YfQ&quot;), &quot;username&quot;: String(&quot;user-43b8b381-a13d-4f54-bf60-9f32b4ee8625&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:25.200143855Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:25.205219132Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:25.259015704Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:25.266095422Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:25.444666098Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:25.444688229Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:25.444883595Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:25.444779290Z&quot;)}]}}
[2022-11-23T15:07:26Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-11-23T15:07:26Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;43b8b381-a13d-4f54-bf60-9f32b4ee8625&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:07:26Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;43b8b381-a13d-4f54-bf60-9f32b4ee8625\&quot;,\n    \&quot;uid\&quot;: \&quot;0c9c1483-0106-4ecc-bf25-b4d6589bd022\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:07:25.148562Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;84e0d252-6844-4750-8501-e8e9d4d8fd0d\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;DmrfaERB6YfQ\&quot;,\n        \&quot;username\&quot;: \&quot;user-43b8b381-a13d-4f54-bf60-9f32b4ee8625\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:25.200143855Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:25.205219132Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:25.259015704Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:25.266095422Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:25.444666098Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:25.444688229Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:25.444883595Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:25.444779290Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:07:26Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;43b8b381-a13d-4f54-bf60-9f32b4ee8625&quot;), &quot;uid&quot;: String(&quot;0c9c1483-0106-4ecc-bf25-b4d6589bd022&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:07:25.148562Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;84e0d252-6844-4750-8501-e8e9d4d8fd0d&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;DmrfaERB6YfQ&quot;), &quot;username&quot;: String(&quot;user-43b8b381-a13d-4f54-bf60-9f32b4ee8625&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:25.200143855Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:25.205219132Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:25.259015704Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:25.266095422Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:25.444666098Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:25.444688229Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:25.444883595Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:25.444779290Z&quot;)}]}}
[2022-11-23T15:07:26Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-11-23T15:07:26Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-11-23T15:07:26Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;43b8b381-a13d-4f54-bf60-9f32b4ee8625&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-11-23T15:07:26Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:07:26Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T15:07:26Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:07:26Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T15:07:26Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTYzNDQsImlhdCI6MTY2OTIxNjA0NCwiYXV0aF90aW1lIjoxNjY5MjE2MDQxLCJqdGkiOiI2YTU2NGE2NS0xMmQ0LTQwYzMtODJmMC1hYjMzNWI4MjZkNDEiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InBPbWdweUw3Y3R5VGdhQVZYV2RCQmciLCJzZXNzaW9uX3N0YXRlIjoiNThiZDdiYzYtYTQ3Mi00M2U4LTk3NmQtZjlmMGFiYzc2ZDlmIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjU4YmQ3YmM2LWE0NzItNDNlOC05NzZkLWY5ZjBhYmM3NmQ5ZiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.MigGlHwDy8B6OOgIqIusHUYXX6TzxjkOmXLyjV7HnC--GRptIeq34mTVQbCsfwalUWCAfAjkOjIFpyZK8Xeyfm2K7cBMrhWT_RgZh5l6PmbJ_Ys4zf2gK-Oz2zyxzZGE8aCiyNBLcqFkibX-b_trk6DgQNDTf88ltTRryYt59wa7DQqp9S2oisy2D23AWfNTo0UU5mb50jI5uZKqv059X0BFmO5flPj38p-z3JG5I70wed_AA7K-cm8FGvs4puPAbSd9Nm75VctVxYjKAwLIRtbW0eI9vOUh3WtD_IahETe6JoFJX9wMezPmwqKu9Uk-2VGYfkZvPnu5o18FgsrXLQ\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:07:26Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:07:26Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-11-23T15:07:26Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;43b8b381-a13d-4f54-bf60-9f32b4ee8625&quot; &quot;device1&quot;
[2022-11-23T15:07:26Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:07:26Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;43b8b381-a13d-4f54-bf60-9f32b4ee8625&#x27;
[2022-11-23T15:07:26Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;43b8b381-a13d-4f54-bf60-9f32b4ee8625&quot;
[2022-11-23T15:07:26Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_2::integration_version_2::integration_ws_2

**Duration**: 9s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T15:07:29Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T15:07:29Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:07:29Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:07:29Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:07:30Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T15:07:32Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T15:07:32Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:07:32Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:07:33Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc4NTMsImlhdCI6MTY2OTIxNjA1MywianRpIjoiODg0YjgzNWItNTFiMC00MjhjLTk3YjItOGZhMWJiZTMxODE0IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoibUNnUzVGLWc4cVg1cDdKM29BcW84dyIsInNlc3Npb25fc3RhdGUiOiIyMTM5NDFjMy1kNTlhLTRlZTItYThlZS0wNTMwNzcyZjhkN2UiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMjEzOTQxYzMtZDU5YS00ZWUyLWE4ZWUtMDUzMDc3MmY4ZDdlIn0.3wX3O2H4pkRZ6GkJrGwV3BYYvrAapw7wv8sMLpciM6k
[2022-11-23T15:07:33Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T15:07:33Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:07:33Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc4NTMsImlhdCI6MTY2OTIxNjA1MywianRpIjoiODg0YjgzNWItNTFiMC00MjhjLTk3YjItOGZhMWJiZTMxODE0IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoibUNnUzVGLWc4cVg1cDdKM29BcW84dyIsInNlc3Npb25fc3RhdGUiOiIyMTM5NDFjMy1kNTlhLTRlZTItYThlZS0wNTMwNzcyZjhkN2UiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMjEzOTQxYzMtZDU5YS00ZWUyLWE4ZWUtMDUzMDc3MmY4ZDdlIn0.3wX3O2H4pkRZ6GkJrGwV3BYYvrAapw7wv8sMLpciM6k&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T15:07:34Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:07:34Z INFO  drogue_cloud_tests::resources::apps] Create application: 03f17159-c84c-4955-abe8-5d8d3c1d4baa
[2022-11-23T15:07:34Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;03f17159-c84c-4955-abe8-5d8d3c1d4baa&quot;
[2022-11-23T15:07:34Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:07:34Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;03f17159-c84c-4955-abe8-5d8d3c1d4baa&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:07:34Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;03f17159-c84c-4955-abe8-5d8d3c1d4baa\&quot;,\n    \&quot;uid\&quot;: \&quot;4353e3da-c838-40c4-885c-3927ab76cd57\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:07:34.635738Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;ad10be58-365d-4632-a996-168a27250bbc\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:34.682213357Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:34.687518435Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:34.687554232Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:34.657621487Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:34.657622028Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:34.657626205Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:34.657669637Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:34.657646294Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:07:34Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;03f17159-c84c-4955-abe8-5d8d3c1d4baa&quot;), &quot;uid&quot;: String(&quot;4353e3da-c838-40c4-885c-3927ab76cd57&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:07:34.635738Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;ad10be58-365d-4632-a996-168a27250bbc&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:34.682213357Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:34.687518435Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:34.687554232Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:34.657621487Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:34.657622028Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:34.657626205Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:34.657669637Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:34.657646294Z&quot;)}]}}
[2022-11-23T15:07:34Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-11-23T15:07:35Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;03f17159-c84c-4955-abe8-5d8d3c1d4baa&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:07:35Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;03f17159-c84c-4955-abe8-5d8d3c1d4baa\&quot;,\n    \&quot;uid\&quot;: \&quot;4353e3da-c838-40c4-885c-3927ab76cd57\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:07:34.635738Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;a3f61b72-b4e0-4d6f-bcb1-64e534506270\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;uLmMWcq4viCI\&quot;,\n        \&quot;username\&quot;: \&quot;user-03f17159-c84c-4955-abe8-5d8d3c1d4baa\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:34.682213357Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:34.687518435Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:34.745456878Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:34.751684812Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:34.957181949Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:34.957198309Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:34.957370401Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:34.957324475Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:07:35Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;03f17159-c84c-4955-abe8-5d8d3c1d4baa&quot;), &quot;uid&quot;: String(&quot;4353e3da-c838-40c4-885c-3927ab76cd57&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:07:34.635738Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;a3f61b72-b4e0-4d6f-bcb1-64e534506270&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;uLmMWcq4viCI&quot;), &quot;username&quot;: String(&quot;user-03f17159-c84c-4955-abe8-5d8d3c1d4baa&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:34.682213357Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:34.687518435Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:34.745456878Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:34.751684812Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:34.957181949Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:34.957198309Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:34.957370401Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:34.957324475Z&quot;)}]}}
[2022-11-23T15:07:35Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-11-23T15:07:35Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;03f17159-c84c-4955-abe8-5d8d3c1d4baa&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:07:35Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;03f17159-c84c-4955-abe8-5d8d3c1d4baa\&quot;,\n    \&quot;uid\&quot;: \&quot;4353e3da-c838-40c4-885c-3927ab76cd57\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:07:34.635738Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;a3f61b72-b4e0-4d6f-bcb1-64e534506270\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;uLmMWcq4viCI\&quot;,\n        \&quot;username\&quot;: \&quot;user-03f17159-c84c-4955-abe8-5d8d3c1d4baa\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:34.682213357Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:34.687518435Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:34.745456878Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:34.751684812Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:34.957181949Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:34.957198309Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:34.957370401Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:34.957324475Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:07:35Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;03f17159-c84c-4955-abe8-5d8d3c1d4baa&quot;), &quot;uid&quot;: String(&quot;4353e3da-c838-40c4-885c-3927ab76cd57&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:07:34.635738Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;a3f61b72-b4e0-4d6f-bcb1-64e534506270&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;uLmMWcq4viCI&quot;), &quot;username&quot;: String(&quot;user-03f17159-c84c-4955-abe8-5d8d3c1d4baa&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:34.682213357Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:34.687518435Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:34.745456878Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:34.751684812Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:34.957181949Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:34.957198309Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:34.957370401Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:34.957324475Z&quot;)}]}}
[2022-11-23T15:07:35Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-11-23T15:07:35Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-11-23T15:07:35Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;03f17159-c84c-4955-abe8-5d8d3c1d4baa&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-11-23T15:07:35Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:07:35Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T15:07:35Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:07:35Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T15:07:35Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTYzNTQsImlhdCI6MTY2OTIxNjA1NCwiYXV0aF90aW1lIjoxNjY5MjE2MDUwLCJqdGkiOiI5MzcyZTg5NS1iOWY1LTQyNGMtYWVmZC1hNTk0MjdiNTNmYjAiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Im1DZ1M1Ri1nOHFYNXA3SjNvQXFvOHciLCJzZXNzaW9uX3N0YXRlIjoiMjEzOTQxYzMtZDU5YS00ZWUyLWE4ZWUtMDUzMDc3MmY4ZDdlIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjIxMzk0MWMzLWQ1OWEtNGVlMi1hOGVlLTA1MzA3NzJmOGQ3ZSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.MsCWasTzYqGzhIVMiH3GCLqxtZiQD8VirG5qGeG4Bvtc7l9X9zjw4UUV_E0v2VKcTDoIqgLJNnjIzYUHT8g-iBkjZlmol04vGkkJyngAN9wValf4Fe3ldKk3gKzTzRhCcRSfzDScnB0-tO9QFiUhwCS2hUtbUAKhO-Q8XUwHWgqlQz_plxV8j6sHX_feKM62_gAh0R11aXJCYASN6gMLym00JbtHNn8N-x2dwmibiqTuxLMfFUaVEzb4ZePO0UbIfmwgF2Ooaz8HaQYPuwBvCC-SOCByGFXExtjdg3JXjAoMRi3vkvMWnQgHL1ONvUPR9qa7fNHTcHdl-NjsoWIROw\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:07:35Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:07:35Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-11-23T15:07:35Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;03f17159-c84c-4955-abe8-5d8d3c1d4baa&quot; &quot;device1&quot;
[2022-11-23T15:07:36Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:07:36Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;03f17159-c84c-4955-abe8-5d8d3c1d4baa&#x27;
[2022-11-23T15:07:36Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;03f17159-c84c-4955-abe8-5d8d3c1d4baa&quot;
[2022-11-23T15:07:36Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_2::integration_version_3::integration_ws_1

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T15:07:38Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T15:07:38Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:07:38Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:07:38Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:07:39Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T15:07:40Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T15:07:40Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:07:40Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:07:42Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc4NjIsImlhdCI6MTY2OTIxNjA2MiwianRpIjoiYjY5YWY4MGYtMDM2Ni00OTc2LThmMzMtMGU4ZTI1NDNjM2YzIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiRVNnTkM3S3dyMkt6bHh2NFVFa3JRZyIsInNlc3Npb25fc3RhdGUiOiJkMzBhMzkwMS04MzAxLTQ1MWMtYTE4ZC1iYmRiZDczYmQ5MzkiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiZDMwYTM5MDEtODMwMS00NTFjLWExOGQtYmJkYmQ3M2JkOTM5In0.a1v76xr_59FO5OIeyZ3CniXFl09CmXS8rWudFqAGxtE
[2022-11-23T15:07:42Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T15:07:42Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:07:42Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc4NjIsImlhdCI6MTY2OTIxNjA2MiwianRpIjoiYjY5YWY4MGYtMDM2Ni00OTc2LThmMzMtMGU4ZTI1NDNjM2YzIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiRVNnTkM3S3dyMkt6bHh2NFVFa3JRZyIsInNlc3Npb25fc3RhdGUiOiJkMzBhMzkwMS04MzAxLTQ1MWMtYTE4ZC1iYmRiZDczYmQ5MzkiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiZDMwYTM5MDEtODMwMS00NTFjLWExOGQtYmJkYmQ3M2JkOTM5In0.a1v76xr_59FO5OIeyZ3CniXFl09CmXS8rWudFqAGxtE&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T15:07:42Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:07:42Z INFO  drogue_cloud_tests::resources::apps] Create application: d03f7a9a-c6d8-4ea2-8ce5-0f1d194e0433
[2022-11-23T15:07:42Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;d03f7a9a-c6d8-4ea2-8ce5-0f1d194e0433&quot;
[2022-11-23T15:07:43Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:07:43Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;d03f7a9a-c6d8-4ea2-8ce5-0f1d194e0433&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:07:43Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;d03f7a9a-c6d8-4ea2-8ce5-0f1d194e0433\&quot;,\n    \&quot;uid\&quot;: \&quot;262020d9-1664-46e8-8ab8-db7a77a060da\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:07:43.038263Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;6bf9d644-b4e1-4d6e-9296-7ea94aa362ae\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:43.081423332Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:43.089970848Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:43.090007677Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:43.052186270Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:43.052187081Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:43.052198934Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:43.052268053Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:43.052348032Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:07:43Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;d03f7a9a-c6d8-4ea2-8ce5-0f1d194e0433&quot;), &quot;uid&quot;: String(&quot;262020d9-1664-46e8-8ab8-db7a77a060da&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:07:43.038263Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;6bf9d644-b4e1-4d6e-9296-7ea94aa362ae&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:43.081423332Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:43.089970848Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:43.090007677Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:43.052186270Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:43.052187081Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:43.052198934Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:43.052268053Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:43.052348032Z&quot;)}]}}
[2022-11-23T15:07:43Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-11-23T15:07:44Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;d03f7a9a-c6d8-4ea2-8ce5-0f1d194e0433&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:07:44Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;d03f7a9a-c6d8-4ea2-8ce5-0f1d194e0433\&quot;,\n    \&quot;uid\&quot;: \&quot;262020d9-1664-46e8-8ab8-db7a77a060da\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:07:43.038263Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;3a49ec5b-fcbf-4ccd-b54b-a12dcbdf2625\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;LcgN0iusLGpB\&quot;,\n        \&quot;username\&quot;: \&quot;user-d03f7a9a-c6d8-4ea2-8ce5-0f1d194e0433\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:43.081423332Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:43.089970848Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:43.180748284Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:43.186502663Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:43.362831295Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:43.362847666Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:43.362876280Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:43.363010020Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:07:44Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;d03f7a9a-c6d8-4ea2-8ce5-0f1d194e0433&quot;), &quot;uid&quot;: String(&quot;262020d9-1664-46e8-8ab8-db7a77a060da&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:07:43.038263Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;3a49ec5b-fcbf-4ccd-b54b-a12dcbdf2625&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;LcgN0iusLGpB&quot;), &quot;username&quot;: String(&quot;user-d03f7a9a-c6d8-4ea2-8ce5-0f1d194e0433&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:43.081423332Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:43.089970848Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:43.180748284Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:43.186502663Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:43.362831295Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:43.362847666Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:43.362876280Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:43.363010020Z&quot;)}]}}
[2022-11-23T15:07:44Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-11-23T15:07:44Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;d03f7a9a-c6d8-4ea2-8ce5-0f1d194e0433&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:07:44Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;d03f7a9a-c6d8-4ea2-8ce5-0f1d194e0433\&quot;,\n    \&quot;uid\&quot;: \&quot;262020d9-1664-46e8-8ab8-db7a77a060da\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:07:43.038263Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;3a49ec5b-fcbf-4ccd-b54b-a12dcbdf2625\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;LcgN0iusLGpB\&quot;,\n        \&quot;username\&quot;: \&quot;user-d03f7a9a-c6d8-4ea2-8ce5-0f1d194e0433\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:43.081423332Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:43.089970848Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:43.180748284Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:43.186502663Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:43.362831295Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:43.362847666Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:43.362876280Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:43.363010020Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:07:44Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;d03f7a9a-c6d8-4ea2-8ce5-0f1d194e0433&quot;), &quot;uid&quot;: String(&quot;262020d9-1664-46e8-8ab8-db7a77a060da&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:07:43.038263Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;3a49ec5b-fcbf-4ccd-b54b-a12dcbdf2625&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;LcgN0iusLGpB&quot;), &quot;username&quot;: String(&quot;user-d03f7a9a-c6d8-4ea2-8ce5-0f1d194e0433&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:43.081423332Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:43.089970848Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:43.180748284Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:43.186502663Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:43.362831295Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:43.362847666Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:43.362876280Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:43.363010020Z&quot;)}]}}
[2022-11-23T15:07:44Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-11-23T15:07:44Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-11-23T15:07:44Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;d03f7a9a-c6d8-4ea2-8ce5-0f1d194e0433&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-11-23T15:07:44Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:07:44Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T15:07:44Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:07:44Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T15:07:44Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTYzNjIsImlhdCI6MTY2OTIxNjA2MiwiYXV0aF90aW1lIjoxNjY5MjE2MDU5LCJqdGkiOiJjYjQ2ZjE2OC0yOWYwLTRhNTItOGUwMi0yZTRjODA0ODUyNjYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IkVTZ05DN0t3cjJLemx4djRVRWtyUWciLCJzZXNzaW9uX3N0YXRlIjoiZDMwYTM5MDEtODMwMS00NTFjLWExOGQtYmJkYmQ3M2JkOTM5IiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImQzMGEzOTAxLTgzMDEtNDUxYy1hMThkLWJiZGJkNzNiZDkzOSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.OE12QPPSRHQgt46RHiZJV4V4XrS02jTaq-sRTIQI61K9X_GrnuYUO7sARWlwI6AoVMxTluI8aTsXj3HSserNgBMa-G4FnbzZ7IyekMlJE6dxRn9KJlL0mXVv9jzE7Xo6q4bz8fTEAGRXHmX97ovS04n6OuqSBaWcVlQvlSUEfxBdOvfApni3x4B91FKmFbcKEaRok5r7-iQv9bqUj0ASj9jmym4CA0nnXhdPHs0D6DvHUeNvVPt_dgxXpl0Ceg46qnEIDoiiozTLcKs5NlkSfcY75-cM_HrvbeQMTkY68GAcG7SOihVBdVoqUgvcBpIRHiXL-2WO88mHJEpb5Hgn6w\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:07:44Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:07:44Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-11-23T15:07:44Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;d03f7a9a-c6d8-4ea2-8ce5-0f1d194e0433&quot; &quot;device1&quot;
[2022-11-23T15:07:44Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:07:44Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;d03f7a9a-c6d8-4ea2-8ce5-0f1d194e0433&#x27;
[2022-11-23T15:07:44Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;d03f7a9a-c6d8-4ea2-8ce5-0f1d194e0433&quot;
[2022-11-23T15:07:44Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_2::endpoint_ws_2::integration_version_3::integration_ws_2

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T15:07:46Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T15:07:46Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:07:46Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:07:46Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:07:47Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T15:07:49Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T15:07:49Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:07:49Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:07:50Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc4NzAsImlhdCI6MTY2OTIxNjA3MCwianRpIjoiZjI2OTdkNzUtYzNjNS00Mjg3LTg2YTQtODRmZjY2ZjFlNTVlIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiWFlxWXhyYVAwY1VsMUdiSzBVZmZGUSIsInNlc3Npb25fc3RhdGUiOiIwNGU2MDgxZC0yYTBhLTRkNGEtYTQ5Ni0zOTQ2NTMyOTk4YTEiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMDRlNjA4MWQtMmEwYS00ZDRhLWE0OTYtMzk0NjUzMjk5OGExIn0.Zwd2y9kG5yQNX3xS_0-l4Wa63dXdGAVmg5auoSBlgM8
[2022-11-23T15:07:50Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T15:07:50Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:07:50Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc4NzAsImlhdCI6MTY2OTIxNjA3MCwianRpIjoiZjI2OTdkNzUtYzNjNS00Mjg3LTg2YTQtODRmZjY2ZjFlNTVlIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiWFlxWXhyYVAwY1VsMUdiSzBVZmZGUSIsInNlc3Npb25fc3RhdGUiOiIwNGU2MDgxZC0yYTBhLTRkNGEtYTQ5Ni0zOTQ2NTMyOTk4YTEiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMDRlNjA4MWQtMmEwYS00ZDRhLWE0OTYtMzk0NjUzMjk5OGExIn0.Zwd2y9kG5yQNX3xS_0-l4Wa63dXdGAVmg5auoSBlgM8&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T15:07:50Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:07:51Z INFO  drogue_cloud_tests::resources::apps] Create application: c7cea064-6ee0-4bd0-b394-236f1738e94b
[2022-11-23T15:07:51Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;c7cea064-6ee0-4bd0-b394-236f1738e94b&quot;
[2022-11-23T15:07:51Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:07:51Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;c7cea064-6ee0-4bd0-b394-236f1738e94b&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:07:51Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;c7cea064-6ee0-4bd0-b394-236f1738e94b\&quot;,\n    \&quot;uid\&quot;: \&quot;0bd7a36d-5e33-4cc0-bd04-b7dbcf3da6cd\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:07:51.553453Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;ab9e49e5-8c18-4696-8334-aa0866e7ee50\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:51.603257169Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:51.609193598Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:51.609233964Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:51.576174658Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:51.576175309Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:51.576334217Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:51.576418704Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:51.576394309Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:07:51Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;c7cea064-6ee0-4bd0-b394-236f1738e94b&quot;), &quot;uid&quot;: String(&quot;0bd7a36d-5e33-4cc0-bd04-b7dbcf3da6cd&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:07:51.553453Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;ab9e49e5-8c18-4696-8334-aa0866e7ee50&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:51.603257169Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:51.609193598Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:51.609233964Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:51.576174658Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:51.576175309Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:51.576334217Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:51.576418704Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:51.576394309Z&quot;)}]}}
[2022-11-23T15:07:51Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-11-23T15:07:52Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;c7cea064-6ee0-4bd0-b394-236f1738e94b&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:07:52Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;c7cea064-6ee0-4bd0-b394-236f1738e94b\&quot;,\n    \&quot;uid\&quot;: \&quot;0bd7a36d-5e33-4cc0-bd04-b7dbcf3da6cd\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:07:51.553453Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;cd84c5c0-6247-41a4-9969-8f9e9644eea5\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;THCUDNUr6Q2V\&quot;,\n        \&quot;username\&quot;: \&quot;user-c7cea064-6ee0-4bd0-b394-236f1738e94b\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:51.603257169Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:51.609193598Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:51.664281568Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:51.670469397Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:51.874718260Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:51.875029603Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:51.875114741Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:51.875065489Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:07:52Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;c7cea064-6ee0-4bd0-b394-236f1738e94b&quot;), &quot;uid&quot;: String(&quot;0bd7a36d-5e33-4cc0-bd04-b7dbcf3da6cd&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:07:51.553453Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;cd84c5c0-6247-41a4-9969-8f9e9644eea5&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;THCUDNUr6Q2V&quot;), &quot;username&quot;: String(&quot;user-c7cea064-6ee0-4bd0-b394-236f1738e94b&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:51.603257169Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:51.609193598Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:51.664281568Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:51.670469397Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:51.874718260Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:51.875029603Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:51.875114741Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:51.875065489Z&quot;)}]}}
[2022-11-23T15:07:52Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-11-23T15:07:52Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;c7cea064-6ee0-4bd0-b394-236f1738e94b&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:07:52Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;c7cea064-6ee0-4bd0-b394-236f1738e94b\&quot;,\n    \&quot;uid\&quot;: \&quot;0bd7a36d-5e33-4cc0-bd04-b7dbcf3da6cd\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:07:51.553453Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;cd84c5c0-6247-41a4-9969-8f9e9644eea5\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;THCUDNUr6Q2V\&quot;,\n        \&quot;username\&quot;: \&quot;user-c7cea064-6ee0-4bd0-b394-236f1738e94b\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:51.603257169Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:51.609193598Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:51.664281568Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:51.670469397Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:51.874718260Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:51.875029603Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:51.875114741Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:07:51.875065489Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:07:52Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;c7cea064-6ee0-4bd0-b394-236f1738e94b&quot;), &quot;uid&quot;: String(&quot;0bd7a36d-5e33-4cc0-bd04-b7dbcf3da6cd&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:07:51.553453Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;cd84c5c0-6247-41a4-9969-8f9e9644eea5&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;THCUDNUr6Q2V&quot;), &quot;username&quot;: String(&quot;user-c7cea064-6ee0-4bd0-b394-236f1738e94b&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:51.603257169Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:51.609193598Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:51.664281568Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:51.670469397Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:51.874718260Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:51.875029603Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:51.875114741Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:07:51.875065489Z&quot;)}]}}
[2022-11-23T15:07:52Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-11-23T15:07:52Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-11-23T15:07:52Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;c7cea064-6ee0-4bd0-b394-236f1738e94b&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-11-23T15:07:52Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:07:52Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T15:07:52Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:07:52Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T15:07:52Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTYzNzAsImlhdCI6MTY2OTIxNjA3MCwiYXV0aF90aW1lIjoxNjY5MjE2MDY4LCJqdGkiOiJjNWY1ZTIxNS1kZDA0LTQ4YzktYWJjOS04OTBlOTg0N2YyN2MiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlhZcVl4cmFQMGNVbDFHYkswVWZmRlEiLCJzZXNzaW9uX3N0YXRlIjoiMDRlNjA4MWQtMmEwYS00ZDRhLWE0OTYtMzk0NjUzMjk5OGExIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjA0ZTYwODFkLTJhMGEtNGQ0YS1hNDk2LTM5NDY1MzI5OThhMSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.i9ewA6bZIJUYPW207K65Jys9N5yo3p3IMoc6sNIdP4kPdbROq8iRN3l5Mg8c6xr-IJE-HiHtwUwRK-t3fgxSjcGFjA-XZtBQoKASX4SiHNXpkNNV_0T03CTSpTzDQE4zT7kjCrOmlTgdVZJjclxsFyLhWG66VbvdtadYnp_xu0I8YC0KtaRcHnTu2YKNGkkTROg8P4Pvk3ENdu1nO8xnDiq09xtCytt8E3F4JNYPKwZJ2XV9Z1KLvJ6oKCVkh2_6dNJl9VWiWPCqvlvgtx_8CZnFiA7j1szuIwj0-QLBPhA9jFUOF_8T4h-N4j0cuOjjMupcy8JEaBAQ83yxgYIANA\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:07:52Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:07:52Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-11-23T15:07:52Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;c7cea064-6ee0-4bd0-b394-236f1738e94b&quot; &quot;device1&quot;
[2022-11-23T15:07:52Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:07:52Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;c7cea064-6ee0-4bd0-b394-236f1738e94b&#x27;
[2022-11-23T15:07:52Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;c7cea064-6ee0-4bd0-b394-236f1738e94b&quot;
[2022-11-23T15:07:52Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_1::integration_version_1::integration_ws_1

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T15:07:55Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T15:07:55Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:07:55Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:07:55Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:07:56Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T15:07:57Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T15:07:57Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:07:57Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:07:59Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc4NzksImlhdCI6MTY2OTIxNjA3OSwianRpIjoiMGUyOGNkNzgtNmU2MC00ZTliLWIyZDItNThmZWY3Y2Q3ZTdlIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiM0piLUtZR2U0SGQxU0YzZmVTM1U3dyIsInNlc3Npb25fc3RhdGUiOiJhYjcyNjk2OC03OTA2LTQzY2UtODlmYi0zMWZlOWNkZDEwZDciLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiYWI3MjY5NjgtNzkwNi00M2NlLTg5ZmItMzFmZTljZGQxMGQ3In0.gAiPSmmd8i8DzJ4uVCE53Qe6BUcXC-9J_QLFDZyTuqo
[2022-11-23T15:07:59Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T15:07:59Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:07:59Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc4NzksImlhdCI6MTY2OTIxNjA3OSwianRpIjoiMGUyOGNkNzgtNmU2MC00ZTliLWIyZDItNThmZWY3Y2Q3ZTdlIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiM0piLUtZR2U0SGQxU0YzZmVTM1U3dyIsInNlc3Npb25fc3RhdGUiOiJhYjcyNjk2OC03OTA2LTQzY2UtODlmYi0zMWZlOWNkZDEwZDciLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiYWI3MjY5NjgtNzkwNi00M2NlLTg5ZmItMzFmZTljZGQxMGQ3In0.gAiPSmmd8i8DzJ4uVCE53Qe6BUcXC-9J_QLFDZyTuqo&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T15:07:59Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:08:00Z INFO  drogue_cloud_tests::resources::apps] Create application: 2ebde2ae-1feb-48b8-9648-f08a164f3a8a
[2022-11-23T15:08:00Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;2ebde2ae-1feb-48b8-9648-f08a164f3a8a&quot;
[2022-11-23T15:08:00Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:08:00Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;2ebde2ae-1feb-48b8-9648-f08a164f3a8a&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:08:00Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;2ebde2ae-1feb-48b8-9648-f08a164f3a8a\&quot;,\n    \&quot;uid\&quot;: \&quot;7f50e3a1-6455-4842-9414-54665bfadedd\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:08:00.122266Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;854a3d4e-d534-4581-b7b2-b25ac6dafea3\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:00.168949941Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:00.175108165Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:00.175147389Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:00.144972591Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:00.144973122Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:00.144977450Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:00.145124615Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:00.145093357Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:08:00Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;2ebde2ae-1feb-48b8-9648-f08a164f3a8a&quot;), &quot;uid&quot;: String(&quot;7f50e3a1-6455-4842-9414-54665bfadedd&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:08:00.122266Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;854a3d4e-d534-4581-b7b2-b25ac6dafea3&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:00.168949941Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:00.175108165Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:00.175147389Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:00.144972591Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:00.144973122Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:00.144977450Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:00.145124615Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:00.145093357Z&quot;)}]}}
[2022-11-23T15:08:00Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-11-23T15:08:01Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;2ebde2ae-1feb-48b8-9648-f08a164f3a8a&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:08:01Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;2ebde2ae-1feb-48b8-9648-f08a164f3a8a\&quot;,\n    \&quot;uid\&quot;: \&quot;7f50e3a1-6455-4842-9414-54665bfadedd\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:08:00.122266Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;9faae415-03d3-454a-9acd-ccd812b761d2\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;ePPZHDk14wpJ\&quot;,\n        \&quot;username\&quot;: \&quot;user-2ebde2ae-1feb-48b8-9648-f08a164f3a8a\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:00.168949941Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:00.175108165Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:00.227941015Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:00.234047592Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:00.397197726Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:00.397228402Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:00.397364107Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:00.397311949Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:08:01Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;2ebde2ae-1feb-48b8-9648-f08a164f3a8a&quot;), &quot;uid&quot;: String(&quot;7f50e3a1-6455-4842-9414-54665bfadedd&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:08:00.122266Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;9faae415-03d3-454a-9acd-ccd812b761d2&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;ePPZHDk14wpJ&quot;), &quot;username&quot;: String(&quot;user-2ebde2ae-1feb-48b8-9648-f08a164f3a8a&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:00.168949941Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:00.175108165Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:00.227941015Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:00.234047592Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:00.397197726Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:00.397228402Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:00.397364107Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:00.397311949Z&quot;)}]}}
[2022-11-23T15:08:01Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-11-23T15:08:01Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;2ebde2ae-1feb-48b8-9648-f08a164f3a8a&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:08:01Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;2ebde2ae-1feb-48b8-9648-f08a164f3a8a\&quot;,\n    \&quot;uid\&quot;: \&quot;7f50e3a1-6455-4842-9414-54665bfadedd\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:08:00.122266Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;9faae415-03d3-454a-9acd-ccd812b761d2\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;ePPZHDk14wpJ\&quot;,\n        \&quot;username\&quot;: \&quot;user-2ebde2ae-1feb-48b8-9648-f08a164f3a8a\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:00.168949941Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:00.175108165Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:00.227941015Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:00.234047592Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:00.397197726Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:00.397228402Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:00.397364107Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:00.397311949Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:08:01Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;2ebde2ae-1feb-48b8-9648-f08a164f3a8a&quot;), &quot;uid&quot;: String(&quot;7f50e3a1-6455-4842-9414-54665bfadedd&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:08:00.122266Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;9faae415-03d3-454a-9acd-ccd812b761d2&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;ePPZHDk14wpJ&quot;), &quot;username&quot;: String(&quot;user-2ebde2ae-1feb-48b8-9648-f08a164f3a8a&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:00.168949941Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:00.175108165Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:00.227941015Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:00.234047592Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:00.397197726Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:00.397228402Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:00.397364107Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:00.397311949Z&quot;)}]}}
[2022-11-23T15:08:01Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-11-23T15:08:01Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-11-23T15:08:01Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;2ebde2ae-1feb-48b8-9648-f08a164f3a8a&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-11-23T15:08:01Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:08:01Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T15:08:01Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:08:01Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T15:08:01Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTYzNzksImlhdCI6MTY2OTIxNjA3OSwiYXV0aF90aW1lIjoxNjY5MjE2MDc2LCJqdGkiOiJkODJiMGZjOS1iMTZiLTQ5YzAtYjVjOS01ZDk4YzQzYTViZWQiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IjNKYi1LWUdlNEhkMVNGM2ZlUzNVN3ciLCJzZXNzaW9uX3N0YXRlIjoiYWI3MjY5NjgtNzkwNi00M2NlLTg5ZmItMzFmZTljZGQxMGQ3IiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImFiNzI2OTY4LTc5MDYtNDNjZS04OWZiLTMxZmU5Y2RkMTBkNyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.CrMQqwv08bKD41z2hX0gmatR-Py75x9EVENT0vvrsmROGBpFKgc9MZOzWgssd47e5bxfkcHhyII_Ep30_2k190Qh7amdaYnhHs5b6FsLorJ9Ol7PSmcvbzSrFtizUpTAlSqHSbK8exqAA_cc04DwQS8XR9iX0pqUmYIYpZ1n2Pgoy2gwRswpJzZfDN-QP_jwjv2o9DO_xXtTEba3tC_sTDXmhqD7VO8xHrQKKPHxiRFEedqmDW08hU52ZnXAwCqdfu_ibv1a3TMEZfdWtPXf_EQO3WAV3YI_PVZ4fDcDgfJL9ms6slEZPgiZR_H3eDa684g_dZeOPvoKxtm7EoZQrg\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:08:01Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:08:01Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-11-23T15:08:01Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;2ebde2ae-1feb-48b8-9648-f08a164f3a8a&quot; &quot;device1&quot;
[2022-11-23T15:08:01Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:08:01Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;2ebde2ae-1feb-48b8-9648-f08a164f3a8a&#x27;
[2022-11-23T15:08:01Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;2ebde2ae-1feb-48b8-9648-f08a164f3a8a&quot;
[2022-11-23T15:08:01Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_1::integration_version_1::integration_ws_2

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T15:08:03Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T15:08:03Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:08:03Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:08:03Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:08:04Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T15:08:05Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T15:08:06Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:08:06Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:08:07Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc4ODcsImlhdCI6MTY2OTIxNjA4NywianRpIjoiZjczYzEwNmYtMjVlZC00YjNjLWE3ZDItMjNlNWVjNmFhYjljIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiR1JCVEt5aXIydHZhYmpTWi1qNEtNUSIsInNlc3Npb25fc3RhdGUiOiIzM2I2MTM5My00ZGJhLTQzOWUtYTM5MC1iOTljMjhhMzIwZmIiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMzNiNjEzOTMtNGRiYS00MzllLWEzOTAtYjk5YzI4YTMyMGZiIn0.dOaa1HvkVq9IKd3ZFXXdsHvOioGmlifUBesJSNaCtsg
[2022-11-23T15:08:07Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T15:08:07Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:08:07Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc4ODcsImlhdCI6MTY2OTIxNjA4NywianRpIjoiZjczYzEwNmYtMjVlZC00YjNjLWE3ZDItMjNlNWVjNmFhYjljIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiR1JCVEt5aXIydHZhYmpTWi1qNEtNUSIsInNlc3Npb25fc3RhdGUiOiIzM2I2MTM5My00ZGJhLTQzOWUtYTM5MC1iOTljMjhhMzIwZmIiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMzNiNjEzOTMtNGRiYS00MzllLWEzOTAtYjk5YzI4YTMyMGZiIn0.dOaa1HvkVq9IKd3ZFXXdsHvOioGmlifUBesJSNaCtsg&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T15:08:08Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:08:08Z INFO  drogue_cloud_tests::resources::apps] Create application: 8475e693-3185-4970-8900-4c21dc051328
[2022-11-23T15:08:08Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;8475e693-3185-4970-8900-4c21dc051328&quot;
[2022-11-23T15:08:08Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:08:08Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;8475e693-3185-4970-8900-4c21dc051328&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:08:08Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;8475e693-3185-4970-8900-4c21dc051328\&quot;,\n    \&quot;uid\&quot;: \&quot;6a505b33-58de-4e3d-9e91-1894a56c033c\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:08:08.580021Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;270454c7-6da6-421f-a5a3-c1bf4ad39b23\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:08.628560412Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:08.634300605Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:08.634371527Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:08.603983670Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:08.603984172Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:08.603989341Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:08.604062228Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:08.604035819Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:08:08Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;8475e693-3185-4970-8900-4c21dc051328&quot;), &quot;uid&quot;: String(&quot;6a505b33-58de-4e3d-9e91-1894a56c033c&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:08:08.580021Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;270454c7-6da6-421f-a5a3-c1bf4ad39b23&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:08.628560412Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:08.634300605Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:08.634371527Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:08.603983670Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:08.603984172Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:08.603989341Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:08.604062228Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:08.604035819Z&quot;)}]}}
[2022-11-23T15:08:08Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-11-23T15:08:09Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;8475e693-3185-4970-8900-4c21dc051328&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:08:09Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;8475e693-3185-4970-8900-4c21dc051328\&quot;,\n    \&quot;uid\&quot;: \&quot;6a505b33-58de-4e3d-9e91-1894a56c033c\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:08:08.580021Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;c58f7a72-ed4c-44b0-9e7f-e47a2a209484\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;ZQpOynpBgCWl\&quot;,\n        \&quot;username\&quot;: \&quot;user-8475e693-3185-4970-8900-4c21dc051328\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:08.628560412Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:08.634300605Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:08.701406074Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:08.707498465Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:08.875123052Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:08.875137940Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:08.875253857Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:08.875183957Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:08:09Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;8475e693-3185-4970-8900-4c21dc051328&quot;), &quot;uid&quot;: String(&quot;6a505b33-58de-4e3d-9e91-1894a56c033c&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:08:08.580021Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;c58f7a72-ed4c-44b0-9e7f-e47a2a209484&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;ZQpOynpBgCWl&quot;), &quot;username&quot;: String(&quot;user-8475e693-3185-4970-8900-4c21dc051328&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:08.628560412Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:08.634300605Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:08.701406074Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:08.707498465Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:08.875123052Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:08.875137940Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:08.875253857Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:08.875183957Z&quot;)}]}}
[2022-11-23T15:08:09Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-11-23T15:08:09Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;8475e693-3185-4970-8900-4c21dc051328&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:08:09Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;8475e693-3185-4970-8900-4c21dc051328\&quot;,\n    \&quot;uid\&quot;: \&quot;6a505b33-58de-4e3d-9e91-1894a56c033c\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:08:08.580021Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;c58f7a72-ed4c-44b0-9e7f-e47a2a209484\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;ZQpOynpBgCWl\&quot;,\n        \&quot;username\&quot;: \&quot;user-8475e693-3185-4970-8900-4c21dc051328\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:08.628560412Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:08.634300605Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:08.701406074Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:08.707498465Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:08.875123052Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:08.875137940Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:08.875253857Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:08.875183957Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:08:09Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;8475e693-3185-4970-8900-4c21dc051328&quot;), &quot;uid&quot;: String(&quot;6a505b33-58de-4e3d-9e91-1894a56c033c&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:08:08.580021Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;c58f7a72-ed4c-44b0-9e7f-e47a2a209484&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;ZQpOynpBgCWl&quot;), &quot;username&quot;: String(&quot;user-8475e693-3185-4970-8900-4c21dc051328&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:08.628560412Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:08.634300605Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:08.701406074Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:08.707498465Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:08.875123052Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:08.875137940Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:08.875253857Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:08.875183957Z&quot;)}]}}
[2022-11-23T15:08:09Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-11-23T15:08:09Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-11-23T15:08:09Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;8475e693-3185-4970-8900-4c21dc051328&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-11-23T15:08:09Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:08:09Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T15:08:09Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:08:09Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T15:08:09Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTYzODgsImlhdCI6MTY2OTIxNjA4OCwiYXV0aF90aW1lIjoxNjY5MjE2MDg1LCJqdGkiOiIzZTE4Njk4Ni0zNDk0LTQ5OTMtYmVhOS03NDI2MTJkNmQ3NDIiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IkdSQlRLeWlyMnR2YWJqU1otajRLTVEiLCJzZXNzaW9uX3N0YXRlIjoiMzNiNjEzOTMtNGRiYS00MzllLWEzOTAtYjk5YzI4YTMyMGZiIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjMzYjYxMzkzLTRkYmEtNDM5ZS1hMzkwLWI5OWMyOGEzMjBmYiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.WDvG6RgmCceOKK81CnWODeuhMr2asqEDV1XFUoPB6GdCEiqv5_4iHBWNsGIOc0eMxlIvuw2wBOOFuiCEn7X48iYexKCPzMW73qTa6DNI65BPtauybYcp6SwcwQBHJK6KCrf2hIukRCjIXIPfmmdabncS6kVf2UnCAqku9bZqnHxl4JSnWajrpVTRNqUtCCBBUUyz6ldJA_ESkOXUJg_AkPrMNfZWQ0f8SmUCD1T4uqE3VPleQSrSWBOB2lX-56igZ-3Hh7X924l9EjmDqZ7r95hMVWNOLwytVkQYN07M14LmDyflCwyiR_5K2h3qKXIrzrpjMo-_klv1eT4VmXrPfQ\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:08:09Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:08:09Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-11-23T15:08:09Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;8475e693-3185-4970-8900-4c21dc051328&quot; &quot;device1&quot;
[2022-11-23T15:08:09Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:08:09Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;8475e693-3185-4970-8900-4c21dc051328&#x27;
[2022-11-23T15:08:09Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;8475e693-3185-4970-8900-4c21dc051328&quot;
[2022-11-23T15:08:10Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_1::integration_version_2::integration_ws_1

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T15:08:12Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T15:08:12Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:08:12Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:08:12Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:08:13Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T15:08:14Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T15:08:14Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:08:14Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:08:16Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc4OTYsImlhdCI6MTY2OTIxNjA5NiwianRpIjoiMzhmMmIwMDUtZjlmNS00Zjc3LWEyNTktMDdhMGUzYjU4NTQ4IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoieFJrdmpIQUtSZEU4U0dpQVNqbzctdyIsInNlc3Npb25fc3RhdGUiOiJjODQzMzU5OC1jYjA2LTQ0ODgtODE4YS1iOGZkYTVmNDAzMGEiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiYzg0MzM1OTgtY2IwNi00NDg4LTgxOGEtYjhmZGE1ZjQwMzBhIn0.nma1XLiaM4wWX4uhFMQ2187385Z_ynoYKAcxCHGfleo
[2022-11-23T15:08:16Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T15:08:16Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:08:16Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc4OTYsImlhdCI6MTY2OTIxNjA5NiwianRpIjoiMzhmMmIwMDUtZjlmNS00Zjc3LWEyNTktMDdhMGUzYjU4NTQ4IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoieFJrdmpIQUtSZEU4U0dpQVNqbzctdyIsInNlc3Npb25fc3RhdGUiOiJjODQzMzU5OC1jYjA2LTQ0ODgtODE4YS1iOGZkYTVmNDAzMGEiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiYzg0MzM1OTgtY2IwNi00NDg4LTgxOGEtYjhmZGE1ZjQwMzBhIn0.nma1XLiaM4wWX4uhFMQ2187385Z_ynoYKAcxCHGfleo&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T15:08:16Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:08:17Z INFO  drogue_cloud_tests::resources::apps] Create application: a51857a0-96f5-43c6-8a0e-215cba374416
[2022-11-23T15:08:17Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;a51857a0-96f5-43c6-8a0e-215cba374416&quot;
[2022-11-23T15:08:17Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:08:17Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;a51857a0-96f5-43c6-8a0e-215cba374416&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:08:17Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;a51857a0-96f5-43c6-8a0e-215cba374416\&quot;,\n    \&quot;uid\&quot;: \&quot;a6ee5c36-4cb0-446c-887e-9593403b8bcd\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:08:17.120562Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;5526e848-34a0-43c4-aa4f-134d88b46d44\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:17.157633331Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:17.164415373Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:17.164447983Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:17.132827420Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:17.132827951Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:17.132840314Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:17.132866223Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:17.132893133Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:08:17Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;a51857a0-96f5-43c6-8a0e-215cba374416&quot;), &quot;uid&quot;: String(&quot;a6ee5c36-4cb0-446c-887e-9593403b8bcd&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:08:17.120562Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;5526e848-34a0-43c4-aa4f-134d88b46d44&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:17.157633331Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:17.164415373Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:17.164447983Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:17.132827420Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:17.132827951Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:17.132840314Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:17.132866223Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:17.132893133Z&quot;)}]}}
[2022-11-23T15:08:17Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-11-23T15:08:18Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;a51857a0-96f5-43c6-8a0e-215cba374416&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:08:18Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;a51857a0-96f5-43c6-8a0e-215cba374416\&quot;,\n    \&quot;uid\&quot;: \&quot;a6ee5c36-4cb0-446c-887e-9593403b8bcd\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:08:17.120562Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;c6499768-02d6-4d33-bf4e-aac4d96064dd\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;pHlgska3MROw\&quot;,\n        \&quot;username\&quot;: \&quot;user-a51857a0-96f5-43c6-8a0e-215cba374416\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:17.157633331Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:17.164415373Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:17.225124321Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:17.231159786Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:17.414700619Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:17.414716660Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:17.414747648Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:17.414814192Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:08:18Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;a51857a0-96f5-43c6-8a0e-215cba374416&quot;), &quot;uid&quot;: String(&quot;a6ee5c36-4cb0-446c-887e-9593403b8bcd&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:08:17.120562Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;c6499768-02d6-4d33-bf4e-aac4d96064dd&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;pHlgska3MROw&quot;), &quot;username&quot;: String(&quot;user-a51857a0-96f5-43c6-8a0e-215cba374416&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:17.157633331Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:17.164415373Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:17.225124321Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:17.231159786Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:17.414700619Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:17.414716660Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:17.414747648Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:17.414814192Z&quot;)}]}}
[2022-11-23T15:08:18Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-11-23T15:08:18Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;a51857a0-96f5-43c6-8a0e-215cba374416&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:08:18Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;a51857a0-96f5-43c6-8a0e-215cba374416\&quot;,\n    \&quot;uid\&quot;: \&quot;a6ee5c36-4cb0-446c-887e-9593403b8bcd\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:08:17.120562Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;c6499768-02d6-4d33-bf4e-aac4d96064dd\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;pHlgska3MROw\&quot;,\n        \&quot;username\&quot;: \&quot;user-a51857a0-96f5-43c6-8a0e-215cba374416\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:17.157633331Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:17.164415373Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:17.225124321Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:17.231159786Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:17.414700619Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:17.414716660Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:17.414747648Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:17.414814192Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:08:18Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;a51857a0-96f5-43c6-8a0e-215cba374416&quot;), &quot;uid&quot;: String(&quot;a6ee5c36-4cb0-446c-887e-9593403b8bcd&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:08:17.120562Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;c6499768-02d6-4d33-bf4e-aac4d96064dd&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;pHlgska3MROw&quot;), &quot;username&quot;: String(&quot;user-a51857a0-96f5-43c6-8a0e-215cba374416&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:17.157633331Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:17.164415373Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:17.225124321Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:17.231159786Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:17.414700619Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:17.414716660Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:17.414747648Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:17.414814192Z&quot;)}]}}
[2022-11-23T15:08:18Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-11-23T15:08:18Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-11-23T15:08:18Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;a51857a0-96f5-43c6-8a0e-215cba374416&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-11-23T15:08:18Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:08:18Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T15:08:18Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:08:18Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T15:08:18Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTYzOTYsImlhdCI6MTY2OTIxNjA5NiwiYXV0aF90aW1lIjoxNjY5MjE2MDkzLCJqdGkiOiI4NTA4NTk2NS0yYjEyLTQyNjctOWQxOC0xNmY0NzNkYTNlYTQiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InhSa3ZqSEFLUmRFOFNHaUFTam83LXciLCJzZXNzaW9uX3N0YXRlIjoiYzg0MzM1OTgtY2IwNi00NDg4LTgxOGEtYjhmZGE1ZjQwMzBhIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImM4NDMzNTk4LWNiMDYtNDQ4OC04MThhLWI4ZmRhNWY0MDMwYSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.Yuybj5j2YMJv_5rXT4QkTfowcfXgiaPzDBaz1vM397NDke1xZyG2mtTy9vg05UjBGRr6s34IBCHYl0q11arDeNW7X0SI7nu1v-K4RL28ABBxkYfYOc02os1egzueKu2VY1tzjDf8D-9_ZVwvsyHhxAxb1oM3rK7yyTRg0FOr74JU4KymZOkENbKUS2qsC1tsnual13bAFqCV6Q3eNgKODwuIgSvsoo0gLgfH0T9SlVwVb-HPnLVe7yG5fw9e0C2976uYFqzQcD4oCmT3E4QkboqcWx7NZUUirptV8peC6OQVRAlgyY5MnLvp1FnMva5ILg6h-z-kXQOqn62DIFYDsg\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:08:18Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:08:18Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-11-23T15:08:18Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;a51857a0-96f5-43c6-8a0e-215cba374416&quot; &quot;device1&quot;
[2022-11-23T15:08:18Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:08:18Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;a51857a0-96f5-43c6-8a0e-215cba374416&#x27;
[2022-11-23T15:08:18Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;a51857a0-96f5-43c6-8a0e-215cba374416&quot;
[2022-11-23T15:08:18Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_1::integration_version_2::integration_ws_2

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T15:08:20Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T15:08:20Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:08:20Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:08:20Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:08:21Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T15:08:23Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T15:08:23Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:08:23Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:08:24Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc5MDQsImlhdCI6MTY2OTIxNjEwNCwianRpIjoiODUxZWIxZmUtMjE4NS00OTYxLThjMTctYzI2NjIyN2UyM2UxIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiVWhmZzBKWHRaVUlrZnJ1ODAwMzNMdyIsInNlc3Npb25fc3RhdGUiOiJjMmY1MzEwYy02ZTM0LTRjNWItOTM3Yy03YzdlYjdlMDA1ZjYiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiYzJmNTMxMGMtNmUzNC00YzViLTkzN2MtN2M3ZWI3ZTAwNWY2In0.0pRVkzUMpMDZQ-l1LRDtRpbZaweGKdWp5mwduOjfX5s
[2022-11-23T15:08:24Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T15:08:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:08:24Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc5MDQsImlhdCI6MTY2OTIxNjEwNCwianRpIjoiODUxZWIxZmUtMjE4NS00OTYxLThjMTctYzI2NjIyN2UyM2UxIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiVWhmZzBKWHRaVUlrZnJ1ODAwMzNMdyIsInNlc3Npb25fc3RhdGUiOiJjMmY1MzEwYy02ZTM0LTRjNWItOTM3Yy03YzdlYjdlMDA1ZjYiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiYzJmNTMxMGMtNmUzNC00YzViLTkzN2MtN2M3ZWI3ZTAwNWY2In0.0pRVkzUMpMDZQ-l1LRDtRpbZaweGKdWp5mwduOjfX5s&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T15:08:25Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:08:25Z INFO  drogue_cloud_tests::resources::apps] Create application: c9e8bcab-0b9f-457c-9857-153bb276b89b
[2022-11-23T15:08:25Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;c9e8bcab-0b9f-457c-9857-153bb276b89b&quot;
[2022-11-23T15:08:25Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:08:25Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;c9e8bcab-0b9f-457c-9857-153bb276b89b&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:08:25Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;c9e8bcab-0b9f-457c-9857-153bb276b89b\&quot;,\n    \&quot;uid\&quot;: \&quot;e1ab04d8-78e1-4fd7-8c4f-bae2ed14960a\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:08:25.731586Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;3b1171ba-59d5-469d-8c6b-c72d3a7fbacc\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:25.779177814Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:25.784970736Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:25.785004730Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:25.754917114Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:25.754917805Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:25.754922254Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:25.754966827Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:25.754944676Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:08:25Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;c9e8bcab-0b9f-457c-9857-153bb276b89b&quot;), &quot;uid&quot;: String(&quot;e1ab04d8-78e1-4fd7-8c4f-bae2ed14960a&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:08:25.731586Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;3b1171ba-59d5-469d-8c6b-c72d3a7fbacc&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:25.779177814Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:25.784970736Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:25.785004730Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:25.754917114Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:25.754917805Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:25.754922254Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:25.754966827Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:25.754944676Z&quot;)}]}}
[2022-11-23T15:08:25Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-11-23T15:08:26Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;c9e8bcab-0b9f-457c-9857-153bb276b89b&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:08:26Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;c9e8bcab-0b9f-457c-9857-153bb276b89b\&quot;,\n    \&quot;uid\&quot;: \&quot;e1ab04d8-78e1-4fd7-8c4f-bae2ed14960a\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:08:25.731586Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;1a2a213b-ce9c-4dac-ba22-561649332142\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;kWWjH5IwWbXh\&quot;,\n        \&quot;username\&quot;: \&quot;user-c9e8bcab-0b9f-457c-9857-153bb276b89b\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:25.779177814Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:25.784970736Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:25.873923640Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:25.880106662Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:26.052009636Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:26.052026337Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:26.052098753Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:26.052054160Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:08:26Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;c9e8bcab-0b9f-457c-9857-153bb276b89b&quot;), &quot;uid&quot;: String(&quot;e1ab04d8-78e1-4fd7-8c4f-bae2ed14960a&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:08:25.731586Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;1a2a213b-ce9c-4dac-ba22-561649332142&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;kWWjH5IwWbXh&quot;), &quot;username&quot;: String(&quot;user-c9e8bcab-0b9f-457c-9857-153bb276b89b&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:25.779177814Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:25.784970736Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:25.873923640Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:25.880106662Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:26.052009636Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:26.052026337Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:26.052098753Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:26.052054160Z&quot;)}]}}
[2022-11-23T15:08:26Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-11-23T15:08:26Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;c9e8bcab-0b9f-457c-9857-153bb276b89b&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:08:26Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;c9e8bcab-0b9f-457c-9857-153bb276b89b\&quot;,\n    \&quot;uid\&quot;: \&quot;e1ab04d8-78e1-4fd7-8c4f-bae2ed14960a\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:08:25.731586Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;1a2a213b-ce9c-4dac-ba22-561649332142\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;kWWjH5IwWbXh\&quot;,\n        \&quot;username\&quot;: \&quot;user-c9e8bcab-0b9f-457c-9857-153bb276b89b\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:25.779177814Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:25.784970736Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:25.873923640Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:25.880106662Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:26.052009636Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:26.052026337Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:26.052098753Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:26.052054160Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:08:26Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;c9e8bcab-0b9f-457c-9857-153bb276b89b&quot;), &quot;uid&quot;: String(&quot;e1ab04d8-78e1-4fd7-8c4f-bae2ed14960a&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:08:25.731586Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;1a2a213b-ce9c-4dac-ba22-561649332142&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;kWWjH5IwWbXh&quot;), &quot;username&quot;: String(&quot;user-c9e8bcab-0b9f-457c-9857-153bb276b89b&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:25.779177814Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:25.784970736Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:25.873923640Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:25.880106662Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:26.052009636Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:26.052026337Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:26.052098753Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:26.052054160Z&quot;)}]}}
[2022-11-23T15:08:26Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-11-23T15:08:26Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-11-23T15:08:26Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;c9e8bcab-0b9f-457c-9857-153bb276b89b&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-11-23T15:08:26Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:08:26Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T15:08:27Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:08:27Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T15:08:27Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTY0MDUsImlhdCI6MTY2OTIxNjEwNSwiYXV0aF90aW1lIjoxNjY5MjE2MTAyLCJqdGkiOiIwNjU3YTFiNS0zZTJkLTRhZTktYTM3NS0yMmMyMGRiYTk4M2IiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlVoZmcwSlh0WlVJa2ZydTgwMDMzTHciLCJzZXNzaW9uX3N0YXRlIjoiYzJmNTMxMGMtNmUzNC00YzViLTkzN2MtN2M3ZWI3ZTAwNWY2IiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImMyZjUzMTBjLTZlMzQtNGM1Yi05MzdjLTdjN2ViN2UwMDVmNiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.qlFKmzgJNjOuvPZCr90MJBcWs-wbnhbGtawwK--Wlvs2WGyQ8ysVQHR9dsWcy8toVR1f97-OUOWljaw7E8ot7Epmr5nL6pI9Yo-MRojMVCIIfKwABi-cO6xbiM5K2imeAXv_49LXjre-yCEBC93HDs0BTCzdJteFfG4Ko0gNGrOjMG3QWgM0gn1-k4sqxZgz4TASob3ypaS6jk584MqhTW65riq7wqpPEXpxgMY1LA380zLwK9_1DtF9rjoQgu-_c5BqLjl0kXw_l1m3n_hz90ZYR2nHvRXjIVTTDgBOUH8d5NwS0KG0KAsc23GiUPtgGE5JI6wi5bVRFkaNmVAhHA\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:08:27Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:08:27Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-11-23T15:08:27Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;c9e8bcab-0b9f-457c-9857-153bb276b89b&quot; &quot;device1&quot;
[2022-11-23T15:08:27Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:08:27Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;c9e8bcab-0b9f-457c-9857-153bb276b89b&#x27;
[2022-11-23T15:08:27Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;c9e8bcab-0b9f-457c-9857-153bb276b89b&quot;
[2022-11-23T15:08:27Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_1::integration_version_3::integration_ws_1

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T15:08:29Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T15:08:29Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:08:29Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:08:29Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:08:30Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T15:08:31Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T15:08:31Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:08:31Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:08:33Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc5MTMsImlhdCI6MTY2OTIxNjExMywianRpIjoiYTI4MTVhYzEtZDc4MS00ZjZiLWE1NWMtMmZjNDlhNDZjY2UyIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiRkxxaDE2SVozV0lvb1luSGQ0c3hEZyIsInNlc3Npb25fc3RhdGUiOiI4NTgyM2I5Yy1jYTRiLTQ5MjItODg3MS1iZDdlNWQ3MmFmMDQiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiODU4MjNiOWMtY2E0Yi00OTIyLTg4NzEtYmQ3ZTVkNzJhZjA0In0.bA7ZVocuuMt75lgNk6mLxha1Tlya5vfW3LUvour2gUs
[2022-11-23T15:08:33Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T15:08:33Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:08:33Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc5MTMsImlhdCI6MTY2OTIxNjExMywianRpIjoiYTI4MTVhYzEtZDc4MS00ZjZiLWE1NWMtMmZjNDlhNDZjY2UyIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiRkxxaDE2SVozV0lvb1luSGQ0c3hEZyIsInNlc3Npb25fc3RhdGUiOiI4NTgyM2I5Yy1jYTRiLTQ5MjItODg3MS1iZDdlNWQ3MmFmMDQiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiODU4MjNiOWMtY2E0Yi00OTIyLTg4NzEtYmQ3ZTVkNzJhZjA0In0.bA7ZVocuuMt75lgNk6mLxha1Tlya5vfW3LUvour2gUs&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T15:08:33Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:08:34Z INFO  drogue_cloud_tests::resources::apps] Create application: b645dced-2874-4c52-90bd-5f248d9d1b3e
[2022-11-23T15:08:34Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;b645dced-2874-4c52-90bd-5f248d9d1b3e&quot;
[2022-11-23T15:08:34Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:08:34Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;b645dced-2874-4c52-90bd-5f248d9d1b3e&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:08:34Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;b645dced-2874-4c52-90bd-5f248d9d1b3e\&quot;,\n    \&quot;uid\&quot;: \&quot;86b7c100-475d-45a5-9cbc-bc2102e87f9b\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:08:34.197837Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;958c8f20-7a73-47ec-8705-0147ab2c33e6\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:34.246417963Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:34.251974502Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:34.252006642Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:34.218999893Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:34.219000715Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:34.219010954Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:34.219119958Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:34.219034438Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:08:34Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;b645dced-2874-4c52-90bd-5f248d9d1b3e&quot;), &quot;uid&quot;: String(&quot;86b7c100-475d-45a5-9cbc-bc2102e87f9b&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:08:34.197837Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;958c8f20-7a73-47ec-8705-0147ab2c33e6&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:34.246417963Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:34.251974502Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:34.252006642Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:34.218999893Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:34.219000715Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:34.219010954Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:34.219119958Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:34.219034438Z&quot;)}]}}
[2022-11-23T15:08:34Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-11-23T15:08:35Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;b645dced-2874-4c52-90bd-5f248d9d1b3e&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:08:35Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;b645dced-2874-4c52-90bd-5f248d9d1b3e\&quot;,\n    \&quot;uid\&quot;: \&quot;86b7c100-475d-45a5-9cbc-bc2102e87f9b\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:08:34.197837Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;0ccf3243-06e2-4311-b0e5-e85ea972183d\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;JymlOff6Mjle\&quot;,\n        \&quot;username\&quot;: \&quot;user-b645dced-2874-4c52-90bd-5f248d9d1b3e\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:34.246417963Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:34.251974502Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:34.305622497Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:34.312449894Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:34.476952402Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:34.476967540Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:34.477068740Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:34.476997276Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:08:35Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;b645dced-2874-4c52-90bd-5f248d9d1b3e&quot;), &quot;uid&quot;: String(&quot;86b7c100-475d-45a5-9cbc-bc2102e87f9b&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:08:34.197837Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;0ccf3243-06e2-4311-b0e5-e85ea972183d&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;JymlOff6Mjle&quot;), &quot;username&quot;: String(&quot;user-b645dced-2874-4c52-90bd-5f248d9d1b3e&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:34.246417963Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:34.251974502Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:34.305622497Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:34.312449894Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:34.476952402Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:34.476967540Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:34.477068740Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:34.476997276Z&quot;)}]}}
[2022-11-23T15:08:35Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-11-23T15:08:35Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;b645dced-2874-4c52-90bd-5f248d9d1b3e&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:08:35Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;b645dced-2874-4c52-90bd-5f248d9d1b3e\&quot;,\n    \&quot;uid\&quot;: \&quot;86b7c100-475d-45a5-9cbc-bc2102e87f9b\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:08:34.197837Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;0ccf3243-06e2-4311-b0e5-e85ea972183d\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;JymlOff6Mjle\&quot;,\n        \&quot;username\&quot;: \&quot;user-b645dced-2874-4c52-90bd-5f248d9d1b3e\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:34.246417963Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:34.251974502Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:34.305622497Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:34.312449894Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:34.476952402Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:34.476967540Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:34.477068740Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:34.476997276Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:08:35Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;b645dced-2874-4c52-90bd-5f248d9d1b3e&quot;), &quot;uid&quot;: String(&quot;86b7c100-475d-45a5-9cbc-bc2102e87f9b&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:08:34.197837Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;0ccf3243-06e2-4311-b0e5-e85ea972183d&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;JymlOff6Mjle&quot;), &quot;username&quot;: String(&quot;user-b645dced-2874-4c52-90bd-5f248d9d1b3e&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:34.246417963Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:34.251974502Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:34.305622497Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:34.312449894Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:34.476952402Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:34.476967540Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:34.477068740Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:34.476997276Z&quot;)}]}}
[2022-11-23T15:08:35Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-11-23T15:08:35Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-11-23T15:08:35Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;b645dced-2874-4c52-90bd-5f248d9d1b3e&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-11-23T15:08:35Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:08:35Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T15:08:35Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:08:35Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T15:08:35Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTY0MTMsImlhdCI6MTY2OTIxNjExMywiYXV0aF90aW1lIjoxNjY5MjE2MTEwLCJqdGkiOiJkYzdmZWJhNi02NWM4LTRlMDEtYmRiMC1jYjQyYmI1NTI0ZTkiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IkZMcWgxNklaM1dJb29ZbkhkNHN4RGciLCJzZXNzaW9uX3N0YXRlIjoiODU4MjNiOWMtY2E0Yi00OTIyLTg4NzEtYmQ3ZTVkNzJhZjA0IiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6Ijg1ODIzYjljLWNhNGItNDkyMi04ODcxLWJkN2U1ZDcyYWYwNCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.sLLfUtxLZ2DtdlPQM8siRNrsqGvvjhCUAFQnV8AS1spBbWtrF3IzZJSRjXRJLuWjefxr8M3E3L5BlfOFnelESad3_XmP1C3GK0xGPlS7TIP8ZOWZ3NcN-3Oun7sJCYKj6xk1LJAQk2bNHs4voIAKvrK7hP5YzZjPwXIGrwgv-iq5uv0r2StlDH2pez_RuO1i8HXOOmzxnzq653uIiwiAfi3LAbZUhyUQ3xXcBuLpFHSdHGimC7JX5nPhskyFMeTEgMdAsRg2S4t3dgiSDedFWt0viZxZfLGU3oZUT78-RM3pQAEgmjgj0txKJxhkD5nzxi-ml3-5WSxTccYOEurhBg\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:08:35Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:08:35Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-11-23T15:08:35Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;b645dced-2874-4c52-90bd-5f248d9d1b3e&quot; &quot;device1&quot;
[2022-11-23T15:08:35Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:08:35Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;b645dced-2874-4c52-90bd-5f248d9d1b3e&#x27;
[2022-11-23T15:08:35Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;b645dced-2874-4c52-90bd-5f248d9d1b3e&quot;
[2022-11-23T15:08:35Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_1::integration_version_3::integration_ws_2

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T15:08:37Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T15:08:37Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:08:37Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:08:37Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:08:38Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T15:08:40Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T15:08:40Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:08:40Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:08:41Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc5MjEsImlhdCI6MTY2OTIxNjEyMSwianRpIjoiMjdlYmRiMzctMGYwZi00NWVmLWJjNmMtNTc2YWE2YzQyODE3IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiTHhzcXJIOEh6NTAtODJwNVo0eU9jZyIsInNlc3Npb25fc3RhdGUiOiIxY2M5M2IxYy05NDU5LTQ1OWYtOWJlYi03YWY2YzFiYTY5NTkiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMWNjOTNiMWMtOTQ1OS00NTlmLTliZWItN2FmNmMxYmE2OTU5In0.O5IHehU4ZOqs3JgKOVD_xaY7bPM3paLb6rI07wHz9gg
[2022-11-23T15:08:41Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T15:08:41Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:08:41Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc5MjEsImlhdCI6MTY2OTIxNjEyMSwianRpIjoiMjdlYmRiMzctMGYwZi00NWVmLWJjNmMtNTc2YWE2YzQyODE3IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiTHhzcXJIOEh6NTAtODJwNVo0eU9jZyIsInNlc3Npb25fc3RhdGUiOiIxY2M5M2IxYy05NDU5LTQ1OWYtOWJlYi03YWY2YzFiYTY5NTkiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMWNjOTNiMWMtOTQ1OS00NTlmLTliZWItN2FmNmMxYmE2OTU5In0.O5IHehU4ZOqs3JgKOVD_xaY7bPM3paLb6rI07wHz9gg&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T15:08:42Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:08:42Z INFO  drogue_cloud_tests::resources::apps] Create application: 52d931e6-f49e-4401-9a30-0db100f111a3
[2022-11-23T15:08:42Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;52d931e6-f49e-4401-9a30-0db100f111a3&quot;
[2022-11-23T15:08:42Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:08:42Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;52d931e6-f49e-4401-9a30-0db100f111a3&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:08:42Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;52d931e6-f49e-4401-9a30-0db100f111a3\&quot;,\n    \&quot;uid\&quot;: \&quot;36b1752e-1377-4a9d-889d-783169febf63\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:08:42.698006Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;9359f4cf-e31b-4751-962c-8cd7904b6d00\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:42.745077244Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:42.750776739Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:42.750837063Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:42.720992863Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:42.720993414Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:42.721051012Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:42.721125480Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:42.721099041Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:08:42Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;52d931e6-f49e-4401-9a30-0db100f111a3&quot;), &quot;uid&quot;: String(&quot;36b1752e-1377-4a9d-889d-783169febf63&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:08:42.698006Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;9359f4cf-e31b-4751-962c-8cd7904b6d00&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:42.745077244Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:42.750776739Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:42.750837063Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:42.720992863Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:42.720993414Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:42.721051012Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:42.721125480Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:42.721099041Z&quot;)}]}}
[2022-11-23T15:08:42Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-11-23T15:08:43Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;52d931e6-f49e-4401-9a30-0db100f111a3&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:08:43Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;52d931e6-f49e-4401-9a30-0db100f111a3\&quot;,\n    \&quot;uid\&quot;: \&quot;36b1752e-1377-4a9d-889d-783169febf63\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:08:42.698006Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;91bd9d3f-cf38-4908-89ed-d399fde59588\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;tvNeO8Gk5raC\&quot;,\n        \&quot;username\&quot;: \&quot;user-52d931e6-f49e-4401-9a30-0db100f111a3\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:42.745077244Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:42.750776739Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:42.816423009Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:42.823068075Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:42.981090937Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:42.981108579Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:42.981213026Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:42.981138305Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:08:43Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;52d931e6-f49e-4401-9a30-0db100f111a3&quot;), &quot;uid&quot;: String(&quot;36b1752e-1377-4a9d-889d-783169febf63&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:08:42.698006Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;91bd9d3f-cf38-4908-89ed-d399fde59588&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;tvNeO8Gk5raC&quot;), &quot;username&quot;: String(&quot;user-52d931e6-f49e-4401-9a30-0db100f111a3&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:42.745077244Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:42.750776739Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:42.816423009Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:42.823068075Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:42.981090937Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:42.981108579Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:42.981213026Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:42.981138305Z&quot;)}]}}
[2022-11-23T15:08:43Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-11-23T15:08:43Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;52d931e6-f49e-4401-9a30-0db100f111a3&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:08:43Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;52d931e6-f49e-4401-9a30-0db100f111a3\&quot;,\n    \&quot;uid\&quot;: \&quot;36b1752e-1377-4a9d-889d-783169febf63\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:08:42.698006Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;91bd9d3f-cf38-4908-89ed-d399fde59588\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;tvNeO8Gk5raC\&quot;,\n        \&quot;username\&quot;: \&quot;user-52d931e6-f49e-4401-9a30-0db100f111a3\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:42.745077244Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:42.750776739Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:42.816423009Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:42.823068075Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:42.981090937Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:42.981108579Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:42.981213026Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:42.981138305Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:08:43Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;52d931e6-f49e-4401-9a30-0db100f111a3&quot;), &quot;uid&quot;: String(&quot;36b1752e-1377-4a9d-889d-783169febf63&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:08:42.698006Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;91bd9d3f-cf38-4908-89ed-d399fde59588&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;tvNeO8Gk5raC&quot;), &quot;username&quot;: String(&quot;user-52d931e6-f49e-4401-9a30-0db100f111a3&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:42.745077244Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:42.750776739Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:42.816423009Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:42.823068075Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:42.981090937Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:42.981108579Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:42.981213026Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:42.981138305Z&quot;)}]}}
[2022-11-23T15:08:43Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-11-23T15:08:43Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-11-23T15:08:43Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;52d931e6-f49e-4401-9a30-0db100f111a3&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-11-23T15:08:43Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:08:43Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T15:08:44Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:08:44Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T15:08:44Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTY0MjIsImlhdCI6MTY2OTIxNjEyMiwiYXV0aF90aW1lIjoxNjY5MjE2MTE5LCJqdGkiOiJhNjNmMzRhNy1iMzRlLTRiMzktOGI5ZS00NTZhY2I4OWM0MTYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Ikx4c3FySDhIejUwLTgycDVaNHlPY2ciLCJzZXNzaW9uX3N0YXRlIjoiMWNjOTNiMWMtOTQ1OS00NTlmLTliZWItN2FmNmMxYmE2OTU5IiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjFjYzkzYjFjLTk0NTktNDU5Zi05YmViLTdhZjZjMWJhNjk1OSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.brSN8iTdK2EbrijcZ-4t9jVfSSaiPHaddKF3jokkWtejAzweSO-wwtv_gdfQMiLCck7K9XK1BGsGpgrnHNDG3-7B9r8j-82I15D8yHEZS2G-fgFYuEPlmU-gjzRTp_H4mFcJQshPep1LBjeWwvumXWKtm3wRhf7rU3y22IWzCTov6Htkz7c3kxtkfia5vvviCedncHIgxux3fHu-yTOX5czT6hDXv0e3v5xn16e_0aBw7TSc91kfbqXN0vGvJaKKeK_PHbADqgIScU4ALCri6oXr9ZUt3o1L_aXdgp7o-KSiG8CPSgrMNtmwyNM2_PWaF1HOhVliMT4bSi1O278ohQ\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:08:44Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:08:44Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-11-23T15:08:44Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;52d931e6-f49e-4401-9a30-0db100f111a3&quot; &quot;device1&quot;
[2022-11-23T15:08:44Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:08:44Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;52d931e6-f49e-4401-9a30-0db100f111a3&#x27;
[2022-11-23T15:08:44Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;52d931e6-f49e-4401-9a30-0db100f111a3&quot;
[2022-11-23T15:08:44Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_2::integration_version_1::integration_ws_1

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T15:08:46Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T15:08:46Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:08:46Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:08:46Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:08:47Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T15:08:48Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T15:08:48Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:08:48Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:08:50Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc5MzAsImlhdCI6MTY2OTIxNjEzMCwianRpIjoiMGQ5ZWJhZWMtYjc5ZC00ZGZiLWFhMWEtZGZhMzJkNzA4YzA2IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiemZRYkctN1BYcy16NlZvWlJrSkVZZyIsInNlc3Npb25fc3RhdGUiOiI4M2ExM2MyZC1mYmM1LTQwY2UtYTY5YS0yYzRlYWY3NjQ0MGQiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiODNhMTNjMmQtZmJjNS00MGNlLWE2OWEtMmM0ZWFmNzY0NDBkIn0.-cbY13uJIR4pLogwWpGrToJ47ibk95Ng1ATr9E5C8G8
[2022-11-23T15:08:50Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T15:08:50Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:08:50Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc5MzAsImlhdCI6MTY2OTIxNjEzMCwianRpIjoiMGQ5ZWJhZWMtYjc5ZC00ZGZiLWFhMWEtZGZhMzJkNzA4YzA2IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiemZRYkctN1BYcy16NlZvWlJrSkVZZyIsInNlc3Npb25fc3RhdGUiOiI4M2ExM2MyZC1mYmM1LTQwY2UtYTY5YS0yYzRlYWY3NjQ0MGQiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiODNhMTNjMmQtZmJjNS00MGNlLWE2OWEtMmM0ZWFmNzY0NDBkIn0.-cbY13uJIR4pLogwWpGrToJ47ibk95Ng1ATr9E5C8G8&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T15:08:50Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:08:51Z INFO  drogue_cloud_tests::resources::apps] Create application: 60f5a175-422a-4a98-9bb5-a88875c2aad0
[2022-11-23T15:08:51Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;60f5a175-422a-4a98-9bb5-a88875c2aad0&quot;
[2022-11-23T15:08:51Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:08:51Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;60f5a175-422a-4a98-9bb5-a88875c2aad0&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:08:51Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;60f5a175-422a-4a98-9bb5-a88875c2aad0\&quot;,\n    \&quot;uid\&quot;: \&quot;8413546d-a666-4196-b274-ef856aed2745\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:08:51.118333Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;6cc59a0a-ad55-4e50-8751-c630c1f5e58f\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:51.159050496Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:51.165986538Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:51.166017245Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:51.132859313Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:51.132860205Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:51.133041704Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:51.133078663Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:51.133412729Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:08:51Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;60f5a175-422a-4a98-9bb5-a88875c2aad0&quot;), &quot;uid&quot;: String(&quot;8413546d-a666-4196-b274-ef856aed2745&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:08:51.118333Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;6cc59a0a-ad55-4e50-8751-c630c1f5e58f&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:51.159050496Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:51.165986538Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:51.166017245Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:51.132859313Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:51.132860205Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:51.133041704Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:51.133078663Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:51.133412729Z&quot;)}]}}
[2022-11-23T15:08:51Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-11-23T15:08:52Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;60f5a175-422a-4a98-9bb5-a88875c2aad0&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:08:52Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;60f5a175-422a-4a98-9bb5-a88875c2aad0\&quot;,\n    \&quot;uid\&quot;: \&quot;8413546d-a666-4196-b274-ef856aed2745\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:08:51.118333Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;7b8af5ec-063e-42ea-9e9b-8d18719f0557\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;VYLO9ulyepEZ\&quot;,\n        \&quot;username\&quot;: \&quot;user-60f5a175-422a-4a98-9bb5-a88875c2aad0\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:51.159050496Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:51.165986538Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:51.221587217Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:51.227504662Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:51.413498519Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:51.413516593Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:51.413751583Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:51.413805484Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:08:52Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;60f5a175-422a-4a98-9bb5-a88875c2aad0&quot;), &quot;uid&quot;: String(&quot;8413546d-a666-4196-b274-ef856aed2745&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:08:51.118333Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;7b8af5ec-063e-42ea-9e9b-8d18719f0557&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;VYLO9ulyepEZ&quot;), &quot;username&quot;: String(&quot;user-60f5a175-422a-4a98-9bb5-a88875c2aad0&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:51.159050496Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:51.165986538Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:51.221587217Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:51.227504662Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:51.413498519Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:51.413516593Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:51.413751583Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:51.413805484Z&quot;)}]}}
[2022-11-23T15:08:52Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-11-23T15:08:52Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;60f5a175-422a-4a98-9bb5-a88875c2aad0&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:08:52Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;60f5a175-422a-4a98-9bb5-a88875c2aad0\&quot;,\n    \&quot;uid\&quot;: \&quot;8413546d-a666-4196-b274-ef856aed2745\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:08:51.118333Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;7b8af5ec-063e-42ea-9e9b-8d18719f0557\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;VYLO9ulyepEZ\&quot;,\n        \&quot;username\&quot;: \&quot;user-60f5a175-422a-4a98-9bb5-a88875c2aad0\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:51.159050496Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:51.165986538Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:51.221587217Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:51.227504662Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:51.413498519Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:51.413516593Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:51.413751583Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:51.413805484Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:08:52Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;60f5a175-422a-4a98-9bb5-a88875c2aad0&quot;), &quot;uid&quot;: String(&quot;8413546d-a666-4196-b274-ef856aed2745&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:08:51.118333Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;7b8af5ec-063e-42ea-9e9b-8d18719f0557&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;VYLO9ulyepEZ&quot;), &quot;username&quot;: String(&quot;user-60f5a175-422a-4a98-9bb5-a88875c2aad0&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:51.159050496Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:51.165986538Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:51.221587217Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:51.227504662Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:51.413498519Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:51.413516593Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:51.413751583Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:51.413805484Z&quot;)}]}}
[2022-11-23T15:08:52Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-11-23T15:08:52Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-11-23T15:08:52Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;60f5a175-422a-4a98-9bb5-a88875c2aad0&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-11-23T15:08:52Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:08:52Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T15:08:52Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:08:52Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T15:08:52Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTY0MzAsImlhdCI6MTY2OTIxNjEzMCwiYXV0aF90aW1lIjoxNjY5MjE2MTI3LCJqdGkiOiI1YmE5NzlhNy1lMzZlLTQxMDQtYmY2Yi1hOGY1MzJmMmJiZjUiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6InpmUWJHLTdQWHMtejZWb1pSa0pFWWciLCJzZXNzaW9uX3N0YXRlIjoiODNhMTNjMmQtZmJjNS00MGNlLWE2OWEtMmM0ZWFmNzY0NDBkIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjgzYTEzYzJkLWZiYzUtNDBjZS1hNjlhLTJjNGVhZjc2NDQwZCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.KRXO-2AT7rn6ah4zH818IuZNcacDc_DylsKgh62NuwNjCwlhJv-dAbHerUHOA3VbYUwhD0808MpKqA8rYob3-wTvCwYe7OFc6qEjIs25Uze21MXdUp4N05hs3DVCazbvMRFZnPN4yNL1Dl8FZTIh2Kf1_xv9ETsmhm_vLCpEdMFT7PsnZKfFxOoMpKNnre32aym5ogwH90RDpPO29MQYCzKsCjd9rx007KoCJr2QX22CKxBEON3Lkn8pWDGt2l3cZki43jmASlJjDi2Cvju5aNxTydCgO9DaDKdAPtbQb8ZrBd-9hBbXs319tg17S3_vIpUY1fAF_WZZxQFEvBu8lA\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:08:52Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:08:52Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-11-23T15:08:52Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;60f5a175-422a-4a98-9bb5-a88875c2aad0&quot; &quot;device1&quot;
[2022-11-23T15:08:52Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:08:52Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;60f5a175-422a-4a98-9bb5-a88875c2aad0&#x27;
[2022-11-23T15:08:52Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;60f5a175-422a-4a98-9bb5-a88875c2aad0&quot;
[2022-11-23T15:08:52Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_2::integration_version_1::integration_ws_2

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T15:08:54Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T15:08:54Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:08:54Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:08:54Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:08:55Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T15:08:56Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T15:08:56Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:08:56Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:08:58Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc5MzgsImlhdCI6MTY2OTIxNjEzOCwianRpIjoiMWZmOTllZjUtOGQ2ZS00ZDgxLWE1MGYtNGFhNDRlYmRjNzdlIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiano0Nll4QjAyREgzZ3BVNTZzallsdyIsInNlc3Npb25fc3RhdGUiOiJhMWI0ODQ1OC1jNmIwLTQzYjUtOTRlMS0wZWJjN2FkN2Y5ODEiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiYTFiNDg0NTgtYzZiMC00M2I1LTk0ZTEtMGViYzdhZDdmOTgxIn0.LA9G8sPj-GPQyePEa83cye541370uvuOiZbJGB_pgQw
[2022-11-23T15:08:58Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T15:08:58Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:08:58Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc5MzgsImlhdCI6MTY2OTIxNjEzOCwianRpIjoiMWZmOTllZjUtOGQ2ZS00ZDgxLWE1MGYtNGFhNDRlYmRjNzdlIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiano0Nll4QjAyREgzZ3BVNTZzallsdyIsInNlc3Npb25fc3RhdGUiOiJhMWI0ODQ1OC1jNmIwLTQzYjUtOTRlMS0wZWJjN2FkN2Y5ODEiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiYTFiNDg0NTgtYzZiMC00M2I1LTk0ZTEtMGViYzdhZDdmOTgxIn0.LA9G8sPj-GPQyePEa83cye541370uvuOiZbJGB_pgQw&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T15:08:58Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:08:59Z INFO  drogue_cloud_tests::resources::apps] Create application: 932eab75-63b7-4ebe-b0e1-3997769ae46b
[2022-11-23T15:08:59Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;932eab75-63b7-4ebe-b0e1-3997769ae46b&quot;
[2022-11-23T15:08:59Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:08:59Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;932eab75-63b7-4ebe-b0e1-3997769ae46b&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:08:59Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;932eab75-63b7-4ebe-b0e1-3997769ae46b\&quot;,\n    \&quot;uid\&quot;: \&quot;26e0787d-1c2c-4052-8899-c1204c5504f6\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:08:59.338884Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;ad60191b-ce10-4fc9-83a1-95d4a928890a\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:59.388673079Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:59.394833758Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:59.394869104Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:59.355746169Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:59.355746851Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:59.355772499Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:59.355801003Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:59.355857759Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:08:59Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;932eab75-63b7-4ebe-b0e1-3997769ae46b&quot;), &quot;uid&quot;: String(&quot;26e0787d-1c2c-4052-8899-c1204c5504f6&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:08:59.338884Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;ad60191b-ce10-4fc9-83a1-95d4a928890a&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:59.388673079Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:59.394833758Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:59.394869104Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:59.355746169Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:59.355746851Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:59.355772499Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:59.355801003Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:59.355857759Z&quot;)}]}}
[2022-11-23T15:08:59Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-11-23T15:09:00Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;932eab75-63b7-4ebe-b0e1-3997769ae46b&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:09:00Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;932eab75-63b7-4ebe-b0e1-3997769ae46b\&quot;,\n    \&quot;uid\&quot;: \&quot;26e0787d-1c2c-4052-8899-c1204c5504f6\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:08:59.338884Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;e8aa1f00-74bf-4193-93a9-28a2a20b1c1e\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;oyq2wOOtaGuP\&quot;,\n        \&quot;username\&quot;: \&quot;user-932eab75-63b7-4ebe-b0e1-3997769ae46b\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:59.388673079Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:59.394833758Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:59.451966356Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:59.458236440Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:59.621386960Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:59.621401236Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:59.621427957Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:59.621475895Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:09:00Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;932eab75-63b7-4ebe-b0e1-3997769ae46b&quot;), &quot;uid&quot;: String(&quot;26e0787d-1c2c-4052-8899-c1204c5504f6&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:08:59.338884Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;e8aa1f00-74bf-4193-93a9-28a2a20b1c1e&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;oyq2wOOtaGuP&quot;), &quot;username&quot;: String(&quot;user-932eab75-63b7-4ebe-b0e1-3997769ae46b&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:59.388673079Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:59.394833758Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:59.451966356Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:59.458236440Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:59.621386960Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:59.621401236Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:59.621427957Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:59.621475895Z&quot;)}]}}
[2022-11-23T15:09:00Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-11-23T15:09:00Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;932eab75-63b7-4ebe-b0e1-3997769ae46b&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:09:00Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;932eab75-63b7-4ebe-b0e1-3997769ae46b\&quot;,\n    \&quot;uid\&quot;: \&quot;26e0787d-1c2c-4052-8899-c1204c5504f6\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:08:59.338884Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;e8aa1f00-74bf-4193-93a9-28a2a20b1c1e\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;oyq2wOOtaGuP\&quot;,\n        \&quot;username\&quot;: \&quot;user-932eab75-63b7-4ebe-b0e1-3997769ae46b\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:59.388673079Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:59.394833758Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:59.451966356Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:59.458236440Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:59.621386960Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:59.621401236Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:59.621427957Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:08:59.621475895Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:09:00Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;932eab75-63b7-4ebe-b0e1-3997769ae46b&quot;), &quot;uid&quot;: String(&quot;26e0787d-1c2c-4052-8899-c1204c5504f6&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:08:59.338884Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;e8aa1f00-74bf-4193-93a9-28a2a20b1c1e&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;oyq2wOOtaGuP&quot;), &quot;username&quot;: String(&quot;user-932eab75-63b7-4ebe-b0e1-3997769ae46b&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:59.388673079Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:59.394833758Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:59.451966356Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:59.458236440Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:59.621386960Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:59.621401236Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:59.621427957Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:08:59.621475895Z&quot;)}]}}
[2022-11-23T15:09:00Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-11-23T15:09:00Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-11-23T15:09:00Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;932eab75-63b7-4ebe-b0e1-3997769ae46b&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-11-23T15:09:00Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:09:00Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T15:09:00Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:09:00Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T15:09:00Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTY0MzgsImlhdCI6MTY2OTIxNjEzOCwiYXV0aF90aW1lIjoxNjY5MjE2MTM1LCJqdGkiOiJkMTJkODNmMy03NGY1LTQ3MTQtODhlNS05YTQ4YTdkOTFhOTYiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Imp6NDZZeEIwMkRIM2dwVTU2c2pZbHciLCJzZXNzaW9uX3N0YXRlIjoiYTFiNDg0NTgtYzZiMC00M2I1LTk0ZTEtMGViYzdhZDdmOTgxIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImExYjQ4NDU4LWM2YjAtNDNiNS05NGUxLTBlYmM3YWQ3Zjk4MSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.UD-ew83-OWrUPdWYo75TwSk2Ev0kW_9CuOoRZb3l4RR6mUXY4vjNGDEWgVZ_nmKi-wd24kAht4riWteyoubmBKRhaWjMKsZrTip8BAdK3_OrauWsPq8GleeQ0ZKmdMznTLSyKQNLzba8MJm2B479m-Z6uOpEFt_RV3vQdJVnyz_96S0tVbGGrvWFbYdm9NkrtHmvvz3o9P2x33SG2CKu_3fx7YTCgMNcmqA8qB1SD9O25YetPr5DK9n3lTE5ahqnfI929Vd2fSsHp8WpqXc5aoX_PcQfT4UlIuJBn7mK2hZNgcfs2CIOBbkm8Ox0mR2FEfDtuYxYRSyyzIZE407MGw\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:09:00Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:09:00Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-11-23T15:09:00Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;932eab75-63b7-4ebe-b0e1-3997769ae46b&quot; &quot;device1&quot;
[2022-11-23T15:09:00Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:09:00Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;932eab75-63b7-4ebe-b0e1-3997769ae46b&#x27;
[2022-11-23T15:09:00Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;932eab75-63b7-4ebe-b0e1-3997769ae46b&quot;
[2022-11-23T15:09:00Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_2::integration_version_2::integration_ws_1

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T15:09:02Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T15:09:02Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:09:02Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:09:02Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:09:03Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T15:09:05Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T15:09:05Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:09:05Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:09:06Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc5NDYsImlhdCI6MTY2OTIxNjE0NiwianRpIjoiZWI1ZjdiY2MtM2Y2YS00MjJlLTkzNmEtMDNiNTNkZWY1MzVmIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiS081TFVELWVQQkI1dUJiNUhTaFA4QSIsInNlc3Npb25fc3RhdGUiOiJmYTJhYzk1MS0wNTVmLTQ2NjQtYTA4NS03MjMxN2FmNjZjOGEiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiZmEyYWM5NTEtMDU1Zi00NjY0LWEwODUtNzIzMTdhZjY2YzhhIn0.uFFpuIFKCmkERSs_3RmSt2Cb0NlgMjIvJU03SDWdk14
[2022-11-23T15:09:06Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T15:09:06Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:09:06Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc5NDYsImlhdCI6MTY2OTIxNjE0NiwianRpIjoiZWI1ZjdiY2MtM2Y2YS00MjJlLTkzNmEtMDNiNTNkZWY1MzVmIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiS081TFVELWVQQkI1dUJiNUhTaFA4QSIsInNlc3Npb25fc3RhdGUiOiJmYTJhYzk1MS0wNTVmLTQ2NjQtYTA4NS03MjMxN2FmNjZjOGEiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiZmEyYWM5NTEtMDU1Zi00NjY0LWEwODUtNzIzMTdhZjY2YzhhIn0.uFFpuIFKCmkERSs_3RmSt2Cb0NlgMjIvJU03SDWdk14&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T15:09:07Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:09:07Z INFO  drogue_cloud_tests::resources::apps] Create application: 55e69d0d-d93c-475a-8a27-7425bec6b76a
[2022-11-23T15:09:07Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;55e69d0d-d93c-475a-8a27-7425bec6b76a&quot;
[2022-11-23T15:09:07Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:09:07Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;55e69d0d-d93c-475a-8a27-7425bec6b76a&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:09:07Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;55e69d0d-d93c-475a-8a27-7425bec6b76a\&quot;,\n    \&quot;uid\&quot;: \&quot;15cfa9e8-aa1b-40cf-bb30-26cd40f07ba5\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:09:07.656849Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;e47fc202-b568-4231-9bd1-acda450e8ebd\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:09:07.697767866Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:09:07.702814921Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:09:07.702919116Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:09:07.669026959Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:09:07.669027881Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:09:07.669410378Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:09:07.669451936Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:09:07.669645948Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:09:07Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;55e69d0d-d93c-475a-8a27-7425bec6b76a&quot;), &quot;uid&quot;: String(&quot;15cfa9e8-aa1b-40cf-bb30-26cd40f07ba5&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:09:07.656849Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;e47fc202-b568-4231-9bd1-acda450e8ebd&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:09:07.697767866Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:09:07.702814921Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:09:07.702919116Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:09:07.669026959Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:09:07.669027881Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:09:07.669410378Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:09:07.669451936Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:09:07.669645948Z&quot;)}]}}
[2022-11-23T15:09:07Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-11-23T15:09:08Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;55e69d0d-d93c-475a-8a27-7425bec6b76a&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:09:08Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;55e69d0d-d93c-475a-8a27-7425bec6b76a\&quot;,\n    \&quot;uid\&quot;: \&quot;15cfa9e8-aa1b-40cf-bb30-26cd40f07ba5\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:09:07.656849Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;38a44ff7-f7b6-4018-b801-6726b0c3dc08\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;urS2B1GEbLil\&quot;,\n        \&quot;username\&quot;: \&quot;user-55e69d0d-d93c-475a-8a27-7425bec6b76a\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:09:07.697767866Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:09:07.702814921Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:09:07.747809634Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:09:07.753864966Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:09:07.970031230Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:09:07.970051498Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:09:07.970078909Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:09:07.970171754Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:09:08Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;55e69d0d-d93c-475a-8a27-7425bec6b76a&quot;), &quot;uid&quot;: String(&quot;15cfa9e8-aa1b-40cf-bb30-26cd40f07ba5&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:09:07.656849Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;38a44ff7-f7b6-4018-b801-6726b0c3dc08&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;urS2B1GEbLil&quot;), &quot;username&quot;: String(&quot;user-55e69d0d-d93c-475a-8a27-7425bec6b76a&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:09:07.697767866Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:09:07.702814921Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:09:07.747809634Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:09:07.753864966Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:09:07.970031230Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:09:07.970051498Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:09:07.970078909Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:09:07.970171754Z&quot;)}]}}
[2022-11-23T15:09:08Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-11-23T15:09:08Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;55e69d0d-d93c-475a-8a27-7425bec6b76a&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:09:08Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;55e69d0d-d93c-475a-8a27-7425bec6b76a\&quot;,\n    \&quot;uid\&quot;: \&quot;15cfa9e8-aa1b-40cf-bb30-26cd40f07ba5\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:09:07.656849Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;38a44ff7-f7b6-4018-b801-6726b0c3dc08\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;urS2B1GEbLil\&quot;,\n        \&quot;username\&quot;: \&quot;user-55e69d0d-d93c-475a-8a27-7425bec6b76a\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:09:07.697767866Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:09:07.702814921Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:09:07.747809634Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:09:07.753864966Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:09:07.970031230Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:09:07.970051498Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:09:07.970078909Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:09:07.970171754Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:09:08Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;55e69d0d-d93c-475a-8a27-7425bec6b76a&quot;), &quot;uid&quot;: String(&quot;15cfa9e8-aa1b-40cf-bb30-26cd40f07ba5&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:09:07.656849Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;38a44ff7-f7b6-4018-b801-6726b0c3dc08&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;urS2B1GEbLil&quot;), &quot;username&quot;: String(&quot;user-55e69d0d-d93c-475a-8a27-7425bec6b76a&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:09:07.697767866Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:09:07.702814921Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:09:07.747809634Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:09:07.753864966Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:09:07.970031230Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:09:07.970051498Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:09:07.970078909Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:09:07.970171754Z&quot;)}]}}
[2022-11-23T15:09:08Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-11-23T15:09:08Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-11-23T15:09:08Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;55e69d0d-d93c-475a-8a27-7425bec6b76a&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-11-23T15:09:08Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:09:08Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T15:09:08Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:09:08Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T15:09:08Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTY0NDcsImlhdCI6MTY2OTIxNjE0NywiYXV0aF90aW1lIjoxNjY5MjE2MTQ0LCJqdGkiOiI5ZjYwNDY0My0zYzkzLTQ0ZjktYjRmZi1mNjc2ZWY0YjgzMDciLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IktPNUxVRC1lUEJCNXVCYjVIU2hQOEEiLCJzZXNzaW9uX3N0YXRlIjoiZmEyYWM5NTEtMDU1Zi00NjY0LWEwODUtNzIzMTdhZjY2YzhhIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImZhMmFjOTUxLTA1NWYtNDY2NC1hMDg1LTcyMzE3YWY2NmM4YSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.LN_le4W5kZPJgiXkqzk2VzvSCgK6aoPNcbJGg2R6yRa0iD48emXQMxNy794dFO2ChgjMVOsN2FMhfrKH2vtRPQmN3LuJFj3z8QrQW_0MhVJtp2TqPSeHrKgmH67lbIfmbFgJkbPrY2Ie9ym_7eU1_hyEqSymT-ne_OjlxLm6YxlSr_qIlXniFZS-JQ-YKzVkZNGex8cTiGaCQ3WkkkGrah9BgvJaitQvk5VuDarV74OVcE295dxUFlw1Qbcm76bo_rtJ8asmE2oFiJjpD4JbLpOouwGo5OVOEVWovishs8vC44dyQn7y_clWAzqB26d2hrzW58jcGLUj_e-d-AUjxA\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:09:08Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:09:08Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-11-23T15:09:08Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;55e69d0d-d93c-475a-8a27-7425bec6b76a&quot; &quot;device1&quot;
[2022-11-23T15:09:09Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:09:09Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;55e69d0d-d93c-475a-8a27-7425bec6b76a&#x27;
[2022-11-23T15:09:09Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;55e69d0d-d93c-475a-8a27-7425bec6b76a&quot;
[2022-11-23T15:09:09Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_2::integration_version_2::integration_ws_2

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T15:09:11Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T15:09:11Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:09:11Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:09:11Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:09:12Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T15:09:13Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T15:09:13Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:09:13Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:09:15Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc5NTUsImlhdCI6MTY2OTIxNjE1NSwianRpIjoiMzI4ODYyMDMtZjliZi00MThjLWJjZGItY2QxOWIxMWZkZmJhIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiNTU2ZS1xUHZaR3c5OFJtZS1BM0RkQSIsInNlc3Npb25fc3RhdGUiOiI4OGUwYmQwMS02ZDY4LTQxMTYtYTNkNy1hNjM3MDJiZTEwMDMiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiODhlMGJkMDEtNmQ2OC00MTE2LWEzZDctYTYzNzAyYmUxMDAzIn0.40PXDH9CQMI9OwDd2SIDQB7oVLzSURx_pz6snmJ7MeA
[2022-11-23T15:09:15Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T15:09:15Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:09:15Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc5NTUsImlhdCI6MTY2OTIxNjE1NSwianRpIjoiMzI4ODYyMDMtZjliZi00MThjLWJjZGItY2QxOWIxMWZkZmJhIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiNTU2ZS1xUHZaR3c5OFJtZS1BM0RkQSIsInNlc3Npb25fc3RhdGUiOiI4OGUwYmQwMS02ZDY4LTQxMTYtYTNkNy1hNjM3MDJiZTEwMDMiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiODhlMGJkMDEtNmQ2OC00MTE2LWEzZDctYTYzNzAyYmUxMDAzIn0.40PXDH9CQMI9OwDd2SIDQB7oVLzSURx_pz6snmJ7MeA&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T15:09:15Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:09:15Z INFO  drogue_cloud_tests::resources::apps] Create application: c4ce1a5a-225b-485c-9e9f-db4d525b3042
[2022-11-23T15:09:15Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;c4ce1a5a-225b-485c-9e9f-db4d525b3042&quot;
[2022-11-23T15:09:16Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:09:16Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;c4ce1a5a-225b-485c-9e9f-db4d525b3042&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:09:16Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;c4ce1a5a-225b-485c-9e9f-db4d525b3042\&quot;,\n    \&quot;uid\&quot;: \&quot;bd4c5970-5680-4809-93ad-11aaca7730fa\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:09:15.990757Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;f6571f7f-1cc6-4e2f-90a0-df06c31933e9\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:09:16.053413889Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:09:16.058332283Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:09:16.058370745Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:09:16.024986109Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:09:16.024987912Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:09:16.024997019Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:09:16.025151589Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:09:16.025063835Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:09:16Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;c4ce1a5a-225b-485c-9e9f-db4d525b3042&quot;), &quot;uid&quot;: String(&quot;bd4c5970-5680-4809-93ad-11aaca7730fa&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:09:15.990757Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;f6571f7f-1cc6-4e2f-90a0-df06c31933e9&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:09:16.053413889Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:09:16.058332283Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:09:16.058370745Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:09:16.024986109Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:09:16.024987912Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:09:16.024997019Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:09:16.025151589Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:09:16.025063835Z&quot;)}]}}
[2022-11-23T15:09:16Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-11-23T15:09:17Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;c4ce1a5a-225b-485c-9e9f-db4d525b3042&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:09:17Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;c4ce1a5a-225b-485c-9e9f-db4d525b3042\&quot;,\n    \&quot;uid\&quot;: \&quot;bd4c5970-5680-4809-93ad-11aaca7730fa\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:09:15.990757Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;08635ec6-09ad-44a1-aa01-99f08a55cf0b\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;TQH7AGvYAEDu\&quot;,\n        \&quot;username\&quot;: \&quot;user-c4ce1a5a-225b-485c-9e9f-db4d525b3042\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:09:16.053413889Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:09:16.058332283Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:09:16.110155976Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:09:16.116213313Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:09:16.301994886Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:09:16.302010254Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:09:16.302173190Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:09:16.302087750Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:09:17Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;c4ce1a5a-225b-485c-9e9f-db4d525b3042&quot;), &quot;uid&quot;: String(&quot;bd4c5970-5680-4809-93ad-11aaca7730fa&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:09:15.990757Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;08635ec6-09ad-44a1-aa01-99f08a55cf0b&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;TQH7AGvYAEDu&quot;), &quot;username&quot;: String(&quot;user-c4ce1a5a-225b-485c-9e9f-db4d525b3042&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:09:16.053413889Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:09:16.058332283Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:09:16.110155976Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:09:16.116213313Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:09:16.301994886Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:09:16.302010254Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:09:16.302173190Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:09:16.302087750Z&quot;)}]}}
[2022-11-23T15:09:17Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-11-23T15:09:17Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;c4ce1a5a-225b-485c-9e9f-db4d525b3042&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:09:17Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;c4ce1a5a-225b-485c-9e9f-db4d525b3042\&quot;,\n    \&quot;uid\&quot;: \&quot;bd4c5970-5680-4809-93ad-11aaca7730fa\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:09:15.990757Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;08635ec6-09ad-44a1-aa01-99f08a55cf0b\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;TQH7AGvYAEDu\&quot;,\n        \&quot;username\&quot;: \&quot;user-c4ce1a5a-225b-485c-9e9f-db4d525b3042\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:09:16.053413889Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:09:16.058332283Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:09:16.110155976Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:09:16.116213313Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:09:16.301994886Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:09:16.302010254Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:09:16.302173190Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:09:16.302087750Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:09:17Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;c4ce1a5a-225b-485c-9e9f-db4d525b3042&quot;), &quot;uid&quot;: String(&quot;bd4c5970-5680-4809-93ad-11aaca7730fa&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:09:15.990757Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;08635ec6-09ad-44a1-aa01-99f08a55cf0b&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;TQH7AGvYAEDu&quot;), &quot;username&quot;: String(&quot;user-c4ce1a5a-225b-485c-9e9f-db4d525b3042&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:09:16.053413889Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:09:16.058332283Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:09:16.110155976Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:09:16.116213313Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:09:16.301994886Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:09:16.302010254Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:09:16.302173190Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:09:16.302087750Z&quot;)}]}}
[2022-11-23T15:09:17Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-11-23T15:09:17Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-11-23T15:09:17Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;c4ce1a5a-225b-485c-9e9f-db4d525b3042&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-11-23T15:09:17Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:09:17Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T15:09:17Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:09:17Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T15:09:17Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTY0NTUsImlhdCI6MTY2OTIxNjE1NSwiYXV0aF90aW1lIjoxNjY5MjE2MTUyLCJqdGkiOiIyNDIwNDY5OS1iYjI5LTRiZmYtOTdiZi0zZWJjNThiYTUwMzAiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IjU1NmUtcVB2Wkd3OThSbWUtQTNEZEEiLCJzZXNzaW9uX3N0YXRlIjoiODhlMGJkMDEtNmQ2OC00MTE2LWEzZDctYTYzNzAyYmUxMDAzIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6Ijg4ZTBiZDAxLTZkNjgtNDExNi1hM2Q3LWE2MzcwMmJlMTAwMyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.MOiajgFsHIr4r8aPzEAhJ8T7i-yj3foXXcvwZVdZ_gpM0mdYPS9yAVl8BJJ1gxoYWnaMrPE490B6LcGmNEgFuF3VYgqgg7f_NO6wkaMwPJzKNVrZ3K_-rUG7bUAyDuLX6UR4SjlmDp56LJoaJBCwRfPIt_SwNLXhHD_hN7e6zLnVCrSg9D_drSjWj1LPOsJ52IrsAlnlJt_Cu4yitvovNoidEO5A1-OobAiu1NczAp6R1_JsbYJgBKWwXQ8QEywQJ7k8DlXlgyMfacIfMwIbTM6l-bQNbgd3dh9nQzF7GiOMVmGp_Pe8FW19IDl9yvYyQZajHmAPYk_5emFDDm5htA\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:09:17Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:09:17Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-11-23T15:09:17Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;c4ce1a5a-225b-485c-9e9f-db4d525b3042&quot; &quot;device1&quot;
[2022-11-23T15:09:17Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:09:17Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;c4ce1a5a-225b-485c-9e9f-db4d525b3042&#x27;
[2022-11-23T15:09:17Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;c4ce1a5a-225b-485c-9e9f-db4d525b3042&quot;
[2022-11-23T15:09:17Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_2::integration_version_3::integration_ws_1

**Duration**: 8s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T15:09:19Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T15:09:19Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:09:19Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:09:19Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:09:20Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T15:09:21Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T15:09:21Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:09:21Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:09:23Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc5NjMsImlhdCI6MTY2OTIxNjE2MywianRpIjoiZTdjOTI3MjYtYTJlNi00NTZlLWE1ZDQtNzY4N2ZjMDZkNGU0IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiUExzYmpOejcwTk03TDFqODNMNnV0dyIsInNlc3Npb25fc3RhdGUiOiIyYzBhYjJkZS00ZTJmLTQ2NzUtODBhMS1lZTJiYWU4ZTMyNzEiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMmMwYWIyZGUtNGUyZi00Njc1LTgwYTEtZWUyYmFlOGUzMjcxIn0.DlAhLuyioJlV4XfOU58WPlJ3UVJcNZ6zHXVmkp6EkGE
[2022-11-23T15:09:23Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T15:09:23Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:09:23Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc5NjMsImlhdCI6MTY2OTIxNjE2MywianRpIjoiZTdjOTI3MjYtYTJlNi00NTZlLWE1ZDQtNzY4N2ZjMDZkNGU0IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiUExzYmpOejcwTk03TDFqODNMNnV0dyIsInNlc3Npb25fc3RhdGUiOiIyYzBhYjJkZS00ZTJmLTQ2NzUtODBhMS1lZTJiYWU4ZTMyNzEiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMmMwYWIyZGUtNGUyZi00Njc1LTgwYTEtZWUyYmFlOGUzMjcxIn0.DlAhLuyioJlV4XfOU58WPlJ3UVJcNZ6zHXVmkp6EkGE&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T15:09:23Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:09:24Z INFO  drogue_cloud_tests::resources::apps] Create application: c3b1c38b-b63f-4ac6-b634-01f5abc4a9a1
[2022-11-23T15:09:24Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;c3b1c38b-b63f-4ac6-b634-01f5abc4a9a1&quot;
[2022-11-23T15:09:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:09:24Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;c3b1c38b-b63f-4ac6-b634-01f5abc4a9a1&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:09:24Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;c3b1c38b-b63f-4ac6-b634-01f5abc4a9a1\&quot;,\n    \&quot;uid\&quot;: \&quot;594fd7bb-f541-4985-abdf-8ed807c05254\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:09:24.431544Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;2f1fd3ef-53c5-4787-a8cf-45441c466bf2\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:09:24.488286278Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:09:24.494326511Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:09:24.494359814Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:09:24.464160569Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:09:24.464161220Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:09:24.464166340Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:09:24.464280192Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:09:24.464247200Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:09:24Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;c3b1c38b-b63f-4ac6-b634-01f5abc4a9a1&quot;), &quot;uid&quot;: String(&quot;594fd7bb-f541-4985-abdf-8ed807c05254&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:09:24.431544Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;2f1fd3ef-53c5-4787-a8cf-45441c466bf2&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:09:24.488286278Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:09:24.494326511Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:09:24.494359814Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:09:24.464160569Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:09:24.464161220Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:09:24.464166340Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:09:24.464280192Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:09:24.464247200Z&quot;)}]}}
[2022-11-23T15:09:24Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-11-23T15:09:25Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;c3b1c38b-b63f-4ac6-b634-01f5abc4a9a1&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:09:25Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;c3b1c38b-b63f-4ac6-b634-01f5abc4a9a1\&quot;,\n    \&quot;uid\&quot;: \&quot;594fd7bb-f541-4985-abdf-8ed807c05254\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:09:24.431544Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;5781e2d6-e859-4f7c-a284-7a530ec48522\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;cZr0AI5RmSvD\&quot;,\n        \&quot;username\&quot;: \&quot;user-c3b1c38b-b63f-4ac6-b634-01f5abc4a9a1\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:09:24.488286278Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:09:24.494326511Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:09:24.545618230Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:09:24.551933537Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:09:24.714411892Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:09:24.714426009Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:09:24.714509024Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:09:24.714456746Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:09:25Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;c3b1c38b-b63f-4ac6-b634-01f5abc4a9a1&quot;), &quot;uid&quot;: String(&quot;594fd7bb-f541-4985-abdf-8ed807c05254&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:09:24.431544Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;5781e2d6-e859-4f7c-a284-7a530ec48522&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;cZr0AI5RmSvD&quot;), &quot;username&quot;: String(&quot;user-c3b1c38b-b63f-4ac6-b634-01f5abc4a9a1&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:09:24.488286278Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:09:24.494326511Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:09:24.545618230Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:09:24.551933537Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:09:24.714411892Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:09:24.714426009Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:09:24.714509024Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:09:24.714456746Z&quot;)}]}}
[2022-11-23T15:09:25Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-11-23T15:09:25Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;c3b1c38b-b63f-4ac6-b634-01f5abc4a9a1&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:09:25Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;c3b1c38b-b63f-4ac6-b634-01f5abc4a9a1\&quot;,\n    \&quot;uid\&quot;: \&quot;594fd7bb-f541-4985-abdf-8ed807c05254\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:09:24.431544Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;5781e2d6-e859-4f7c-a284-7a530ec48522\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;cZr0AI5RmSvD\&quot;,\n        \&quot;username\&quot;: \&quot;user-c3b1c38b-b63f-4ac6-b634-01f5abc4a9a1\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:09:24.488286278Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:09:24.494326511Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:09:24.545618230Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:09:24.551933537Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:09:24.714411892Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:09:24.714426009Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:09:24.714509024Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:09:24.714456746Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:09:25Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;c3b1c38b-b63f-4ac6-b634-01f5abc4a9a1&quot;), &quot;uid&quot;: String(&quot;594fd7bb-f541-4985-abdf-8ed807c05254&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:09:24.431544Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;5781e2d6-e859-4f7c-a284-7a530ec48522&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;cZr0AI5RmSvD&quot;), &quot;username&quot;: String(&quot;user-c3b1c38b-b63f-4ac6-b634-01f5abc4a9a1&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:09:24.488286278Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:09:24.494326511Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:09:24.545618230Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:09:24.551933537Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:09:24.714411892Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:09:24.714426009Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:09:24.714509024Z&quot;)}, Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:09:24.714456746Z&quot;)}]}}
[2022-11-23T15:09:25Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-11-23T15:09:25Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-11-23T15:09:25Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;c3b1c38b-b63f-4ac6-b634-01f5abc4a9a1&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-11-23T15:09:25Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:09:25Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T15:09:25Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:09:25Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T15:09:25Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTY0NjMsImlhdCI6MTY2OTIxNjE2MywiYXV0aF90aW1lIjoxNjY5MjE2MTYwLCJqdGkiOiJkMjRhNDgwOS1mZTA0LTQ2ZDMtOGM1MS0zNjc5ZGRhNjdkNWQiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlBMc2JqTno3ME5NN0wxajgzTDZ1dHciLCJzZXNzaW9uX3N0YXRlIjoiMmMwYWIyZGUtNGUyZi00Njc1LTgwYTEtZWUyYmFlOGUzMjcxIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjJjMGFiMmRlLTRlMmYtNDY3NS04MGExLWVlMmJhZThlMzI3MSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.TMDrX7yL97s6WsTRz5iP_ZyNecwsKcdcFs7w6n2nJu0Bz5ey7xy3rEUgyfHwZat89YogHgsIW8oc9gndeMQ74jOl9_LlKEMwVdURPIVIv8kysUoOJABj9hTs_uYrCGgs4A4en3aF8b6jAI8wHFZ0taK9QPKyH5vXFEUiluv7fYCTII2C50dLEW8xs08gvgCF47dUcXhs4SMpoOx6Me9MWgsG-d7jcfZUcJ1oLxYSWoKyn7UGkXeGVhnokPFfsrI0uMw2u9gSj7VUPuftwfHQ4-n3W3Ww79dY9m8xGMZ1HBavT3Y8GoZ3l8WsdtDPuFdxzJR39fEkpCw_Jj6VeZn8dw\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:09:25Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:09:25Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-11-23T15:09:25Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;c3b1c38b-b63f-4ac6-b634-01f5abc4a9a1&quot; &quot;device1&quot;
[2022-11-23T15:09:25Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:09:25Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;c3b1c38b-b63f-4ac6-b634-01f5abc4a9a1&#x27;
[2022-11-23T15:09:25Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;c3b1c38b-b63f-4ac6-b634-01f5abc4a9a1&quot;
[2022-11-23T15:09:25Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::mqtt::telemetry::test_send_telemetry_pass::endpoint_version_3::endpoint_ws_2::integration_version_3::integration_ws_2

**Duration**: 9s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T15:09:28Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T15:09:28Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:09:28Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:09:28Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:09:29Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T15:09:31Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T15:09:31Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:09:31Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:09:33Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc5NzMsImlhdCI6MTY2OTIxNjE3MywianRpIjoiNDJiYjg5ZjktMDQxZC00OTQ5LWI4MWQtMDRhMGUyZjg5NDkwIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiVUc2eV9kRXJLZG1zVmlVektEbi1MdyIsInNlc3Npb25fc3RhdGUiOiJhMzJhNDE2YS0wMjg5LTQ3M2QtOTdmYy1hMjQ3ZjcxN2Y3MTgiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiYTMyYTQxNmEtMDI4OS00NzNkLTk3ZmMtYTI0N2Y3MTdmNzE4In0.x3nyNNSbCVEvq1sEQur-OtZy8TeZSlg5HWixIXTymNY
[2022-11-23T15:09:33Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T15:09:33Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:09:33Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc5NzMsImlhdCI6MTY2OTIxNjE3MywianRpIjoiNDJiYjg5ZjktMDQxZC00OTQ5LWI4MWQtMDRhMGUyZjg5NDkwIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiVUc2eV9kRXJLZG1zVmlVektEbi1MdyIsInNlc3Npb25fc3RhdGUiOiJhMzJhNDE2YS0wMjg5LTQ3M2QtOTdmYy1hMjQ3ZjcxN2Y3MTgiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiYTMyYTQxNmEtMDI4OS00NzNkLTk3ZmMtYTI0N2Y3MTdmNzE4In0.x3nyNNSbCVEvq1sEQur-OtZy8TeZSlg5HWixIXTymNY&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T15:09:33Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:09:33Z INFO  drogue_cloud_tests::resources::apps] Create application: fc9efea0-937b-4ec5-ab29-6f0e7dee8465
[2022-11-23T15:09:33Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;app&quot; &quot;fc9efea0-937b-4ec5-ab29-6f0e7dee8465&quot;
[2022-11-23T15:09:34Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:09:34Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;fc9efea0-937b-4ec5-ab29-6f0e7dee8465&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:09:34Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;fc9efea0-937b-4ec5-ab29-6f0e7dee8465\&quot;,\n    \&quot;uid\&quot;: \&quot;64610ad6-e85f-4feb-b4a3-b3ddd9b34062\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:09:34.033093Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;c1deb50f-267d-4bf1-8fb9-19fb03db9b4e\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:09:34.086449610Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:09:34.093069207Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:09:34.093119232Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:09:34.047189398Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;Unknown\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:09:34.047190290Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;Progressing\&quot;,\n          \&quot;status\&quot;: \&quot;False\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:09:34.047205949Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;reason\&quot;: \&quot;WaitingForReady\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;message\&quot;: \&quot;Waiting to become ready: TopicsReady\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:09:34.047402747Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;reason\&quot;: \&quot;NonReadyConditions\&quot;,\n        \&quot;status\&quot;: \&quot;False\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:09:34.047482937Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:09:34Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;fc9efea0-937b-4ec5-ab29-6f0e7dee8465&quot;), &quot;uid&quot;: String(&quot;64610ad6-e85f-4feb-b4a3-b3ddd9b34062&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:09:34.033093Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;c1deb50f-267d-4bf1-8fb9-19fb03db9b4e&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:09:34.086449610Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:09:34.093069207Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:09:34.093119232Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:09:34.047189398Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;Unknown&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:09:34.047190290Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;Progressing&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:09:34.047205949Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;reason&quot;: String(&quot;WaitingForReady&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;message&quot;: String(&quot;Waiting to become ready: TopicsReady&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:09:34.047402747Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;reason&quot;: String(&quot;NonReadyConditions&quot;), &quot;status&quot;: String(&quot;False&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:09:34.047482937Z&quot;)}]}}
[2022-11-23T15:09:34Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = false
[2022-11-23T15:09:35Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;fc9efea0-937b-4ec5-ab29-6f0e7dee8465&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:09:35Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;fc9efea0-937b-4ec5-ab29-6f0e7dee8465\&quot;,\n    \&quot;uid\&quot;: \&quot;64610ad6-e85f-4feb-b4a3-b3ddd9b34062\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:09:34.033093Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;97736c12-4d68-4858-83e4-92b2dfaccf94\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;iSMbO4b6MuZy\&quot;,\n        \&quot;username\&quot;: \&quot;user-fc9efea0-937b-4ec5-ab29-6f0e7dee8465\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:09:34.086449610Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:09:34.093069207Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:09:34.145521278Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:09:34.153386687Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:09:34.336883436Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:09:34.336928971Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:09:34.336963727Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:09:34.337010714Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:09:35Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;fc9efea0-937b-4ec5-ab29-6f0e7dee8465&quot;), &quot;uid&quot;: String(&quot;64610ad6-e85f-4feb-b4a3-b3ddd9b34062&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:09:34.033093Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;97736c12-4d68-4858-83e4-92b2dfaccf94&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;iSMbO4b6MuZy&quot;), &quot;username&quot;: String(&quot;user-fc9efea0-937b-4ec5-ab29-6f0e7dee8465&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:09:34.086449610Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:09:34.093069207Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:09:34.145521278Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:09:34.153386687Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:09:34.336883436Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:09:34.336928971Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:09:34.336963727Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:09:34.337010714Z&quot;)}]}}
[2022-11-23T15:09:35Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: KafkaReady = true
[2022-11-23T15:09:35Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;get&quot; &quot;app&quot; &quot;fc9efea0-937b-4ec5-ab29-6f0e7dee8465&quot; &quot;-o&quot; &quot;json&quot;
[2022-11-23T15:09:35Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;{\n  \&quot;metadata\&quot;: {\n    \&quot;name\&quot;: \&quot;fc9efea0-937b-4ec5-ab29-6f0e7dee8465\&quot;,\n    \&quot;uid\&quot;: \&quot;64610ad6-e85f-4feb-b4a3-b3ddd9b34062\&quot;,\n    \&quot;creationTimestamp\&quot;: \&quot;2022-11-23T15:09:34.033093Z\&quot;,\n    \&quot;generation\&quot;: 0,\n    \&quot;resourceVersion\&quot;: \&quot;97736c12-4d68-4858-83e4-92b2dfaccf94\&quot;,\n    \&quot;finalizers\&quot;: [\n      \&quot;kafka\&quot;\n    ]\n  },\n  \&quot;status\&quot;: {\n    \&quot;kafka\&quot;: {\n      \&quot;user\&quot;: {\n        \&quot;password\&quot;: \&quot;iSMbO4b6MuZy\&quot;,\n        \&quot;username\&quot;: \&quot;user-fc9efea0-937b-4ec5-ab29-6f0e7dee8465\&quot;,\n        \&quot;mechanism\&quot;: \&quot;SCRAM-SHA-512\&quot;\n      },\n      \&quot;conditions\&quot;: [\n        {\n          \&quot;type\&quot;: \&quot;HasFinalizer\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:09:34.086449610Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateTopics\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:09:34.093069207Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;TopicsReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:09:34.145521278Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;CreateUser\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:09:34.153386687Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;UserReady\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:09:34.336883436Z\&quot;\n        },\n        {\n          \&quot;type\&quot;: \&quot;Reconciled\&quot;,\n          \&quot;reason\&quot;: \&quot;AsExpected\&quot;,\n          \&quot;status\&quot;: \&quot;True\&quot;,\n          \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:09:34.336928971Z\&quot;\n        }\n      ],\n      \&quot;observedGeneration\&quot;: 0\n    },\n    \&quot;conditions\&quot;: [\n      {\n        \&quot;type\&quot;: \&quot;KafkaReady\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:09:34.336963727Z\&quot;\n      },\n      {\n        \&quot;type\&quot;: \&quot;Ready\&quot;,\n        \&quot;status\&quot;: \&quot;True\&quot;,\n        \&quot;lastTransitionTime\&quot;: \&quot;2022-11-23T15:09:34.337010714Z\&quot;\n      }\n    ]\n  }\n}\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:09:35Z DEBUG drogue_cloud_tests::resources::apps] Application: Object {&quot;metadata&quot;: Object {&quot;name&quot;: String(&quot;fc9efea0-937b-4ec5-ab29-6f0e7dee8465&quot;), &quot;uid&quot;: String(&quot;64610ad6-e85f-4feb-b4a3-b3ddd9b34062&quot;), &quot;creationTimestamp&quot;: String(&quot;2022-11-23T15:09:34.033093Z&quot;), &quot;generation&quot;: Number(0), &quot;resourceVersion&quot;: String(&quot;97736c12-4d68-4858-83e4-92b2dfaccf94&quot;), &quot;finalizers&quot;: Array [String(&quot;kafka&quot;)]}, &quot;status&quot;: Object {&quot;kafka&quot;: Object {&quot;user&quot;: Object {&quot;password&quot;: String(&quot;iSMbO4b6MuZy&quot;), &quot;username&quot;: String(&quot;user-fc9efea0-937b-4ec5-ab29-6f0e7dee8465&quot;), &quot;mechanism&quot;: String(&quot;SCRAM-SHA-512&quot;)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;HasFinalizer&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:09:34.086449610Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateTopics&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:09:34.093069207Z&quot;)}, Object {&quot;type&quot;: String(&quot;TopicsReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:09:34.145521278Z&quot;)}, Object {&quot;type&quot;: String(&quot;CreateUser&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:09:34.153386687Z&quot;)}, Object {&quot;type&quot;: String(&quot;UserReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:09:34.336883436Z&quot;)}, Object {&quot;type&quot;: String(&quot;Reconciled&quot;), &quot;reason&quot;: String(&quot;AsExpected&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:09:34.336928971Z&quot;)}], &quot;observedGeneration&quot;: Number(0)}, &quot;conditions&quot;: Array [Object {&quot;type&quot;: String(&quot;KafkaReady&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:09:34.336963727Z&quot;)}, Object {&quot;type&quot;: String(&quot;Ready&quot;), &quot;status&quot;: String(&quot;True&quot;), &quot;lastTransitionTime&quot;: String(&quot;2022-11-23T15:09:34.337010714Z&quot;)}]}}
[2022-11-23T15:09:35Z DEBUG drogue_cloud_tests::resources::apps] Application - Condition: Ready = true
[2022-11-23T15:09:35Z INFO  drogue_cloud_tests::resources::devices] Create device: device1
[2022-11-23T15:09:35Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;create&quot; &quot;device&quot; &quot;-a&quot; &quot;fc9efea0-937b-4ec5-ab29-6f0e7dee8465&quot; &quot;device1&quot; &quot;--spec&quot; &quot;{\&quot;credentials\&quot;:{\&quot;credentials\&quot;:[{\&quot;pass\&quot;:\&quot;foo\&quot;}]}}&quot;
[2022-11-23T15:09:35Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device created\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:09:35Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T15:09:35Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:09:35Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T15:09:35Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTY0NzMsImlhdCI6MTY2OTIxNjE3MywiYXV0aF90aW1lIjoxNjY5MjE2MTY5LCJqdGkiOiI0ZGQyMWU3YS04N2U4LTQwNmQtYWFhYS1mNTQ2OGYxYTJjODAiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlVHNnlfZEVyS2Rtc1ZpVXpLRG4tTHciLCJzZXNzaW9uX3N0YXRlIjoiYTMyYTQxNmEtMDI4OS00NzNkLTk3ZmMtYTI0N2Y3MTdmNzE4IiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImEzMmE0MTZhLTAyODktNDczZC05N2ZjLWEyNDdmNzE3ZjcxOCIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.NLPX77l6o0pTChR3eMCvNne46Oa0iIYroNt3ivvHlRo87Y77VqAEvqAlUzrD4aBpsqPfITcHk_w3pgZInpHDHrvMY97uW3AFhXD0Ap8xMwj3Foyu3t9d0D91EuEeg1nCpAznElzTtB4beUar4kd4ON3YTMzDAqM_d5ixHEzo0pQDhfAFeZl1hguwogh320DkzeiIgzKXjVyl__1bHm6CifMqlupRxwktwLw2vzt8pENrdw4DC8s7WnrQqMFjYjIoJ6HWPr1NQXfjZq_ar0Z6vwD5Nkk5Fn_4Dugi6qHhFilGb9nAZ0EsICjNNPSnf1RQ0sG87_X6eO3ZzCM9j4Hyaw\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:09:35Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:09:35Z INFO  drogue_cloud_tests::resources::devices] Destroy device &#x27;device1&#x27;
[2022-11-23T15:09:35Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;device&quot; &quot;-a&quot; &quot;fc9efea0-937b-4ec5-ab29-6f0e7dee8465&quot; &quot;device1&quot;
[2022-11-23T15:09:35Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Device deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:09:35Z INFO  drogue_cloud_tests::resources::apps] Destroy application &#x27;fc9efea0-937b-4ec5-ab29-6f0e7dee8465&#x27;
[2022-11-23T15:09:35Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;delete&quot; &quot;app&quot; &quot;fc9efea0-937b-4ec5-ab29-6f0e7dee8465&quot;
[2022-11-23T15:09:35Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Application deleted\n&quot;, stderr: &quot;&quot; })
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::registry::api::test_registry_create_app

**Duration**: 16s

<details>

<summary>Test output</summary>

<pre>
[2022-11-23T15:09:35Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:09:37Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:09:37Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:09:38Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T15:09:40Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T15:09:40Z INFO  drogue_cloud_tests::init::web] Creating screenshot: screenshots/create_access_token_web/before-goto/8.png
[2022-11-23T15:09:40Z INFO  drogue_cloud_tests::init::web] Creating screenshot: screenshots/create_access_token_web/after-goto/9.png
[2022-11-23T15:09:41Z DEBUG drogue_cloud_tests::init::access_token] Got button (Element { client: Client { tx: UnboundedSender { chan: Tx { inner: Chan { tx: Tx { block_tail: 0x55d08e3c8070, tail_position: 25 }, semaphore: 0, rx_waker: AtomicWaker, tx_count: 3, rx_fields: &quot;...&quot; } } }, is_legacy: false }, element: WebElement(&quot;ad14c69a-4b6e-4cf5-90b6-6e32e30abc23&quot;) }), clicking it ...
[2022-11-23T15:09:41Z INFO  drogue_cloud_tests::init::web] Creating screenshot: screenshots/create_access_token_web/before-click/10.png
[2022-11-23T15:09:46Z INFO  drogue_cloud_tests::init::web] Creating screenshot: screenshots/create_access_token_web/before-click-2/11.png
[2022-11-23T15:09:47Z INFO  drogue_cloud_tests::init::web] Creating screenshot: screenshots/create_access_token_web/after-click/12.png
[2022-11-23T15:09:47Z DEBUG drogue_cloud_tests::init::access_token] Got button (Element { client: Client { tx: UnboundedSender { chan: Tx { inner: Chan { tx: Tx { block_tail: 0x55d08e3c8070, tail_position: 30 }, semaphore: 0, rx_waker: AtomicWaker, tx_count: 4, rx_fields: &quot;...&quot; } } }, is_legacy: false }, element: WebElement(&quot;c2535f47-90a1-4c06-bb39-e87071e235f9&quot;) }), clicking it ...
[2022-11-23T15:09:47Z INFO  drogue_cloud_tests::init::web] Creating screenshot: screenshots/create_access_token_web/before-click-confirm/13.png
[2022-11-23T15:09:47Z INFO  drogue_cloud_tests::init::web] Creating screenshot: screenshots/create_access_token_web/after-click-confirm/14.png
[2022-11-23T15:09:47Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T15:09:47Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:09:47Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T15:09:47Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:09:47Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:09:47Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:09:48Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T15:09:49Z INFO  drogue_cloud_tests::init::login] Still had a session
[2022-11-23T15:09:49Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:09:49Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:09:51Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc5OTEsImlhdCI6MTY2OTIxNjE5MSwianRpIjoiNTFhZDgxMWQtZDllMi00NWE5LWI5MmYtMTQwYjNjNjk1Nzg0IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiUXlXQU41SnR3OHNqR3dFdU1wYTVzUSIsInNlc3Npb25fc3RhdGUiOiJjMmZjOTk3Zi1lM2I0LTQ1MDUtODdhZC0yYTNkYWFlN2YwYjEiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiYzJmYzk5N2YtZTNiNC00NTA1LTg3YWQtMmEzZGFhZTdmMGIxIn0.395q-mF9DD_Q2SfuL4G7c08q3cs5vU-BGDgnWsa_mPQ
[2022-11-23T15:09:51Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T15:09:51Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:09:51Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTc5OTEsImlhdCI6MTY2OTIxNjE5MSwianRpIjoiNTFhZDgxMWQtZDllMi00NWE5LWI5MmYtMTQwYjNjNjk1Nzg0IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiUXlXQU41SnR3OHNqR3dFdU1wYTVzUSIsInNlc3Npb25fc3RhdGUiOiJjMmZjOTk3Zi1lM2I0LTQ1MDUtODdhZC0yYTNkYWFlN2YwYjEiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiYzJmYzk5N2YtZTNiNC00NTA1LTg3YWQtMmEzZGFhZTdmMGIxIn0.395q-mF9DD_Q2SfuL4G7c08q3cs5vU-BGDgnWsa_mPQ&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T15:09:51Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:09:52Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T15:09:52Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTY0OTEsImlhdCI6MTY2OTIxNjE5MSwiYXV0aF90aW1lIjoxNjY5MjE2MTc5LCJqdGkiOiI0N2ZjNTBlZS01MjM4LTRlZmQtOGMwNC1hZTU1ZjliYjhmNGIiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IlF5V0FONUp0dzhzakd3RXVNcGE1c1EiLCJzZXNzaW9uX3N0YXRlIjoiYzJmYzk5N2YtZTNiNC00NTA1LTg3YWQtMmEzZGFhZTdmMGIxIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImMyZmM5OTdmLWUzYjQtNDUwNS04N2FkLTJhM2RhYWU3ZjBiMSIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.TyU27BNqJhFgVHEx8wTlhBlj-FMx8VBaDt8NEa8Gp7BskhOvBspTEXWFRwl3SX6l03Z1UrDYp5dbE8_9Sw0iVjGYwLReyt_Ov4gLexCKMqXpyIjxaXJepFcUap6ivlYdOo6gMlwOPuu3qU8SWQWk6ixE9i9vTIgHfPr7NPP0Js5LCNaB-3kKYV_DBZ9pik9fWo0_fMWDpPiW-JOpjYeEgaBD7qXnhaT574etK4R_fSosd9aXsWWjqkLrcDG5QSbxr_HVGBnvoBo9YlmGWMdQIJQM3YHyetAfF7jmDcbLsT82UKzXkxOwO5W5Wq7KFv4PIjHl0_GgLVDyw4BxeUkuUQ\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:09:52Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
Error: Get registry client

Caused by:
    0: error decoding response body: EOF while parsing a value at line 1 column 0
    1: EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ✅ tests::registry::drg::test_registry_create_and_delete

**Duration**: 8s

## ✅ tests::registry::drg::test_registry_create_app

**Duration**: 8s

## ✅ tests::registry::drg::test_registry_create_app_and_device

**Duration**: 8s

## ✅ tests::registry::drg::test_registry_create_app_and_device_twice

**Duration**: 8s

## ✅ tests::registry::drg::test_registry_create_app_twice

**Duration**: 8s

## ✅ tests::registry::drg::test_registry_device_create_and_delete

**Duration**: 8s

## ❌ tests::websocket::telemetry::test_send_telemetry_pass

**Duration**: 6s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T15:10:44Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T15:10:44Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:10:44Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:10:44Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:10:45Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T15:10:46Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T15:10:46Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:10:46Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:10:48Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTgwNDgsImlhdCI6MTY2OTIxNjI0OCwianRpIjoiMWQ3ZThiNzQtZmEzZi00MjQ2LWI3Y2UtMzY1MDdkOGU0NTdkIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoia3IxQUpxTHk4SXVjVUxkTzd2a0l0QSIsInNlc3Npb25fc3RhdGUiOiI3NDVmYTRkMC05MmFkLTQzNDAtYWVmYS1lYWE5YTgyY2ZiOWYiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiNzQ1ZmE0ZDAtOTJhZC00MzQwLWFlZmEtZWFhOWE4MmNmYjlmIn0.QnxGUluCAxo1gFSAwodQjFbzF-k7i80mIQ4Vhg6AK1o
[2022-11-23T15:10:48Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T15:10:48Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:10:48Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTgwNDgsImlhdCI6MTY2OTIxNjI0OCwianRpIjoiMWQ3ZThiNzQtZmEzZi00MjQ2LWI3Y2UtMzY1MDdkOGU0NTdkIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoia3IxQUpxTHk4SXVjVUxkTzd2a0l0QSIsInNlc3Npb25fc3RhdGUiOiI3NDVmYTRkMC05MmFkLTQzNDAtYWVmYS1lYWE5YTgyY2ZiOWYiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiNzQ1ZmE0ZDAtOTJhZC00MzQwLWFlZmEtZWFhOWE4MmNmYjlmIn0.QnxGUluCAxo1gFSAwodQjFbzF-k7i80mIQ4Vhg6AK1o&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T15:10:48Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:10:49Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T15:10:49Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:10:49Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T15:10:49Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTY1NDgsImlhdCI6MTY2OTIxNjI0OCwiYXV0aF90aW1lIjoxNjY5MjE2MjQ1LCJqdGkiOiI2ZGNkZjEwZi1kN2RlLTQxNjItYmUxYS0wNDcwNzAxYzE2OGIiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImtyMUFKcUx5OEl1Y1VMZE83dmtJdEEiLCJzZXNzaW9uX3N0YXRlIjoiNzQ1ZmE0ZDAtOTJhZC00MzQwLWFlZmEtZWFhOWE4MmNmYjlmIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6Ijc0NWZhNGQwLTkyYWQtNDM0MC1hZWZhLWVhYTlhODJjZmI5ZiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.cYaJADA3meu7spcquENL8RoeQv6OaDNPyyhVbgYOQk4gqPBH-TmgtI55mbdGDGGUHv7d2P5E5q8XC67EUMdamFXgTN4SI0f2uhF5mjid8RI-zg_Va0sNZaCdROF1wQAHkrrC93OdW6uvXdgccTqAkS4PFGwnBCihcZLIe5eap9bEfROreic1EkwvOOtvO_14ADQYfpQTj-nppLseyeZf_FxnWZQ5OVgEiFnkIvGGdIVcvwlpvKHEtzdfHeNiRxX7X3teoNsuXAwYSJE61pr3jqwhqCngaK5H0CvfKea091tEpwW0X1vjPvl1F0hIAUSMcE4iAWeRiXv2bt8J1nBprA\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:10:49Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::websocket::telemetry::test_send_telemetry_user

**Duration**: 6s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T15:10:51Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T15:10:51Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:10:51Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:10:51Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:10:52Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T15:10:53Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T15:10:53Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:10:53Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:10:55Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTgwNTUsImlhdCI6MTY2OTIxNjI1NSwianRpIjoiOTk3YWE2N2MtOWY0MS00NGM5LWIzZTQtMGRkNmRlYWZjMzI4IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiTWRiZmpqSFZrbHZpTTFzaHVvTlJvZyIsInNlc3Npb25fc3RhdGUiOiJkNjY5ODA5ZS03NDZmLTRmOGQtOTc3NC1hOWZiYzkwMzcxODMiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiZDY2OTgwOWUtNzQ2Zi00ZjhkLTk3NzQtYTlmYmM5MDM3MTgzIn0.Wz8QYBAsbcRkosTtEmCVXZA9R6HbaLqyPJmGiVK2Hf4
[2022-11-23T15:10:55Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T15:10:55Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:10:55Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTgwNTUsImlhdCI6MTY2OTIxNjI1NSwianRpIjoiOTk3YWE2N2MtOWY0MS00NGM5LWIzZTQtMGRkNmRlYWZjMzI4IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiTWRiZmpqSFZrbHZpTTFzaHVvTlJvZyIsInNlc3Npb25fc3RhdGUiOiJkNjY5ODA5ZS03NDZmLTRmOGQtOTc3NC1hOWZiYzkwMzcxODMiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiZDY2OTgwOWUtNzQ2Zi00ZjhkLTk3NzQtYTlmYmM5MDM3MTgzIn0.Wz8QYBAsbcRkosTtEmCVXZA9R6HbaLqyPJmGiVK2Hf4&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T15:10:55Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:10:55Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T15:10:55Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:10:55Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T15:10:55Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTY1NTUsImlhdCI6MTY2OTIxNjI1NSwiYXV0aF90aW1lIjoxNjY5MjE2MjUyLCJqdGkiOiI0MmMzNjQ2ZC0xNTk2LTQ0OGMtYmVmMC1kNmViZGRhMGMzNDAiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6Ik1kYmZqakhWa2x2aU0xc2h1b05Sb2ciLCJzZXNzaW9uX3N0YXRlIjoiZDY2OTgwOWUtNzQ2Zi00ZjhkLTk3NzQtYTlmYmM5MDM3MTgzIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImQ2Njk4MDllLTc0NmYtNGY4ZC05Nzc0LWE5ZmJjOTAzNzE4MyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.lmvJyCaNWf3-L7BDvuFftG1sePSnJ5TOH6Ku1arJSq18MHY_P5Sw2lTaC3geL15AHcKEQUMATM6E4zR_1EM-TJ3OAQUW-seIRwLZpIq24sBVOUyDWuU_XTELDuvVxNqCyge09JFlSvvwSgEJZIdyX5BgQKRXL3bYLtenAhmqU18pWrU5LfUDoKiAGowio7tsHb4VCxpATrTjmwYFGwWuGMhNworVQtxlVcMi_vHX4ldFhqu_QzU6zhVb-EBIfbYzbo51Zft_M0IemClNJ_NwMo5I8IBv9fijkw0pjt-T0sBNnNPGg2D1Ftdkr7yD048jETkaaVACXSYTfOWh1X3VGA\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:10:55Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::websocket::telemetry::test_send_telemetry_user_alias

**Duration**: 6s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T15:10:57Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T15:10:57Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:10:57Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:10:57Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:10:58Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T15:11:00Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T15:11:00Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:11:00Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:11:01Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTgwNjEsImlhdCI6MTY2OTIxNjI2MSwianRpIjoiOWMyZDJhNDktNzY4Ni00YjM4LWEyZGMtNGZhYTVhNDdjZjJlIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiTFF2c0JUTTJteWlsdnRyeE1DdTR3USIsInNlc3Npb25fc3RhdGUiOiJmMmQ4NjQ0NC1jM2MwLTRlYjEtOTE4ZS01ZTU1YWU4N2NjZWMiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiZjJkODY0NDQtYzNjMC00ZWIxLTkxOGUtNWU1NWFlODdjY2VjIn0.kqX8IKjshGpZN0cxExpC3qnQNYk3XZhdvALOqcCnYZQ
[2022-11-23T15:11:01Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T15:11:01Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:11:01Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTgwNjEsImlhdCI6MTY2OTIxNjI2MSwianRpIjoiOWMyZDJhNDktNzY4Ni00YjM4LWEyZGMtNGZhYTVhNDdjZjJlIiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiTFF2c0JUTTJteWlsdnRyeE1DdTR3USIsInNlc3Npb25fc3RhdGUiOiJmMmQ4NjQ0NC1jM2MwLTRlYjEtOTE4ZS01ZTU1YWU4N2NjZWMiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiZjJkODY0NDQtYzNjMC00ZWIxLTkxOGUtNWU1NWFlODdjY2VjIn0.kqX8IKjshGpZN0cxExpC3qnQNYk3XZhdvALOqcCnYZQ&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T15:11:02Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:11:02Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T15:11:02Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:11:02Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T15:11:02Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTY1NjIsImlhdCI6MTY2OTIxNjI2MiwiYXV0aF90aW1lIjoxNjY5MjE2MjU5LCJqdGkiOiJlOGU5ZDkxMy1kNDdmLTQ2YmUtYWU1Yy0zZTVkZjBkMmU4ZGUiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6IkxRdnNCVE0ybXlpbHZ0cnhNQ3U0d1EiLCJzZXNzaW9uX3N0YXRlIjoiZjJkODY0NDQtYzNjMC00ZWIxLTkxOGUtNWU1NWFlODdjY2VjIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6ImYyZDg2NDQ0LWMzYzAtNGViMS05MThlLTVlNTVhZTg3Y2NlYyIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.Bhym6crmi2k5MVyvAA4r9_JD26yz5HXvdi7zZDAgg9mOkcryXv4_D643bULDIHEqGIoJ26xp8nBV66vWTOpzl9_PID1cG6PPAY3WXqQLjO5p6YzWya8ocsjXE01jEeE89IUmwhkVgvgvovNNrr8UsoylkSmR95knVduLDO1UXX1zsHzZrbAx2FLVc9Fl5GgvoZF5UCaQK40xjQPu5d3dV13hLWZSSZf98vHT-eBJUk7UYNnEjv2Lk2yhhViuMM8iAH99FXaM-jJsYSWNn0Vo1Gy4yxMa6Kvo4gOwyioGmYguqtcYJGGEenV4ueUp9h9b7dJVE2S-jGpj2ID6iXeF9g\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:11:02Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>

## ❌ tests::websocket::telemetry::test_send_telemetry_user_only

**Duration**: 7s

<details>

<summary>Test output</summary>

<pre>
-------------- TEST START --------------
[2022-11-23T15:11:04Z DEBUG drogue_cloud_tests::init::drg] auto login
[2022-11-23T15:11:04Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:11:04Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:11:04Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:11:05Z INFO  drogue_cloud_tests::init::login] Found login button
[2022-11-23T15:11:07Z INFO  drogue_cloud_tests::init::login] Login complete
[2022-11-23T15:11:07Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
[2022-11-23T15:11:07Z INFO  drogue_cloud_tests::init::config] Endpoints: Object {
        &quot;api&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;console&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;coap&quot;: Object {
            &quot;url&quot;: String(&quot;coaps://coap-endpoint.172.18.0.2.nip.io:30003&quot;),
        },
        &quot;http&quot;: Object {
            &quot;url&quot;: String(&quot;https://http-endpoint.172.18.0.2.nip.io:30443&quot;),
        },
        &quot;mqtt&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-endpoint.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30001),
        },
        &quot;mqtt_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws.172.18.0.2.nip.io:30005&quot;),
        },
        &quot;mqtt_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-endpoint-ws-browser.172.18.0.2.nip.io:30007&quot;),
        },
        &quot;mqtt_integration&quot;: Object {
            &quot;host&quot;: String(&quot;mqtt-integration.172.18.0.2.nip.io&quot;),
            &quot;port&quot;: Number(30002),
        },
        &quot;mqtt_integration_ws&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws.172.18.0.2.nip.io:30006&quot;),
        },
        &quot;mqtt_integration_ws_browser&quot;: Object {
            &quot;url&quot;: String(&quot;wss://mqtt-integration-ws-browser.172.18.0.2.nip.io:30008&quot;),
        },
        &quot;websocket_integration&quot;: Object {
            &quot;url&quot;: String(&quot;ws://websocket-integration.172.18.0.2.nip.io:30004&quot;),
        },
        &quot;issuer_url&quot;: String(&quot;http://sso.172.18.0.2.nip.io/realms/drogue&quot;),
        &quot;redirect_url&quot;: String(&quot;http://console.172.18.0.2.nip.io&quot;),
        &quot;registry&quot;: Object {
            &quot;url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        },
        &quot;command_url&quot;: String(&quot;http://api.172.18.0.2.nip.io&quot;),
        &quot;local_certs&quot;: Bool(true),
        &quot;kafka_bootstrap_servers&quot;: String(&quot;drogue-iot-kafka-bootstrap.drogue-iot.svc.cluster.local.:9092&quot;),
    }
[2022-11-23T15:11:09Z INFO  drogue_cloud_tests::init::drg] Refresh token: eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTgwNjgsImlhdCI6MTY2OTIxNjI2OCwianRpIjoiZWE5NDkzZTgtOTYyZS00NGM4LWJhYzctMDVjOWQyYWRhNjY3IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiYzV2MzlDdm94VGxDNHpUWmtLdVNuUSIsInNlc3Npb25fc3RhdGUiOiIyOTBiODQzZS0wYTBjLTQ3ODktYTJlZS00YjkxNWQ1NzA3NjIiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMjkwYjg0M2UtMGEwYy00Nzg5LWEyZWUtNGI5MTVkNTcwNzYyIn0.hCyMGmX3_3TxoPI4odfaVc93TxTHfN5PoIN3RU42K_E
[2022-11-23T15:11:09Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;context&quot; &quot;delete&quot; &quot;system-tests&quot;
[2022-11-23T15:11:09Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Context system-tests deleted\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:11:09Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;login&quot; &quot;http://api.172.18.0.2.nip.io/&quot; &quot;-t&quot; &quot;eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICIxODE3Y2FhYi1jNzc1LTQ4M2QtYTZjMy0xNWEwNGIwYmU4OWIifQ.eyJleHAiOjE2NjkyMTgwNjgsImlhdCI6MTY2OTIxNjI2OCwianRpIjoiZWE5NDkzZTgtOTYyZS00NGM4LWJhYzctMDVjOWQyYWRhNjY3IiwiaXNzIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwiYXVkIjoiaHR0cDovL3Nzby4xNzIuMTguMC4yLm5pcC5pby9yZWFsbXMvZHJvZ3VlIiwic3ViIjoiYjQzZjRkNjEtN2I5Yy00MGQ2LTg1NDUtMzBhOThhNmZlZmNjIiwidHlwIjoiUmVmcmVzaCIsImF6cCI6ImRyb2d1ZSIsIm5vbmNlIjoiYzV2MzlDdm94VGxDNHpUWmtLdVNuUSIsInNlc3Npb25fc3RhdGUiOiIyOTBiODQzZS0wYTBjLTQ3ODktYTJlZS00YjkxNWQ1NzA3NjIiLCJzY29wZSI6Im9wZW5pZCBwcm9maWxlIGVtYWlsIiwic2lkIjoiMjkwYjg0M2UtMGEwYy00Nzg5LWEyZWUtNGI5MTVkNTcwNzYyIn0.hCyMGmX3_3TxoPI4odfaVc93TxTHfN5PoIN3RU42K_E&quot; &quot;--context&quot; &quot;system-tests&quot;
[2022-11-23T15:11:09Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;Successfully authenticated to drogue cloud : http://api.172.18.0.2.nip.io/\nSaved context: system-tests\nSwitched active context to: system-tests\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:11:09Z INFO  drogue_cloud_tests::context] Adding root certificate
[2022-11-23T15:11:09Z DEBUG drogue_cloud_tests::init::config] Create new config
[2022-11-23T15:11:09Z INFO  drogue_cloud_tests::init::drg] Running: &quot;drg&quot; &quot;whoami&quot; &quot;-t&quot;
[2022-11-23T15:11:09Z INFO  drogue_cloud_tests::init::drg] Output: Ok(Output { status: ExitStatus(unix_wait_status(0)), stdout: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJSRkxkSC1GTUpOWkpwVXZFZERDYmNMaDU0Qi0tZGQ4bVc4YXZyYWtpazFVIn0.eyJleHAiOjE2NjkyMTY1NjksImlhdCI6MTY2OTIxNjI2OSwiYXV0aF90aW1lIjoxNjY5MjE2MjY2LCJqdGkiOiJlMDdjYmY2NC0yZjQ4LTRiMjUtODMxNS1kOTYyZGU5ODYwNTQiLCJpc3MiOiJodHRwOi8vc3NvLjE3Mi4xOC4wLjIubmlwLmlvL3JlYWxtcy9kcm9ndWUiLCJhdWQiOlsiZHJvZ3VlIiwiYWNjb3VudCJdLCJzdWIiOiJiNDNmNGQ2MS03YjljLTQwZDYtODU0NS0zMGE5OGE2ZmVmY2MiLCJ0eXAiOiJCZWFyZXIiLCJhenAiOiJkcm9ndWUiLCJub25jZSI6ImM1djM5Q3ZveFRsQzR6VFprS3VTblEiLCJzZXNzaW9uX3N0YXRlIjoiMjkwYjg0M2UtMGEwYy00Nzg5LWEyZWUtNGI5MTVkNTcwNzYyIiwiYWxsb3dlZC1vcmlnaW5zIjpbIioiXSwicmVhbG1fYWNjZXNzIjp7InJvbGVzIjpbImRyb2d1ZS11c2VyIiwiZHJvZ3VlLWFkbWluIiwib2ZmbGluZV9hY2Nlc3MiLCJ1bWFfYXV0aG9yaXphdGlvbiIsImRlZmF1bHQtcm9sZXMtZHJvZ3VlIl19LCJyZXNvdXJjZV9hY2Nlc3MiOnsiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgcHJvZmlsZSBlbWFpbCIsInNpZCI6IjI5MGI4NDNlLTBhMGMtNDc4OS1hMmVlLTRiOTE1ZDU3MDc2MiIsImVtYWlsX3ZlcmlmaWVkIjpmYWxzZSwicHJlZmVycmVkX3VzZXJuYW1lIjoiYWRtaW4ifQ.KY5-R6bSkdrj6xbqxgbvcpl1X8Azaw9Olz8I-HWxHwNcrjr9_tQRDCuwq47WrkqIusk6Z0yAHE5EXUeOunNJlDBZqi7QiX1v_2CLNbSKVm7A2IgP0gJDiKk_3Qkdhz0aNqbbX5mebzqlI3HSQ245XjUQmFKO9tji025a7YDii-OzmGROvteSedYToNGbG95nay4sMPWVfAxopbKWw4D3M62TDPGzk0YDOSmVQhLvOzrdi8wRkaPgYxM6o36nhgSMogvppQ2rXyXpRhIF8zecH-E7wkMy4K_jX9bbspRKuSxgTxBjSSfF7WWUZnJlEfxw4JklGlVwiSr1QRpdnoPJWQ\n&quot;, stderr: &quot;&quot; })
[2022-11-23T15:11:09Z DEBUG reqwest::connect] starting new connection: http://api.172.18.0.2.nip.io/
Error: error decoding response body: EOF while parsing a value at line 1 column 0

Caused by:
    EOF while parsing a value at line 1 column 0
thread &#x27;main&#x27; panicked at &#x27;assertion failed: `(left == right)`
  left: `1`,
 right: `0`: the test returned a termination value with a non-zero status code (1) which indicates a failure&#x27;, /build/rustc-ZOqcvC/rustc-1.61.0+dfsg1/library/test/src/lib.rs:186:5

</pre>

</details>
